(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8308:function(e,t,n){Promise.resolve().then(n.bind(n,9969))},9969:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var a=n(7821);function r(){return(0,a.jsxs)("main",{style:{maxWidth:900,margin:"0 auto",padding:24},children:[(0,a.jsxs)("nav",{style:{marginBottom:24},children:[(0,a.jsx)("a",{href:"/",style:{color:"#a1a1aa",textDecoration:"none",marginRight:16},children:"Overview"}),(0,a.jsx)("a",{href:"/packages/x402-stellar-sdk",style:{color:"#a78bfa",textDecoration:"none",marginRight:16},children:"x402-stellar-sdk"}),(0,a.jsx)("a",{href:"/packages/stellar-agent-kit",style:{color:"#a1a1aa",textDecoration:"none",marginRight:16},children:"stellar-agent-kit"}),(0,a.jsx)("a",{href:"/packages/create-stellar-devkit-app",style:{color:"#a1a1aa",textDecoration:"none"},children:"create-stellar-devkit-app"})]}),(0,a.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:700,marginBottom:8},children:"x402-stellar-sdk"}),(0,a.jsx)("p",{style:{color:"#a1a1aa",marginBottom:24},children:"HTTP 402 Payment Required for Stellar. Protect routes with config-driven paywalls; verify payments on Horizon. Use with Express, Hono, or Next.js."}),(0,a.jsx)("h2",{style:{fontSize:"1.1rem",marginBottom:8},children:"Server – protect a route (Express)"}),(0,a.jsx)("pre",{style:{background:"#18181b",padding:16,borderRadius:8,overflow:"auto",fontSize:12,marginBottom:24},children:(0,a.jsx)("code",{style:{color:"#a1a1aa"},children:'import express from "express";\nimport { x402 } from "x402-stellar-sdk/server";\n\nconst app = express();\nconst options = {\n  price: "1",\n  assetCode: "XLM",\n  network: "testnet" as const,\n  destination: process.env.X402_DESTINATION!,\n  memo: "premium-api",\n};\napp.use("/api/premium", x402(options));\napp.get("/api/premium", (_req, res) =>\n  res.json({ data: "Premium content – payment verified." })\n);\napp.listen(3000);'})}),(0,a.jsx)("h2",{style:{fontSize:"1.1rem",marginBottom:8},children:"Client – handle 402 and retry with payment"}),(0,a.jsx)("pre",{style:{background:"#18181b",padding:16,borderRadius:8,overflow:"auto",fontSize:12},children:(0,a.jsx)("code",{style:{color:"#a1a1aa"},children:'import { x402Fetch } from "x402-stellar-sdk/client";\nimport type { X402PaymentRequest, X402PaymentResponse } from "x402-stellar-sdk/client";\n\nconst res = await x402Fetch("https://api.example.com/api/premium", undefined, {\n  payWithStellar: async (req: X402PaymentRequest): Promise<X402PaymentResponse | null> => {\n    // Show UI (e.g. modal) with req.amount, req.assetCode, req.destination; submit via wallet\n    const txHash = await submitPaymentWithWallet(req);\n    return txHash ? { transactionHash: txHash } : null;\n  },\n});\nconst data = await res.json();'})}),(0,a.jsxs)("p",{style:{color:"#71717a",fontSize:14},children:["Options: ",(0,a.jsx)("code",{style:{background:"#27272a",padding:"2px 6px",borderRadius:4},children:"price"}),", ",(0,a.jsx)("code",{style:{background:"#27272a",padding:"2px 6px",borderRadius:4},children:"assetCode"}),", ",(0,a.jsx)("code",{style:{background:"#27272a",padding:"2px 6px",borderRadius:4},children:"issuer?"}),", ",(0,a.jsx)("code",{style:{background:"#27272a",padding:"2px 6px",borderRadius:4},children:"network"}),", ",(0,a.jsx)("code",{style:{background:"#27272a",padding:"2px 6px",borderRadius:4},children:"destination"}),", ",(0,a.jsx)("code",{style:{background:"#27272a",padding:"2px 6px",borderRadius:4},children:"memo?"}),". Install: ",(0,a.jsx)("code",{style:{background:"#27272a",padding:"2px 6px",borderRadius:4},children:"npm install x402-stellar-sdk"}),"."]})]})}}},function(e){e.O(0,[115,364,744],function(){return e(e.s=8308)}),_N_E=e.O()}]);