"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/stellar-agent-kit";
exports.ids = ["vendor-chunks/stellar-agent-kit"];
exports.modules = {

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/config.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/config.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Config = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar defaultConfig = {\n  allowHttp: false,\n  timeout: 0\n};\nvar config = _objectSpread({}, defaultConfig);\nvar Config = exports.Config = function () {\n  function Config() {\n    _classCallCheck(this, Config);\n  }\n  return _createClass(Config, null, [{\n    key: \"setAllowHttp\",\n    value: function setAllowHttp(value) {\n      config.allowHttp = value;\n    }\n  }, {\n    key: \"setTimeout\",\n    value: function setTimeout(value) {\n      config.timeout = value;\n    }\n  }, {\n    key: \"isAllowHttp\",\n    value: function isAllowHttp() {\n      return config.allowHttp;\n    }\n  }, {\n    key: \"getTimeout\",\n    value: function getTimeout() {\n      return config.timeout;\n    }\n  }, {\n    key: \"setDefault\",\n    value: function setDefault() {\n      config = _objectSpread({}, defaultConfig);\n    }\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb25maWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsY0FBYztBQUNkLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLGlDQUFpQztBQUNqQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb25maWcuanM/YTkyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQ29uZmlnID0gdm9pZCAwO1xuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbnZhciBkZWZhdWx0Q29uZmlnID0ge1xuICBhbGxvd0h0dHA6IGZhbHNlLFxuICB0aW1lb3V0OiAwXG59O1xudmFyIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRDb25maWcpO1xudmFyIENvbmZpZyA9IGV4cG9ydHMuQ29uZmlnID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDb25maWcoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpZyk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhDb25maWcsIG51bGwsIFt7XG4gICAga2V5OiBcInNldEFsbG93SHR0cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBbGxvd0h0dHAodmFsdWUpIHtcbiAgICAgIGNvbmZpZy5hbGxvd0h0dHAgPSB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0VGltZW91dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUaW1lb3V0KHZhbHVlKSB7XG4gICAgICBjb25maWcudGltZW91dCA9IHZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0FsbG93SHR0cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FsbG93SHR0cCgpIHtcbiAgICAgIHJldHVybiBjb25maWcuYWxsb3dIdHRwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRUaW1lb3V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRpbWVvdXQoKSB7XG4gICAgICByZXR1cm4gY29uZmlnLnRpbWVvdXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldERlZmF1bHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVmYXVsdCgpIHtcbiAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRDb25maWcpO1xuICAgIH1cbiAgfV0pO1xufSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/assembled_transaction.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/assembled_transaction.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AssembledTransaction = void 0;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _rpc = __webpack_require__(/*! ../rpc */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/index.js\");\nvar _api = __webpack_require__(/*! ../rpc/api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js\");\nvar _transaction = __webpack_require__(/*! ../rpc/transaction */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/transaction.js\");\nvar _rust_result = __webpack_require__(/*! ./rust_result */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/rust_result.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/utils.js\");\nvar _types = __webpack_require__(/*! ./types */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/types.js\");\nvar _sent_transaction = __webpack_require__(/*! ./sent_transaction */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/sent_transaction.js\");\nvar _errors = __webpack_require__(/*! ./errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/errors.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _regeneratorValues(e) { if (null != e) { var t = e[\"function\" == typeof Symbol && Symbol.iterator || \"@@iterator\"], r = 0; if (t) return t.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) return { next: function next() { return e && r >= e.length && (e = void 0), { value: e && e[r++], done: !e }; } }; } throw new TypeError(_typeof(e) + \" is not iterable\"); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar AssembledTransaction = exports.AssembledTransaction = function () {\n  function AssembledTransaction(options) {\n    var _this = this,\n      _this$options$simulat;\n    _classCallCheck(this, AssembledTransaction);\n    _defineProperty(this, \"simulate\", _asyncToGenerator(_regenerator().m(function _callee() {\n      var _ref2,\n        restore,\n        account,\n        result,\n        _this$options$fee,\n        _this$options$args,\n        _this$options$timeout,\n        contract,\n        _args = arguments;\n      return _regenerator().w(function (_context) {\n        while (1) switch (_context.n) {\n          case 0:\n            _ref2 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, restore = _ref2.restore;\n            if (_this.built) {\n              _context.n = 2;\n              break;\n            }\n            if (_this.raw) {\n              _context.n = 1;\n              break;\n            }\n            throw new Error(\"Transaction has not yet been assembled; \" + \"call `AssembledTransaction.build` first.\");\n          case 1:\n            _this.built = _this.raw.build();\n          case 2:\n            restore = restore !== null && restore !== void 0 ? restore : _this.options.restore;\n            delete _this.simulationResult;\n            delete _this.simulationTransactionData;\n            _context.n = 3;\n            return _this.server.simulateTransaction(_this.built);\n          case 3:\n            _this.simulation = _context.v;\n            if (!(restore && _api.Api.isSimulationRestore(_this.simulation))) {\n              _context.n = 8;\n              break;\n            }\n            _context.n = 4;\n            return (0, _utils.getAccount)(_this.options, _this.server);\n          case 4:\n            account = _context.v;\n            _context.n = 5;\n            return _this.restoreFootprint(_this.simulation.restorePreamble, account);\n          case 5:\n            result = _context.v;\n            if (!(result.status === _api.Api.GetTransactionStatus.SUCCESS)) {\n              _context.n = 7;\n              break;\n            }\n            contract = new _stellarBase.Contract(_this.options.contractId);\n            _this.raw = new _stellarBase.TransactionBuilder(account, {\n              fee: (_this$options$fee = _this.options.fee) !== null && _this$options$fee !== void 0 ? _this$options$fee : _stellarBase.BASE_FEE,\n              networkPassphrase: _this.options.networkPassphrase\n            }).addOperation(contract.call.apply(contract, [_this.options.method].concat(_toConsumableArray((_this$options$args = _this.options.args) !== null && _this$options$args !== void 0 ? _this$options$args : [])))).setTimeout((_this$options$timeout = _this.options.timeoutInSeconds) !== null && _this$options$timeout !== void 0 ? _this$options$timeout : _types.DEFAULT_TIMEOUT);\n            _context.n = 6;\n            return _this.simulate();\n          case 6:\n            return _context.a(2, _this);\n          case 7:\n            throw new AssembledTransaction.Errors.RestorationFailure(\"Automatic restore failed! You set 'restore: true' but the attempted restore did not work. Result:\\n\".concat(JSON.stringify(result)));\n          case 8:\n            if (_api.Api.isSimulationSuccess(_this.simulation)) {\n              _this.built = (0, _transaction.assembleTransaction)(_this.built, _this.simulation).build();\n            }\n            return _context.a(2, _this);\n        }\n      }, _callee);\n    })));\n    _defineProperty(this, \"sign\", _asyncToGenerator(_regenerator().m(function _callee2() {\n      var _this$options$timeout2;\n      var _ref4,\n        _ref4$force,\n        force,\n        _ref4$signTransaction,\n        signTransaction,\n        sigsNeeded,\n        timeoutInSeconds,\n        signOpts,\n        _yield$signTransactio,\n        signature,\n        error,\n        _args2 = arguments;\n      return _regenerator().w(function (_context2) {\n        while (1) switch (_context2.n) {\n          case 0:\n            _ref4 = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, _ref4$force = _ref4.force, force = _ref4$force === void 0 ? false : _ref4$force, _ref4$signTransaction = _ref4.signTransaction, signTransaction = _ref4$signTransaction === void 0 ? _this.options.signTransaction : _ref4$signTransaction;\n            if (_this.built) {\n              _context2.n = 1;\n              break;\n            }\n            throw new Error(\"Transaction has not yet been simulated\");\n          case 1:\n            if (!(!force && _this.isReadCall)) {\n              _context2.n = 2;\n              break;\n            }\n            throw new AssembledTransaction.Errors.NoSignatureNeeded(\"This is a read call. It requires no signature or sending. \" + \"Use `force: true` to sign and send anyway.\");\n          case 2:\n            if (signTransaction) {\n              _context2.n = 3;\n              break;\n            }\n            throw new AssembledTransaction.Errors.NoSigner(\"You must provide a signTransaction function, either when calling \" + \"`signAndSend` or when initializing your Client\");\n          case 3:\n            if (_this.options.publicKey) {\n              _context2.n = 4;\n              break;\n            }\n            throw new AssembledTransaction.Errors.FakeAccount(\"This transaction was constructed using a default account. Provide a valid publicKey in the AssembledTransactionOptions.\");\n          case 4:\n            sigsNeeded = _this.needsNonInvokerSigningBy().filter(function (id) {\n              return !id.startsWith(\"C\");\n            });\n            if (!sigsNeeded.length) {\n              _context2.n = 5;\n              break;\n            }\n            throw new AssembledTransaction.Errors.NeedsMoreSignatures(\"Transaction requires signatures from \".concat(sigsNeeded, \". \") + \"See `needsNonInvokerSigningBy` for details.\");\n          case 5:\n            timeoutInSeconds = (_this$options$timeout2 = _this.options.timeoutInSeconds) !== null && _this$options$timeout2 !== void 0 ? _this$options$timeout2 : _types.DEFAULT_TIMEOUT;\n            _this.built = _stellarBase.TransactionBuilder.cloneFrom(_this.built, {\n              fee: _this.built.fee,\n              timebounds: undefined,\n              sorobanData: _this.simulationData.transactionData\n            }).setTimeout(timeoutInSeconds).build();\n            signOpts = {\n              networkPassphrase: _this.options.networkPassphrase\n            };\n            if (_this.options.address) signOpts.address = _this.options.address;\n            if (_this.options.submit !== undefined) signOpts.submit = _this.options.submit;\n            if (_this.options.submitUrl) signOpts.submitUrl = _this.options.submitUrl;\n            _context2.n = 6;\n            return signTransaction(_this.built.toXDR(), signOpts);\n          case 6:\n            _yield$signTransactio = _context2.v;\n            signature = _yield$signTransactio.signedTxXdr;\n            error = _yield$signTransactio.error;\n            _this.handleWalletError(error);\n            _this.signed = _stellarBase.TransactionBuilder.fromXDR(signature, _this.options.networkPassphrase);\n          case 7:\n            return _context2.a(2);\n        }\n      }, _callee2);\n    })));\n    _defineProperty(this, \"signAndSend\", _asyncToGenerator(_regenerator().m(function _callee3() {\n      var _ref6,\n        _ref6$force,\n        force,\n        _ref6$signTransaction,\n        signTransaction,\n        watcher,\n        originalSubmit,\n        _args3 = arguments;\n      return _regenerator().w(function (_context3) {\n        while (1) switch (_context3.p = _context3.n) {\n          case 0:\n            _ref6 = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {}, _ref6$force = _ref6.force, force = _ref6$force === void 0 ? false : _ref6$force, _ref6$signTransaction = _ref6.signTransaction, signTransaction = _ref6$signTransaction === void 0 ? _this.options.signTransaction : _ref6$signTransaction, watcher = _ref6.watcher;\n            if (_this.signed) {\n              _context3.n = 3;\n              break;\n            }\n            originalSubmit = _this.options.submit;\n            if (_this.options.submit) {\n              _this.options.submit = false;\n            }\n            _context3.p = 1;\n            _context3.n = 2;\n            return _this.sign({\n              force: force,\n              signTransaction: signTransaction\n            });\n          case 2:\n            _context3.p = 2;\n            _this.options.submit = originalSubmit;\n            return _context3.f(2);\n          case 3:\n            return _context3.a(2, _this.send(watcher));\n        }\n      }, _callee3, null, [[1,, 2, 3]]);\n    })));\n    _defineProperty(this, \"needsNonInvokerSigningBy\", function () {\n      var _rawInvokeHostFunctio;\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$includeAlreadyS = _ref7.includeAlreadySigned,\n        includeAlreadySigned = _ref7$includeAlreadyS === void 0 ? false : _ref7$includeAlreadyS;\n      if (!_this.built) {\n        throw new Error(\"Transaction has not yet been simulated\");\n      }\n      if (!(\"operations\" in _this.built)) {\n        throw new Error(\"Unexpected Transaction type; no operations: \".concat(JSON.stringify(_this.built)));\n      }\n      var rawInvokeHostFunctionOp = _this.built.operations[0];\n      return _toConsumableArray(new Set(((_rawInvokeHostFunctio = rawInvokeHostFunctionOp.auth) !== null && _rawInvokeHostFunctio !== void 0 ? _rawInvokeHostFunctio : []).filter(function (entry) {\n        return entry.credentials().switch() === _stellarBase.xdr.SorobanCredentialsType.sorobanCredentialsAddress() && (includeAlreadySigned || entry.credentials().address().signature().switch().name === \"scvVoid\");\n      }).map(function (entry) {\n        return _stellarBase.Address.fromScAddress(entry.credentials().address().address()).toString();\n      })));\n    });\n    _defineProperty(this, \"signAuthEntries\", _asyncToGenerator(_regenerator().m(function _callee6() {\n      var _rawInvokeHostFunctio2;\n      var _ref9,\n        _ref9$expiration,\n        expiration,\n        _ref9$signAuthEntry,\n        signAuthEntry,\n        _ref9$address,\n        address,\n        _ref9$authorizeEntry,\n        authorizeEntry,\n        needsNonInvokerSigningBy,\n        rawInvokeHostFunctionOp,\n        authEntries,\n        _iterator,\n        _step,\n        _loop,\n        _ret,\n        _args7 = arguments,\n        _t5;\n      return _regenerator().w(function (_context7) {\n        while (1) switch (_context7.p = _context7.n) {\n          case 0:\n            _ref9 = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {}, _ref9$expiration = _ref9.expiration, expiration = _ref9$expiration === void 0 ? _asyncToGenerator(_regenerator().m(function _callee4() {\n              var _t;\n              return _regenerator().w(function (_context4) {\n                while (1) switch (_context4.n) {\n                  case 0:\n                    _context4.n = 1;\n                    return _this.server.getLatestLedger();\n                  case 1:\n                    _t = _context4.v.sequence;\n                    return _context4.a(2, _t + 100);\n                }\n              }, _callee4);\n            }))() : _ref9$expiration, _ref9$signAuthEntry = _ref9.signAuthEntry, signAuthEntry = _ref9$signAuthEntry === void 0 ? _this.options.signAuthEntry : _ref9$signAuthEntry, _ref9$address = _ref9.address, address = _ref9$address === void 0 ? _this.options.publicKey : _ref9$address, _ref9$authorizeEntry = _ref9.authorizeEntry, authorizeEntry = _ref9$authorizeEntry === void 0 ? _stellarBase.authorizeEntry : _ref9$authorizeEntry;\n            if (_this.built) {\n              _context7.n = 1;\n              break;\n            }\n            throw new Error(\"Transaction has not yet been assembled or simulated\");\n          case 1:\n            if (!(authorizeEntry === _stellarBase.authorizeEntry)) {\n              _context7.n = 4;\n              break;\n            }\n            needsNonInvokerSigningBy = _this.needsNonInvokerSigningBy();\n            if (!(needsNonInvokerSigningBy.length === 0)) {\n              _context7.n = 2;\n              break;\n            }\n            throw new AssembledTransaction.Errors.NoUnsignedNonInvokerAuthEntries(\"No unsigned non-invoker auth entries; maybe you already signed?\");\n          case 2:\n            if (!(needsNonInvokerSigningBy.indexOf(address !== null && address !== void 0 ? address : \"\") === -1)) {\n              _context7.n = 3;\n              break;\n            }\n            throw new AssembledTransaction.Errors.NoSignatureNeeded(\"No auth entries for public key \\\"\".concat(address, \"\\\"\"));\n          case 3:\n            if (signAuthEntry) {\n              _context7.n = 4;\n              break;\n            }\n            throw new AssembledTransaction.Errors.NoSigner(\"You must provide `signAuthEntry` or a custom `authorizeEntry`\");\n          case 4:\n            rawInvokeHostFunctionOp = _this.built.operations[0];\n            authEntries = (_rawInvokeHostFunctio2 = rawInvokeHostFunctionOp.auth) !== null && _rawInvokeHostFunctio2 !== void 0 ? _rawInvokeHostFunctio2 : [];\n            _iterator = _createForOfIteratorHelper(authEntries.entries());\n            _context7.p = 5;\n            _loop = _regenerator().m(function _loop() {\n              var _step$value, i, entry, credentials, authEntryAddress, sign, _t2, _t3, _t4;\n              return _regenerator().w(function (_context6) {\n                while (1) switch (_context6.n) {\n                  case 0:\n                    _step$value = _slicedToArray(_step.value, 2), i = _step$value[0], entry = _step$value[1];\n                    credentials = _stellarBase.xdr.SorobanCredentials.fromXDR(entry.credentials().toXDR());\n                    if (!(credentials.switch() !== _stellarBase.xdr.SorobanCredentialsType.sorobanCredentialsAddress())) {\n                      _context6.n = 1;\n                      break;\n                    }\n                    return _context6.a(2, 0);\n                  case 1:\n                    authEntryAddress = _stellarBase.Address.fromScAddress(credentials.address().address()).toString();\n                    if (!(authEntryAddress !== address)) {\n                      _context6.n = 2;\n                      break;\n                    }\n                    return _context6.a(2, 0);\n                  case 2:\n                    sign = signAuthEntry !== null && signAuthEntry !== void 0 ? signAuthEntry : Promise.resolve;\n                    _t2 = authorizeEntry;\n                    _t3 = entry;\n                    _t4 = function () {\n                      var _ref1 = _asyncToGenerator(_regenerator().m(function _callee5(preimage) {\n                        var _yield$sign, signedAuthEntry, error;\n                        return _regenerator().w(function (_context5) {\n                          while (1) switch (_context5.n) {\n                            case 0:\n                              _context5.n = 1;\n                              return sign(preimage.toXDR(\"base64\"), {\n                                address: address\n                              });\n                            case 1:\n                              _yield$sign = _context5.v;\n                              signedAuthEntry = _yield$sign.signedAuthEntry;\n                              error = _yield$sign.error;\n                              _this.handleWalletError(error);\n                              return _context5.a(2, Buffer.from(signedAuthEntry, \"base64\"));\n                          }\n                        }, _callee5);\n                      }));\n                      return function (_x) {\n                        return _ref1.apply(this, arguments);\n                      };\n                    }();\n                    _context6.n = 3;\n                    return expiration;\n                  case 3:\n                    _context6.n = 4;\n                    return _t2(_t3, _t4, _context6.v, _this.options.networkPassphrase);\n                  case 4:\n                    authEntries[i] = _context6.v;\n                  case 5:\n                    return _context6.a(2);\n                }\n              }, _loop);\n            });\n            _iterator.s();\n          case 6:\n            if ((_step = _iterator.n()).done) {\n              _context7.n = 9;\n              break;\n            }\n            return _context7.d(_regeneratorValues(_loop()), 7);\n          case 7:\n            _ret = _context7.v;\n            if (!(_ret === 0)) {\n              _context7.n = 8;\n              break;\n            }\n            return _context7.a(3, 8);\n          case 8:\n            _context7.n = 6;\n            break;\n          case 9:\n            _context7.n = 11;\n            break;\n          case 10:\n            _context7.p = 10;\n            _t5 = _context7.v;\n            _iterator.e(_t5);\n          case 11:\n            _context7.p = 11;\n            _iterator.f();\n            return _context7.f(11);\n          case 12:\n            return _context7.a(2);\n        }\n      }, _callee6, null, [[5, 10, 11, 12]]);\n    })));\n    this.options = options;\n    this.options.simulate = (_this$options$simulat = this.options.simulate) !== null && _this$options$simulat !== void 0 ? _this$options$simulat : true;\n    var _this$options = this.options,\n      server = _this$options.server,\n      allowHttp = _this$options.allowHttp,\n      headers = _this$options.headers,\n      rpcUrl = _this$options.rpcUrl;\n    this.server = server !== null && server !== void 0 ? server : new _rpc.Server(rpcUrl, {\n      allowHttp: allowHttp,\n      headers: headers\n    });\n  }\n  return _createClass(AssembledTransaction, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      var _this$built;\n      return JSON.stringify({\n        method: this.options.method,\n        tx: (_this$built = this.built) === null || _this$built === void 0 ? void 0 : _this$built.toXDR(),\n        simulationResult: {\n          auth: this.simulationData.result.auth.map(function (a) {\n            return a.toXDR(\"base64\");\n          }),\n          retval: this.simulationData.result.retval.toXDR(\"base64\")\n        },\n        simulationTransactionData: this.simulationData.transactionData.toXDR(\"base64\")\n      });\n    }\n  }, {\n    key: \"toXDR\",\n    value: function toXDR() {\n      var _this$built2;\n      if (!this.built) throw new Error(\"Transaction has not yet been simulated; \" + \"call `AssembledTransaction.simulate` first.\");\n      return (_this$built2 = this.built) === null || _this$built2 === void 0 ? void 0 : _this$built2.toEnvelope().toXDR(\"base64\");\n    }\n  }, {\n    key: \"handleWalletError\",\n    value: function handleWalletError(error) {\n      if (!error) return;\n      var message = error.message,\n        code = error.code;\n      var fullMessage = \"\".concat(message).concat(error.ext ? \" (\".concat(error.ext.join(\", \"), \")\") : \"\");\n      switch (code) {\n        case -1:\n          throw new AssembledTransaction.Errors.InternalWalletError(fullMessage);\n        case -2:\n          throw new AssembledTransaction.Errors.ExternalServiceError(fullMessage);\n        case -3:\n          throw new AssembledTransaction.Errors.InvalidClientRequest(fullMessage);\n        case -4:\n          throw new AssembledTransaction.Errors.UserRejected(fullMessage);\n        default:\n          throw new Error(\"Unhandled error: \".concat(fullMessage));\n      }\n    }\n  }, {\n    key: \"simulationData\",\n    get: function get() {\n      var _simulation$result;\n      if (this.simulationResult && this.simulationTransactionData) {\n        return {\n          result: this.simulationResult,\n          transactionData: this.simulationTransactionData\n        };\n      }\n      var simulation = this.simulation;\n      if (!simulation) {\n        throw new AssembledTransaction.Errors.NotYetSimulated(\"Transaction has not yet been simulated\");\n      }\n      if (_api.Api.isSimulationError(simulation)) {\n        throw new AssembledTransaction.Errors.SimulationFailed(\"Transaction simulation failed: \\\"\".concat(simulation.error, \"\\\"\"));\n      }\n      if (_api.Api.isSimulationRestore(simulation)) {\n        throw new AssembledTransaction.Errors.ExpiredState(\"You need to restore some contract state before you can invoke this method.\\n\" + \"You can set `restore` to true in the method options in order to \" + \"automatically restore the contract state when needed.\");\n      }\n      this.simulationResult = (_simulation$result = simulation.result) !== null && _simulation$result !== void 0 ? _simulation$result : {\n        auth: [],\n        retval: _stellarBase.xdr.ScVal.scvVoid()\n      };\n      this.simulationTransactionData = simulation.transactionData.build();\n      return {\n        result: this.simulationResult,\n        transactionData: this.simulationTransactionData\n      };\n    }\n  }, {\n    key: \"result\",\n    get: function get() {\n      try {\n        if (!this.simulationData.result) {\n          throw new Error(\"No simulation result!\");\n        }\n        return this.options.parseResultXdr(this.simulationData.result.retval);\n      } catch (e) {\n        if (!(0, _utils.implementsToString)(e)) throw e;\n        var err = this.parseError(e.toString());\n        if (err) return err;\n        throw e;\n      }\n    }\n  }, {\n    key: \"parseError\",\n    value: function parseError(errorMessage) {\n      if (!this.options.errorTypes) return undefined;\n      var match = errorMessage.match(_utils.contractErrorPattern);\n      if (!match) return undefined;\n      var i = parseInt(match[1], 10);\n      var err = this.options.errorTypes[i];\n      if (!err) return undefined;\n      return new _rust_result.Err(err);\n    }\n  }, {\n    key: \"send\",\n    value: (function () {\n      var _send = _asyncToGenerator(_regenerator().m(function _callee7(watcher) {\n        var sent;\n        return _regenerator().w(function (_context8) {\n          while (1) switch (_context8.n) {\n            case 0:\n              if (this.signed) {\n                _context8.n = 1;\n                break;\n              }\n              throw new Error(\"The transaction has not yet been signed. Run `sign` first, or use `signAndSend` instead.\");\n            case 1:\n              _context8.n = 2;\n              return _sent_transaction.SentTransaction.init(this, watcher);\n            case 2:\n              sent = _context8.v;\n              return _context8.a(2, sent);\n          }\n        }, _callee7, this);\n      }));\n      function send(_x2) {\n        return _send.apply(this, arguments);\n      }\n      return send;\n    }())\n  }, {\n    key: \"isReadCall\",\n    get: function get() {\n      var authsCount = this.simulationData.result.auth.length;\n      var writeLength = this.simulationData.transactionData.resources().footprint().readWrite().length;\n      return authsCount === 0 && writeLength === 0;\n    }\n  }, {\n    key: \"restoreFootprint\",\n    value: (function () {\n      var _restoreFootprint = _asyncToGenerator(_regenerator().m(function _callee8(restorePreamble, account) {\n        var restoreTx, sentTransaction, _t6;\n        return _regenerator().w(function (_context9) {\n          while (1) switch (_context9.n) {\n            case 0:\n              if (this.options.signTransaction) {\n                _context9.n = 1;\n                break;\n              }\n              throw new Error(\"For automatic restore to work you must provide a signTransaction function when initializing your Client\");\n            case 1:\n              if (!(account !== null && account !== void 0)) {\n                _context9.n = 2;\n                break;\n              }\n              _t6 = account;\n              _context9.n = 4;\n              break;\n            case 2:\n              _context9.n = 3;\n              return (0, _utils.getAccount)(this.options, this.server);\n            case 3:\n              _t6 = _context9.v;\n            case 4:\n              account = _t6;\n              _context9.n = 5;\n              return AssembledTransaction.buildFootprintRestoreTransaction(_objectSpread({}, this.options), restorePreamble.transactionData, account, restorePreamble.minResourceFee);\n            case 5:\n              restoreTx = _context9.v;\n              _context9.n = 6;\n              return restoreTx.signAndSend();\n            case 6:\n              sentTransaction = _context9.v;\n              if (sentTransaction.getTransactionResponse) {\n                _context9.n = 7;\n                break;\n              }\n              throw new AssembledTransaction.Errors.RestorationFailure(\"The attempt at automatic restore failed. \\n\".concat(JSON.stringify(sentTransaction)));\n            case 7:\n              return _context9.a(2, sentTransaction.getTransactionResponse);\n          }\n        }, _callee8, this);\n      }));\n      function restoreFootprint(_x3, _x4) {\n        return _restoreFootprint.apply(this, arguments);\n      }\n      return restoreFootprint;\n    }())\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(options, _ref10) {\n      var tx = _ref10.tx,\n        simulationResult = _ref10.simulationResult,\n        simulationTransactionData = _ref10.simulationTransactionData;\n      var txn = new AssembledTransaction(options);\n      txn.built = _stellarBase.TransactionBuilder.fromXDR(tx, options.networkPassphrase);\n      txn.simulationResult = {\n        auth: simulationResult.auth.map(function (a) {\n          return _stellarBase.xdr.SorobanAuthorizationEntry.fromXDR(a, \"base64\");\n        }),\n        retval: _stellarBase.xdr.ScVal.fromXDR(simulationResult.retval, \"base64\")\n      };\n      txn.simulationTransactionData = _stellarBase.xdr.SorobanTransactionData.fromXDR(simulationTransactionData, \"base64\");\n      return txn;\n    }\n  }, {\n    key: \"fromXDR\",\n    value: function fromXDR(options, encodedXDR, spec) {\n      var _operation$func;\n      var envelope = _stellarBase.xdr.TransactionEnvelope.fromXDR(encodedXDR, \"base64\");\n      var built = _stellarBase.TransactionBuilder.fromXDR(envelope, options.networkPassphrase);\n      var operation = built.operations[0];\n      if (!(operation !== null && operation !== void 0 && (_operation$func = operation.func) !== null && _operation$func !== void 0 && _operation$func.value) || typeof operation.func.value !== \"function\") {\n        throw new Error(\"Could not extract the method from the transaction envelope.\");\n      }\n      var invokeContractArgs = operation.func.value();\n      if (!(invokeContractArgs !== null && invokeContractArgs !== void 0 && invokeContractArgs.functionName)) {\n        throw new Error(\"Could not extract the method name from the transaction envelope.\");\n      }\n      var method = invokeContractArgs.functionName().toString(\"utf-8\");\n      var txn = new AssembledTransaction(_objectSpread(_objectSpread({}, options), {}, {\n        method: method,\n        parseResultXdr: function parseResultXdr(result) {\n          return spec.funcResToNative(method, result);\n        }\n      }));\n      txn.built = built;\n      return txn;\n    }\n  }, {\n    key: \"build\",\n    value: function build(options) {\n      var _options$args;\n      var contract = new _stellarBase.Contract(options.contractId);\n      return AssembledTransaction.buildWithOp(contract.call.apply(contract, [options.method].concat(_toConsumableArray((_options$args = options.args) !== null && _options$args !== void 0 ? _options$args : []))), options);\n    }\n  }, {\n    key: \"buildWithOp\",\n    value: (function () {\n      var _buildWithOp = _asyncToGenerator(_regenerator().m(function _callee9(operation, options) {\n        var _options$fee, _options$timeoutInSec;\n        var tx, account;\n        return _regenerator().w(function (_context0) {\n          while (1) switch (_context0.n) {\n            case 0:\n              tx = new AssembledTransaction(options);\n              _context0.n = 1;\n              return (0, _utils.getAccount)(options, tx.server);\n            case 1:\n              account = _context0.v;\n              tx.raw = new _stellarBase.TransactionBuilder(account, {\n                fee: (_options$fee = options.fee) !== null && _options$fee !== void 0 ? _options$fee : _stellarBase.BASE_FEE,\n                networkPassphrase: options.networkPassphrase\n              }).setTimeout((_options$timeoutInSec = options.timeoutInSeconds) !== null && _options$timeoutInSec !== void 0 ? _options$timeoutInSec : _types.DEFAULT_TIMEOUT).addOperation(operation);\n              if (!options.simulate) {\n                _context0.n = 2;\n                break;\n              }\n              _context0.n = 2;\n              return tx.simulate();\n            case 2:\n              return _context0.a(2, tx);\n          }\n        }, _callee9);\n      }));\n      function buildWithOp(_x5, _x6) {\n        return _buildWithOp.apply(this, arguments);\n      }\n      return buildWithOp;\n    }())\n  }, {\n    key: \"buildFootprintRestoreTransaction\",\n    value: function () {\n      var _buildFootprintRestoreTransaction = _asyncToGenerator(_regenerator().m(function _callee0(options, sorobanData, account, fee) {\n        var _options$timeoutInSec2;\n        var tx;\n        return _regenerator().w(function (_context1) {\n          while (1) switch (_context1.n) {\n            case 0:\n              tx = new AssembledTransaction(options);\n              tx.raw = new _stellarBase.TransactionBuilder(account, {\n                fee: fee,\n                networkPassphrase: options.networkPassphrase\n              }).setSorobanData(sorobanData instanceof _stellarBase.SorobanDataBuilder ? sorobanData.build() : sorobanData).addOperation(_stellarBase.Operation.restoreFootprint({})).setTimeout((_options$timeoutInSec2 = options.timeoutInSeconds) !== null && _options$timeoutInSec2 !== void 0 ? _options$timeoutInSec2 : _types.DEFAULT_TIMEOUT);\n              _context1.n = 1;\n              return tx.simulate({\n                restore: false\n              });\n            case 1:\n              return _context1.a(2, tx);\n          }\n        }, _callee0);\n      }));\n      function buildFootprintRestoreTransaction(_x7, _x8, _x9, _x0) {\n        return _buildFootprintRestoreTransaction.apply(this, arguments);\n      }\n      return buildFootprintRestoreTransaction;\n    }()\n  }]);\n}();\n_defineProperty(AssembledTransaction, \"Errors\", {\n  ExpiredState: _errors.ExpiredStateError,\n  RestorationFailure: _errors.RestoreFailureError,\n  NeedsMoreSignatures: _errors.NeedsMoreSignaturesError,\n  NoSignatureNeeded: _errors.NoSignatureNeededError,\n  NoUnsignedNonInvokerAuthEntries: _errors.NoUnsignedNonInvokerAuthEntriesError,\n  NoSigner: _errors.NoSignerError,\n  NotYetSimulated: _errors.NotYetSimulatedError,\n  FakeAccount: _errors.FakeAccountError,\n  SimulationFailed: _errors.SimulationFailedError,\n  InternalWalletError: _errors.InternalWalletError,\n  ExternalServiceError: _errors.ExternalServiceError,\n  InvalidClientRequest: _errors.InvalidClientRequestError,\n  UserRejected: _errors.UserRejectedError\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9hc3NlbWJsZWRfdHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsNEJBQTRCO0FBQzVCLG1CQUFtQixtQkFBTyxDQUFDLHNGQUF1QjtBQUNsRCxXQUFXLG1CQUFPLENBQUMseUdBQVE7QUFDM0IsV0FBVyxtQkFBTyxDQUFDLDJHQUFZO0FBQy9CLG1CQUFtQixtQkFBTyxDQUFDLDJIQUFvQjtBQUMvQyxtQkFBbUIsbUJBQU8sQ0FBQywySEFBZTtBQUMxQyxhQUFhLG1CQUFPLENBQUMsK0dBQVM7QUFDOUIsYUFBYSxtQkFBTyxDQUFDLCtHQUFTO0FBQzlCLHdCQUF3QixtQkFBTyxDQUFDLHFJQUFvQjtBQUNwRCxjQUFjLG1CQUFPLENBQUMsaUhBQVU7QUFDaEMsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLGlDQUFpQyxpQkFBaUIsa0ZBQWtGLHlCQUF5QiwyQ0FBMkMsK0JBQStCLHdCQUF3Qiw2Q0FBNkMsdUNBQXVDO0FBQ25WLGdDQUFnQztBQUNoQyw4QkFBOEI7QUFDOUIsdUNBQXVDLGtHQUFrRyxpQkFBaUIsd0NBQXdDLE1BQU0seUNBQXlDLDZCQUE2QixVQUFVLFlBQVksa0VBQWtFLFdBQVcsWUFBWSxpQkFBaUIsVUFBVSxNQUFNLDJFQUEyRSxVQUFVLG9CQUFvQjtBQUN2Z0IsOEJBQThCO0FBQzlCLDRDQUE0QywrRUFBK0UsVUFBVSx5R0FBeUcsY0FBYyxpQ0FBaUMsU0FBUyx3QkFBd0IsMEJBQTBCLFdBQVcsSUFBSSw2QkFBNkIscUJBQXFCLFVBQVUsWUFBWSxnS0FBZ0ssdUJBQXVCLFNBQVMsa0JBQWtCLGdCQUFnQixvQkFBb0Isa0JBQWtCLHVCQUF1QixxQkFBcUIsZ0JBQWdCLG9CQUFvQixNQUFNLHVDQUF1QyxVQUFVO0FBQzl6QiwwQkFBMEIsdURBQXVELHdFQUF3RSx5QkFBeUIsK0ZBQStGLDhEQUE4RCwrQ0FBK0MsK0RBQStELDZDQUE2QyxtQkFBbUIsMEJBQTBCLCtCQUErQixPQUFPLG9DQUFvQyw4T0FBOE8sMEJBQTBCLG1CQUFtQiw0QkFBNEIsNERBQTRELDRDQUE0QywwQkFBMEIsSUFBSSx1RUFBdUUsTUFBTSxnQkFBZ0IsbUNBQW1DLDhFQUE4RSx1QkFBdUIsaUNBQWlDLG9JQUFvSSxTQUFTLGdFQUFnRSxZQUFZLHVCQUF1QixVQUFVLFdBQVcsU0FBUyx5QkFBeUIscUJBQXFCLFlBQVksd0JBQXdCLGdDQUFnQyx5Q0FBeUMsMkJBQTJCLDJEQUEyRCxtQkFBbUIsY0FBYywwRkFBMEYsZ0JBQWdCLHVOQUF1Tiw2YkFBNmIsY0FBYyxvREFBb0QsOEJBQThCLDZDQUE2QyxTQUFTLGVBQWU7QUFDdnVGLDJDQUEyQywrQkFBK0IsTUFBTSxJQUFJLFFBQVEsS0FBSyxZQUFZLFNBQVMsZ0VBQWdFLG1CQUFtQix5Q0FBeUMsK0JBQStCLEtBQUssa0JBQWtCLDBEQUEwRCwrREFBK0Q7QUFDamEsaUNBQWlDO0FBQ2pDLGdDQUFnQztBQUNoQyw2Q0FBNkMsU0FBUywwREFBMEQsVUFBVSxnQ0FBZ0M7QUFDMUosK0JBQStCO0FBQy9CLGlDQUFpQztBQUNqQyxtQ0FBbUMsK0NBQStDLDhCQUE4QixPQUFPLGtCQUFrQjtBQUN6SSxtREFBbUQsTUFBTSxnQ0FBZ0MsWUFBWSxvQkFBb0I7QUFDekgsZ0NBQWdDLHFCQUFxQiw2QkFBNkIscUNBQXFDLHVCQUF1QixvQkFBb0IseURBQXlELHFCQUFxQiwwREFBMEQsZ0JBQWdCO0FBQzFULGlDQUFpQztBQUNqQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyxvQ0FBb0Msb0VBQW9FLDBEQUEwRDtBQUNsSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USwyQkFBMkIsNEJBQTRCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUY7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSx3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5SEFBeUg7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkY7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxjQUFjO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvS0FBb0s7QUFDbkw7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvY29udHJhY3QvYXNzZW1ibGVkX3RyYW5zYWN0aW9uLmpzP2Y0ZTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkFzc2VtYmxlZFRyYW5zYWN0aW9uID0gdm9pZCAwO1xudmFyIF9zdGVsbGFyQmFzZSA9IHJlcXVpcmUoXCJAc3RlbGxhci9zdGVsbGFyLWJhc2VcIik7XG52YXIgX3JwYyA9IHJlcXVpcmUoXCIuLi9ycGNcIik7XG52YXIgX2FwaSA9IHJlcXVpcmUoXCIuLi9ycGMvYXBpXCIpO1xudmFyIF90cmFuc2FjdGlvbiA9IHJlcXVpcmUoXCIuLi9ycGMvdHJhbnNhY3Rpb25cIik7XG52YXIgX3J1c3RfcmVzdWx0ID0gcmVxdWlyZShcIi4vcnVzdF9yZXN1bHRcIik7XG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgX3R5cGVzID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG52YXIgX3NlbnRfdHJhbnNhY3Rpb24gPSByZXF1aXJlKFwiLi9zZW50X3RyYW5zYWN0aW9uXCIpO1xudmFyIF9lcnJvcnMgPSByZXF1aXJlKFwiLi9lcnJvcnNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclZhbHVlcyhlKSB7IGlmIChudWxsICE9IGUpIHsgdmFyIHQgPSBlW1wiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIl0sIHIgPSAwOyBpZiAodCkgcmV0dXJuIHQuY2FsbChlKTsgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5uZXh0KSByZXR1cm4gZTsgaWYgKCFpc05hTihlLmxlbmd0aCkpIHJldHVybiB7IG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7IHJldHVybiBlICYmIHIgPj0gZS5sZW5ndGggJiYgKGUgPSB2b2lkIDApLCB7IHZhbHVlOiBlICYmIGVbcisrXSwgZG9uZTogIWUgfTsgfSB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoX3R5cGVvZihlKSArIFwiIGlzIG5vdCBpdGVyYWJsZVwiKTsgfVxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyLCBlKSB7IHZhciB0ID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKCF0KSB7IGlmIChBcnJheS5pc0FycmF5KHIpIHx8ICh0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpKSB8fCBlICYmIHIgJiYgXCJudW1iZXJcIiA9PSB0eXBlb2Ygci5sZW5ndGgpIHsgdCAmJiAociA9IHQpOyB2YXIgX24gPSAwLCBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyByZXR1cm4gX24gPj0gci5sZW5ndGggPyB7IGRvbmU6ICEwIH0gOiB7IGRvbmU6ICExLCB2YWx1ZTogcltfbisrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdGhyb3cgcjsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbywgYSA9ICEwLCB1ID0gITE7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IHQgPSB0LmNhbGwocik7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciByID0gdC5uZXh0KCk7IHJldHVybiBhID0gci5kb25lLCByOyB9LCBlOiBmdW5jdGlvbiBlKHIpIHsgdSA9ICEwLCBvID0gcjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgYSB8fCBudWxsID09IHQucmV0dXJuIHx8IHQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmICh1KSB0aHJvdyBvOyB9IH0gfTsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyB2YXIgZSwgdCwgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIG4gPSByLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBvID0gci50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjsgZnVuY3Rpb24gaShyLCBuLCBvLCBpKSB7IHZhciBjID0gbiAmJiBuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG4gOiBHZW5lcmF0b3IsIHUgPSBPYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKTsgcmV0dXJuIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJfaW52b2tlXCIsIGZ1bmN0aW9uIChyLCBuLCBvKSB7IHZhciBpLCBjLCB1LCBmID0gMCwgcCA9IG8gfHwgW10sIHkgPSAhMSwgRyA9IHsgcDogMCwgbjogMCwgdjogZSwgYTogZCwgZjogZC5iaW5kKGUsIDQpLCBkOiBmdW5jdGlvbiBkKHQsIHIpIHsgcmV0dXJuIGkgPSB0LCBjID0gMCwgdSA9IGUsIEcubiA9IHIsIGE7IH0gfTsgZnVuY3Rpb24gZChyLCBuKSB7IGZvciAoYyA9IHIsIHUgPSBuLCB0ID0gMDsgIXkgJiYgZiAmJiAhbyAmJiB0IDwgcC5sZW5ndGg7IHQrKykgeyB2YXIgbywgaSA9IHBbdF0sIGQgPSBHLnAsIGwgPSBpWzJdOyByID4gMyA/IChvID0gbCA9PT0gbikgJiYgKHUgPSBpWyhjID0gaVs0XSkgPyA1IDogKGMgPSAzLCAzKV0sIGlbNF0gPSBpWzVdID0gZSkgOiBpWzBdIDw9IGQgJiYgKChvID0gciA8IDIgJiYgZCA8IGlbMV0pID8gKGMgPSAwLCBHLnYgPSBuLCBHLm4gPSBpWzFdKSA6IGQgPCBsICYmIChvID0gciA8IDMgfHwgaVswXSA+IG4gfHwgbiA+IGwpICYmIChpWzRdID0gciwgaVs1XSA9IG4sIEcubiA9IGwsIGMgPSAwKSk7IH0gaWYgKG8gfHwgciA+IDEpIHJldHVybiBhOyB0aHJvdyB5ID0gITAsIG47IH0gcmV0dXJuIGZ1bmN0aW9uIChvLCBwLCBsKSB7IGlmIChmID4gMSkgdGhyb3cgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgZm9yICh5ICYmIDEgPT09IHAgJiYgZChwLCBsKSwgYyA9IHAsIHUgPSBsOyAodCA9IGMgPCAyID8gZSA6IHUpIHx8ICF5OykgeyBpIHx8IChjID8gYyA8IDMgPyAoYyA+IDEgJiYgKEcubiA9IC0xKSwgZChjLCB1KSkgOiBHLm4gPSB1IDogRy52ID0gdSk7IHRyeSB7IGlmIChmID0gMiwgaSkgeyBpZiAoYyB8fCAobyA9IFwibmV4dFwiKSwgdCA9IGlbb10pIHsgaWYgKCEodCA9IHQuY2FsbChpLCB1KSkpIHRocm93IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpOyBpZiAoIXQuZG9uZSkgcmV0dXJuIHQ7IHUgPSB0LnZhbHVlLCBjIDwgMiAmJiAoYyA9IDApOyB9IGVsc2UgMSA9PT0gYyAmJiAodCA9IGkucmV0dXJuKSAmJiB0LmNhbGwoaSksIGMgPCAyICYmICh1ID0gVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBvICsgXCInIG1ldGhvZFwiKSwgYyA9IDEpOyBpID0gZTsgfSBlbHNlIGlmICgodCA9ICh5ID0gRy5uIDwgMCkgPyB1IDogci5jYWxsKG4sIEcpKSAhPT0gYSkgYnJlYWs7IH0gY2F0Y2ggKHQpIHsgaSA9IGUsIGMgPSAxLCB1ID0gdDsgfSBmaW5hbGx5IHsgZiA9IDE7IH0gfSByZXR1cm4geyB2YWx1ZTogdCwgZG9uZTogeSB9OyB9OyB9KHIsIG8sIGkpLCAhMCksIHU7IH0gdmFyIGEgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7IHZhciBjID0gW11bbl0gPyB0KHQoW11bbl0oKSkpIDogKF9yZWdlbmVyYXRvckRlZmluZTIodCA9IHt9LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgdCksIHUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjKTsgZnVuY3Rpb24gZihlKSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGUuX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh1KSwgZTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSksIF9yZWdlbmVyYXRvckRlZmluZTIoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiwgX3JlZ2VuZXJhdG9yRGVmaW5lMihHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBvLCBcIkdlbmVyYXRvclwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCAoX3JlZ2VuZXJhdG9yID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyByZXR1cm4geyB3OiBpLCBtOiBmIH07IH0pKCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgbiwgdCkgeyB2YXIgaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsgdHJ5IHsgaSh7fSwgXCJcIiwge30pOyB9IGNhdGNoIChlKSB7IGkgPSAwOyB9IF9yZWdlbmVyYXRvckRlZmluZTIgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JEZWZpbmUoZSwgciwgbiwgdCkgeyBmdW5jdGlvbiBvKHIsIG4pIHsgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcy5faW52b2tlKHIsIG4sIGUpOyB9KTsgfSByID8gaSA/IGkoZSwgciwgeyB2YWx1ZTogbiwgZW51bWVyYWJsZTogIXQsIGNvbmZpZ3VyYWJsZTogIXQsIHdyaXRhYmxlOiAhdCB9KSA6IGVbcl0gPSBuIDogKG8oXCJuZXh0XCIsIDApLCBvKFwidGhyb3dcIiwgMSksIG8oXCJyZXR1cm5cIiwgMikpOyB9LCBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIG4sIHQpOyB9XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKG4sIHQsIGUsIHIsIG8sIGEsIGMpIHsgdHJ5IHsgdmFyIGkgPSBuW2FdKGMpLCB1ID0gaS52YWx1ZTsgfSBjYXRjaCAobikgeyByZXR1cm4gdm9pZCBlKG4pOyB9IGkuZG9uZSA/IHQodSkgOiBQcm9taXNlLnJlc29sdmUodSkudGhlbihyLCBvKTsgfVxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IobikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHRoaXMsIGUgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAociwgbykgeyB2YXIgYSA9IG4uYXBwbHkodCwgZSk7IGZ1bmN0aW9uIF9uZXh0KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCBuKTsgfSBmdW5jdGlvbiBfdGhyb3cobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBuKTsgfSBfbmV4dCh2b2lkIDApOyB9KTsgfTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG52YXIgQXNzZW1ibGVkVHJhbnNhY3Rpb24gPSBleHBvcnRzLkFzc2VtYmxlZFRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBc3NlbWJsZWRUcmFuc2FjdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgIF90aGlzJG9wdGlvbnMkc2ltdWxhdDtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXNzZW1ibGVkVHJhbnNhY3Rpb24pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNpbXVsYXRlXCIsIF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgIHZhciBfcmVmMixcbiAgICAgICAgcmVzdG9yZSxcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBfdGhpcyRvcHRpb25zJGZlZSxcbiAgICAgICAgX3RoaXMkb3B0aW9ucyRhcmdzLFxuICAgICAgICBfdGhpcyRvcHRpb25zJHRpbWVvdXQsXG4gICAgICAgIGNvbnRyYWN0LFxuICAgICAgICBfYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dCkge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX3JlZjIgPSBfYXJncy5sZW5ndGggPiAwICYmIF9hcmdzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnc1swXSA6IHt9LCByZXN0b3JlID0gX3JlZjIucmVzdG9yZTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5idWlsdCkge1xuICAgICAgICAgICAgICBfY29udGV4dC5uID0gMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMucmF3KSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGhhcyBub3QgeWV0IGJlZW4gYXNzZW1ibGVkOyBcIiArIFwiY2FsbCBgQXNzZW1ibGVkVHJhbnNhY3Rpb24uYnVpbGRgIGZpcnN0LlwiKTtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBfdGhpcy5idWlsdCA9IF90aGlzLnJhdy5idWlsZCgpO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJlc3RvcmUgPSByZXN0b3JlICE9PSBudWxsICYmIHJlc3RvcmUgIT09IHZvaWQgMCA/IHJlc3RvcmUgOiBfdGhpcy5vcHRpb25zLnJlc3RvcmU7XG4gICAgICAgICAgICBkZWxldGUgX3RoaXMuc2ltdWxhdGlvblJlc3VsdDtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5zaW11bGF0aW9uVHJhbnNhY3Rpb25EYXRhO1xuICAgICAgICAgICAgX2NvbnRleHQubiA9IDM7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc2VydmVyLnNpbXVsYXRlVHJhbnNhY3Rpb24oX3RoaXMuYnVpbHQpO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIF90aGlzLnNpbXVsYXRpb24gPSBfY29udGV4dC52O1xuICAgICAgICAgICAgaWYgKCEocmVzdG9yZSAmJiBfYXBpLkFwaS5pc1NpbXVsYXRpb25SZXN0b3JlKF90aGlzLnNpbXVsYXRpb24pKSkge1xuICAgICAgICAgICAgICBfY29udGV4dC5uID0gODtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY29udGV4dC5uID0gNDtcbiAgICAgICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmdldEFjY291bnQpKF90aGlzLm9wdGlvbnMsIF90aGlzLnNlcnZlcik7XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgYWNjb3VudCA9IF9jb250ZXh0LnY7XG4gICAgICAgICAgICBfY29udGV4dC5uID0gNTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZXN0b3JlRm9vdHByaW50KF90aGlzLnNpbXVsYXRpb24ucmVzdG9yZVByZWFtYmxlLCBhY2NvdW50KTtcbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC52O1xuICAgICAgICAgICAgaWYgKCEocmVzdWx0LnN0YXR1cyA9PT0gX2FwaS5BcGkuR2V0VHJhbnNhY3Rpb25TdGF0dXMuU1VDQ0VTUykpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udHJhY3QgPSBuZXcgX3N0ZWxsYXJCYXNlLkNvbnRyYWN0KF90aGlzLm9wdGlvbnMuY29udHJhY3RJZCk7XG4gICAgICAgICAgICBfdGhpcy5yYXcgPSBuZXcgX3N0ZWxsYXJCYXNlLlRyYW5zYWN0aW9uQnVpbGRlcihhY2NvdW50LCB7XG4gICAgICAgICAgICAgIGZlZTogKF90aGlzJG9wdGlvbnMkZmVlID0gX3RoaXMub3B0aW9ucy5mZWUpICE9PSBudWxsICYmIF90aGlzJG9wdGlvbnMkZmVlICE9PSB2b2lkIDAgPyBfdGhpcyRvcHRpb25zJGZlZSA6IF9zdGVsbGFyQmFzZS5CQVNFX0ZFRSxcbiAgICAgICAgICAgICAgbmV0d29ya1Bhc3NwaHJhc2U6IF90aGlzLm9wdGlvbnMubmV0d29ya1Bhc3NwaHJhc2VcbiAgICAgICAgICAgIH0pLmFkZE9wZXJhdGlvbihjb250cmFjdC5jYWxsLmFwcGx5KGNvbnRyYWN0LCBbX3RoaXMub3B0aW9ucy5tZXRob2RdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoKF90aGlzJG9wdGlvbnMkYXJncyA9IF90aGlzLm9wdGlvbnMuYXJncykgIT09IG51bGwgJiYgX3RoaXMkb3B0aW9ucyRhcmdzICE9PSB2b2lkIDAgPyBfdGhpcyRvcHRpb25zJGFyZ3MgOiBbXSkpKSkuc2V0VGltZW91dCgoX3RoaXMkb3B0aW9ucyR0aW1lb3V0ID0gX3RoaXMub3B0aW9ucy50aW1lb3V0SW5TZWNvbmRzKSAhPT0gbnVsbCAmJiBfdGhpcyRvcHRpb25zJHRpbWVvdXQgIT09IHZvaWQgMCA/IF90aGlzJG9wdGlvbnMkdGltZW91dCA6IF90eXBlcy5ERUZBVUxUX1RJTUVPVVQpO1xuICAgICAgICAgICAgX2NvbnRleHQubiA9IDY7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc2ltdWxhdGUoKTtcbiAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCBfdGhpcyk7XG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEFzc2VtYmxlZFRyYW5zYWN0aW9uLkVycm9ycy5SZXN0b3JhdGlvbkZhaWx1cmUoXCJBdXRvbWF0aWMgcmVzdG9yZSBmYWlsZWQhIFlvdSBzZXQgJ3Jlc3RvcmU6IHRydWUnIGJ1dCB0aGUgYXR0ZW1wdGVkIHJlc3RvcmUgZGlkIG5vdCB3b3JrLiBSZXN1bHQ6XFxuXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpKTtcbiAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBpZiAoX2FwaS5BcGkuaXNTaW11bGF0aW9uU3VjY2VzcyhfdGhpcy5zaW11bGF0aW9uKSkge1xuICAgICAgICAgICAgICBfdGhpcy5idWlsdCA9ICgwLCBfdHJhbnNhY3Rpb24uYXNzZW1ibGVUcmFuc2FjdGlvbikoX3RoaXMuYnVpbHQsIF90aGlzLnNpbXVsYXRpb24pLmJ1aWxkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCBfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUpO1xuICAgIH0pKSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2lnblwiLCBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgICAgdmFyIF90aGlzJG9wdGlvbnMkdGltZW91dDI7XG4gICAgICB2YXIgX3JlZjQsXG4gICAgICAgIF9yZWY0JGZvcmNlLFxuICAgICAgICBmb3JjZSxcbiAgICAgICAgX3JlZjQkc2lnblRyYW5zYWN0aW9uLFxuICAgICAgICBzaWduVHJhbnNhY3Rpb24sXG4gICAgICAgIHNpZ3NOZWVkZWQsXG4gICAgICAgIHRpbWVvdXRJblNlY29uZHMsXG4gICAgICAgIHNpZ25PcHRzLFxuICAgICAgICBfeWllbGQkc2lnblRyYW5zYWN0aW8sXG4gICAgICAgIHNpZ25hdHVyZSxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIF9hcmdzMiA9IGFyZ3VtZW50cztcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLm4pIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBfcmVmNCA9IF9hcmdzMi5sZW5ndGggPiAwICYmIF9hcmdzMlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzBdIDoge30sIF9yZWY0JGZvcmNlID0gX3JlZjQuZm9yY2UsIGZvcmNlID0gX3JlZjQkZm9yY2UgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjQkZm9yY2UsIF9yZWY0JHNpZ25UcmFuc2FjdGlvbiA9IF9yZWY0LnNpZ25UcmFuc2FjdGlvbiwgc2lnblRyYW5zYWN0aW9uID0gX3JlZjQkc2lnblRyYW5zYWN0aW9uID09PSB2b2lkIDAgPyBfdGhpcy5vcHRpb25zLnNpZ25UcmFuc2FjdGlvbiA6IF9yZWY0JHNpZ25UcmFuc2FjdGlvbjtcbiAgICAgICAgICAgIGlmIChfdGhpcy5idWlsdCkge1xuICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gaGFzIG5vdCB5ZXQgYmVlbiBzaW11bGF0ZWRcIik7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaWYgKCEoIWZvcmNlICYmIF90aGlzLmlzUmVhZENhbGwpKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uID0gMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24uRXJyb3JzLk5vU2lnbmF0dXJlTmVlZGVkKFwiVGhpcyBpcyBhIHJlYWQgY2FsbC4gSXQgcmVxdWlyZXMgbm8gc2lnbmF0dXJlIG9yIHNlbmRpbmcuIFwiICsgXCJVc2UgYGZvcmNlOiB0cnVlYCB0byBzaWduIGFuZCBzZW5kIGFueXdheS5cIik7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaWYgKHNpZ25UcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDM7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFzc2VtYmxlZFRyYW5zYWN0aW9uLkVycm9ycy5Ob1NpZ25lcihcIllvdSBtdXN0IHByb3ZpZGUgYSBzaWduVHJhbnNhY3Rpb24gZnVuY3Rpb24sIGVpdGhlciB3aGVuIGNhbGxpbmcgXCIgKyBcImBzaWduQW5kU2VuZGAgb3Igd2hlbiBpbml0aWFsaXppbmcgeW91ciBDbGllbnRcIik7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMucHVibGljS2V5KSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24uRXJyb3JzLkZha2VBY2NvdW50KFwiVGhpcyB0cmFuc2FjdGlvbiB3YXMgY29uc3RydWN0ZWQgdXNpbmcgYSBkZWZhdWx0IGFjY291bnQuIFByb3ZpZGUgYSB2YWxpZCBwdWJsaWNLZXkgaW4gdGhlIEFzc2VtYmxlZFRyYW5zYWN0aW9uT3B0aW9ucy5cIik7XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgc2lnc05lZWRlZCA9IF90aGlzLm5lZWRzTm9uSW52b2tlclNpZ25pbmdCeSgpLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICFpZC5zdGFydHNXaXRoKFwiQ1wiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFzaWdzTmVlZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFzc2VtYmxlZFRyYW5zYWN0aW9uLkVycm9ycy5OZWVkc01vcmVTaWduYXR1cmVzKFwiVHJhbnNhY3Rpb24gcmVxdWlyZXMgc2lnbmF0dXJlcyBmcm9tIFwiLmNvbmNhdChzaWdzTmVlZGVkLCBcIi4gXCIpICsgXCJTZWUgYG5lZWRzTm9uSW52b2tlclNpZ25pbmdCeWAgZm9yIGRldGFpbHMuXCIpO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHRpbWVvdXRJblNlY29uZHMgPSAoX3RoaXMkb3B0aW9ucyR0aW1lb3V0MiA9IF90aGlzLm9wdGlvbnMudGltZW91dEluU2Vjb25kcykgIT09IG51bGwgJiYgX3RoaXMkb3B0aW9ucyR0aW1lb3V0MiAhPT0gdm9pZCAwID8gX3RoaXMkb3B0aW9ucyR0aW1lb3V0MiA6IF90eXBlcy5ERUZBVUxUX1RJTUVPVVQ7XG4gICAgICAgICAgICBfdGhpcy5idWlsdCA9IF9zdGVsbGFyQmFzZS5UcmFuc2FjdGlvbkJ1aWxkZXIuY2xvbmVGcm9tKF90aGlzLmJ1aWx0LCB7XG4gICAgICAgICAgICAgIGZlZTogX3RoaXMuYnVpbHQuZmVlLFxuICAgICAgICAgICAgICB0aW1lYm91bmRzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHNvcm9iYW5EYXRhOiBfdGhpcy5zaW11bGF0aW9uRGF0YS50cmFuc2FjdGlvbkRhdGFcbiAgICAgICAgICAgIH0pLnNldFRpbWVvdXQodGltZW91dEluU2Vjb25kcykuYnVpbGQoKTtcbiAgICAgICAgICAgIHNpZ25PcHRzID0ge1xuICAgICAgICAgICAgICBuZXR3b3JrUGFzc3BocmFzZTogX3RoaXMub3B0aW9ucy5uZXR3b3JrUGFzc3BocmFzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmFkZHJlc3MpIHNpZ25PcHRzLmFkZHJlc3MgPSBfdGhpcy5vcHRpb25zLmFkZHJlc3M7XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5zdWJtaXQgIT09IHVuZGVmaW5lZCkgc2lnbk9wdHMuc3VibWl0ID0gX3RoaXMub3B0aW9ucy5zdWJtaXQ7XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5zdWJtaXRVcmwpIHNpZ25PcHRzLnN1Ym1pdFVybCA9IF90aGlzLm9wdGlvbnMuc3VibWl0VXJsO1xuICAgICAgICAgICAgX2NvbnRleHQyLm4gPSA2O1xuICAgICAgICAgICAgcmV0dXJuIHNpZ25UcmFuc2FjdGlvbihfdGhpcy5idWlsdC50b1hEUigpLCBzaWduT3B0cyk7XG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgX3lpZWxkJHNpZ25UcmFuc2FjdGlvID0gX2NvbnRleHQyLnY7XG4gICAgICAgICAgICBzaWduYXR1cmUgPSBfeWllbGQkc2lnblRyYW5zYWN0aW8uc2lnbmVkVHhYZHI7XG4gICAgICAgICAgICBlcnJvciA9IF95aWVsZCRzaWduVHJhbnNhY3Rpby5lcnJvcjtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZVdhbGxldEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIF90aGlzLnNpZ25lZCA9IF9zdGVsbGFyQmFzZS5UcmFuc2FjdGlvbkJ1aWxkZXIuZnJvbVhEUihzaWduYXR1cmUsIF90aGlzLm9wdGlvbnMubmV0d29ya1Bhc3NwaHJhc2UpO1xuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTIpO1xuICAgIH0pKSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2lnbkFuZFNlbmRcIiwgX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMygpIHtcbiAgICAgIHZhciBfcmVmNixcbiAgICAgICAgX3JlZjYkZm9yY2UsXG4gICAgICAgIGZvcmNlLFxuICAgICAgICBfcmVmNiRzaWduVHJhbnNhY3Rpb24sXG4gICAgICAgIHNpZ25UcmFuc2FjdGlvbixcbiAgICAgICAgd2F0Y2hlcixcbiAgICAgICAgb3JpZ2luYWxTdWJtaXQsXG4gICAgICAgIF9hcmdzMyA9IGFyZ3VtZW50cztcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDMpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnAgPSBfY29udGV4dDMubikge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9yZWY2ID0gX2FyZ3MzLmxlbmd0aCA+IDAgJiYgX2FyZ3MzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczNbMF0gOiB7fSwgX3JlZjYkZm9yY2UgPSBfcmVmNi5mb3JjZSwgZm9yY2UgPSBfcmVmNiRmb3JjZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNiRmb3JjZSwgX3JlZjYkc2lnblRyYW5zYWN0aW9uID0gX3JlZjYuc2lnblRyYW5zYWN0aW9uLCBzaWduVHJhbnNhY3Rpb24gPSBfcmVmNiRzaWduVHJhbnNhY3Rpb24gPT09IHZvaWQgMCA/IF90aGlzLm9wdGlvbnMuc2lnblRyYW5zYWN0aW9uIDogX3JlZjYkc2lnblRyYW5zYWN0aW9uLCB3YXRjaGVyID0gX3JlZjYud2F0Y2hlcjtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zaWduZWQpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLm4gPSAzO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9yaWdpbmFsU3VibWl0ID0gX3RoaXMub3B0aW9ucy5zdWJtaXQ7XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5zdWJtaXQpIHtcbiAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5zdWJtaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jb250ZXh0My5wID0gMTtcbiAgICAgICAgICAgIF9jb250ZXh0My5uID0gMjtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zaWduKHtcbiAgICAgICAgICAgICAgZm9yY2U6IGZvcmNlLFxuICAgICAgICAgICAgICBzaWduVHJhbnNhY3Rpb246IHNpZ25UcmFuc2FjdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgX2NvbnRleHQzLnAgPSAyO1xuICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5zdWJtaXQgPSBvcmlnaW5hbFN1Ym1pdDtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuZigyKTtcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmEoMiwgX3RoaXMuc2VuZCh3YXRjaGVyKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsLCAyLCAzXV0pO1xuICAgIH0pKSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmVlZHNOb25JbnZva2VyU2lnbmluZ0J5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmF3SW52b2tlSG9zdEZ1bmN0aW87XG4gICAgICB2YXIgX3JlZjcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICBfcmVmNyRpbmNsdWRlQWxyZWFkeVMgPSBfcmVmNy5pbmNsdWRlQWxyZWFkeVNpZ25lZCxcbiAgICAgICAgaW5jbHVkZUFscmVhZHlTaWduZWQgPSBfcmVmNyRpbmNsdWRlQWxyZWFkeVMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjckaW5jbHVkZUFscmVhZHlTO1xuICAgICAgaWYgKCFfdGhpcy5idWlsdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiBoYXMgbm90IHlldCBiZWVuIHNpbXVsYXRlZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghKFwib3BlcmF0aW9uc1wiIGluIF90aGlzLmJ1aWx0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIFRyYW5zYWN0aW9uIHR5cGU7IG5vIG9wZXJhdGlvbnM6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShfdGhpcy5idWlsdCkpKTtcbiAgICAgIH1cbiAgICAgIHZhciByYXdJbnZva2VIb3N0RnVuY3Rpb25PcCA9IF90aGlzLmJ1aWx0Lm9wZXJhdGlvbnNbMF07XG4gICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoKChfcmF3SW52b2tlSG9zdEZ1bmN0aW8gPSByYXdJbnZva2VIb3N0RnVuY3Rpb25PcC5hdXRoKSAhPT0gbnVsbCAmJiBfcmF3SW52b2tlSG9zdEZ1bmN0aW8gIT09IHZvaWQgMCA/IF9yYXdJbnZva2VIb3N0RnVuY3RpbyA6IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5jcmVkZW50aWFscygpLnN3aXRjaCgpID09PSBfc3RlbGxhckJhc2UueGRyLlNvcm9iYW5DcmVkZW50aWFsc1R5cGUuc29yb2JhbkNyZWRlbnRpYWxzQWRkcmVzcygpICYmIChpbmNsdWRlQWxyZWFkeVNpZ25lZCB8fCBlbnRyeS5jcmVkZW50aWFscygpLmFkZHJlc3MoKS5zaWduYXR1cmUoKS5zd2l0Y2goKS5uYW1lID09PSBcInNjdlZvaWRcIik7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UuQWRkcmVzcy5mcm9tU2NBZGRyZXNzKGVudHJ5LmNyZWRlbnRpYWxzKCkuYWRkcmVzcygpLmFkZHJlc3MoKSkudG9TdHJpbmcoKTtcbiAgICAgIH0pKSk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2lnbkF1dGhFbnRyaWVzXCIsIF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTYoKSB7XG4gICAgICB2YXIgX3Jhd0ludm9rZUhvc3RGdW5jdGlvMjtcbiAgICAgIHZhciBfcmVmOSxcbiAgICAgICAgX3JlZjkkZXhwaXJhdGlvbixcbiAgICAgICAgZXhwaXJhdGlvbixcbiAgICAgICAgX3JlZjkkc2lnbkF1dGhFbnRyeSxcbiAgICAgICAgc2lnbkF1dGhFbnRyeSxcbiAgICAgICAgX3JlZjkkYWRkcmVzcyxcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgX3JlZjkkYXV0aG9yaXplRW50cnksXG4gICAgICAgIGF1dGhvcml6ZUVudHJ5LFxuICAgICAgICBuZWVkc05vbkludm9rZXJTaWduaW5nQnksXG4gICAgICAgIHJhd0ludm9rZUhvc3RGdW5jdGlvbk9wLFxuICAgICAgICBhdXRoRW50cmllcyxcbiAgICAgICAgX2l0ZXJhdG9yLFxuICAgICAgICBfc3RlcCxcbiAgICAgICAgX2xvb3AsXG4gICAgICAgIF9yZXQsXG4gICAgICAgIF9hcmdzNyA9IGFyZ3VtZW50cyxcbiAgICAgICAgX3Q1O1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0Nykge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDcucCA9IF9jb250ZXh0Ny5uKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX3JlZjkgPSBfYXJnczcubGVuZ3RoID4gMCAmJiBfYXJnczdbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzN1swXSA6IHt9LCBfcmVmOSRleHBpcmF0aW9uID0gX3JlZjkuZXhwaXJhdGlvbiwgZXhwaXJhdGlvbiA9IF9yZWY5JGV4cGlyYXRpb24gPT09IHZvaWQgMCA/IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgICAgICAgICAgIHZhciBfdDtcbiAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0NCkge1xuICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5uKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uID0gMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNlcnZlci5nZXRMYXRlc3RMZWRnZXIoKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX3QgPSBfY29udGV4dDQudi5zZXF1ZW5jZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hKDIsIF90ICsgMTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIF9jYWxsZWU0KTtcbiAgICAgICAgICAgIH0pKSgpIDogX3JlZjkkZXhwaXJhdGlvbiwgX3JlZjkkc2lnbkF1dGhFbnRyeSA9IF9yZWY5LnNpZ25BdXRoRW50cnksIHNpZ25BdXRoRW50cnkgPSBfcmVmOSRzaWduQXV0aEVudHJ5ID09PSB2b2lkIDAgPyBfdGhpcy5vcHRpb25zLnNpZ25BdXRoRW50cnkgOiBfcmVmOSRzaWduQXV0aEVudHJ5LCBfcmVmOSRhZGRyZXNzID0gX3JlZjkuYWRkcmVzcywgYWRkcmVzcyA9IF9yZWY5JGFkZHJlc3MgPT09IHZvaWQgMCA/IF90aGlzLm9wdGlvbnMucHVibGljS2V5IDogX3JlZjkkYWRkcmVzcywgX3JlZjkkYXV0aG9yaXplRW50cnkgPSBfcmVmOS5hdXRob3JpemVFbnRyeSwgYXV0aG9yaXplRW50cnkgPSBfcmVmOSRhdXRob3JpemVFbnRyeSA9PT0gdm9pZCAwID8gX3N0ZWxsYXJCYXNlLmF1dGhvcml6ZUVudHJ5IDogX3JlZjkkYXV0aG9yaXplRW50cnk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYnVpbHQpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm4gPSAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGhhcyBub3QgeWV0IGJlZW4gYXNzZW1ibGVkIG9yIHNpbXVsYXRlZFwiKTtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBpZiAoIShhdXRob3JpemVFbnRyeSA9PT0gX3N0ZWxsYXJCYXNlLmF1dGhvcml6ZUVudHJ5KSkge1xuICAgICAgICAgICAgICBfY29udGV4dDcubiA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmVlZHNOb25JbnZva2VyU2lnbmluZ0J5ID0gX3RoaXMubmVlZHNOb25JbnZva2VyU2lnbmluZ0J5KCk7XG4gICAgICAgICAgICBpZiAoIShuZWVkc05vbkludm9rZXJTaWduaW5nQnkubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDcubiA9IDI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFzc2VtYmxlZFRyYW5zYWN0aW9uLkVycm9ycy5Ob1Vuc2lnbmVkTm9uSW52b2tlckF1dGhFbnRyaWVzKFwiTm8gdW5zaWduZWQgbm9uLWludm9rZXIgYXV0aCBlbnRyaWVzOyBtYXliZSB5b3UgYWxyZWFkeSBzaWduZWQ/XCIpO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGlmICghKG5lZWRzTm9uSW52b2tlclNpZ25pbmdCeS5pbmRleE9mKGFkZHJlc3MgIT09IG51bGwgJiYgYWRkcmVzcyAhPT0gdm9pZCAwID8gYWRkcmVzcyA6IFwiXCIpID09PSAtMSkpIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm4gPSAzO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBBc3NlbWJsZWRUcmFuc2FjdGlvbi5FcnJvcnMuTm9TaWduYXR1cmVOZWVkZWQoXCJObyBhdXRoIGVudHJpZXMgZm9yIHB1YmxpYyBrZXkgXFxcIlwiLmNvbmNhdChhZGRyZXNzLCBcIlxcXCJcIikpO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGlmIChzaWduQXV0aEVudHJ5KSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Ny5uID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24uRXJyb3JzLk5vU2lnbmVyKFwiWW91IG11c3QgcHJvdmlkZSBgc2lnbkF1dGhFbnRyeWAgb3IgYSBjdXN0b20gYGF1dGhvcml6ZUVudHJ5YFwiKTtcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByYXdJbnZva2VIb3N0RnVuY3Rpb25PcCA9IF90aGlzLmJ1aWx0Lm9wZXJhdGlvbnNbMF07XG4gICAgICAgICAgICBhdXRoRW50cmllcyA9IChfcmF3SW52b2tlSG9zdEZ1bmN0aW8yID0gcmF3SW52b2tlSG9zdEZ1bmN0aW9uT3AuYXV0aCkgIT09IG51bGwgJiYgX3Jhd0ludm9rZUhvc3RGdW5jdGlvMiAhPT0gdm9pZCAwID8gX3Jhd0ludm9rZUhvc3RGdW5jdGlvMiA6IFtdO1xuICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXV0aEVudHJpZXMuZW50cmllcygpKTtcbiAgICAgICAgICAgIF9jb250ZXh0Ny5wID0gNTtcbiAgICAgICAgICAgIF9sb29wID0gX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICAgICAgICAgICAgdmFyIF9zdGVwJHZhbHVlLCBpLCBlbnRyeSwgY3JlZGVudGlhbHMsIGF1dGhFbnRyeUFkZHJlc3MsIHNpZ24sIF90MiwgX3QzLCBfdDQ7XG4gICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDYpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYubikge1xuICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfc3RlcCR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwLnZhbHVlLCAyKSwgaSA9IF9zdGVwJHZhbHVlWzBdLCBlbnRyeSA9IF9zdGVwJHZhbHVlWzFdO1xuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFscyA9IF9zdGVsbGFyQmFzZS54ZHIuU29yb2JhbkNyZWRlbnRpYWxzLmZyb21YRFIoZW50cnkuY3JlZGVudGlhbHMoKS50b1hEUigpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoY3JlZGVudGlhbHMuc3dpdGNoKCkgIT09IF9zdGVsbGFyQmFzZS54ZHIuU29yb2JhbkNyZWRlbnRpYWxzVHlwZS5zb3JvYmFuQ3JlZGVudGlhbHNBZGRyZXNzKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm4gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYSgyLCAwKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgYXV0aEVudHJ5QWRkcmVzcyA9IF9zdGVsbGFyQmFzZS5BZGRyZXNzLmZyb21TY0FkZHJlc3MoY3JlZGVudGlhbHMuYWRkcmVzcygpLmFkZHJlc3MoKSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXV0aEVudHJ5QWRkcmVzcyAhPT0gYWRkcmVzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubiA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hKDIsIDApO1xuICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBzaWduID0gc2lnbkF1dGhFbnRyeSAhPT0gbnVsbCAmJiBzaWduQXV0aEVudHJ5ICE9PSB2b2lkIDAgPyBzaWduQXV0aEVudHJ5IDogUHJvbWlzZS5yZXNvbHZlO1xuICAgICAgICAgICAgICAgICAgICBfdDIgPSBhdXRob3JpemVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgX3QzID0gZW50cnk7XG4gICAgICAgICAgICAgICAgICAgIF90NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjEgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWU1KHByZWltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3lpZWxkJHNpZ24sIHNpZ25lZEF1dGhFbnRyeSwgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQ1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NS5uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm4gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZ24ocHJlaW1hZ2UudG9YRFIoXCJiYXNlNjRcIiksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3lpZWxkJHNpZ24gPSBfY29udGV4dDUudjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZEF1dGhFbnRyeSA9IF95aWVsZCRzaWduLnNpZ25lZEF1dGhFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gX3lpZWxkJHNpZ24uZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVXYWxsZXRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmEoMiwgQnVmZmVyLmZyb20oc2lnbmVkQXV0aEVudHJ5LCBcImJhc2U2NFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU1KTtcbiAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSgpO1xuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubiA9IDM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBpcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubiA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdDIoX3QzLCBfdDQsIF9jb250ZXh0Ni52LCBfdGhpcy5vcHRpb25zLm5ldHdvcmtQYXNzcGhyYXNlKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgYXV0aEVudHJpZXNbaV0gPSBfY29udGV4dDYudjtcbiAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hKDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgX2xvb3ApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfaXRlcmF0b3IucygpO1xuICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIGlmICgoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Ny5uID0gOTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmQoX3JlZ2VuZXJhdG9yVmFsdWVzKF9sb29wKCkpLCA3KTtcbiAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBfcmV0ID0gX2NvbnRleHQ3LnY7XG4gICAgICAgICAgICBpZiAoIShfcmV0ID09PSAwKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDcubiA9IDg7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hKDMsIDgpO1xuICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIF9jb250ZXh0Ny5uID0gNjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgIF9jb250ZXh0Ny5uID0gMTE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgX2NvbnRleHQ3LnAgPSAxMDtcbiAgICAgICAgICAgIF90NSA9IF9jb250ZXh0Ny52O1xuICAgICAgICAgICAgX2l0ZXJhdG9yLmUoX3Q1KTtcbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgX2NvbnRleHQ3LnAgPSAxMTtcbiAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmYoMTEpO1xuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmEoMik7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU2LCBudWxsLCBbWzUsIDEwLCAxMSwgMTJdXSk7XG4gICAgfSkpKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMub3B0aW9ucy5zaW11bGF0ZSA9IChfdGhpcyRvcHRpb25zJHNpbXVsYXQgPSB0aGlzLm9wdGlvbnMuc2ltdWxhdGUpICE9PSBudWxsICYmIF90aGlzJG9wdGlvbnMkc2ltdWxhdCAhPT0gdm9pZCAwID8gX3RoaXMkb3B0aW9ucyRzaW11bGF0IDogdHJ1ZTtcbiAgICB2YXIgX3RoaXMkb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIHNlcnZlciA9IF90aGlzJG9wdGlvbnMuc2VydmVyLFxuICAgICAgYWxsb3dIdHRwID0gX3RoaXMkb3B0aW9ucy5hbGxvd0h0dHAsXG4gICAgICBoZWFkZXJzID0gX3RoaXMkb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgcnBjVXJsID0gX3RoaXMkb3B0aW9ucy5ycGNVcmw7XG4gICAgdGhpcy5zZXJ2ZXIgPSBzZXJ2ZXIgIT09IG51bGwgJiYgc2VydmVyICE9PSB2b2lkIDAgPyBzZXJ2ZXIgOiBuZXcgX3JwYy5TZXJ2ZXIocnBjVXJsLCB7XG4gICAgICBhbGxvd0h0dHA6IGFsbG93SHR0cCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEFzc2VtYmxlZFRyYW5zYWN0aW9uLCBbe1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgdmFyIF90aGlzJGJ1aWx0O1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbWV0aG9kOiB0aGlzLm9wdGlvbnMubWV0aG9kLFxuICAgICAgICB0eDogKF90aGlzJGJ1aWx0ID0gdGhpcy5idWlsdCkgPT09IG51bGwgfHwgX3RoaXMkYnVpbHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGJ1aWx0LnRvWERSKCksXG4gICAgICAgIHNpbXVsYXRpb25SZXN1bHQ6IHtcbiAgICAgICAgICBhdXRoOiB0aGlzLnNpbXVsYXRpb25EYXRhLnJlc3VsdC5hdXRoLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGEudG9YRFIoXCJiYXNlNjRcIik7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgcmV0dmFsOiB0aGlzLnNpbXVsYXRpb25EYXRhLnJlc3VsdC5yZXR2YWwudG9YRFIoXCJiYXNlNjRcIilcbiAgICAgICAgfSxcbiAgICAgICAgc2ltdWxhdGlvblRyYW5zYWN0aW9uRGF0YTogdGhpcy5zaW11bGF0aW9uRGF0YS50cmFuc2FjdGlvbkRhdGEudG9YRFIoXCJiYXNlNjRcIilcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b1hEUlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1hEUigpIHtcbiAgICAgIHZhciBfdGhpcyRidWlsdDI7XG4gICAgICBpZiAoIXRoaXMuYnVpbHQpIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGhhcyBub3QgeWV0IGJlZW4gc2ltdWxhdGVkOyBcIiArIFwiY2FsbCBgQXNzZW1ibGVkVHJhbnNhY3Rpb24uc2ltdWxhdGVgIGZpcnN0LlwiKTtcbiAgICAgIHJldHVybiAoX3RoaXMkYnVpbHQyID0gdGhpcy5idWlsdCkgPT09IG51bGwgfHwgX3RoaXMkYnVpbHQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRidWlsdDIudG9FbnZlbG9wZSgpLnRvWERSKFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVXYWxsZXRFcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVXYWxsZXRFcnJvcihlcnJvcikge1xuICAgICAgaWYgKCFlcnJvcikgcmV0dXJuO1xuICAgICAgdmFyIG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlLFxuICAgICAgICBjb2RlID0gZXJyb3IuY29kZTtcbiAgICAgIHZhciBmdWxsTWVzc2FnZSA9IFwiXCIuY29uY2F0KG1lc3NhZ2UpLmNvbmNhdChlcnJvci5leHQgPyBcIiAoXCIuY29uY2F0KGVycm9yLmV4dC5qb2luKFwiLCBcIiksIFwiKVwiKSA6IFwiXCIpO1xuICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgdGhyb3cgbmV3IEFzc2VtYmxlZFRyYW5zYWN0aW9uLkVycm9ycy5JbnRlcm5hbFdhbGxldEVycm9yKGZ1bGxNZXNzYWdlKTtcbiAgICAgICAgY2FzZSAtMjpcbiAgICAgICAgICB0aHJvdyBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24uRXJyb3JzLkV4dGVybmFsU2VydmljZUVycm9yKGZ1bGxNZXNzYWdlKTtcbiAgICAgICAgY2FzZSAtMzpcbiAgICAgICAgICB0aHJvdyBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24uRXJyb3JzLkludmFsaWRDbGllbnRSZXF1ZXN0KGZ1bGxNZXNzYWdlKTtcbiAgICAgICAgY2FzZSAtNDpcbiAgICAgICAgICB0aHJvdyBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24uRXJyb3JzLlVzZXJSZWplY3RlZChmdWxsTWVzc2FnZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5oYW5kbGVkIGVycm9yOiBcIi5jb25jYXQoZnVsbE1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2ltdWxhdGlvbkRhdGFcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfc2ltdWxhdGlvbiRyZXN1bHQ7XG4gICAgICBpZiAodGhpcy5zaW11bGF0aW9uUmVzdWx0ICYmIHRoaXMuc2ltdWxhdGlvblRyYW5zYWN0aW9uRGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdDogdGhpcy5zaW11bGF0aW9uUmVzdWx0LFxuICAgICAgICAgIHRyYW5zYWN0aW9uRGF0YTogdGhpcy5zaW11bGF0aW9uVHJhbnNhY3Rpb25EYXRhXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgc2ltdWxhdGlvbiA9IHRoaXMuc2ltdWxhdGlvbjtcbiAgICAgIGlmICghc2ltdWxhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24uRXJyb3JzLk5vdFlldFNpbXVsYXRlZChcIlRyYW5zYWN0aW9uIGhhcyBub3QgeWV0IGJlZW4gc2ltdWxhdGVkXCIpO1xuICAgICAgfVxuICAgICAgaWYgKF9hcGkuQXBpLmlzU2ltdWxhdGlvbkVycm9yKHNpbXVsYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBBc3NlbWJsZWRUcmFuc2FjdGlvbi5FcnJvcnMuU2ltdWxhdGlvbkZhaWxlZChcIlRyYW5zYWN0aW9uIHNpbXVsYXRpb24gZmFpbGVkOiBcXFwiXCIuY29uY2F0KHNpbXVsYXRpb24uZXJyb3IsIFwiXFxcIlwiKSk7XG4gICAgICB9XG4gICAgICBpZiAoX2FwaS5BcGkuaXNTaW11bGF0aW9uUmVzdG9yZShzaW11bGF0aW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24uRXJyb3JzLkV4cGlyZWRTdGF0ZShcIllvdSBuZWVkIHRvIHJlc3RvcmUgc29tZSBjb250cmFjdCBzdGF0ZSBiZWZvcmUgeW91IGNhbiBpbnZva2UgdGhpcyBtZXRob2QuXFxuXCIgKyBcIllvdSBjYW4gc2V0IGByZXN0b3JlYCB0byB0cnVlIGluIHRoZSBtZXRob2Qgb3B0aW9ucyBpbiBvcmRlciB0byBcIiArIFwiYXV0b21hdGljYWxseSByZXN0b3JlIHRoZSBjb250cmFjdCBzdGF0ZSB3aGVuIG5lZWRlZC5cIik7XG4gICAgICB9XG4gICAgICB0aGlzLnNpbXVsYXRpb25SZXN1bHQgPSAoX3NpbXVsYXRpb24kcmVzdWx0ID0gc2ltdWxhdGlvbi5yZXN1bHQpICE9PSBudWxsICYmIF9zaW11bGF0aW9uJHJlc3VsdCAhPT0gdm9pZCAwID8gX3NpbXVsYXRpb24kcmVzdWx0IDoge1xuICAgICAgICBhdXRoOiBbXSxcbiAgICAgICAgcmV0dmFsOiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdlZvaWQoKVxuICAgICAgfTtcbiAgICAgIHRoaXMuc2ltdWxhdGlvblRyYW5zYWN0aW9uRGF0YSA9IHNpbXVsYXRpb24udHJhbnNhY3Rpb25EYXRhLmJ1aWxkKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHQ6IHRoaXMuc2ltdWxhdGlvblJlc3VsdCxcbiAgICAgICAgdHJhbnNhY3Rpb25EYXRhOiB0aGlzLnNpbXVsYXRpb25UcmFuc2FjdGlvbkRhdGFcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc3VsdFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCF0aGlzLnNpbXVsYXRpb25EYXRhLnJlc3VsdCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHNpbXVsYXRpb24gcmVzdWx0IVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnBhcnNlUmVzdWx0WGRyKHRoaXMuc2ltdWxhdGlvbkRhdGEucmVzdWx0LnJldHZhbCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmICghKDAsIF91dGlscy5pbXBsZW1lbnRzVG9TdHJpbmcpKGUpKSB0aHJvdyBlO1xuICAgICAgICB2YXIgZXJyID0gdGhpcy5wYXJzZUVycm9yKGUudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiBlcnI7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBhcnNlRXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VFcnJvcihlcnJvck1lc3NhZ2UpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmVycm9yVHlwZXMpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB2YXIgbWF0Y2ggPSBlcnJvck1lc3NhZ2UubWF0Y2goX3V0aWxzLmNvbnRyYWN0RXJyb3JQYXR0ZXJuKTtcbiAgICAgIGlmICghbWF0Y2gpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB2YXIgaSA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICB2YXIgZXJyID0gdGhpcy5vcHRpb25zLmVycm9yVHlwZXNbaV07XG4gICAgICBpZiAoIWVycikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBuZXcgX3J1c3RfcmVzdWx0LkVycihlcnIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZW5kXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlbmQgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWU3KHdhdGNoZXIpIHtcbiAgICAgICAgdmFyIHNlbnQ7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBpZiAodGhpcy5zaWduZWQpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDgubiA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHRyYW5zYWN0aW9uIGhhcyBub3QgeWV0IGJlZW4gc2lnbmVkLiBSdW4gYHNpZ25gIGZpcnN0LCBvciB1c2UgYHNpZ25BbmRTZW5kYCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm4gPSAyO1xuICAgICAgICAgICAgICByZXR1cm4gX3NlbnRfdHJhbnNhY3Rpb24uU2VudFRyYW5zYWN0aW9uLmluaXQodGhpcywgd2F0Y2hlcik7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHNlbnQgPSBfY29udGV4dDgudjtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hKDIsIHNlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gc2VuZChfeDIpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VuZDtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNSZWFkQ2FsbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGF1dGhzQ291bnQgPSB0aGlzLnNpbXVsYXRpb25EYXRhLnJlc3VsdC5hdXRoLmxlbmd0aDtcbiAgICAgIHZhciB3cml0ZUxlbmd0aCA9IHRoaXMuc2ltdWxhdGlvbkRhdGEudHJhbnNhY3Rpb25EYXRhLnJlc291cmNlcygpLmZvb3RwcmludCgpLnJlYWRXcml0ZSgpLmxlbmd0aDtcbiAgICAgIHJldHVybiBhdXRoc0NvdW50ID09PSAwICYmIHdyaXRlTGVuZ3RoID09PSAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXN0b3JlRm9vdHByaW50XCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jlc3RvcmVGb290cHJpbnQgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWU4KHJlc3RvcmVQcmVhbWJsZSwgYWNjb3VudCkge1xuICAgICAgICB2YXIgcmVzdG9yZVR4LCBzZW50VHJhbnNhY3Rpb24sIF90NjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0OSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0OS5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lnblRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvciBhdXRvbWF0aWMgcmVzdG9yZSB0byB3b3JrIHlvdSBtdXN0IHByb3ZpZGUgYSBzaWduVHJhbnNhY3Rpb24gZnVuY3Rpb24gd2hlbiBpbml0aWFsaXppbmcgeW91ciBDbGllbnRcIik7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGlmICghKGFjY291bnQgIT09IG51bGwgJiYgYWNjb3VudCAhPT0gdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdDYgPSBhY2NvdW50O1xuICAgICAgICAgICAgICBfY29udGV4dDkubiA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBfY29udGV4dDkubiA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmdldEFjY291bnQpKHRoaXMub3B0aW9ucywgdGhpcy5zZXJ2ZXIpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBfdDYgPSBfY29udGV4dDkudjtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgYWNjb3VudCA9IF90NjtcbiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm4gPSA1O1xuICAgICAgICAgICAgICByZXR1cm4gQXNzZW1ibGVkVHJhbnNhY3Rpb24uYnVpbGRGb290cHJpbnRSZXN0b3JlVHJhbnNhY3Rpb24oX29iamVjdFNwcmVhZCh7fSwgdGhpcy5vcHRpb25zKSwgcmVzdG9yZVByZWFtYmxlLnRyYW5zYWN0aW9uRGF0YSwgYWNjb3VudCwgcmVzdG9yZVByZWFtYmxlLm1pblJlc291cmNlRmVlKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgcmVzdG9yZVR4ID0gX2NvbnRleHQ5LnY7XG4gICAgICAgICAgICAgIF9jb250ZXh0OS5uID0gNjtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3RvcmVUeC5zaWduQW5kU2VuZCgpO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBzZW50VHJhbnNhY3Rpb24gPSBfY29udGV4dDkudjtcbiAgICAgICAgICAgICAgaWYgKHNlbnRUcmFuc2FjdGlvbi5nZXRUcmFuc2FjdGlvblJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm4gPSA3O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBBc3NlbWJsZWRUcmFuc2FjdGlvbi5FcnJvcnMuUmVzdG9yYXRpb25GYWlsdXJlKFwiVGhlIGF0dGVtcHQgYXQgYXV0b21hdGljIHJlc3RvcmUgZmFpbGVkLiBcXG5cIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2VudFRyYW5zYWN0aW9uKSkpO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmEoMiwgc2VudFRyYW5zYWN0aW9uLmdldFRyYW5zYWN0aW9uUmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gcmVzdG9yZUZvb3RwcmludChfeDMsIF94NCkge1xuICAgICAgICByZXR1cm4gX3Jlc3RvcmVGb290cHJpbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN0b3JlRm9vdHByaW50O1xuICAgIH0oKSlcbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21KU09OKG9wdGlvbnMsIF9yZWYxMCkge1xuICAgICAgdmFyIHR4ID0gX3JlZjEwLnR4LFxuICAgICAgICBzaW11bGF0aW9uUmVzdWx0ID0gX3JlZjEwLnNpbXVsYXRpb25SZXN1bHQsXG4gICAgICAgIHNpbXVsYXRpb25UcmFuc2FjdGlvbkRhdGEgPSBfcmVmMTAuc2ltdWxhdGlvblRyYW5zYWN0aW9uRGF0YTtcbiAgICAgIHZhciB0eG4gPSBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24ob3B0aW9ucyk7XG4gICAgICB0eG4uYnVpbHQgPSBfc3RlbGxhckJhc2UuVHJhbnNhY3Rpb25CdWlsZGVyLmZyb21YRFIodHgsIG9wdGlvbnMubmV0d29ya1Bhc3NwaHJhc2UpO1xuICAgICAgdHhuLnNpbXVsYXRpb25SZXN1bHQgPSB7XG4gICAgICAgIGF1dGg6IHNpbXVsYXRpb25SZXN1bHQuYXV0aC5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5Tb3JvYmFuQXV0aG9yaXphdGlvbkVudHJ5LmZyb21YRFIoYSwgXCJiYXNlNjRcIik7XG4gICAgICAgIH0pLFxuICAgICAgICByZXR2YWw6IF9zdGVsbGFyQmFzZS54ZHIuU2NWYWwuZnJvbVhEUihzaW11bGF0aW9uUmVzdWx0LnJldHZhbCwgXCJiYXNlNjRcIilcbiAgICAgIH07XG4gICAgICB0eG4uc2ltdWxhdGlvblRyYW5zYWN0aW9uRGF0YSA9IF9zdGVsbGFyQmFzZS54ZHIuU29yb2JhblRyYW5zYWN0aW9uRGF0YS5mcm9tWERSKHNpbXVsYXRpb25UcmFuc2FjdGlvbkRhdGEsIFwiYmFzZTY0XCIpO1xuICAgICAgcmV0dXJuIHR4bjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbVhEUlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tWERSKG9wdGlvbnMsIGVuY29kZWRYRFIsIHNwZWMpIHtcbiAgICAgIHZhciBfb3BlcmF0aW9uJGZ1bmM7XG4gICAgICB2YXIgZW52ZWxvcGUgPSBfc3RlbGxhckJhc2UueGRyLlRyYW5zYWN0aW9uRW52ZWxvcGUuZnJvbVhEUihlbmNvZGVkWERSLCBcImJhc2U2NFwiKTtcbiAgICAgIHZhciBidWlsdCA9IF9zdGVsbGFyQmFzZS5UcmFuc2FjdGlvbkJ1aWxkZXIuZnJvbVhEUihlbnZlbG9wZSwgb3B0aW9ucy5uZXR3b3JrUGFzc3BocmFzZSk7XG4gICAgICB2YXIgb3BlcmF0aW9uID0gYnVpbHQub3BlcmF0aW9uc1swXTtcbiAgICAgIGlmICghKG9wZXJhdGlvbiAhPT0gbnVsbCAmJiBvcGVyYXRpb24gIT09IHZvaWQgMCAmJiAoX29wZXJhdGlvbiRmdW5jID0gb3BlcmF0aW9uLmZ1bmMpICE9PSBudWxsICYmIF9vcGVyYXRpb24kZnVuYyAhPT0gdm9pZCAwICYmIF9vcGVyYXRpb24kZnVuYy52YWx1ZSkgfHwgdHlwZW9mIG9wZXJhdGlvbi5mdW5jLnZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGV4dHJhY3QgdGhlIG1ldGhvZCBmcm9tIHRoZSB0cmFuc2FjdGlvbiBlbnZlbG9wZS5cIik7XG4gICAgICB9XG4gICAgICB2YXIgaW52b2tlQ29udHJhY3RBcmdzID0gb3BlcmF0aW9uLmZ1bmMudmFsdWUoKTtcbiAgICAgIGlmICghKGludm9rZUNvbnRyYWN0QXJncyAhPT0gbnVsbCAmJiBpbnZva2VDb250cmFjdEFyZ3MgIT09IHZvaWQgMCAmJiBpbnZva2VDb250cmFjdEFyZ3MuZnVuY3Rpb25OYW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZXh0cmFjdCB0aGUgbWV0aG9kIG5hbWUgZnJvbSB0aGUgdHJhbnNhY3Rpb24gZW52ZWxvcGUuXCIpO1xuICAgICAgfVxuICAgICAgdmFyIG1ldGhvZCA9IGludm9rZUNvbnRyYWN0QXJncy5mdW5jdGlvbk5hbWUoKS50b1N0cmluZyhcInV0Zi04XCIpO1xuICAgICAgdmFyIHR4biA9IG5ldyBBc3NlbWJsZWRUcmFuc2FjdGlvbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgcGFyc2VSZXN1bHRYZHI6IGZ1bmN0aW9uIHBhcnNlUmVzdWx0WGRyKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiBzcGVjLmZ1bmNSZXNUb05hdGl2ZShtZXRob2QsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICAgIHR4bi5idWlsdCA9IGJ1aWx0O1xuICAgICAgcmV0dXJuIHR4bjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYnVpbGRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGQob3B0aW9ucykge1xuICAgICAgdmFyIF9vcHRpb25zJGFyZ3M7XG4gICAgICB2YXIgY29udHJhY3QgPSBuZXcgX3N0ZWxsYXJCYXNlLkNvbnRyYWN0KG9wdGlvbnMuY29udHJhY3RJZCk7XG4gICAgICByZXR1cm4gQXNzZW1ibGVkVHJhbnNhY3Rpb24uYnVpbGRXaXRoT3AoY29udHJhY3QuY2FsbC5hcHBseShjb250cmFjdCwgW29wdGlvbnMubWV0aG9kXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KChfb3B0aW9ucyRhcmdzID0gb3B0aW9ucy5hcmdzKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyRhcmdzICE9PSB2b2lkIDAgPyBfb3B0aW9ucyRhcmdzIDogW10pKSksIG9wdGlvbnMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJidWlsZFdpdGhPcFwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9idWlsZFdpdGhPcCA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTkob3BlcmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfb3B0aW9ucyRmZWUsIF9vcHRpb25zJHRpbWVvdXRJblNlYztcbiAgICAgICAgdmFyIHR4LCBhY2NvdW50O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQwLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdHggPSBuZXcgQXNzZW1ibGVkVHJhbnNhY3Rpb24ob3B0aW9ucyk7XG4gICAgICAgICAgICAgIF9jb250ZXh0MC5uID0gMTtcbiAgICAgICAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuZ2V0QWNjb3VudCkob3B0aW9ucywgdHguc2VydmVyKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgYWNjb3VudCA9IF9jb250ZXh0MC52O1xuICAgICAgICAgICAgICB0eC5yYXcgPSBuZXcgX3N0ZWxsYXJCYXNlLlRyYW5zYWN0aW9uQnVpbGRlcihhY2NvdW50LCB7XG4gICAgICAgICAgICAgICAgZmVlOiAoX29wdGlvbnMkZmVlID0gb3B0aW9ucy5mZWUpICE9PSBudWxsICYmIF9vcHRpb25zJGZlZSAhPT0gdm9pZCAwID8gX29wdGlvbnMkZmVlIDogX3N0ZWxsYXJCYXNlLkJBU0VfRkVFLFxuICAgICAgICAgICAgICAgIG5ldHdvcmtQYXNzcGhyYXNlOiBvcHRpb25zLm5ldHdvcmtQYXNzcGhyYXNlXG4gICAgICAgICAgICAgIH0pLnNldFRpbWVvdXQoKF9vcHRpb25zJHRpbWVvdXRJblNlYyA9IG9wdGlvbnMudGltZW91dEluU2Vjb25kcykgIT09IG51bGwgJiYgX29wdGlvbnMkdGltZW91dEluU2VjICE9PSB2b2lkIDAgPyBfb3B0aW9ucyR0aW1lb3V0SW5TZWMgOiBfdHlwZXMuREVGQVVMVF9USU1FT1VUKS5hZGRPcGVyYXRpb24ob3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLnNpbXVsYXRlKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQwLm4gPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0MC5uID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHR4LnNpbXVsYXRlKCk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDAuYSgyLCB0eCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOSk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBidWlsZFdpdGhPcChfeDUsIF94Nikge1xuICAgICAgICByZXR1cm4gX2J1aWxkV2l0aE9wLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYnVpbGRXaXRoT3A7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcImJ1aWxkRm9vdHByaW50UmVzdG9yZVRyYW5zYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYnVpbGRGb290cHJpbnRSZXN0b3JlVHJhbnNhY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUwKG9wdGlvbnMsIHNvcm9iYW5EYXRhLCBhY2NvdW50LCBmZWUpIHtcbiAgICAgICAgdmFyIF9vcHRpb25zJHRpbWVvdXRJblNlYzI7XG4gICAgICAgIHZhciB0eDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MS5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHR4ID0gbmV3IEFzc2VtYmxlZFRyYW5zYWN0aW9uKG9wdGlvbnMpO1xuICAgICAgICAgICAgICB0eC5yYXcgPSBuZXcgX3N0ZWxsYXJCYXNlLlRyYW5zYWN0aW9uQnVpbGRlcihhY2NvdW50LCB7XG4gICAgICAgICAgICAgICAgZmVlOiBmZWUsXG4gICAgICAgICAgICAgICAgbmV0d29ya1Bhc3NwaHJhc2U6IG9wdGlvbnMubmV0d29ya1Bhc3NwaHJhc2VcbiAgICAgICAgICAgICAgfSkuc2V0U29yb2JhbkRhdGEoc29yb2JhbkRhdGEgaW5zdGFuY2VvZiBfc3RlbGxhckJhc2UuU29yb2JhbkRhdGFCdWlsZGVyID8gc29yb2JhbkRhdGEuYnVpbGQoKSA6IHNvcm9iYW5EYXRhKS5hZGRPcGVyYXRpb24oX3N0ZWxsYXJCYXNlLk9wZXJhdGlvbi5yZXN0b3JlRm9vdHByaW50KHt9KSkuc2V0VGltZW91dCgoX29wdGlvbnMkdGltZW91dEluU2VjMiA9IG9wdGlvbnMudGltZW91dEluU2Vjb25kcykgIT09IG51bGwgJiYgX29wdGlvbnMkdGltZW91dEluU2VjMiAhPT0gdm9pZCAwID8gX29wdGlvbnMkdGltZW91dEluU2VjMiA6IF90eXBlcy5ERUZBVUxUX1RJTUVPVVQpO1xuICAgICAgICAgICAgICBfY29udGV4dDEubiA9IDE7XG4gICAgICAgICAgICAgIHJldHVybiB0eC5zaW11bGF0ZSh7XG4gICAgICAgICAgICAgICAgcmVzdG9yZTogZmFsc2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEuYSgyLCB0eCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMCk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBidWlsZEZvb3RwcmludFJlc3RvcmVUcmFuc2FjdGlvbihfeDcsIF94OCwgX3g5LCBfeDApIHtcbiAgICAgICAgcmV0dXJuIF9idWlsZEZvb3RwcmludFJlc3RvcmVUcmFuc2FjdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1aWxkRm9vdHByaW50UmVzdG9yZVRyYW5zYWN0aW9uO1xuICAgIH0oKVxuICB9XSk7XG59KCk7XG5fZGVmaW5lUHJvcGVydHkoQXNzZW1ibGVkVHJhbnNhY3Rpb24sIFwiRXJyb3JzXCIsIHtcbiAgRXhwaXJlZFN0YXRlOiBfZXJyb3JzLkV4cGlyZWRTdGF0ZUVycm9yLFxuICBSZXN0b3JhdGlvbkZhaWx1cmU6IF9lcnJvcnMuUmVzdG9yZUZhaWx1cmVFcnJvcixcbiAgTmVlZHNNb3JlU2lnbmF0dXJlczogX2Vycm9ycy5OZWVkc01vcmVTaWduYXR1cmVzRXJyb3IsXG4gIE5vU2lnbmF0dXJlTmVlZGVkOiBfZXJyb3JzLk5vU2lnbmF0dXJlTmVlZGVkRXJyb3IsXG4gIE5vVW5zaWduZWROb25JbnZva2VyQXV0aEVudHJpZXM6IF9lcnJvcnMuTm9VbnNpZ25lZE5vbkludm9rZXJBdXRoRW50cmllc0Vycm9yLFxuICBOb1NpZ25lcjogX2Vycm9ycy5Ob1NpZ25lckVycm9yLFxuICBOb3RZZXRTaW11bGF0ZWQ6IF9lcnJvcnMuTm90WWV0U2ltdWxhdGVkRXJyb3IsXG4gIEZha2VBY2NvdW50OiBfZXJyb3JzLkZha2VBY2NvdW50RXJyb3IsXG4gIFNpbXVsYXRpb25GYWlsZWQ6IF9lcnJvcnMuU2ltdWxhdGlvbkZhaWxlZEVycm9yLFxuICBJbnRlcm5hbFdhbGxldEVycm9yOiBfZXJyb3JzLkludGVybmFsV2FsbGV0RXJyb3IsXG4gIEV4dGVybmFsU2VydmljZUVycm9yOiBfZXJyb3JzLkV4dGVybmFsU2VydmljZUVycm9yLFxuICBJbnZhbGlkQ2xpZW50UmVxdWVzdDogX2Vycm9ycy5JbnZhbGlkQ2xpZW50UmVxdWVzdEVycm9yLFxuICBVc2VyUmVqZWN0ZWQ6IF9lcnJvcnMuVXNlclJlamVjdGVkRXJyb3Jcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/assembled_transaction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/basic_node_signer.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/basic_node_signer.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.basicNodeSigner = void 0;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nvar basicNodeSigner = exports.basicNodeSigner = function basicNodeSigner(keypair, networkPassphrase) {\n  return {\n    signTransaction: function () {\n      var _signTransaction = _asyncToGenerator(_regenerator().m(function _callee(xdr, opts) {\n        var t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              t = _stellarBase.TransactionBuilder.fromXDR(xdr, (opts === null || opts === void 0 ? void 0 : opts.networkPassphrase) || networkPassphrase);\n              t.sign(keypair);\n              return _context.a(2, {\n                signedTxXdr: t.toXDR(),\n                signerAddress: keypair.publicKey()\n              });\n          }\n        }, _callee);\n      }));\n      function signTransaction(_x, _x2) {\n        return _signTransaction.apply(this, arguments);\n      }\n      return signTransaction;\n    }(),\n    signAuthEntry: function () {\n      var _signAuthEntry = _asyncToGenerator(_regenerator().m(function _callee2(authEntry) {\n        var signedAuthEntry;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              signedAuthEntry = keypair.sign((0, _stellarBase.hash)(Buffer.from(authEntry, \"base64\"))).toString(\"base64\");\n              return _context2.a(2, {\n                signedAuthEntry: signedAuthEntry,\n                signerAddress: keypair.publicKey()\n              });\n          }\n        }, _callee2);\n      }));\n      function signAuthEntry(_x3) {\n        return _signAuthEntry.apply(this, arguments);\n      }\n      return signAuthEntry;\n    }()\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9iYXNpY19ub2RlX3NpZ25lci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRix1QkFBdUI7QUFDdkIsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQXVCO0FBQ2xELDBCQUEwQix1REFBdUQsd0VBQXdFLHlCQUF5QiwrRkFBK0YsOERBQThELCtDQUErQywrREFBK0QsNkNBQTZDLG1CQUFtQiwwQkFBMEIsK0JBQStCLE9BQU8sb0NBQW9DLDhPQUE4TywwQkFBMEIsbUJBQW1CLDRCQUE0Qiw0REFBNEQsNENBQTRDLDBCQUEwQixJQUFJLHVFQUF1RSxNQUFNLGdCQUFnQixtQ0FBbUMsOEVBQThFLHVCQUF1QixpQ0FBaUMsb0lBQW9JLFNBQVMsZ0VBQWdFLFlBQVksdUJBQXVCLFVBQVUsV0FBVyxTQUFTLHlCQUF5QixxQkFBcUIsWUFBWSx3QkFBd0IsZ0NBQWdDLHlDQUF5QywyQkFBMkIsMkRBQTJELG1CQUFtQixjQUFjLDBGQUEwRixnQkFBZ0IsdU5BQXVOLDZiQUE2YixjQUFjLG9EQUFvRCw4QkFBOEIsNkNBQTZDLFNBQVMsZUFBZTtBQUN2dUYsMkNBQTJDLCtCQUErQixNQUFNLElBQUksUUFBUSxLQUFLLFlBQVksU0FBUyxnRUFBZ0UsbUJBQW1CLHlDQUF5QywrQkFBK0IsS0FBSyxrQkFBa0IsMERBQTBELCtEQUErRDtBQUNqYSxtREFBbUQsTUFBTSxnQ0FBZ0MsWUFBWSxvQkFBb0I7QUFDekgsZ0NBQWdDLHFCQUFxQiw2QkFBNkIscUNBQXFDLHVCQUF1QixvQkFBb0IseURBQXlELHFCQUFxQiwwREFBMEQsZ0JBQWdCO0FBQzFULHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvY29udHJhY3QvYmFzaWNfbm9kZV9zaWduZXIuanM/MTA0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYmFzaWNOb2RlU2lnbmVyID0gdm9pZCAwO1xudmFyIF9zdGVsbGFyQmFzZSA9IHJlcXVpcmUoXCJAc3RlbGxhci9zdGVsbGFyLWJhc2VcIik7XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3IoKSB7IHZhciBlLCB0LCByID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgbiA9IHIuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIG8gPSByLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBpKHIsIG4sIG8sIGkpIHsgdmFyIGMgPSBuICYmIG4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gbiA6IEdlbmVyYXRvciwgdSA9IE9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpOyByZXR1cm4gX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcIl9pbnZva2VcIiwgZnVuY3Rpb24gKHIsIG4sIG8pIHsgdmFyIGksIGMsIHUsIGYgPSAwLCBwID0gbyB8fCBbXSwgeSA9ICExLCBHID0geyBwOiAwLCBuOiAwLCB2OiBlLCBhOiBkLCBmOiBkLmJpbmQoZSwgNCksIGQ6IGZ1bmN0aW9uIGQodCwgcikgeyByZXR1cm4gaSA9IHQsIGMgPSAwLCB1ID0gZSwgRy5uID0gciwgYTsgfSB9OyBmdW5jdGlvbiBkKHIsIG4pIHsgZm9yIChjID0gciwgdSA9IG4sIHQgPSAwOyAheSAmJiBmICYmICFvICYmIHQgPCBwLmxlbmd0aDsgdCsrKSB7IHZhciBvLCBpID0gcFt0XSwgZCA9IEcucCwgbCA9IGlbMl07IHIgPiAzID8gKG8gPSBsID09PSBuKSAmJiAodSA9IGlbKGMgPSBpWzRdKSA/IDUgOiAoYyA9IDMsIDMpXSwgaVs0XSA9IGlbNV0gPSBlKSA6IGlbMF0gPD0gZCAmJiAoKG8gPSByIDwgMiAmJiBkIDwgaVsxXSkgPyAoYyA9IDAsIEcudiA9IG4sIEcubiA9IGlbMV0pIDogZCA8IGwgJiYgKG8gPSByIDwgMyB8fCBpWzBdID4gbiB8fCBuID4gbCkgJiYgKGlbNF0gPSByLCBpWzVdID0gbiwgRy5uID0gbCwgYyA9IDApKTsgfSBpZiAobyB8fCByID4gMSkgcmV0dXJuIGE7IHRocm93IHkgPSAhMCwgbjsgfSByZXR1cm4gZnVuY3Rpb24gKG8sIHAsIGwpIHsgaWYgKGYgPiAxKSB0aHJvdyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpOyBmb3IgKHkgJiYgMSA9PT0gcCAmJiBkKHAsIGwpLCBjID0gcCwgdSA9IGw7ICh0ID0gYyA8IDIgPyBlIDogdSkgfHwgIXk7KSB7IGkgfHwgKGMgPyBjIDwgMyA/IChjID4gMSAmJiAoRy5uID0gLTEpLCBkKGMsIHUpKSA6IEcubiA9IHUgOiBHLnYgPSB1KTsgdHJ5IHsgaWYgKGYgPSAyLCBpKSB7IGlmIChjIHx8IChvID0gXCJuZXh0XCIpLCB0ID0gaVtvXSkgeyBpZiAoISh0ID0gdC5jYWxsKGksIHUpKSkgdGhyb3cgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7IGlmICghdC5kb25lKSByZXR1cm4gdDsgdSA9IHQudmFsdWUsIGMgPCAyICYmIChjID0gMCk7IH0gZWxzZSAxID09PSBjICYmICh0ID0gaS5yZXR1cm4pICYmIHQuY2FsbChpKSwgYyA8IDIgJiYgKHUgPSBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIiArIG8gKyBcIicgbWV0aG9kXCIpLCBjID0gMSk7IGkgPSBlOyB9IGVsc2UgaWYgKCh0ID0gKHkgPSBHLm4gPCAwKSA/IHUgOiByLmNhbGwobiwgRykpICE9PSBhKSBicmVhazsgfSBjYXRjaCAodCkgeyBpID0gZSwgYyA9IDEsIHUgPSB0OyB9IGZpbmFsbHkgeyBmID0gMTsgfSB9IHJldHVybiB7IHZhbHVlOiB0LCBkb25lOiB5IH07IH07IH0ociwgbywgaSksICEwKSwgdTsgfSB2YXIgYSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjsgdmFyIGMgPSBbXVtuXSA/IHQodChbXVtuXSgpKSkgOiAoX3JlZ2VuZXJhdG9yRGVmaW5lMih0ID0ge30sIG4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCB0KSwgdSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGMpOyBmdW5jdGlvbiBmKGUpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihlLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAoZS5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCBvLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSwgZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHUpLCBlOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbiksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiLCBfcmVnZW5lcmF0b3JEZWZpbmUyKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIG8sIFwiR2VuZXJhdG9yXCIpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIG4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjsgfSksIChfcmVnZW5lcmF0b3IgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3IoKSB7IHJldHVybiB7IHc6IGksIG06IGYgfTsgfSkoKTsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBuLCB0KSB7IHZhciBpID0gT2JqZWN0LmRlZmluZVByb3BlcnR5OyB0cnkgeyBpKHt9LCBcIlwiLCB7fSk7IH0gY2F0Y2ggKGUpIHsgaSA9IDA7IH0gX3JlZ2VuZXJhdG9yRGVmaW5lMiA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvckRlZmluZShlLCByLCBuLCB0KSB7IGZ1bmN0aW9uIG8ociwgbikgeyBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiB0aGlzLl9pbnZva2UociwgbiwgZSk7IH0pOyB9IHIgPyBpID8gaShlLCByLCB7IHZhbHVlOiBuLCBlbnVtZXJhYmxlOiAhdCwgY29uZmlndXJhYmxlOiAhdCwgd3JpdGFibGU6ICF0IH0pIDogZVtyXSA9IG4gOiAobyhcIm5leHRcIiwgMCksIG8oXCJ0aHJvd1wiLCAxKSwgbyhcInJldHVyblwiLCAyKSk7IH0sIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgbiwgdCk7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbnZhciBiYXNpY05vZGVTaWduZXIgPSBleHBvcnRzLmJhc2ljTm9kZVNpZ25lciA9IGZ1bmN0aW9uIGJhc2ljTm9kZVNpZ25lcihrZXlwYWlyLCBuZXR3b3JrUGFzc3BocmFzZSkge1xuICByZXR1cm4ge1xuICAgIHNpZ25UcmFuc2FjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zaWduVHJhbnNhY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUoeGRyLCBvcHRzKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHQgPSBfc3RlbGxhckJhc2UuVHJhbnNhY3Rpb25CdWlsZGVyLmZyb21YRFIoeGRyLCAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLm5ldHdvcmtQYXNzcGhyYXNlKSB8fCBuZXR3b3JrUGFzc3BocmFzZSk7XG4gICAgICAgICAgICAgIHQuc2lnbihrZXlwYWlyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMiwge1xuICAgICAgICAgICAgICAgIHNpZ25lZFR4WGRyOiB0LnRvWERSKCksXG4gICAgICAgICAgICAgICAgc2lnbmVyQWRkcmVzczoga2V5cGFpci5wdWJsaWNLZXkoKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gc2lnblRyYW5zYWN0aW9uKF94LCBfeDIpIHtcbiAgICAgICAgcmV0dXJuIF9zaWduVHJhbnNhY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaWduVHJhbnNhY3Rpb247XG4gICAgfSgpLFxuICAgIHNpZ25BdXRoRW50cnk6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2lnbkF1dGhFbnRyeSA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTIoYXV0aEVudHJ5KSB7XG4gICAgICAgIHZhciBzaWduZWRBdXRoRW50cnk7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBzaWduZWRBdXRoRW50cnkgPSBrZXlwYWlyLnNpZ24oKDAsIF9zdGVsbGFyQmFzZS5oYXNoKShCdWZmZXIuZnJvbShhdXRoRW50cnksIFwiYmFzZTY0XCIpKSkudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyLCB7XG4gICAgICAgICAgICAgICAgc2lnbmVkQXV0aEVudHJ5OiBzaWduZWRBdXRoRW50cnksXG4gICAgICAgICAgICAgICAgc2lnbmVyQWRkcmVzczoga2V5cGFpci5wdWJsaWNLZXkoKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIHNpZ25BdXRoRW50cnkoX3gzKSB7XG4gICAgICAgIHJldHVybiBfc2lnbkF1dGhFbnRyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNpZ25BdXRoRW50cnk7XG4gICAgfSgpXG4gIH07XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/basic_node_signer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/client.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/client.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Client = void 0;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _spec = __webpack_require__(/*! ./spec */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/spec.js\");\nvar _rpc = __webpack_require__(/*! ../rpc */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/index.js\");\nvar _assembled_transaction = __webpack_require__(/*! ./assembled_transaction */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/assembled_transaction.js\");\nvar _excluded = [\"method\"],\n  _excluded2 = [\"wasmHash\", \"salt\", \"format\", \"fee\", \"timeoutInSeconds\", \"simulate\"];\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nvar CONSTRUCTOR_FUNC = \"__constructor\";\nfunction specFromWasmHash(_x, _x2) {\n  return _specFromWasmHash.apply(this, arguments);\n}\nfunction _specFromWasmHash() {\n  _specFromWasmHash = _asyncToGenerator(_regenerator().m(function _callee5(wasmHash, options) {\n    var format,\n      rpcUrl,\n      allowHttp,\n      headers,\n      serverOpts,\n      server,\n      wasm,\n      _args5 = arguments;\n    return _regenerator().w(function (_context5) {\n      while (1) switch (_context5.n) {\n        case 0:\n          format = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : \"hex\";\n          if (!(!options || !options.rpcUrl)) {\n            _context5.n = 1;\n            break;\n          }\n          throw new TypeError(\"options must contain rpcUrl\");\n        case 1:\n          rpcUrl = options.rpcUrl, allowHttp = options.allowHttp, headers = options.headers;\n          serverOpts = {\n            allowHttp: allowHttp,\n            headers: headers\n          };\n          server = new _rpc.Server(rpcUrl, serverOpts);\n          _context5.n = 2;\n          return server.getContractWasmByHash(wasmHash, format);\n        case 2:\n          wasm = _context5.v;\n          return _context5.a(2, _spec.Spec.fromWasm(wasm));\n      }\n    }, _callee5);\n  }));\n  return _specFromWasmHash.apply(this, arguments);\n}\nvar Client = exports.Client = function () {\n  function Client(spec, options) {\n    var _this = this;\n    _classCallCheck(this, Client);\n    _defineProperty(this, \"txFromJSON\", function (json) {\n      var _JSON$parse = JSON.parse(json),\n        method = _JSON$parse.method,\n        tx = _objectWithoutProperties(_JSON$parse, _excluded);\n      return _assembled_transaction.AssembledTransaction.fromJSON(_objectSpread(_objectSpread({}, _this.options), {}, {\n        method: method,\n        parseResultXdr: function parseResultXdr(result) {\n          return _this.spec.funcResToNative(method, result);\n        }\n      }), tx);\n    });\n    _defineProperty(this, \"txFromXDR\", function (xdrBase64) {\n      return _assembled_transaction.AssembledTransaction.fromXDR(_this.options, xdrBase64, _this.spec);\n    });\n    this.spec = spec;\n    this.options = options;\n    if (options.server === undefined) {\n      var allowHttp = options.allowHttp,\n        headers = options.headers;\n      options.server = new _rpc.Server(options.rpcUrl, {\n        allowHttp: allowHttp,\n        headers: headers\n      });\n    }\n    this.spec.funcs().forEach(function (xdrFn) {\n      var method = xdrFn.name().toString();\n      if (method === CONSTRUCTOR_FUNC) {\n        return;\n      }\n      var assembleTransaction = function assembleTransaction(args, methodOptions) {\n        return _assembled_transaction.AssembledTransaction.build(_objectSpread(_objectSpread(_objectSpread({\n          method: method,\n          args: args && spec.funcArgsToScVals(method, args)\n        }, options), methodOptions), {}, {\n          errorTypes: spec.errorCases().reduce(function (acc, curr) {\n            return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, curr.value(), {\n              message: curr.doc().toString()\n            }));\n          }, {}),\n          parseResultXdr: function parseResultXdr(result) {\n            return spec.funcResToNative(method, result);\n          }\n        }));\n      };\n      _this[method] = spec.getFunc(method).inputs().length === 0 ? function (opts) {\n        return assembleTransaction(undefined, opts);\n      } : assembleTransaction;\n    });\n  }\n  return _createClass(Client, null, [{\n    key: \"deploy\",\n    value: function () {\n      var _deploy = _asyncToGenerator(_regenerator().m(function _callee(args, options) {\n        var wasmHash, salt, format, fee, timeoutInSeconds, simulate, clientOptions, spec, operation;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              wasmHash = options.wasmHash, salt = options.salt, format = options.format, fee = options.fee, timeoutInSeconds = options.timeoutInSeconds, simulate = options.simulate, clientOptions = _objectWithoutProperties(options, _excluded2);\n              _context.n = 1;\n              return specFromWasmHash(wasmHash, clientOptions, format);\n            case 1:\n              spec = _context.v;\n              operation = _stellarBase.Operation.createCustomContract({\n                address: new _stellarBase.Address(options.address || options.publicKey),\n                wasmHash: typeof wasmHash === \"string\" ? Buffer.from(wasmHash, format !== null && format !== void 0 ? format : \"hex\") : wasmHash,\n                salt: salt,\n                constructorArgs: args ? spec.funcArgsToScVals(CONSTRUCTOR_FUNC, args) : []\n              });\n              return _context.a(2, _assembled_transaction.AssembledTransaction.buildWithOp(operation, _objectSpread(_objectSpread({\n                fee: fee,\n                timeoutInSeconds: timeoutInSeconds,\n                simulate: simulate\n              }, clientOptions), {}, {\n                contractId: \"ignored\",\n                method: CONSTRUCTOR_FUNC,\n                parseResultXdr: function parseResultXdr(result) {\n                  return new Client(spec, _objectSpread(_objectSpread({}, clientOptions), {}, {\n                    contractId: _stellarBase.Address.fromScVal(result).toString()\n                  }));\n                }\n              })));\n          }\n        }, _callee);\n      }));\n      function deploy(_x3, _x4) {\n        return _deploy.apply(this, arguments);\n      }\n      return deploy;\n    }()\n  }, {\n    key: \"fromWasmHash\",\n    value: (function () {\n      var _fromWasmHash = _asyncToGenerator(_regenerator().m(function _callee2(wasmHash, options) {\n        var _options$server;\n        var format,\n          rpcUrl,\n          allowHttp,\n          headers,\n          server,\n          wasm,\n          _args2 = arguments;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              format = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : \"hex\";\n              if (!(!options || !options.rpcUrl)) {\n                _context2.n = 1;\n                break;\n              }\n              throw new TypeError(\"options must contain rpcUrl\");\n            case 1:\n              rpcUrl = options.rpcUrl, allowHttp = options.allowHttp, headers = options.headers;\n              server = (_options$server = options.server) !== null && _options$server !== void 0 ? _options$server : new _rpc.Server(rpcUrl, {\n                allowHttp: allowHttp,\n                headers: headers\n              });\n              _context2.n = 2;\n              return server.getContractWasmByHash(wasmHash, format);\n            case 2:\n              wasm = _context2.v;\n              return _context2.a(2, Client.fromWasm(wasm, options));\n          }\n        }, _callee2);\n      }));\n      function fromWasmHash(_x5, _x6) {\n        return _fromWasmHash.apply(this, arguments);\n      }\n      return fromWasmHash;\n    }())\n  }, {\n    key: \"fromWasm\",\n    value: (function () {\n      var _fromWasm = _asyncToGenerator(_regenerator().m(function _callee3(wasm, options) {\n        var spec;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              _context3.n = 1;\n              return _spec.Spec.fromWasm(wasm);\n            case 1:\n              spec = _context3.v;\n              return _context3.a(2, new Client(spec, options));\n          }\n        }, _callee3);\n      }));\n      function fromWasm(_x7, _x8) {\n        return _fromWasm.apply(this, arguments);\n      }\n      return fromWasm;\n    }())\n  }, {\n    key: \"from\",\n    value: (function () {\n      var _from = _asyncToGenerator(_regenerator().m(function _callee4(options) {\n        var rpcUrl, contractId, allowHttp, headers, server, wasm;\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.n) {\n            case 0:\n              if (!(!options || !options.rpcUrl || !options.contractId)) {\n                _context4.n = 1;\n                break;\n              }\n              throw new TypeError(\"options must contain rpcUrl and contractId\");\n            case 1:\n              rpcUrl = options.rpcUrl, contractId = options.contractId, allowHttp = options.allowHttp, headers = options.headers;\n              server = new _rpc.Server(rpcUrl, {\n                allowHttp: allowHttp,\n                headers: headers\n              });\n              _context4.n = 2;\n              return server.getContractWasmByContractId(contractId);\n            case 2:\n              wasm = _context4.v;\n              return _context4.a(2, Client.fromWasm(wasm, options));\n          }\n        }, _callee4);\n      }));\n      function from(_x9) {\n        return _from.apply(this, arguments);\n      }\n      return from;\n    }())\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9jbGllbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsY0FBYztBQUNkLG1CQUFtQixtQkFBTyxDQUFDLHNGQUF1QjtBQUNsRCxZQUFZLG1CQUFPLENBQUMsNkdBQVE7QUFDNUIsV0FBVyxtQkFBTyxDQUFDLHlHQUFRO0FBQzNCLDZCQUE2QixtQkFBTyxDQUFDLCtJQUF5QjtBQUM5RDtBQUNBO0FBQ0EsMEJBQTBCLHVEQUF1RCx3RUFBd0UseUJBQXlCLCtGQUErRiw4REFBOEQsK0NBQStDLCtEQUErRCw2Q0FBNkMsbUJBQW1CLDBCQUEwQiwrQkFBK0IsT0FBTyxvQ0FBb0MsOE9BQThPLDBCQUEwQixtQkFBbUIsNEJBQTRCLDREQUE0RCw0Q0FBNEMsMEJBQTBCLElBQUksdUVBQXVFLE1BQU0sZ0JBQWdCLG1DQUFtQyw4RUFBOEUsdUJBQXVCLGlDQUFpQyxvSUFBb0ksU0FBUyxnRUFBZ0UsWUFBWSx1QkFBdUIsVUFBVSxXQUFXLFNBQVMseUJBQXlCLHFCQUFxQixZQUFZLHdCQUF3QixnQ0FBZ0MseUNBQXlDLDJCQUEyQiwyREFBMkQsbUJBQW1CLGNBQWMsMEZBQTBGLGdCQUFnQix1TkFBdU4sNmJBQTZiLGNBQWMsb0RBQW9ELDhCQUE4Qiw2Q0FBNkMsU0FBUyxlQUFlO0FBQ3Z1RiwyQ0FBMkMsK0JBQStCLE1BQU0sSUFBSSxRQUFRLEtBQUssWUFBWSxTQUFTLGdFQUFnRSxtQkFBbUIseUNBQXlDLCtCQUErQixLQUFLLGtCQUFrQiwwREFBMEQsK0RBQStEO0FBQ2phLHlCQUF5Qix3QkFBd0Isb0NBQW9DLHlDQUF5QyxrQ0FBa0MsMERBQTBELDBCQUEwQjtBQUNwUCw0QkFBNEIsZ0JBQWdCLHNCQUFzQixPQUFPLGtEQUFrRCxzREFBc0QsOEJBQThCLG1KQUFtSixxRUFBcUUsS0FBSztBQUM1YSwwQ0FBMEMsMEJBQTBCLG1EQUFtRCxvQ0FBb0MseUNBQXlDLFlBQVksY0FBYyx3Q0FBd0MscURBQXFEO0FBQzNULCtDQUErQywwQkFBMEIsWUFBWSx1QkFBdUIsOEJBQThCLG1DQUFtQyxlQUFlO0FBQzVMLGlDQUFpQztBQUNqQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyxvQ0FBb0Msb0VBQW9FLDBEQUEwRDtBQUNsSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USxtREFBbUQsTUFBTSxnQ0FBZ0MsWUFBWSxvQkFBb0I7QUFDekgsZ0NBQWdDLHFCQUFxQiw2QkFBNkIscUNBQXFDLHVCQUF1QixvQkFBb0IseURBQXlELHFCQUFxQiwwREFBMEQsZ0JBQWdCO0FBQzFUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWEsY0FBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRyxvQkFBb0I7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOEJBQThCO0FBQ3ZDO0FBQ0EsaURBQWlELFVBQVUsb0JBQW9CO0FBQy9FO0FBQ0EsYUFBYTtBQUNiLFdBQVcsSUFBSTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLG9CQUFvQjtBQUM1RjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLGVBQWU7QUFDZjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9jbGllbnQuanM/NDJhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQ2xpZW50ID0gdm9pZCAwO1xudmFyIF9zdGVsbGFyQmFzZSA9IHJlcXVpcmUoXCJAc3RlbGxhci9zdGVsbGFyLWJhc2VcIik7XG52YXIgX3NwZWMgPSByZXF1aXJlKFwiLi9zcGVjXCIpO1xudmFyIF9ycGMgPSByZXF1aXJlKFwiLi4vcnBjXCIpO1xudmFyIF9hc3NlbWJsZWRfdHJhbnNhY3Rpb24gPSByZXF1aXJlKFwiLi9hc3NlbWJsZWRfdHJhbnNhY3Rpb25cIik7XG52YXIgX2V4Y2x1ZGVkID0gW1wibWV0aG9kXCJdLFxuICBfZXhjbHVkZWQyID0gW1wid2FzbUhhc2hcIiwgXCJzYWx0XCIsIFwiZm9ybWF0XCIsIFwiZmVlXCIsIFwidGltZW91dEluU2Vjb25kc1wiLCBcInNpbXVsYXRlXCJdO1xuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyB2YXIgZSwgdCwgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIG4gPSByLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBvID0gci50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjsgZnVuY3Rpb24gaShyLCBuLCBvLCBpKSB7IHZhciBjID0gbiAmJiBuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG4gOiBHZW5lcmF0b3IsIHUgPSBPYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKTsgcmV0dXJuIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJfaW52b2tlXCIsIGZ1bmN0aW9uIChyLCBuLCBvKSB7IHZhciBpLCBjLCB1LCBmID0gMCwgcCA9IG8gfHwgW10sIHkgPSAhMSwgRyA9IHsgcDogMCwgbjogMCwgdjogZSwgYTogZCwgZjogZC5iaW5kKGUsIDQpLCBkOiBmdW5jdGlvbiBkKHQsIHIpIHsgcmV0dXJuIGkgPSB0LCBjID0gMCwgdSA9IGUsIEcubiA9IHIsIGE7IH0gfTsgZnVuY3Rpb24gZChyLCBuKSB7IGZvciAoYyA9IHIsIHUgPSBuLCB0ID0gMDsgIXkgJiYgZiAmJiAhbyAmJiB0IDwgcC5sZW5ndGg7IHQrKykgeyB2YXIgbywgaSA9IHBbdF0sIGQgPSBHLnAsIGwgPSBpWzJdOyByID4gMyA/IChvID0gbCA9PT0gbikgJiYgKHUgPSBpWyhjID0gaVs0XSkgPyA1IDogKGMgPSAzLCAzKV0sIGlbNF0gPSBpWzVdID0gZSkgOiBpWzBdIDw9IGQgJiYgKChvID0gciA8IDIgJiYgZCA8IGlbMV0pID8gKGMgPSAwLCBHLnYgPSBuLCBHLm4gPSBpWzFdKSA6IGQgPCBsICYmIChvID0gciA8IDMgfHwgaVswXSA+IG4gfHwgbiA+IGwpICYmIChpWzRdID0gciwgaVs1XSA9IG4sIEcubiA9IGwsIGMgPSAwKSk7IH0gaWYgKG8gfHwgciA+IDEpIHJldHVybiBhOyB0aHJvdyB5ID0gITAsIG47IH0gcmV0dXJuIGZ1bmN0aW9uIChvLCBwLCBsKSB7IGlmIChmID4gMSkgdGhyb3cgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgZm9yICh5ICYmIDEgPT09IHAgJiYgZChwLCBsKSwgYyA9IHAsIHUgPSBsOyAodCA9IGMgPCAyID8gZSA6IHUpIHx8ICF5OykgeyBpIHx8IChjID8gYyA8IDMgPyAoYyA+IDEgJiYgKEcubiA9IC0xKSwgZChjLCB1KSkgOiBHLm4gPSB1IDogRy52ID0gdSk7IHRyeSB7IGlmIChmID0gMiwgaSkgeyBpZiAoYyB8fCAobyA9IFwibmV4dFwiKSwgdCA9IGlbb10pIHsgaWYgKCEodCA9IHQuY2FsbChpLCB1KSkpIHRocm93IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpOyBpZiAoIXQuZG9uZSkgcmV0dXJuIHQ7IHUgPSB0LnZhbHVlLCBjIDwgMiAmJiAoYyA9IDApOyB9IGVsc2UgMSA9PT0gYyAmJiAodCA9IGkucmV0dXJuKSAmJiB0LmNhbGwoaSksIGMgPCAyICYmICh1ID0gVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBvICsgXCInIG1ldGhvZFwiKSwgYyA9IDEpOyBpID0gZTsgfSBlbHNlIGlmICgodCA9ICh5ID0gRy5uIDwgMCkgPyB1IDogci5jYWxsKG4sIEcpKSAhPT0gYSkgYnJlYWs7IH0gY2F0Y2ggKHQpIHsgaSA9IGUsIGMgPSAxLCB1ID0gdDsgfSBmaW5hbGx5IHsgZiA9IDE7IH0gfSByZXR1cm4geyB2YWx1ZTogdCwgZG9uZTogeSB9OyB9OyB9KHIsIG8sIGkpLCAhMCksIHU7IH0gdmFyIGEgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7IHZhciBjID0gW11bbl0gPyB0KHQoW11bbl0oKSkpIDogKF9yZWdlbmVyYXRvckRlZmluZTIodCA9IHt9LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgdCksIHUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjKTsgZnVuY3Rpb24gZihlKSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGUuX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh1KSwgZTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSksIF9yZWdlbmVyYXRvckRlZmluZTIoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiwgX3JlZ2VuZXJhdG9yRGVmaW5lMihHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBvLCBcIkdlbmVyYXRvclwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCAoX3JlZ2VuZXJhdG9yID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyByZXR1cm4geyB3OiBpLCBtOiBmIH07IH0pKCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgbiwgdCkgeyB2YXIgaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsgdHJ5IHsgaSh7fSwgXCJcIiwge30pOyB9IGNhdGNoIChlKSB7IGkgPSAwOyB9IF9yZWdlbmVyYXRvckRlZmluZTIgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JEZWZpbmUoZSwgciwgbiwgdCkgeyBmdW5jdGlvbiBvKHIsIG4pIHsgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcy5faW52b2tlKHIsIG4sIGUpOyB9KTsgfSByID8gaSA/IGkoZSwgciwgeyB2YWx1ZTogbiwgZW51bWVyYWJsZTogIXQsIGNvbmZpZ3VyYWJsZTogIXQsIHdyaXRhYmxlOiAhdCB9KSA6IGVbcl0gPSBuIDogKG8oXCJuZXh0XCIsIDApLCBvKFwidGhyb3dcIiwgMSksIG8oXCJyZXR1cm5cIiwgMikpOyB9LCBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIG4sIHQpOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhlLCB0KSB7IGlmIChudWxsID09IGUpIHJldHVybiB7fTsgdmFyIG8sIHIsIGkgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShlLCB0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyBmb3IgKHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgbyA9IG5bcl0sIC0xID09PSB0LmluZGV4T2YobykgJiYge30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLCBvKSAmJiAoaVtvXSA9IGVbb10pOyB9IHJldHVybiBpOyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShyLCBlKSB7IGlmIChudWxsID09IHIpIHJldHVybiB7fTsgdmFyIHQgPSB7fTsgZm9yICh2YXIgbiBpbiByKSBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChyLCBuKSkgeyBpZiAoLTEgIT09IGUuaW5kZXhPZihuKSkgY29udGludWU7IHRbbl0gPSByW25dOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbnZhciBDT05TVFJVQ1RPUl9GVU5DID0gXCJfX2NvbnN0cnVjdG9yXCI7XG5mdW5jdGlvbiBzcGVjRnJvbVdhc21IYXNoKF94LCBfeDIpIHtcbiAgcmV0dXJuIF9zcGVjRnJvbVdhc21IYXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5mdW5jdGlvbiBfc3BlY0Zyb21XYXNtSGFzaCgpIHtcbiAgX3NwZWNGcm9tV2FzbUhhc2ggPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWU1KHdhc21IYXNoLCBvcHRpb25zKSB7XG4gICAgdmFyIGZvcm1hdCxcbiAgICAgIHJwY1VybCxcbiAgICAgIGFsbG93SHR0cCxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBzZXJ2ZXJPcHRzLFxuICAgICAgc2VydmVyLFxuICAgICAgd2FzbSxcbiAgICAgIF9hcmdzNSA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQ1KSB7XG4gICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUubikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgZm9ybWF0ID0gX2FyZ3M1Lmxlbmd0aCA+IDIgJiYgX2FyZ3M1WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczVbMl0gOiBcImhleFwiO1xuICAgICAgICAgIGlmICghKCFvcHRpb25zIHx8ICFvcHRpb25zLnJwY1VybCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0NS5uID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9ucyBtdXN0IGNvbnRhaW4gcnBjVXJsXCIpO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcnBjVXJsID0gb3B0aW9ucy5ycGNVcmwsIGFsbG93SHR0cCA9IG9wdGlvbnMuYWxsb3dIdHRwLCBoZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICAgICAgICAgIHNlcnZlck9wdHMgPSB7XG4gICAgICAgICAgICBhbGxvd0h0dHA6IGFsbG93SHR0cCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNlcnZlciA9IG5ldyBfcnBjLlNlcnZlcihycGNVcmwsIHNlcnZlck9wdHMpO1xuICAgICAgICAgIF9jb250ZXh0NS5uID0gMjtcbiAgICAgICAgICByZXR1cm4gc2VydmVyLmdldENvbnRyYWN0V2FzbUJ5SGFzaCh3YXNtSGFzaCwgZm9ybWF0KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHdhc20gPSBfY29udGV4dDUudjtcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmEoMiwgX3NwZWMuU3BlYy5mcm9tV2FzbSh3YXNtKSk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTUpO1xuICB9KSk7XG4gIHJldHVybiBfc3BlY0Zyb21XYXNtSGFzaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxudmFyIENsaWVudCA9IGV4cG9ydHMuQ2xpZW50ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDbGllbnQoc3BlYywgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaWVudCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidHhGcm9tSlNPTlwiLCBmdW5jdGlvbiAoanNvbikge1xuICAgICAgdmFyIF9KU09OJHBhcnNlID0gSlNPTi5wYXJzZShqc29uKSxcbiAgICAgICAgbWV0aG9kID0gX0pTT04kcGFyc2UubWV0aG9kLFxuICAgICAgICB0eCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfSlNPTiRwYXJzZSwgX2V4Y2x1ZGVkKTtcbiAgICAgIHJldHVybiBfYXNzZW1ibGVkX3RyYW5zYWN0aW9uLkFzc2VtYmxlZFRyYW5zYWN0aW9uLmZyb21KU09OKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMub3B0aW9ucyksIHt9LCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBwYXJzZVJlc3VsdFhkcjogZnVuY3Rpb24gcGFyc2VSZXN1bHRYZHIocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnNwZWMuZnVuY1Jlc1RvTmF0aXZlKG1ldGhvZCwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSksIHR4KTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0eEZyb21YRFJcIiwgZnVuY3Rpb24gKHhkckJhc2U2NCkge1xuICAgICAgcmV0dXJuIF9hc3NlbWJsZWRfdHJhbnNhY3Rpb24uQXNzZW1ibGVkVHJhbnNhY3Rpb24uZnJvbVhEUihfdGhpcy5vcHRpb25zLCB4ZHJCYXNlNjQsIF90aGlzLnNwZWMpO1xuICAgIH0pO1xuICAgIHRoaXMuc3BlYyA9IHNwZWM7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAob3B0aW9ucy5zZXJ2ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGFsbG93SHR0cCA9IG9wdGlvbnMuYWxsb3dIdHRwLFxuICAgICAgICBoZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICAgICAgb3B0aW9ucy5zZXJ2ZXIgPSBuZXcgX3JwYy5TZXJ2ZXIob3B0aW9ucy5ycGNVcmwsIHtcbiAgICAgICAgYWxsb3dIdHRwOiBhbGxvd0h0dHAsXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnNwZWMuZnVuY3MoKS5mb3JFYWNoKGZ1bmN0aW9uICh4ZHJGbikge1xuICAgICAgdmFyIG1ldGhvZCA9IHhkckZuLm5hbWUoKS50b1N0cmluZygpO1xuICAgICAgaWYgKG1ldGhvZCA9PT0gQ09OU1RSVUNUT1JfRlVOQykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgYXNzZW1ibGVUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIGFzc2VtYmxlVHJhbnNhY3Rpb24oYXJncywgbWV0aG9kT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2Fzc2VtYmxlZF90cmFuc2FjdGlvbi5Bc3NlbWJsZWRUcmFuc2FjdGlvbi5idWlsZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgYXJnczogYXJncyAmJiBzcGVjLmZ1bmNBcmdzVG9TY1ZhbHMobWV0aG9kLCBhcmdzKVxuICAgICAgICB9LCBvcHRpb25zKSwgbWV0aG9kT3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgZXJyb3JUeXBlczogc3BlYy5lcnJvckNhc2VzKCkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cnIpIHtcbiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFjYyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGN1cnIudmFsdWUoKSwge1xuICAgICAgICAgICAgICBtZXNzYWdlOiBjdXJyLmRvYygpLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgcGFyc2VSZXN1bHRYZHI6IGZ1bmN0aW9uIHBhcnNlUmVzdWx0WGRyKHJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIHNwZWMuZnVuY1Jlc1RvTmF0aXZlKG1ldGhvZCwgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgICBfdGhpc1ttZXRob2RdID0gc3BlYy5nZXRGdW5jKG1ldGhvZCkuaW5wdXRzKCkubGVuZ3RoID09PSAwID8gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGFzc2VtYmxlVHJhbnNhY3Rpb24odW5kZWZpbmVkLCBvcHRzKTtcbiAgICAgIH0gOiBhc3NlbWJsZVRyYW5zYWN0aW9uO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoQ2xpZW50LCBudWxsLCBbe1xuICAgIGtleTogXCJkZXBsb3lcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZXBsb3kgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUoYXJncywgb3B0aW9ucykge1xuICAgICAgICB2YXIgd2FzbUhhc2gsIHNhbHQsIGZvcm1hdCwgZmVlLCB0aW1lb3V0SW5TZWNvbmRzLCBzaW11bGF0ZSwgY2xpZW50T3B0aW9ucywgc3BlYywgb3BlcmF0aW9uO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHdhc21IYXNoID0gb3B0aW9ucy53YXNtSGFzaCwgc2FsdCA9IG9wdGlvbnMuc2FsdCwgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQsIGZlZSA9IG9wdGlvbnMuZmVlLCB0aW1lb3V0SW5TZWNvbmRzID0gb3B0aW9ucy50aW1lb3V0SW5TZWNvbmRzLCBzaW11bGF0ZSA9IG9wdGlvbnMuc2ltdWxhdGUsIGNsaWVudE9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob3B0aW9ucywgX2V4Y2x1ZGVkMik7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAxO1xuICAgICAgICAgICAgICByZXR1cm4gc3BlY0Zyb21XYXNtSGFzaCh3YXNtSGFzaCwgY2xpZW50T3B0aW9ucywgZm9ybWF0KTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgc3BlYyA9IF9jb250ZXh0LnY7XG4gICAgICAgICAgICAgIG9wZXJhdGlvbiA9IF9zdGVsbGFyQmFzZS5PcGVyYXRpb24uY3JlYXRlQ3VzdG9tQ29udHJhY3Qoe1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IG5ldyBfc3RlbGxhckJhc2UuQWRkcmVzcyhvcHRpb25zLmFkZHJlc3MgfHwgb3B0aW9ucy5wdWJsaWNLZXkpLFxuICAgICAgICAgICAgICAgIHdhc21IYXNoOiB0eXBlb2Ygd2FzbUhhc2ggPT09IFwic3RyaW5nXCIgPyBCdWZmZXIuZnJvbSh3YXNtSGFzaCwgZm9ybWF0ICE9PSBudWxsICYmIGZvcm1hdCAhPT0gdm9pZCAwID8gZm9ybWF0IDogXCJoZXhcIikgOiB3YXNtSGFzaCxcbiAgICAgICAgICAgICAgICBzYWx0OiBzYWx0LFxuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yQXJnczogYXJncyA/IHNwZWMuZnVuY0FyZ3NUb1NjVmFscyhDT05TVFJVQ1RPUl9GVU5DLCBhcmdzKSA6IFtdXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCBfYXNzZW1ibGVkX3RyYW5zYWN0aW9uLkFzc2VtYmxlZFRyYW5zYWN0aW9uLmJ1aWxkV2l0aE9wKG9wZXJhdGlvbiwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICBmZWU6IGZlZSxcbiAgICAgICAgICAgICAgICB0aW1lb3V0SW5TZWNvbmRzOiB0aW1lb3V0SW5TZWNvbmRzLFxuICAgICAgICAgICAgICAgIHNpbXVsYXRlOiBzaW11bGF0ZVxuICAgICAgICAgICAgICB9LCBjbGllbnRPcHRpb25zKSwge30sIHtcbiAgICAgICAgICAgICAgICBjb250cmFjdElkOiBcImlnbm9yZWRcIixcbiAgICAgICAgICAgICAgICBtZXRob2Q6IENPTlNUUlVDVE9SX0ZVTkMsXG4gICAgICAgICAgICAgICAgcGFyc2VSZXN1bHRYZHI6IGZ1bmN0aW9uIHBhcnNlUmVzdWx0WGRyKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDbGllbnQoc3BlYywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjbGllbnRPcHRpb25zKSwge30sIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RJZDogX3N0ZWxsYXJCYXNlLkFkZHJlc3MuZnJvbVNjVmFsKHJlc3VsdCkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZGVwbG95KF94MywgX3g0KSB7XG4gICAgICAgIHJldHVybiBfZGVwbG95LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVwbG95O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImZyb21XYXNtSGFzaFwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9mcm9tV2FzbUhhc2ggPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUyKHdhc21IYXNoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfb3B0aW9ucyRzZXJ2ZXI7XG4gICAgICAgIHZhciBmb3JtYXQsXG4gICAgICAgICAgcnBjVXJsLFxuICAgICAgICAgIGFsbG93SHR0cCxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIHNlcnZlcixcbiAgICAgICAgICB3YXNtLFxuICAgICAgICAgIF9hcmdzMiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGZvcm1hdCA9IF9hcmdzMi5sZW5ndGggPiAyICYmIF9hcmdzMlsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzJdIDogXCJoZXhcIjtcbiAgICAgICAgICAgICAgaWYgKCEoIW9wdGlvbnMgfHwgIW9wdGlvbnMucnBjVXJsKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9ucyBtdXN0IGNvbnRhaW4gcnBjVXJsXCIpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBycGNVcmwgPSBvcHRpb25zLnJwY1VybCwgYWxsb3dIdHRwID0gb3B0aW9ucy5hbGxvd0h0dHAsIGhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gICAgICAgICAgICAgIHNlcnZlciA9IChfb3B0aW9ucyRzZXJ2ZXIgPSBvcHRpb25zLnNlcnZlcikgIT09IG51bGwgJiYgX29wdGlvbnMkc2VydmVyICE9PSB2b2lkIDAgPyBfb3B0aW9ucyRzZXJ2ZXIgOiBuZXcgX3JwYy5TZXJ2ZXIocnBjVXJsLCB7XG4gICAgICAgICAgICAgICAgYWxsb3dIdHRwOiBhbGxvd0h0dHAsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSAyO1xuICAgICAgICAgICAgICByZXR1cm4gc2VydmVyLmdldENvbnRyYWN0V2FzbUJ5SGFzaCh3YXNtSGFzaCwgZm9ybWF0KTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgd2FzbSA9IF9jb250ZXh0Mi52O1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmEoMiwgQ2xpZW50LmZyb21XYXNtKHdhc20sIG9wdGlvbnMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIGZyb21XYXNtSGFzaChfeDUsIF94Nikge1xuICAgICAgICByZXR1cm4gX2Zyb21XYXNtSGFzaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21XYXNtSGFzaDtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbVdhc21cIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZnJvbVdhc20gPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUzKHdhc20sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNwZWM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDMubiA9IDE7XG4gICAgICAgICAgICAgIHJldHVybiBfc3BlYy5TcGVjLmZyb21XYXNtKHdhc20pO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBzcGVjID0gX2NvbnRleHQzLnY7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYSgyLCBuZXcgQ2xpZW50KHNwZWMsIG9wdGlvbnMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIGZyb21XYXNtKF94NywgX3g4KSB7XG4gICAgICAgIHJldHVybiBfZnJvbVdhc20uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tV2FzbTtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbVwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9mcm9tID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlNChvcHRpb25zKSB7XG4gICAgICAgIHZhciBycGNVcmwsIGNvbnRyYWN0SWQsIGFsbG93SHR0cCwgaGVhZGVycywgc2VydmVyLCB3YXNtO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgaWYgKCEoIW9wdGlvbnMgfHwgIW9wdGlvbnMucnBjVXJsIHx8ICFvcHRpb25zLmNvbnRyYWN0SWQpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb25zIG11c3QgY29udGFpbiBycGNVcmwgYW5kIGNvbnRyYWN0SWRcIik7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJwY1VybCA9IG9wdGlvbnMucnBjVXJsLCBjb250cmFjdElkID0gb3B0aW9ucy5jb250cmFjdElkLCBhbGxvd0h0dHAgPSBvcHRpb25zLmFsbG93SHR0cCwgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICAgICAgICAgICAgc2VydmVyID0gbmV3IF9ycGMuU2VydmVyKHJwY1VybCwge1xuICAgICAgICAgICAgICAgIGFsbG93SHR0cDogYWxsb3dIdHRwLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5uID0gMjtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlcnZlci5nZXRDb250cmFjdFdhc21CeUNvbnRyYWN0SWQoY29udHJhY3RJZCk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHdhc20gPSBfY29udGV4dDQudjtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hKDIsIENsaWVudC5mcm9tV2FzbSh3YXNtLCBvcHRpb25zKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNCk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBmcm9tKF94OSkge1xuICAgICAgICByZXR1cm4gX2Zyb20uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tO1xuICAgIH0oKSlcbiAgfV0pO1xufSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/client.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/errors.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/errors.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.UserRejectedError = exports.SimulationFailedError = exports.RestoreFailureError = exports.NotYetSimulatedError = exports.NoUnsignedNonInvokerAuthEntriesError = exports.NoSignerError = exports.NoSignatureNeededError = exports.NeedsMoreSignaturesError = exports.InvalidClientRequestError = exports.InternalWalletError = exports.FakeAccountError = exports.ExternalServiceError = exports.ExpiredStateError = void 0;\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _wrapNativeSuper(t) { var r = \"function\" == typeof Map ? new Map() : void 0; return _wrapNativeSuper = function _wrapNativeSuper(t) { if (null === t || !_isNativeFunction(t)) return t; if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\"); if (void 0 !== r) { if (r.has(t)) return r.get(t); r.set(t, Wrapper); } function Wrapper() { return _construct(t, arguments, _getPrototypeOf(this).constructor); } return Wrapper.prototype = Object.create(t.prototype, { constructor: { value: Wrapper, enumerable: !1, writable: !0, configurable: !0 } }), _setPrototypeOf(Wrapper, t); }, _wrapNativeSuper(t); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(t) { try { return -1 !== Function.toString.call(t).indexOf(\"[native code]\"); } catch (n) { return \"function\" == typeof t; } }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nvar ExpiredStateError = exports.ExpiredStateError = function (_Error) {\n  function ExpiredStateError() {\n    _classCallCheck(this, ExpiredStateError);\n    return _callSuper(this, ExpiredStateError, arguments);\n  }\n  _inherits(ExpiredStateError, _Error);\n  return _createClass(ExpiredStateError);\n}(_wrapNativeSuper(Error));\nvar RestoreFailureError = exports.RestoreFailureError = function (_Error2) {\n  function RestoreFailureError() {\n    _classCallCheck(this, RestoreFailureError);\n    return _callSuper(this, RestoreFailureError, arguments);\n  }\n  _inherits(RestoreFailureError, _Error2);\n  return _createClass(RestoreFailureError);\n}(_wrapNativeSuper(Error));\nvar NeedsMoreSignaturesError = exports.NeedsMoreSignaturesError = function (_Error3) {\n  function NeedsMoreSignaturesError() {\n    _classCallCheck(this, NeedsMoreSignaturesError);\n    return _callSuper(this, NeedsMoreSignaturesError, arguments);\n  }\n  _inherits(NeedsMoreSignaturesError, _Error3);\n  return _createClass(NeedsMoreSignaturesError);\n}(_wrapNativeSuper(Error));\nvar NoSignatureNeededError = exports.NoSignatureNeededError = function (_Error4) {\n  function NoSignatureNeededError() {\n    _classCallCheck(this, NoSignatureNeededError);\n    return _callSuper(this, NoSignatureNeededError, arguments);\n  }\n  _inherits(NoSignatureNeededError, _Error4);\n  return _createClass(NoSignatureNeededError);\n}(_wrapNativeSuper(Error));\nvar NoUnsignedNonInvokerAuthEntriesError = exports.NoUnsignedNonInvokerAuthEntriesError = function (_Error5) {\n  function NoUnsignedNonInvokerAuthEntriesError() {\n    _classCallCheck(this, NoUnsignedNonInvokerAuthEntriesError);\n    return _callSuper(this, NoUnsignedNonInvokerAuthEntriesError, arguments);\n  }\n  _inherits(NoUnsignedNonInvokerAuthEntriesError, _Error5);\n  return _createClass(NoUnsignedNonInvokerAuthEntriesError);\n}(_wrapNativeSuper(Error));\nvar NoSignerError = exports.NoSignerError = function (_Error6) {\n  function NoSignerError() {\n    _classCallCheck(this, NoSignerError);\n    return _callSuper(this, NoSignerError, arguments);\n  }\n  _inherits(NoSignerError, _Error6);\n  return _createClass(NoSignerError);\n}(_wrapNativeSuper(Error));\nvar NotYetSimulatedError = exports.NotYetSimulatedError = function (_Error7) {\n  function NotYetSimulatedError() {\n    _classCallCheck(this, NotYetSimulatedError);\n    return _callSuper(this, NotYetSimulatedError, arguments);\n  }\n  _inherits(NotYetSimulatedError, _Error7);\n  return _createClass(NotYetSimulatedError);\n}(_wrapNativeSuper(Error));\nvar FakeAccountError = exports.FakeAccountError = function (_Error8) {\n  function FakeAccountError() {\n    _classCallCheck(this, FakeAccountError);\n    return _callSuper(this, FakeAccountError, arguments);\n  }\n  _inherits(FakeAccountError, _Error8);\n  return _createClass(FakeAccountError);\n}(_wrapNativeSuper(Error));\nvar SimulationFailedError = exports.SimulationFailedError = function (_Error9) {\n  function SimulationFailedError() {\n    _classCallCheck(this, SimulationFailedError);\n    return _callSuper(this, SimulationFailedError, arguments);\n  }\n  _inherits(SimulationFailedError, _Error9);\n  return _createClass(SimulationFailedError);\n}(_wrapNativeSuper(Error));\nvar InternalWalletError = exports.InternalWalletError = function (_Error0) {\n  function InternalWalletError() {\n    _classCallCheck(this, InternalWalletError);\n    return _callSuper(this, InternalWalletError, arguments);\n  }\n  _inherits(InternalWalletError, _Error0);\n  return _createClass(InternalWalletError);\n}(_wrapNativeSuper(Error));\nvar ExternalServiceError = exports.ExternalServiceError = function (_Error1) {\n  function ExternalServiceError() {\n    _classCallCheck(this, ExternalServiceError);\n    return _callSuper(this, ExternalServiceError, arguments);\n  }\n  _inherits(ExternalServiceError, _Error1);\n  return _createClass(ExternalServiceError);\n}(_wrapNativeSuper(Error));\nvar InvalidClientRequestError = exports.InvalidClientRequestError = function (_Error10) {\n  function InvalidClientRequestError() {\n    _classCallCheck(this, InvalidClientRequestError);\n    return _callSuper(this, InvalidClientRequestError, arguments);\n  }\n  _inherits(InvalidClientRequestError, _Error10);\n  return _createClass(InvalidClientRequestError);\n}(_wrapNativeSuper(Error));\nvar UserRejectedError = exports.UserRejectedError = function (_Error11) {\n  function UserRejectedError() {\n    _classCallCheck(this, UserRejectedError);\n    return _callSuper(this, UserRejectedError, arguments);\n  }\n  _inherits(UserRejectedError, _Error11);\n  return _createClass(UserRejectedError);\n}(_wrapNativeSuper(Error));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YseUJBQXlCLEdBQUcsNkJBQTZCLEdBQUcsMkJBQTJCLEdBQUcsNEJBQTRCLEdBQUcsNENBQTRDLEdBQUcscUJBQXFCLEdBQUcsOEJBQThCLEdBQUcsZ0NBQWdDLEdBQUcsaUNBQWlDLEdBQUcsMkJBQTJCLEdBQUcsd0JBQXdCLEdBQUcsNEJBQTRCLEdBQUcseUJBQXlCO0FBQ3paLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLGlDQUFpQztBQUNqQywrQkFBK0I7QUFDL0IsNENBQTRDLHVFQUF1RSxtR0FBbUc7QUFDdE4scUNBQXFDLHlHQUF5RztBQUM5SSwyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCwrQkFBK0IsdURBQXVELHlEQUF5RCxtREFBbUQsdUdBQXVHLG9CQUFvQiwrQkFBK0IscUJBQXFCLHFCQUFxQixzRUFBc0Usd0RBQXdELGVBQWUsa0VBQWtFLGlDQUFpQztBQUN0bkIsK0JBQStCLGtGQUFrRixnQkFBZ0Isb0JBQW9CLG9DQUFvQztBQUN6TCx1Q0FBdUMsTUFBTSxxRkFBcUYsTUFBTSxhQUFhLDJFQUEyRSxhQUFhO0FBQzdPLGdDQUFnQyxNQUFNLG9FQUFvRSxZQUFZO0FBQ3RILGlDQUFpQyxrR0FBa0csNEJBQTRCO0FBQy9KLDhCQUE4QiwrRkFBK0YsaURBQWlEO0FBQzlLLHdCQUF3Qix5QkFBeUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDBCQUEwQiwyQkFBMkI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELCtCQUErQixnQ0FBZ0M7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDZCQUE2Qiw4QkFBOEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDJDQUEyQyw0Q0FBNEM7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDJCQUEyQiw0QkFBNEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHVCQUF1Qix3QkFBd0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDRCQUE0Qiw2QkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDBCQUEwQiwyQkFBMkI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDJCQUEyQiw0QkFBNEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGdDQUFnQyxpQ0FBaUM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHdCQUF3Qix5QkFBeUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvY29udHJhY3QvZXJyb3JzLmpzPzlhODIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlVzZXJSZWplY3RlZEVycm9yID0gZXhwb3J0cy5TaW11bGF0aW9uRmFpbGVkRXJyb3IgPSBleHBvcnRzLlJlc3RvcmVGYWlsdXJlRXJyb3IgPSBleHBvcnRzLk5vdFlldFNpbXVsYXRlZEVycm9yID0gZXhwb3J0cy5Ob1Vuc2lnbmVkTm9uSW52b2tlckF1dGhFbnRyaWVzRXJyb3IgPSBleHBvcnRzLk5vU2lnbmVyRXJyb3IgPSBleHBvcnRzLk5vU2lnbmF0dXJlTmVlZGVkRXJyb3IgPSBleHBvcnRzLk5lZWRzTW9yZVNpZ25hdHVyZXNFcnJvciA9IGV4cG9ydHMuSW52YWxpZENsaWVudFJlcXVlc3RFcnJvciA9IGV4cG9ydHMuSW50ZXJuYWxXYWxsZXRFcnJvciA9IGV4cG9ydHMuRmFrZUFjY291bnRFcnJvciA9IGV4cG9ydHMuRXh0ZXJuYWxTZXJ2aWNlRXJyb3IgPSBleHBvcnRzLkV4cGlyZWRTdGF0ZUVycm9yID0gdm9pZCAwO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIodCkgeyB2YXIgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgTWFwID8gbmV3IE1hcCgpIDogdm9pZCAwOyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIodCkgeyBpZiAobnVsbCA9PT0gdCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24odCkpIHJldHVybiB0OyBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiB0KSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IGlmICh2b2lkIDAgIT09IHIpIHsgaWYgKHIuaGFzKHQpKSByZXR1cm4gci5nZXQodCk7IHIuc2V0KHQsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KHQsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfSByZXR1cm4gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBXcmFwcGVyLCBlbnVtZXJhYmxlOiAhMSwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCB0KTsgfSwgX3dyYXBOYXRpdmVTdXBlcih0KTsgfVxuZnVuY3Rpb24gX2NvbnN0cnVjdCh0LCBlLCByKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB2YXIgbyA9IFtudWxsXTsgby5wdXNoLmFwcGx5KG8sIGUpOyB2YXIgcCA9IG5ldyAodC5iaW5kLmFwcGx5KHQsIG8pKSgpOyByZXR1cm4gciAmJiBfc2V0UHJvdG90eXBlT2YocCwgci5wcm90b3R5cGUpLCBwOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyB0cnkgeyB2YXIgdCA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IH0gY2F0Y2ggKHQpIHt9IHJldHVybiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHJldHVybiAhIXQ7IH0pKCk7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKHQpIHsgdHJ5IHsgcmV0dXJuIC0xICE9PSBGdW5jdGlvbi50b1N0cmluZy5jYWxsKHQpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpOyB9IGNhdGNoIChuKSB7IHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQ7IH0gfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZih0KSB7IHJldHVybiBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZih0KTsgfSwgX2dldFByb3RvdHlwZU9mKHQpOyB9XG52YXIgRXhwaXJlZFN0YXRlRXJyb3IgPSBleHBvcnRzLkV4cGlyZWRTdGF0ZUVycm9yID0gZnVuY3Rpb24gKF9FcnJvcikge1xuICBmdW5jdGlvbiBFeHBpcmVkU3RhdGVFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhwaXJlZFN0YXRlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEV4cGlyZWRTdGF0ZUVycm9yLCBhcmd1bWVudHMpO1xuICB9XG4gIF9pbmhlcml0cyhFeHBpcmVkU3RhdGVFcnJvciwgX0Vycm9yKTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhFeHBpcmVkU3RhdGVFcnJvcik7XG59KF93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcbnZhciBSZXN0b3JlRmFpbHVyZUVycm9yID0gZXhwb3J0cy5SZXN0b3JlRmFpbHVyZUVycm9yID0gZnVuY3Rpb24gKF9FcnJvcjIpIHtcbiAgZnVuY3Rpb24gUmVzdG9yZUZhaWx1cmVFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzdG9yZUZhaWx1cmVFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgUmVzdG9yZUZhaWx1cmVFcnJvciwgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoUmVzdG9yZUZhaWx1cmVFcnJvciwgX0Vycm9yMik7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoUmVzdG9yZUZhaWx1cmVFcnJvcik7XG59KF93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcbnZhciBOZWVkc01vcmVTaWduYXR1cmVzRXJyb3IgPSBleHBvcnRzLk5lZWRzTW9yZVNpZ25hdHVyZXNFcnJvciA9IGZ1bmN0aW9uIChfRXJyb3IzKSB7XG4gIGZ1bmN0aW9uIE5lZWRzTW9yZVNpZ25hdHVyZXNFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmVlZHNNb3JlU2lnbmF0dXJlc0Vycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBOZWVkc01vcmVTaWduYXR1cmVzRXJyb3IsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2luaGVyaXRzKE5lZWRzTW9yZVNpZ25hdHVyZXNFcnJvciwgX0Vycm9yMyk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoTmVlZHNNb3JlU2lnbmF0dXJlc0Vycm9yKTtcbn0oX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xudmFyIE5vU2lnbmF0dXJlTmVlZGVkRXJyb3IgPSBleHBvcnRzLk5vU2lnbmF0dXJlTmVlZGVkRXJyb3IgPSBmdW5jdGlvbiAoX0Vycm9yNCkge1xuICBmdW5jdGlvbiBOb1NpZ25hdHVyZU5lZWRlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb1NpZ25hdHVyZU5lZWRlZEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBOb1NpZ25hdHVyZU5lZWRlZEVycm9yLCBhcmd1bWVudHMpO1xuICB9XG4gIF9pbmhlcml0cyhOb1NpZ25hdHVyZU5lZWRlZEVycm9yLCBfRXJyb3I0KTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhOb1NpZ25hdHVyZU5lZWRlZEVycm9yKTtcbn0oX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xudmFyIE5vVW5zaWduZWROb25JbnZva2VyQXV0aEVudHJpZXNFcnJvciA9IGV4cG9ydHMuTm9VbnNpZ25lZE5vbkludm9rZXJBdXRoRW50cmllc0Vycm9yID0gZnVuY3Rpb24gKF9FcnJvcjUpIHtcbiAgZnVuY3Rpb24gTm9VbnNpZ25lZE5vbkludm9rZXJBdXRoRW50cmllc0Vycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb1Vuc2lnbmVkTm9uSW52b2tlckF1dGhFbnRyaWVzRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIE5vVW5zaWduZWROb25JbnZva2VyQXV0aEVudHJpZXNFcnJvciwgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoTm9VbnNpZ25lZE5vbkludm9rZXJBdXRoRW50cmllc0Vycm9yLCBfRXJyb3I1KTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhOb1Vuc2lnbmVkTm9uSW52b2tlckF1dGhFbnRyaWVzRXJyb3IpO1xufShfd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG52YXIgTm9TaWduZXJFcnJvciA9IGV4cG9ydHMuTm9TaWduZXJFcnJvciA9IGZ1bmN0aW9uIChfRXJyb3I2KSB7XG4gIGZ1bmN0aW9uIE5vU2lnbmVyRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vU2lnbmVyRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIE5vU2lnbmVyRXJyb3IsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2luaGVyaXRzKE5vU2lnbmVyRXJyb3IsIF9FcnJvcjYpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKE5vU2lnbmVyRXJyb3IpO1xufShfd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG52YXIgTm90WWV0U2ltdWxhdGVkRXJyb3IgPSBleHBvcnRzLk5vdFlldFNpbXVsYXRlZEVycm9yID0gZnVuY3Rpb24gKF9FcnJvcjcpIHtcbiAgZnVuY3Rpb24gTm90WWV0U2ltdWxhdGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdFlldFNpbXVsYXRlZEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBOb3RZZXRTaW11bGF0ZWRFcnJvciwgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoTm90WWV0U2ltdWxhdGVkRXJyb3IsIF9FcnJvcjcpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKE5vdFlldFNpbXVsYXRlZEVycm9yKTtcbn0oX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xudmFyIEZha2VBY2NvdW50RXJyb3IgPSBleHBvcnRzLkZha2VBY2NvdW50RXJyb3IgPSBmdW5jdGlvbiAoX0Vycm9yOCkge1xuICBmdW5jdGlvbiBGYWtlQWNjb3VudEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGYWtlQWNjb3VudEVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBGYWtlQWNjb3VudEVycm9yLCBhcmd1bWVudHMpO1xuICB9XG4gIF9pbmhlcml0cyhGYWtlQWNjb3VudEVycm9yLCBfRXJyb3I4KTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhGYWtlQWNjb3VudEVycm9yKTtcbn0oX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xudmFyIFNpbXVsYXRpb25GYWlsZWRFcnJvciA9IGV4cG9ydHMuU2ltdWxhdGlvbkZhaWxlZEVycm9yID0gZnVuY3Rpb24gKF9FcnJvcjkpIHtcbiAgZnVuY3Rpb24gU2ltdWxhdGlvbkZhaWxlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaW11bGF0aW9uRmFpbGVkRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIFNpbXVsYXRpb25GYWlsZWRFcnJvciwgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoU2ltdWxhdGlvbkZhaWxlZEVycm9yLCBfRXJyb3I5KTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTaW11bGF0aW9uRmFpbGVkRXJyb3IpO1xufShfd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG52YXIgSW50ZXJuYWxXYWxsZXRFcnJvciA9IGV4cG9ydHMuSW50ZXJuYWxXYWxsZXRFcnJvciA9IGZ1bmN0aW9uIChfRXJyb3IwKSB7XG4gIGZ1bmN0aW9uIEludGVybmFsV2FsbGV0RXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVybmFsV2FsbGV0RXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEludGVybmFsV2FsbGV0RXJyb3IsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2luaGVyaXRzKEludGVybmFsV2FsbGV0RXJyb3IsIF9FcnJvcjApO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEludGVybmFsV2FsbGV0RXJyb3IpO1xufShfd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG52YXIgRXh0ZXJuYWxTZXJ2aWNlRXJyb3IgPSBleHBvcnRzLkV4dGVybmFsU2VydmljZUVycm9yID0gZnVuY3Rpb24gKF9FcnJvcjEpIHtcbiAgZnVuY3Rpb24gRXh0ZXJuYWxTZXJ2aWNlRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4dGVybmFsU2VydmljZUVycm9yKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBFeHRlcm5hbFNlcnZpY2VFcnJvciwgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoRXh0ZXJuYWxTZXJ2aWNlRXJyb3IsIF9FcnJvcjEpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEV4dGVybmFsU2VydmljZUVycm9yKTtcbn0oX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xudmFyIEludmFsaWRDbGllbnRSZXF1ZXN0RXJyb3IgPSBleHBvcnRzLkludmFsaWRDbGllbnRSZXF1ZXN0RXJyb3IgPSBmdW5jdGlvbiAoX0Vycm9yMTApIHtcbiAgZnVuY3Rpb24gSW52YWxpZENsaWVudFJlcXVlc3RFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW52YWxpZENsaWVudFJlcXVlc3RFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgSW52YWxpZENsaWVudFJlcXVlc3RFcnJvciwgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoSW52YWxpZENsaWVudFJlcXVlc3RFcnJvciwgX0Vycm9yMTApO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEludmFsaWRDbGllbnRSZXF1ZXN0RXJyb3IpO1xufShfd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG52YXIgVXNlclJlamVjdGVkRXJyb3IgPSBleHBvcnRzLlVzZXJSZWplY3RlZEVycm9yID0gZnVuY3Rpb24gKF9FcnJvcjExKSB7XG4gIGZ1bmN0aW9uIFVzZXJSZWplY3RlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVc2VyUmVqZWN0ZWRFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgVXNlclJlamVjdGVkRXJyb3IsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2luaGVyaXRzKFVzZXJSZWplY3RlZEVycm9yLCBfRXJyb3IxMSk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoVXNlclJlamVjdGVkRXJyb3IpO1xufShfd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/index.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/index.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _assembled_transaction = __webpack_require__(/*! ./assembled_transaction */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/assembled_transaction.js\");\nObject.keys(_assembled_transaction).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _assembled_transaction[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _assembled_transaction[key];\n    }\n  });\n});\nvar _basic_node_signer = __webpack_require__(/*! ./basic_node_signer */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/basic_node_signer.js\");\nObject.keys(_basic_node_signer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _basic_node_signer[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _basic_node_signer[key];\n    }\n  });\n});\nvar _client = __webpack_require__(/*! ./client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/client.js\");\nObject.keys(_client).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _client[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _client[key];\n    }\n  });\n});\nvar _rust_result = __webpack_require__(/*! ./rust_result */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/rust_result.js\");\nObject.keys(_rust_result).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _rust_result[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _rust_result[key];\n    }\n  });\n});\nvar _sent_transaction = __webpack_require__(/*! ./sent_transaction */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/sent_transaction.js\");\nObject.keys(_sent_transaction).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _sent_transaction[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _sent_transaction[key];\n    }\n  });\n});\nvar _spec = __webpack_require__(/*! ./spec */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/spec.js\");\nObject.keys(_spec).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _spec[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _spec[key];\n    }\n  });\n});\nvar _types = __webpack_require__(/*! ./types */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/types.js\");\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _types[key];\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRiw2QkFBNkIsbUJBQU8sQ0FBQywrSUFBeUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QseUJBQXlCLG1CQUFPLENBQUMsdUlBQXFCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELGNBQWMsbUJBQU8sQ0FBQyxpSEFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxtQkFBbUIsbUJBQU8sQ0FBQywySEFBZTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCx3QkFBd0IsbUJBQU8sQ0FBQyxxSUFBb0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsWUFBWSxtQkFBTyxDQUFDLDZHQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELGFBQWEsbUJBQU8sQ0FBQywrR0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2NvbnRyYWN0L2luZGV4LmpzPzkwMWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgX2Fzc2VtYmxlZF90cmFuc2FjdGlvbiA9IHJlcXVpcmUoXCIuL2Fzc2VtYmxlZF90cmFuc2FjdGlvblwiKTtcbk9iamVjdC5rZXlzKF9hc3NlbWJsZWRfdHJhbnNhY3Rpb24pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9hc3NlbWJsZWRfdHJhbnNhY3Rpb25ba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfYXNzZW1ibGVkX3RyYW5zYWN0aW9uW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xudmFyIF9iYXNpY19ub2RlX3NpZ25lciA9IHJlcXVpcmUoXCIuL2Jhc2ljX25vZGVfc2lnbmVyXCIpO1xuT2JqZWN0LmtleXMoX2Jhc2ljX25vZGVfc2lnbmVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfYmFzaWNfbm9kZV9zaWduZXJba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfYmFzaWNfbm9kZV9zaWduZXJba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgX2NsaWVudCA9IHJlcXVpcmUoXCIuL2NsaWVudFwiKTtcbk9iamVjdC5rZXlzKF9jbGllbnQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9jbGllbnRba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfY2xpZW50W2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xudmFyIF9ydXN0X3Jlc3VsdCA9IHJlcXVpcmUoXCIuL3J1c3RfcmVzdWx0XCIpO1xuT2JqZWN0LmtleXMoX3J1c3RfcmVzdWx0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfcnVzdF9yZXN1bHRba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfcnVzdF9yZXN1bHRba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgX3NlbnRfdHJhbnNhY3Rpb24gPSByZXF1aXJlKFwiLi9zZW50X3RyYW5zYWN0aW9uXCIpO1xuT2JqZWN0LmtleXMoX3NlbnRfdHJhbnNhY3Rpb24pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9zZW50X3RyYW5zYWN0aW9uW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX3NlbnRfdHJhbnNhY3Rpb25ba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgX3NwZWMgPSByZXF1aXJlKFwiLi9zcGVjXCIpO1xuT2JqZWN0LmtleXMoX3NwZWMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9zcGVjW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX3NwZWNba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgX3R5cGVzID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG5PYmplY3Qua2V5cyhfdHlwZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF90eXBlc1trZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF90eXBlc1trZXldO1xuICAgIH1cbiAgfSk7XG59KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/rust_result.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/rust_result.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Ok = exports.Err = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Ok = exports.Ok = function () {\n  function Ok(value) {\n    _classCallCheck(this, Ok);\n    this.value = value;\n  }\n  return _createClass(Ok, [{\n    key: \"unwrapErr\",\n    value: function unwrapErr() {\n      throw new Error(\"No error\");\n    }\n  }, {\n    key: \"unwrap\",\n    value: function unwrap() {\n      return this.value;\n    }\n  }, {\n    key: \"isOk\",\n    value: function isOk() {\n      return true;\n    }\n  }, {\n    key: \"isErr\",\n    value: function isErr() {\n      return false;\n    }\n  }]);\n}();\nvar Err = exports.Err = function () {\n  function Err(error) {\n    _classCallCheck(this, Err);\n    this.error = error;\n  }\n  return _createClass(Err, [{\n    key: \"unwrapErr\",\n    value: function unwrapErr() {\n      return this.error;\n    }\n  }, {\n    key: \"unwrap\",\n    value: function unwrap() {\n      throw new Error(this.error.message);\n    }\n  }, {\n    key: \"isOk\",\n    value: function isOk() {\n      return false;\n    }\n  }, {\n    key: \"isErr\",\n    value: function isErr() {\n      return true;\n    }\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9ydXN0X3Jlc3VsdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixVQUFVLEdBQUcsV0FBVztBQUN4QixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsU0FBUyxVQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9ydXN0X3Jlc3VsdC5qcz9iMzg2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5PayA9IGV4cG9ydHMuRXJyID0gdm9pZCAwO1xuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxudmFyIE9rID0gZXhwb3J0cy5PayA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gT2sodmFsdWUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2spO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKE9rLCBbe1xuICAgIGtleTogXCJ1bndyYXBFcnJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW53cmFwRXJyKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZXJyb3JcIik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVud3JhcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bndyYXAoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNPa1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc09rKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzRXJyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRXJyKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfV0pO1xufSgpO1xudmFyIEVyciA9IGV4cG9ydHMuRXJyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFcnIoZXJyb3IpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXJyKTtcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhFcnIsIFt7XG4gICAga2V5OiBcInVud3JhcEVyclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bndyYXBFcnIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lcnJvcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW53cmFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVud3JhcCgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLmVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc09rXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzT2soKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzRXJyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRXJyKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG59KCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/rust_result.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/sent_transaction.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/sent_transaction.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Watcher = exports.SentTransaction = void 0;\nvar _rpc = __webpack_require__(/*! ../rpc */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/index.js\");\nvar _api = __webpack_require__(/*! ../rpc/api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/utils.js\");\nvar _types = __webpack_require__(/*! ./types */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/types.js\");\nvar _SentTransaction;\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _wrapNativeSuper(t) { var r = \"function\" == typeof Map ? new Map() : void 0; return _wrapNativeSuper = function _wrapNativeSuper(t) { if (null === t || !_isNativeFunction(t)) return t; if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\"); if (void 0 !== r) { if (r.has(t)) return r.get(t); r.set(t, Wrapper); } function Wrapper() { return _construct(t, arguments, _getPrototypeOf(this).constructor); } return Wrapper.prototype = Object.create(t.prototype, { constructor: { value: Wrapper, enumerable: !1, writable: !0, configurable: !0 } }), _setPrototypeOf(Wrapper, t); }, _wrapNativeSuper(t); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(t) { try { return -1 !== Function.toString.call(t).indexOf(\"[native code]\"); } catch (n) { return \"function\" == typeof t; } }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar SentTransaction = exports.SentTransaction = function () {\n  function SentTransaction(assembled) {\n    var _this = this;\n    _classCallCheck(this, SentTransaction);\n    _defineProperty(this, \"send\", function () {\n      var _ref = _asyncToGenerator(_regenerator().m(function _callee2(watcher) {\n        var _this$assembled$optio;\n        var hash, timeoutInSeconds;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _context2.n = 1;\n              return _this.server.sendTransaction(_this.assembled.signed);\n            case 1:\n              _this.sendTransactionResponse = _context2.v;\n              if (!(_this.sendTransactionResponse.status !== \"PENDING\")) {\n                _context2.n = 2;\n                break;\n              }\n              throw new SentTransaction.Errors.SendFailed(\"Sending the transaction to the network failed!\\n\".concat(JSON.stringify(_this.sendTransactionResponse, null, 2)));\n            case 2:\n              if (watcher !== null && watcher !== void 0 && watcher.onSubmitted) watcher.onSubmitted(_this.sendTransactionResponse);\n              hash = _this.sendTransactionResponse.hash;\n              timeoutInSeconds = (_this$assembled$optio = _this.assembled.options.timeoutInSeconds) !== null && _this$assembled$optio !== void 0 ? _this$assembled$optio : _types.DEFAULT_TIMEOUT;\n              _context2.n = 3;\n              return (0, _utils.withExponentialBackoff)(_asyncToGenerator(_regenerator().m(function _callee() {\n                var tx;\n                return _regenerator().w(function (_context) {\n                  while (1) switch (_context.n) {\n                    case 0:\n                      _context.n = 1;\n                      return _this.server.getTransaction(hash);\n                    case 1:\n                      tx = _context.v;\n                      if (watcher !== null && watcher !== void 0 && watcher.onProgress) watcher.onProgress(tx);\n                      return _context.a(2, tx);\n                  }\n                }, _callee);\n              })), function (resp) {\n                return resp.status === _api.Api.GetTransactionStatus.NOT_FOUND;\n              }, timeoutInSeconds);\n            case 3:\n              _this.getTransactionResponseAll = _context2.v;\n              _this.getTransactionResponse = _this.getTransactionResponseAll[_this.getTransactionResponseAll.length - 1];\n              if (!(_this.getTransactionResponse.status === _api.Api.GetTransactionStatus.NOT_FOUND)) {\n                _context2.n = 4;\n                break;\n              }\n              throw new SentTransaction.Errors.TransactionStillPending(\"Waited \".concat(timeoutInSeconds, \" seconds for transaction to complete, but it did not. \") + \"Returning anyway. Check the transaction status manually. \" + \"Sent transaction: \".concat(JSON.stringify(_this.sendTransactionResponse, null, 2), \"\\n\") + \"All attempts to get the result: \".concat(JSON.stringify(_this.getTransactionResponseAll, null, 2)));\n            case 4:\n              return _context2.a(2, _this);\n          }\n        }, _callee2);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    this.assembled = assembled;\n    var _this$assembled$optio2 = this.assembled.options,\n      server = _this$assembled$optio2.server,\n      allowHttp = _this$assembled$optio2.allowHttp,\n      headers = _this$assembled$optio2.headers,\n      rpcUrl = _this$assembled$optio2.rpcUrl;\n    this.server = server !== null && server !== void 0 ? server : new _rpc.Server(rpcUrl, {\n      allowHttp: allowHttp,\n      headers: headers\n    });\n  }\n  return _createClass(SentTransaction, [{\n    key: \"result\",\n    get: function get() {\n      if (\"getTransactionResponse\" in this && this.getTransactionResponse) {\n        if (\"returnValue\" in this.getTransactionResponse) {\n          return this.assembled.options.parseResultXdr(this.getTransactionResponse.returnValue);\n        }\n        throw new Error(\"Transaction failed! Cannot parse result.\");\n      }\n      if (this.sendTransactionResponse) {\n        var _this$sendTransaction;\n        var errorResult = (_this$sendTransaction = this.sendTransactionResponse.errorResult) === null || _this$sendTransaction === void 0 ? void 0 : _this$sendTransaction.result();\n        if (errorResult) {\n          throw new SentTransaction.Errors.SendFailed(\"Transaction simulation looked correct, but attempting to send the transaction failed. Check `simulation` and `sendTransactionResponseAll` to troubleshoot. Decoded `sendTransactionResponse.errorResultXdr`: \".concat(errorResult));\n        }\n        throw new SentTransaction.Errors.SendResultOnly(\"Transaction was sent to the network, but not yet awaited. No result to show. Await transaction completion with `getTransaction(sendTransactionResponse.hash)`\");\n      }\n      throw new Error(\"Sending transaction failed: \".concat(JSON.stringify(this.assembled.signed)));\n    }\n  }]);\n}();\n_SentTransaction = SentTransaction;\n_defineProperty(SentTransaction, \"Errors\", {\n  SendFailed: function (_Error) {\n    function SendFailedError() {\n      _classCallCheck(this, SendFailedError);\n      return _callSuper(this, SendFailedError, arguments);\n    }\n    _inherits(SendFailedError, _Error);\n    return _createClass(SendFailedError);\n  }(_wrapNativeSuper(Error)),\n  SendResultOnly: function (_Error2) {\n    function SendResultOnlyError() {\n      _classCallCheck(this, SendResultOnlyError);\n      return _callSuper(this, SendResultOnlyError, arguments);\n    }\n    _inherits(SendResultOnlyError, _Error2);\n    return _createClass(SendResultOnlyError);\n  }(_wrapNativeSuper(Error)),\n  TransactionStillPending: function (_Error3) {\n    function TransactionStillPendingError() {\n      _classCallCheck(this, TransactionStillPendingError);\n      return _callSuper(this, TransactionStillPendingError, arguments);\n    }\n    _inherits(TransactionStillPendingError, _Error3);\n    return _createClass(TransactionStillPendingError);\n  }(_wrapNativeSuper(Error))\n});\n_defineProperty(SentTransaction, \"init\", function () {\n  var _ref3 = _asyncToGenerator(_regenerator().m(function _callee3(assembled, watcher) {\n    var tx, sent;\n    return _regenerator().w(function (_context3) {\n      while (1) switch (_context3.n) {\n        case 0:\n          tx = new _SentTransaction(assembled);\n          _context3.n = 1;\n          return tx.send(watcher);\n        case 1:\n          sent = _context3.v;\n          return _context3.a(2, sent);\n      }\n    }, _callee3);\n  }));\n  return function (_x2, _x3) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nvar Watcher = exports.Watcher = _createClass(function Watcher() {\n  _classCallCheck(this, Watcher);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9zZW50X3RyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGVBQWUsR0FBRyx1QkFBdUI7QUFDekMsV0FBVyxtQkFBTyxDQUFDLHlHQUFRO0FBQzNCLFdBQVcsbUJBQU8sQ0FBQywyR0FBWTtBQUMvQixhQUFhLG1CQUFPLENBQUMsK0dBQVM7QUFDOUIsYUFBYSxtQkFBTyxDQUFDLCtHQUFTO0FBQzlCO0FBQ0EsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsK0JBQStCLHVEQUF1RCx5REFBeUQsbURBQW1ELHVHQUF1RyxvQkFBb0IsK0JBQStCLHFCQUFxQixxQkFBcUIsc0VBQXNFLHdEQUF3RCxlQUFlLGtFQUFrRSxpQ0FBaUM7QUFDdG5CLCtCQUErQixrRkFBa0YsZ0JBQWdCLG9CQUFvQixvQ0FBb0M7QUFDekwsdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3TyxnQ0FBZ0MsTUFBTSxvRUFBb0UsWUFBWTtBQUN0SCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSiw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SyxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUywwQkFBMEIsdURBQXVELHdFQUF3RSx5QkFBeUIsK0ZBQStGLDhEQUE4RCwrQ0FBK0MsK0RBQStELDZDQUE2QyxtQkFBbUIsMEJBQTBCLCtCQUErQixPQUFPLG9DQUFvQyw4T0FBOE8sMEJBQTBCLG1CQUFtQiw0QkFBNEIsNERBQTRELDRDQUE0QywwQkFBMEIsSUFBSSx1RUFBdUUsTUFBTSxnQkFBZ0IsbUNBQW1DLDhFQUE4RSx1QkFBdUIsaUNBQWlDLG9JQUFvSSxTQUFTLGdFQUFnRSxZQUFZLHVCQUF1QixVQUFVLFdBQVcsU0FBUyx5QkFBeUIscUJBQXFCLFlBQVksd0JBQXdCLGdDQUFnQyx5Q0FBeUMsMkJBQTJCLDJEQUEyRCxtQkFBbUIsY0FBYywwRkFBMEYsZ0JBQWdCLHVOQUF1Tiw2YkFBNmIsY0FBYyxvREFBb0QsOEJBQThCLDZDQUE2QyxTQUFTLGVBQWU7QUFDdnVGLDJDQUEyQywrQkFBK0IsTUFBTSxJQUFJLFFBQVEsS0FBSyxZQUFZLFNBQVMsZ0VBQWdFLG1CQUFtQix5Q0FBeUMsK0JBQStCLEtBQUssa0JBQWtCLDBEQUEwRCwrREFBK0Q7QUFDamEsbURBQW1ELE1BQU0sZ0NBQWdDLFlBQVksb0JBQW9CO0FBQ3pILGdDQUFnQyxxQkFBcUIsNkJBQTZCLHFDQUFxQyx1QkFBdUIsb0JBQW9CLHlEQUF5RCxxQkFBcUIsMERBQTBELGdCQUFnQjtBQUMxVCxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1Esc0JBQXNCLHVCQUF1QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZUFBZTtBQUNmO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGNBQWMsZUFBZTtBQUM3QjtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2NvbnRyYWN0L3NlbnRfdHJhbnNhY3Rpb24uanM/ZTM5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuV2F0Y2hlciA9IGV4cG9ydHMuU2VudFRyYW5zYWN0aW9uID0gdm9pZCAwO1xudmFyIF9ycGMgPSByZXF1aXJlKFwiLi4vcnBjXCIpO1xudmFyIF9hcGkgPSByZXF1aXJlKFwiLi4vcnBjL2FwaVwiKTtcbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBfdHlwZXMgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbnZhciBfU2VudFRyYW5zYWN0aW9uO1xuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIodCkgeyB2YXIgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgTWFwID8gbmV3IE1hcCgpIDogdm9pZCAwOyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIodCkgeyBpZiAobnVsbCA9PT0gdCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24odCkpIHJldHVybiB0OyBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiB0KSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IGlmICh2b2lkIDAgIT09IHIpIHsgaWYgKHIuaGFzKHQpKSByZXR1cm4gci5nZXQodCk7IHIuc2V0KHQsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KHQsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfSByZXR1cm4gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBXcmFwcGVyLCBlbnVtZXJhYmxlOiAhMSwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCB0KTsgfSwgX3dyYXBOYXRpdmVTdXBlcih0KTsgfVxuZnVuY3Rpb24gX2NvbnN0cnVjdCh0LCBlLCByKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB2YXIgbyA9IFtudWxsXTsgby5wdXNoLmFwcGx5KG8sIGUpOyB2YXIgcCA9IG5ldyAodC5iaW5kLmFwcGx5KHQsIG8pKSgpOyByZXR1cm4gciAmJiBfc2V0UHJvdG90eXBlT2YocCwgci5wcm90b3R5cGUpLCBwOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyB0cnkgeyB2YXIgdCA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IH0gY2F0Y2ggKHQpIHt9IHJldHVybiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHJldHVybiAhIXQ7IH0pKCk7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKHQpIHsgdHJ5IHsgcmV0dXJuIC0xICE9PSBGdW5jdGlvbi50b1N0cmluZy5jYWxsKHQpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpOyB9IGNhdGNoIChuKSB7IHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQ7IH0gfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZih0KSB7IHJldHVybiBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZih0KTsgfSwgX2dldFByb3RvdHlwZU9mKHQpOyB9XG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3IoKSB7IHZhciBlLCB0LCByID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgbiA9IHIuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIG8gPSByLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBpKHIsIG4sIG8sIGkpIHsgdmFyIGMgPSBuICYmIG4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gbiA6IEdlbmVyYXRvciwgdSA9IE9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpOyByZXR1cm4gX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcIl9pbnZva2VcIiwgZnVuY3Rpb24gKHIsIG4sIG8pIHsgdmFyIGksIGMsIHUsIGYgPSAwLCBwID0gbyB8fCBbXSwgeSA9ICExLCBHID0geyBwOiAwLCBuOiAwLCB2OiBlLCBhOiBkLCBmOiBkLmJpbmQoZSwgNCksIGQ6IGZ1bmN0aW9uIGQodCwgcikgeyByZXR1cm4gaSA9IHQsIGMgPSAwLCB1ID0gZSwgRy5uID0gciwgYTsgfSB9OyBmdW5jdGlvbiBkKHIsIG4pIHsgZm9yIChjID0gciwgdSA9IG4sIHQgPSAwOyAheSAmJiBmICYmICFvICYmIHQgPCBwLmxlbmd0aDsgdCsrKSB7IHZhciBvLCBpID0gcFt0XSwgZCA9IEcucCwgbCA9IGlbMl07IHIgPiAzID8gKG8gPSBsID09PSBuKSAmJiAodSA9IGlbKGMgPSBpWzRdKSA/IDUgOiAoYyA9IDMsIDMpXSwgaVs0XSA9IGlbNV0gPSBlKSA6IGlbMF0gPD0gZCAmJiAoKG8gPSByIDwgMiAmJiBkIDwgaVsxXSkgPyAoYyA9IDAsIEcudiA9IG4sIEcubiA9IGlbMV0pIDogZCA8IGwgJiYgKG8gPSByIDwgMyB8fCBpWzBdID4gbiB8fCBuID4gbCkgJiYgKGlbNF0gPSByLCBpWzVdID0gbiwgRy5uID0gbCwgYyA9IDApKTsgfSBpZiAobyB8fCByID4gMSkgcmV0dXJuIGE7IHRocm93IHkgPSAhMCwgbjsgfSByZXR1cm4gZnVuY3Rpb24gKG8sIHAsIGwpIHsgaWYgKGYgPiAxKSB0aHJvdyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpOyBmb3IgKHkgJiYgMSA9PT0gcCAmJiBkKHAsIGwpLCBjID0gcCwgdSA9IGw7ICh0ID0gYyA8IDIgPyBlIDogdSkgfHwgIXk7KSB7IGkgfHwgKGMgPyBjIDwgMyA/IChjID4gMSAmJiAoRy5uID0gLTEpLCBkKGMsIHUpKSA6IEcubiA9IHUgOiBHLnYgPSB1KTsgdHJ5IHsgaWYgKGYgPSAyLCBpKSB7IGlmIChjIHx8IChvID0gXCJuZXh0XCIpLCB0ID0gaVtvXSkgeyBpZiAoISh0ID0gdC5jYWxsKGksIHUpKSkgdGhyb3cgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7IGlmICghdC5kb25lKSByZXR1cm4gdDsgdSA9IHQudmFsdWUsIGMgPCAyICYmIChjID0gMCk7IH0gZWxzZSAxID09PSBjICYmICh0ID0gaS5yZXR1cm4pICYmIHQuY2FsbChpKSwgYyA8IDIgJiYgKHUgPSBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIiArIG8gKyBcIicgbWV0aG9kXCIpLCBjID0gMSk7IGkgPSBlOyB9IGVsc2UgaWYgKCh0ID0gKHkgPSBHLm4gPCAwKSA/IHUgOiByLmNhbGwobiwgRykpICE9PSBhKSBicmVhazsgfSBjYXRjaCAodCkgeyBpID0gZSwgYyA9IDEsIHUgPSB0OyB9IGZpbmFsbHkgeyBmID0gMTsgfSB9IHJldHVybiB7IHZhbHVlOiB0LCBkb25lOiB5IH07IH07IH0ociwgbywgaSksICEwKSwgdTsgfSB2YXIgYSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjsgdmFyIGMgPSBbXVtuXSA/IHQodChbXVtuXSgpKSkgOiAoX3JlZ2VuZXJhdG9yRGVmaW5lMih0ID0ge30sIG4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCB0KSwgdSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGMpOyBmdW5jdGlvbiBmKGUpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihlLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAoZS5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCBvLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSwgZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHUpLCBlOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbiksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiLCBfcmVnZW5lcmF0b3JEZWZpbmUyKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIG8sIFwiR2VuZXJhdG9yXCIpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIG4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjsgfSksIChfcmVnZW5lcmF0b3IgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3IoKSB7IHJldHVybiB7IHc6IGksIG06IGYgfTsgfSkoKTsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBuLCB0KSB7IHZhciBpID0gT2JqZWN0LmRlZmluZVByb3BlcnR5OyB0cnkgeyBpKHt9LCBcIlwiLCB7fSk7IH0gY2F0Y2ggKGUpIHsgaSA9IDA7IH0gX3JlZ2VuZXJhdG9yRGVmaW5lMiA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvckRlZmluZShlLCByLCBuLCB0KSB7IGZ1bmN0aW9uIG8ociwgbikgeyBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiB0aGlzLl9pbnZva2UociwgbiwgZSk7IH0pOyB9IHIgPyBpID8gaShlLCByLCB7IHZhbHVlOiBuLCBlbnVtZXJhYmxlOiAhdCwgY29uZmlndXJhYmxlOiAhdCwgd3JpdGFibGU6ICF0IH0pIDogZVtyXSA9IG4gOiAobyhcIm5leHRcIiwgMCksIG8oXCJ0aHJvd1wiLCAxKSwgbyhcInJldHVyblwiLCAyKSk7IH0sIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgbiwgdCk7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxudmFyIFNlbnRUcmFuc2FjdGlvbiA9IGV4cG9ydHMuU2VudFRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZW50VHJhbnNhY3Rpb24oYXNzZW1ibGVkKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VudFRyYW5zYWN0aW9uKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMih3YXRjaGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyRhc3NlbWJsZWQkb3B0aW87XG4gICAgICAgIHZhciBoYXNoLCB0aW1lb3V0SW5TZWNvbmRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSAxO1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2VydmVyLnNlbmRUcmFuc2FjdGlvbihfdGhpcy5hc3NlbWJsZWQuc2lnbmVkKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgX3RoaXMuc2VuZFRyYW5zYWN0aW9uUmVzcG9uc2UgPSBfY29udGV4dDIudjtcbiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuc2VuZFRyYW5zYWN0aW9uUmVzcG9uc2Uuc3RhdHVzICE9PSBcIlBFTkRJTkdcIikpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlbnRUcmFuc2FjdGlvbi5FcnJvcnMuU2VuZEZhaWxlZChcIlNlbmRpbmcgdGhlIHRyYW5zYWN0aW9uIHRvIHRoZSBuZXR3b3JrIGZhaWxlZCFcXG5cIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoX3RoaXMuc2VuZFRyYW5zYWN0aW9uUmVzcG9uc2UsIG51bGwsIDIpKSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGlmICh3YXRjaGVyICE9PSBudWxsICYmIHdhdGNoZXIgIT09IHZvaWQgMCAmJiB3YXRjaGVyLm9uU3VibWl0dGVkKSB3YXRjaGVyLm9uU3VibWl0dGVkKF90aGlzLnNlbmRUcmFuc2FjdGlvblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgaGFzaCA9IF90aGlzLnNlbmRUcmFuc2FjdGlvblJlc3BvbnNlLmhhc2g7XG4gICAgICAgICAgICAgIHRpbWVvdXRJblNlY29uZHMgPSAoX3RoaXMkYXNzZW1ibGVkJG9wdGlvID0gX3RoaXMuYXNzZW1ibGVkLm9wdGlvbnMudGltZW91dEluU2Vjb25kcykgIT09IG51bGwgJiYgX3RoaXMkYXNzZW1ibGVkJG9wdGlvICE9PSB2b2lkIDAgPyBfdGhpcyRhc3NlbWJsZWQkb3B0aW8gOiBfdHlwZXMuREVGQVVMVF9USU1FT1VUO1xuICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiAoMCwgX3V0aWxzLndpdGhFeHBvbmVudGlhbEJhY2tvZmYpKF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2VydmVyLmdldFRyYW5zYWN0aW9uKGhhc2gpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgdHggPSBfY29udGV4dC52O1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh3YXRjaGVyICE9PSBudWxsICYmIHdhdGNoZXIgIT09IHZvaWQgMCAmJiB3YXRjaGVyLm9uUHJvZ3Jlc3MpIHdhdGNoZXIub25Qcm9ncmVzcyh0eCk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMiwgdHgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgICAgICAgICB9KSksIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3Auc3RhdHVzID09PSBfYXBpLkFwaS5HZXRUcmFuc2FjdGlvblN0YXR1cy5OT1RfRk9VTkQ7XG4gICAgICAgICAgICAgIH0sIHRpbWVvdXRJblNlY29uZHMpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBfdGhpcy5nZXRUcmFuc2FjdGlvblJlc3BvbnNlQWxsID0gX2NvbnRleHQyLnY7XG4gICAgICAgICAgICAgIF90aGlzLmdldFRyYW5zYWN0aW9uUmVzcG9uc2UgPSBfdGhpcy5nZXRUcmFuc2FjdGlvblJlc3BvbnNlQWxsW190aGlzLmdldFRyYW5zYWN0aW9uUmVzcG9uc2VBbGwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgIGlmICghKF90aGlzLmdldFRyYW5zYWN0aW9uUmVzcG9uc2Uuc3RhdHVzID09PSBfYXBpLkFwaS5HZXRUcmFuc2FjdGlvblN0YXR1cy5OT1RfRk9VTkQpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBTZW50VHJhbnNhY3Rpb24uRXJyb3JzLlRyYW5zYWN0aW9uU3RpbGxQZW5kaW5nKFwiV2FpdGVkIFwiLmNvbmNhdCh0aW1lb3V0SW5TZWNvbmRzLCBcIiBzZWNvbmRzIGZvciB0cmFuc2FjdGlvbiB0byBjb21wbGV0ZSwgYnV0IGl0IGRpZCBub3QuIFwiKSArIFwiUmV0dXJuaW5nIGFueXdheS4gQ2hlY2sgdGhlIHRyYW5zYWN0aW9uIHN0YXR1cyBtYW51YWxseS4gXCIgKyBcIlNlbnQgdHJhbnNhY3Rpb246IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShfdGhpcy5zZW5kVHJhbnNhY3Rpb25SZXNwb25zZSwgbnVsbCwgMiksIFwiXFxuXCIpICsgXCJBbGwgYXR0ZW1wdHMgdG8gZ2V0IHRoZSByZXN1bHQ6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShfdGhpcy5nZXRUcmFuc2FjdGlvblJlc3BvbnNlQWxsLCBudWxsLCAyKSkpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmEoMiwgX3RoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIpO1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkge1xuICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuICAgIHRoaXMuYXNzZW1ibGVkID0gYXNzZW1ibGVkO1xuICAgIHZhciBfdGhpcyRhc3NlbWJsZWQkb3B0aW8yID0gdGhpcy5hc3NlbWJsZWQub3B0aW9ucyxcbiAgICAgIHNlcnZlciA9IF90aGlzJGFzc2VtYmxlZCRvcHRpbzIuc2VydmVyLFxuICAgICAgYWxsb3dIdHRwID0gX3RoaXMkYXNzZW1ibGVkJG9wdGlvMi5hbGxvd0h0dHAsXG4gICAgICBoZWFkZXJzID0gX3RoaXMkYXNzZW1ibGVkJG9wdGlvMi5oZWFkZXJzLFxuICAgICAgcnBjVXJsID0gX3RoaXMkYXNzZW1ibGVkJG9wdGlvMi5ycGNVcmw7XG4gICAgdGhpcy5zZXJ2ZXIgPSBzZXJ2ZXIgIT09IG51bGwgJiYgc2VydmVyICE9PSB2b2lkIDAgPyBzZXJ2ZXIgOiBuZXcgX3JwYy5TZXJ2ZXIocnBjVXJsLCB7XG4gICAgICBhbGxvd0h0dHA6IGFsbG93SHR0cCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFNlbnRUcmFuc2FjdGlvbiwgW3tcbiAgICBrZXk6IFwicmVzdWx0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoXCJnZXRUcmFuc2FjdGlvblJlc3BvbnNlXCIgaW4gdGhpcyAmJiB0aGlzLmdldFRyYW5zYWN0aW9uUmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKFwicmV0dXJuVmFsdWVcIiBpbiB0aGlzLmdldFRyYW5zYWN0aW9uUmVzcG9uc2UpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5hc3NlbWJsZWQub3B0aW9ucy5wYXJzZVJlc3VsdFhkcih0aGlzLmdldFRyYW5zYWN0aW9uUmVzcG9uc2UucmV0dXJuVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGZhaWxlZCEgQ2Fubm90IHBhcnNlIHJlc3VsdC5cIik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZW5kVHJhbnNhY3Rpb25SZXNwb25zZSkge1xuICAgICAgICB2YXIgX3RoaXMkc2VuZFRyYW5zYWN0aW9uO1xuICAgICAgICB2YXIgZXJyb3JSZXN1bHQgPSAoX3RoaXMkc2VuZFRyYW5zYWN0aW9uID0gdGhpcy5zZW5kVHJhbnNhY3Rpb25SZXNwb25zZS5lcnJvclJlc3VsdCkgPT09IG51bGwgfHwgX3RoaXMkc2VuZFRyYW5zYWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzZW5kVHJhbnNhY3Rpb24ucmVzdWx0KCk7XG4gICAgICAgIGlmIChlcnJvclJlc3VsdCkge1xuICAgICAgICAgIHRocm93IG5ldyBTZW50VHJhbnNhY3Rpb24uRXJyb3JzLlNlbmRGYWlsZWQoXCJUcmFuc2FjdGlvbiBzaW11bGF0aW9uIGxvb2tlZCBjb3JyZWN0LCBidXQgYXR0ZW1wdGluZyB0byBzZW5kIHRoZSB0cmFuc2FjdGlvbiBmYWlsZWQuIENoZWNrIGBzaW11bGF0aW9uYCBhbmQgYHNlbmRUcmFuc2FjdGlvblJlc3BvbnNlQWxsYCB0byB0cm91Ymxlc2hvb3QuIERlY29kZWQgYHNlbmRUcmFuc2FjdGlvblJlc3BvbnNlLmVycm9yUmVzdWx0WGRyYDogXCIuY29uY2F0KGVycm9yUmVzdWx0KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFNlbnRUcmFuc2FjdGlvbi5FcnJvcnMuU2VuZFJlc3VsdE9ubHkoXCJUcmFuc2FjdGlvbiB3YXMgc2VudCB0byB0aGUgbmV0d29yaywgYnV0IG5vdCB5ZXQgYXdhaXRlZC4gTm8gcmVzdWx0IHRvIHNob3cuIEF3YWl0IHRyYW5zYWN0aW9uIGNvbXBsZXRpb24gd2l0aCBgZ2V0VHJhbnNhY3Rpb24oc2VuZFRyYW5zYWN0aW9uUmVzcG9uc2UuaGFzaClgXCIpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VuZGluZyB0cmFuc2FjdGlvbiBmYWlsZWQ6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLmFzc2VtYmxlZC5zaWduZWQpKSk7XG4gICAgfVxuICB9XSk7XG59KCk7XG5fU2VudFRyYW5zYWN0aW9uID0gU2VudFRyYW5zYWN0aW9uO1xuX2RlZmluZVByb3BlcnR5KFNlbnRUcmFuc2FjdGlvbiwgXCJFcnJvcnNcIiwge1xuICBTZW5kRmFpbGVkOiBmdW5jdGlvbiAoX0Vycm9yKSB7XG4gICAgZnVuY3Rpb24gU2VuZEZhaWxlZEVycm9yKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbmRGYWlsZWRFcnJvcik7XG4gICAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBTZW5kRmFpbGVkRXJyb3IsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIF9pbmhlcml0cyhTZW5kRmFpbGVkRXJyb3IsIF9FcnJvcik7XG4gICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTZW5kRmFpbGVkRXJyb3IpO1xuICB9KF93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKSxcbiAgU2VuZFJlc3VsdE9ubHk6IGZ1bmN0aW9uIChfRXJyb3IyKSB7XG4gICAgZnVuY3Rpb24gU2VuZFJlc3VsdE9ubHlFcnJvcigpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZW5kUmVzdWx0T25seUVycm9yKTtcbiAgICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIFNlbmRSZXN1bHRPbmx5RXJyb3IsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIF9pbmhlcml0cyhTZW5kUmVzdWx0T25seUVycm9yLCBfRXJyb3IyKTtcbiAgICByZXR1cm4gX2NyZWF0ZUNsYXNzKFNlbmRSZXN1bHRPbmx5RXJyb3IpO1xuICB9KF93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKSxcbiAgVHJhbnNhY3Rpb25TdGlsbFBlbmRpbmc6IGZ1bmN0aW9uIChfRXJyb3IzKSB7XG4gICAgZnVuY3Rpb24gVHJhbnNhY3Rpb25TdGlsbFBlbmRpbmdFcnJvcigpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2FjdGlvblN0aWxsUGVuZGluZ0Vycm9yKTtcbiAgICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIFRyYW5zYWN0aW9uU3RpbGxQZW5kaW5nRXJyb3IsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIF9pbmhlcml0cyhUcmFuc2FjdGlvblN0aWxsUGVuZGluZ0Vycm9yLCBfRXJyb3IzKTtcbiAgICByZXR1cm4gX2NyZWF0ZUNsYXNzKFRyYW5zYWN0aW9uU3RpbGxQZW5kaW5nRXJyb3IpO1xuICB9KF93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKVxufSk7XG5fZGVmaW5lUHJvcGVydHkoU2VudFRyYW5zYWN0aW9uLCBcImluaXRcIiwgZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUzKGFzc2VtYmxlZCwgd2F0Y2hlcikge1xuICAgIHZhciB0eCwgc2VudDtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQzKSB7XG4gICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMubikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgdHggPSBuZXcgX1NlbnRUcmFuc2FjdGlvbihhc3NlbWJsZWQpO1xuICAgICAgICAgIF9jb250ZXh0My5uID0gMTtcbiAgICAgICAgICByZXR1cm4gdHguc2VuZCh3YXRjaGVyKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHNlbnQgPSBfY29udGV4dDMudjtcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmEoMiwgc2VudCk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTMpO1xuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoX3gyLCBfeDMpIHtcbiAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKSk7XG52YXIgV2F0Y2hlciA9IGV4cG9ydHMuV2F0Y2hlciA9IF9jcmVhdGVDbGFzcyhmdW5jdGlvbiBXYXRjaGVyKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2F0Y2hlcik7XG59KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/sent_transaction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/spec.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/spec.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Spec = void 0;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _rust_result = __webpack_require__(/*! ./rust_result */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/rust_result.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/utils.js\");\nvar _wasm_spec_parser = __webpack_require__(/*! ./wasm_spec_parser */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/wasm_spec_parser.js\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction enumToJsonSchema(udt) {\n  var description = udt.doc().toString();\n  var cases = udt.cases();\n  var oneOf = [];\n  cases.forEach(function (aCase) {\n    var title = aCase.name().toString();\n    var desc = aCase.doc().toString();\n    oneOf.push({\n      description: desc,\n      title: title,\n      enum: [aCase.value()],\n      type: \"number\"\n    });\n  });\n  var res = {\n    oneOf: oneOf\n  };\n  if (description.length > 0) {\n    res.description = description;\n  }\n  return res;\n}\nfunction isNumeric(field) {\n  return /^\\d+$/.test(field.name().toString());\n}\nfunction readObj(args, input) {\n  var inputName = input.name().toString();\n  var entry = Object.entries(args).find(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n      name = _ref2[0];\n    return name === inputName;\n  });\n  if (!entry) {\n    throw new Error(\"Missing field \".concat(inputName));\n  }\n  return entry[1];\n}\nfunction findCase(name) {\n  return function matches(entry) {\n    switch (entry.switch().value) {\n      case _stellarBase.xdr.ScSpecUdtUnionCaseV0Kind.scSpecUdtUnionCaseTupleV0().value:\n        {\n          var tuple = entry.tupleCase();\n          return tuple.name().toString() === name;\n        }\n      case _stellarBase.xdr.ScSpecUdtUnionCaseV0Kind.scSpecUdtUnionCaseVoidV0().value:\n        {\n          var voidCase = entry.voidCase();\n          return voidCase.name().toString() === name;\n        }\n      default:\n        return false;\n    }\n  };\n}\nfunction stringToScVal(str, ty) {\n  switch (ty.value) {\n    case _stellarBase.xdr.ScSpecType.scSpecTypeString().value:\n      return _stellarBase.xdr.ScVal.scvString(str);\n    case _stellarBase.xdr.ScSpecType.scSpecTypeSymbol().value:\n      return _stellarBase.xdr.ScVal.scvSymbol(str);\n    case _stellarBase.xdr.ScSpecType.scSpecTypeAddress().value:\n    case _stellarBase.xdr.ScSpecType.scSpecTypeMuxedAddress().value:\n      return _stellarBase.Address.fromString(str).toScVal();\n    case _stellarBase.xdr.ScSpecType.scSpecTypeU64().value:\n      return new _stellarBase.XdrLargeInt(\"u64\", str).toScVal();\n    case _stellarBase.xdr.ScSpecType.scSpecTypeI64().value:\n      return new _stellarBase.XdrLargeInt(\"i64\", str).toScVal();\n    case _stellarBase.xdr.ScSpecType.scSpecTypeU128().value:\n      return new _stellarBase.XdrLargeInt(\"u128\", str).toScVal();\n    case _stellarBase.xdr.ScSpecType.scSpecTypeI128().value:\n      return new _stellarBase.XdrLargeInt(\"i128\", str).toScVal();\n    case _stellarBase.xdr.ScSpecType.scSpecTypeU256().value:\n      return new _stellarBase.XdrLargeInt(\"u256\", str).toScVal();\n    case _stellarBase.xdr.ScSpecType.scSpecTypeI256().value:\n      return new _stellarBase.XdrLargeInt(\"i256\", str).toScVal();\n    case _stellarBase.xdr.ScSpecType.scSpecTypeBytes().value:\n    case _stellarBase.xdr.ScSpecType.scSpecTypeBytesN().value:\n      return _stellarBase.xdr.ScVal.scvBytes(Buffer.from(str, \"base64\"));\n    case _stellarBase.xdr.ScSpecType.scSpecTypeTimepoint().value:\n      {\n        return _stellarBase.xdr.ScVal.scvTimepoint(new _stellarBase.xdr.Uint64(str));\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeDuration().value:\n      {\n        return _stellarBase.xdr.ScVal.scvDuration(new _stellarBase.xdr.Uint64(str));\n      }\n    default:\n      throw new TypeError(\"invalid type \".concat(ty.name, \" specified for string value\"));\n  }\n}\nvar PRIMITIVE_DEFINITONS = {\n  U32: {\n    type: \"integer\",\n    minimum: 0,\n    maximum: 4294967295\n  },\n  I32: {\n    type: \"integer\",\n    minimum: -2147483648,\n    maximum: 2147483647\n  },\n  U64: {\n    type: \"string\",\n    pattern: \"^([1-9][0-9]*|0)$\",\n    minLength: 1,\n    maxLength: 20\n  },\n  Timepoint: {\n    type: \"string\",\n    pattern: \"^([1-9][0-9]*|0)$\",\n    minLength: 1,\n    maxLength: 20\n  },\n  Duration: {\n    type: \"string\",\n    pattern: \"^([1-9][0-9]*|0)$\",\n    minLength: 1,\n    maxLength: 20\n  },\n  I64: {\n    type: \"string\",\n    pattern: \"^(-?[1-9][0-9]*|0)$\",\n    minLength: 1,\n    maxLength: 21\n  },\n  U128: {\n    type: \"string\",\n    pattern: \"^([1-9][0-9]*|0)$\",\n    minLength: 1,\n    maxLength: 39\n  },\n  I128: {\n    type: \"string\",\n    pattern: \"^(-?[1-9][0-9]*|0)$\",\n    minLength: 1,\n    maxLength: 40\n  },\n  U256: {\n    type: \"string\",\n    pattern: \"^([1-9][0-9]*|0)$\",\n    minLength: 1,\n    maxLength: 78\n  },\n  I256: {\n    type: \"string\",\n    pattern: \"^(-?[1-9][0-9]*|0)$\",\n    minLength: 1,\n    maxLength: 79\n  },\n  Address: {\n    type: \"string\",\n    format: \"address\",\n    description: \"Address can be a public key or contract id\"\n  },\n  MuxedAddress: {\n    type: \"string\",\n    format: \"address\",\n    description: \"Stellar public key with M prefix combining a G address and unique ID\"\n  },\n  ScString: {\n    type: \"string\",\n    description: \"ScString is a string\"\n  },\n  ScSymbol: {\n    type: \"string\",\n    description: \"ScSymbol is a string\"\n  },\n  DataUrl: {\n    type: \"string\",\n    pattern: \"^(?:[A-Za-z0-9+\\\\/]{4})*(?:[A-Za-z0-9+\\\\/]{2}==|[A-Za-z0-9+\\\\/]{3}=)?$\"\n  }\n};\nfunction typeRef(typeDef) {\n  var t = typeDef.switch();\n  var value = t.value;\n  var ref;\n  switch (value) {\n    case _stellarBase.xdr.ScSpecType.scSpecTypeVal().value:\n      {\n        ref = \"Val\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeBool().value:\n      {\n        return {\n          type: \"boolean\"\n        };\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeVoid().value:\n      {\n        return {\n          type: \"null\"\n        };\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeError().value:\n      {\n        ref = \"Error\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeU32().value:\n      {\n        ref = \"U32\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeI32().value:\n      {\n        ref = \"I32\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeU64().value:\n      {\n        ref = \"U64\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeI64().value:\n      {\n        ref = \"I64\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeTimepoint().value:\n      {\n        ref = \"Timepoint\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeDuration().value:\n      {\n        ref = \"Duration\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeU128().value:\n      {\n        ref = \"U128\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeI128().value:\n      {\n        ref = \"I128\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeU256().value:\n      {\n        ref = \"U256\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeI256().value:\n      {\n        ref = \"I256\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeBytes().value:\n      {\n        ref = \"DataUrl\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeString().value:\n      {\n        ref = \"ScString\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeSymbol().value:\n      {\n        ref = \"ScSymbol\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeAddress().value:\n      {\n        ref = \"Address\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeMuxedAddress().value:\n      {\n        ref = \"MuxedAddress\";\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeOption().value:\n      {\n        var opt = typeDef.option();\n        return typeRef(opt.valueType());\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeResult().value:\n      {\n        break;\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeVec().value:\n      {\n        var arr = typeDef.vec();\n        var reference = typeRef(arr.elementType());\n        return {\n          type: \"array\",\n          items: reference\n        };\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeMap().value:\n      {\n        var map = typeDef.map();\n        var items = [typeRef(map.keyType()), typeRef(map.valueType())];\n        return {\n          type: \"array\",\n          items: {\n            type: \"array\",\n            items: items,\n            minItems: 2,\n            maxItems: 2\n          }\n        };\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeTuple().value:\n      {\n        var tuple = typeDef.tuple();\n        var minItems = tuple.valueTypes().length;\n        var maxItems = minItems;\n        var _items = tuple.valueTypes().map(typeRef);\n        return {\n          type: \"array\",\n          items: _items,\n          minItems: minItems,\n          maxItems: maxItems\n        };\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeBytesN().value:\n      {\n        var _arr = typeDef.bytesN();\n        return {\n          $ref: \"#/definitions/DataUrl\",\n          maxLength: _arr.n()\n        };\n      }\n    case _stellarBase.xdr.ScSpecType.scSpecTypeUdt().value:\n      {\n        var udt = typeDef.udt();\n        ref = udt.name().toString();\n        break;\n      }\n  }\n  return {\n    $ref: \"#/definitions/\".concat(ref)\n  };\n}\nfunction isRequired(typeDef) {\n  return typeDef.switch().value !== _stellarBase.xdr.ScSpecType.scSpecTypeOption().value;\n}\nfunction argsAndRequired(input) {\n  var properties = {};\n  var required = [];\n  input.forEach(function (arg) {\n    var aType = arg.type();\n    var name = arg.name().toString();\n    properties[name] = typeRef(aType);\n    if (isRequired(aType)) {\n      required.push(name);\n    }\n  });\n  var res = {\n    properties: properties\n  };\n  if (required.length > 0) {\n    res.required = required;\n  }\n  return res;\n}\nfunction structToJsonSchema(udt) {\n  var fields = udt.fields();\n  if (fields.some(isNumeric)) {\n    if (!fields.every(isNumeric)) {\n      throw new Error(\"mixed numeric and non-numeric field names are not allowed\");\n    }\n    var items = fields.map(function (_, i) {\n      return typeRef(fields[i].type());\n    });\n    return {\n      type: \"array\",\n      items: items,\n      minItems: fields.length,\n      maxItems: fields.length\n    };\n  }\n  var description = udt.doc().toString();\n  var _argsAndRequired = argsAndRequired(fields),\n    properties = _argsAndRequired.properties,\n    required = _argsAndRequired.required;\n  properties.additionalProperties = false;\n  return {\n    description: description,\n    properties: properties,\n    required: required,\n    type: \"object\"\n  };\n}\nfunction functionToJsonSchema(func) {\n  var _argsAndRequired2 = argsAndRequired(func.inputs()),\n    properties = _argsAndRequired2.properties,\n    required = _argsAndRequired2.required;\n  var args = {\n    additionalProperties: false,\n    properties: properties,\n    type: \"object\"\n  };\n  if ((required === null || required === void 0 ? void 0 : required.length) > 0) {\n    args.required = required;\n  }\n  var input = {\n    properties: {\n      args: args\n    }\n  };\n  var outputs = func.outputs();\n  var output = outputs.length > 0 ? typeRef(outputs[0]) : typeRef(_stellarBase.xdr.ScSpecTypeDef.scSpecTypeVoid());\n  var description = func.doc().toString();\n  if (description.length > 0) {\n    input.description = description;\n  }\n  input.additionalProperties = false;\n  output.additionalProperties = false;\n  return {\n    input: input,\n    output: output\n  };\n}\nfunction unionToJsonSchema(udt) {\n  var description = udt.doc().toString();\n  var cases = udt.cases();\n  var oneOf = [];\n  cases.forEach(function (aCase) {\n    switch (aCase.switch().value) {\n      case _stellarBase.xdr.ScSpecUdtUnionCaseV0Kind.scSpecUdtUnionCaseVoidV0().value:\n        {\n          var c = aCase.voidCase();\n          var title = c.name().toString();\n          oneOf.push({\n            type: \"object\",\n            title: title,\n            properties: {\n              tag: title\n            },\n            additionalProperties: false,\n            required: [\"tag\"]\n          });\n          break;\n        }\n      case _stellarBase.xdr.ScSpecUdtUnionCaseV0Kind.scSpecUdtUnionCaseTupleV0().value:\n        {\n          var _c = aCase.tupleCase();\n          var _title = _c.name().toString();\n          oneOf.push({\n            type: \"object\",\n            title: _title,\n            properties: {\n              tag: _title,\n              values: {\n                type: \"array\",\n                items: _c.type().map(typeRef)\n              }\n            },\n            required: [\"tag\", \"values\"],\n            additionalProperties: false\n          });\n        }\n    }\n  });\n  var res = {\n    oneOf: oneOf\n  };\n  if (description.length > 0) {\n    res.description = description;\n  }\n  return res;\n}\nvar Spec = exports.Spec = function () {\n  function Spec(entries) {\n    _classCallCheck(this, Spec);\n    _defineProperty(this, \"entries\", []);\n    if (Buffer.isBuffer(entries)) {\n      this.entries = (0, _utils.processSpecEntryStream)(entries);\n    } else if (typeof entries === \"string\") {\n      this.entries = (0, _utils.processSpecEntryStream)(Buffer.from(entries, \"base64\"));\n    } else {\n      if (entries.length === 0) {\n        throw new Error(\"Contract spec must have at least one entry\");\n      }\n      var entry = entries[0];\n      if (typeof entry === \"string\") {\n        this.entries = entries.map(function (s) {\n          return _stellarBase.xdr.ScSpecEntry.fromXDR(s, \"base64\");\n        });\n      } else {\n        this.entries = entries;\n      }\n    }\n  }\n  return _createClass(Spec, [{\n    key: \"funcs\",\n    value: function funcs() {\n      return this.entries.filter(function (entry) {\n        return entry.switch().value === _stellarBase.xdr.ScSpecEntryKind.scSpecEntryFunctionV0().value;\n      }).map(function (entry) {\n        return entry.functionV0();\n      });\n    }\n  }, {\n    key: \"getFunc\",\n    value: function getFunc(name) {\n      var entry = this.findEntry(name);\n      if (entry.switch().value !== _stellarBase.xdr.ScSpecEntryKind.scSpecEntryFunctionV0().value) {\n        throw new Error(\"\".concat(name, \" is not a function\"));\n      }\n      return entry.functionV0();\n    }\n  }, {\n    key: \"funcArgsToScVals\",\n    value: function funcArgsToScVals(name, args) {\n      var _this = this;\n      var fn = this.getFunc(name);\n      return fn.inputs().map(function (input) {\n        return _this.nativeToScVal(readObj(args, input), input.type());\n      });\n    }\n  }, {\n    key: \"funcResToNative\",\n    value: function funcResToNative(name, val_or_base64) {\n      var val = typeof val_or_base64 === \"string\" ? _stellarBase.xdr.ScVal.fromXDR(val_or_base64, \"base64\") : val_or_base64;\n      var func = this.getFunc(name);\n      var outputs = func.outputs();\n      if (outputs.length === 0) {\n        var type = val.switch();\n        if (type.value !== _stellarBase.xdr.ScValType.scvVoid().value) {\n          throw new Error(\"Expected void, got \".concat(type.name));\n        }\n        return null;\n      }\n      if (outputs.length > 1) {\n        throw new Error(\"Multiple outputs not supported\");\n      }\n      var output = outputs[0];\n      if (output.switch().value === _stellarBase.xdr.ScSpecType.scSpecTypeResult().value) {\n        return new _rust_result.Ok(this.scValToNative(val, output.result().okType()));\n      }\n      return this.scValToNative(val, output);\n    }\n  }, {\n    key: \"findEntry\",\n    value: function findEntry(name) {\n      var entry = this.entries.find(function (e) {\n        return e.value().name().toString() === name;\n      });\n      if (!entry) {\n        throw new Error(\"no such entry: \".concat(name));\n      }\n      return entry;\n    }\n  }, {\n    key: \"nativeToScVal\",\n    value: function nativeToScVal(val, ty) {\n      var _this2 = this;\n      var t = ty.switch();\n      var value = t.value;\n      if (t.value === _stellarBase.xdr.ScSpecType.scSpecTypeUdt().value) {\n        var udt = ty.udt();\n        return this.nativeToUdt(val, udt.name().toString());\n      }\n      if (value === _stellarBase.xdr.ScSpecType.scSpecTypeOption().value) {\n        var opt = ty.option();\n        if (val === null || val === undefined) {\n          return _stellarBase.xdr.ScVal.scvVoid();\n        }\n        return this.nativeToScVal(val, opt.valueType());\n      }\n      switch (_typeof(val)) {\n        case \"object\":\n          {\n            var _val$constructor$name, _val$constructor;\n            if (val === null) {\n              switch (value) {\n                case _stellarBase.xdr.ScSpecType.scSpecTypeVoid().value:\n                  return _stellarBase.xdr.ScVal.scvVoid();\n                default:\n                  throw new TypeError(\"Type \".concat(ty, \" was not void, but value was null\"));\n              }\n            }\n            if (val instanceof _stellarBase.xdr.ScVal) {\n              return val;\n            }\n            if (val instanceof _stellarBase.Address) {\n              if (ty.switch().value !== _stellarBase.xdr.ScSpecType.scSpecTypeAddress().value) {\n                throw new TypeError(\"Type \".concat(ty, \" was not address, but value was Address\"));\n              }\n              return val.toScVal();\n            }\n            if (val instanceof _stellarBase.Contract) {\n              if (ty.switch().value !== _stellarBase.xdr.ScSpecType.scSpecTypeAddress().value) {\n                throw new TypeError(\"Type \".concat(ty, \" was not address, but value was Address\"));\n              }\n              return val.address().toScVal();\n            }\n            if (val instanceof Uint8Array || Buffer.isBuffer(val)) {\n              var copy = Uint8Array.from(val);\n              switch (value) {\n                case _stellarBase.xdr.ScSpecType.scSpecTypeBytesN().value:\n                  {\n                    var bytesN = ty.bytesN();\n                    if (copy.length !== bytesN.n()) {\n                      throw new TypeError(\"expected \".concat(bytesN.n(), \" bytes, but got \").concat(copy.length));\n                    }\n                    return _stellarBase.xdr.ScVal.scvBytes(copy);\n                  }\n                case _stellarBase.xdr.ScSpecType.scSpecTypeBytes().value:\n                  return _stellarBase.xdr.ScVal.scvBytes(copy);\n                default:\n                  throw new TypeError(\"invalid type (\".concat(ty, \") specified for Bytes and BytesN\"));\n              }\n            }\n            if (Array.isArray(val)) {\n              switch (value) {\n                case _stellarBase.xdr.ScSpecType.scSpecTypeVec().value:\n                  {\n                    var vec = ty.vec();\n                    var elementType = vec.elementType();\n                    return _stellarBase.xdr.ScVal.scvVec(val.map(function (v) {\n                      return _this2.nativeToScVal(v, elementType);\n                    }));\n                  }\n                case _stellarBase.xdr.ScSpecType.scSpecTypeTuple().value:\n                  {\n                    var tup = ty.tuple();\n                    var valTypes = tup.valueTypes();\n                    if (val.length !== valTypes.length) {\n                      throw new TypeError(\"Tuple expects \".concat(valTypes.length, \" values, but \").concat(val.length, \" were provided\"));\n                    }\n                    return _stellarBase.xdr.ScVal.scvVec(val.map(function (v, i) {\n                      return _this2.nativeToScVal(v, valTypes[i]);\n                    }));\n                  }\n                case _stellarBase.xdr.ScSpecType.scSpecTypeMap().value:\n                  {\n                    var map = ty.map();\n                    var keyType = map.keyType();\n                    var valueType = map.valueType();\n                    return _stellarBase.xdr.ScVal.scvMap(val.map(function (entry) {\n                      var key = _this2.nativeToScVal(entry[0], keyType);\n                      var mapVal = _this2.nativeToScVal(entry[1], valueType);\n                      return new _stellarBase.xdr.ScMapEntry({\n                        key: key,\n                        val: mapVal\n                      });\n                    }));\n                  }\n                default:\n                  throw new TypeError(\"Type \".concat(ty, \" was not vec, but value was Array\"));\n              }\n            }\n            if (val.constructor === Map) {\n              if (value !== _stellarBase.xdr.ScSpecType.scSpecTypeMap().value) {\n                throw new TypeError(\"Type \".concat(ty, \" was not map, but value was Map\"));\n              }\n              var scMap = ty.map();\n              var _map = val;\n              var entries = [];\n              var values = _map.entries();\n              var res = values.next();\n              while (!res.done) {\n                var _res$value = _slicedToArray(res.value, 2),\n                  k = _res$value[0],\n                  v = _res$value[1];\n                var key = this.nativeToScVal(k, scMap.keyType());\n                var mapval = this.nativeToScVal(v, scMap.valueType());\n                entries.push(new _stellarBase.xdr.ScMapEntry({\n                  key: key,\n                  val: mapval\n                }));\n                res = values.next();\n              }\n              return _stellarBase.xdr.ScVal.scvMap(entries);\n            }\n            if (((_val$constructor$name = (_val$constructor = val.constructor) === null || _val$constructor === void 0 ? void 0 : _val$constructor.name) !== null && _val$constructor$name !== void 0 ? _val$constructor$name : \"\") !== \"Object\") {\n              var _val$constructor2;\n              throw new TypeError(\"cannot interpret \".concat((_val$constructor2 = val.constructor) === null || _val$constructor2 === void 0 ? void 0 : _val$constructor2.name, \" value as ScVal (\").concat(JSON.stringify(val), \")\"));\n            }\n            throw new TypeError(\"Received object \".concat(val, \"  did not match the provided type \").concat(ty));\n          }\n        case \"number\":\n        case \"bigint\":\n          {\n            switch (value) {\n              case _stellarBase.xdr.ScSpecType.scSpecTypeU32().value:\n                return _stellarBase.xdr.ScVal.scvU32(val);\n              case _stellarBase.xdr.ScSpecType.scSpecTypeI32().value:\n                return _stellarBase.xdr.ScVal.scvI32(val);\n              case _stellarBase.xdr.ScSpecType.scSpecTypeU64().value:\n              case _stellarBase.xdr.ScSpecType.scSpecTypeI64().value:\n              case _stellarBase.xdr.ScSpecType.scSpecTypeU128().value:\n              case _stellarBase.xdr.ScSpecType.scSpecTypeI128().value:\n              case _stellarBase.xdr.ScSpecType.scSpecTypeU256().value:\n              case _stellarBase.xdr.ScSpecType.scSpecTypeI256().value:\n              case _stellarBase.xdr.ScSpecType.scSpecTypeTimepoint().value:\n              case _stellarBase.xdr.ScSpecType.scSpecTypeDuration().value:\n                {\n                  var intType = t.name.substring(10).toLowerCase();\n                  return new _stellarBase.XdrLargeInt(intType, val).toScVal();\n                }\n              default:\n                throw new TypeError(\"invalid type (\".concat(ty, \") specified for integer\"));\n            }\n          }\n        case \"string\":\n          return stringToScVal(val, t);\n        case \"boolean\":\n          {\n            if (value !== _stellarBase.xdr.ScSpecType.scSpecTypeBool().value) {\n              throw TypeError(\"Type \".concat(ty, \" was not bool, but value was bool\"));\n            }\n            return _stellarBase.xdr.ScVal.scvBool(val);\n          }\n        case \"undefined\":\n          {\n            if (!ty) {\n              return _stellarBase.xdr.ScVal.scvVoid();\n            }\n            switch (value) {\n              case _stellarBase.xdr.ScSpecType.scSpecTypeVoid().value:\n              case _stellarBase.xdr.ScSpecType.scSpecTypeOption().value:\n                return _stellarBase.xdr.ScVal.scvVoid();\n              default:\n                throw new TypeError(\"Type \".concat(ty, \" was not void, but value was undefined\"));\n            }\n          }\n        case \"function\":\n          return this.nativeToScVal(val(), ty);\n        default:\n          throw new TypeError(\"failed to convert typeof \".concat(_typeof(val), \" (\").concat(val, \")\"));\n      }\n    }\n  }, {\n    key: \"nativeToUdt\",\n    value: function nativeToUdt(val, name) {\n      var entry = this.findEntry(name);\n      switch (entry.switch()) {\n        case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtEnumV0():\n          if (typeof val !== \"number\") {\n            throw new TypeError(\"expected number for enum \".concat(name, \", but got \").concat(_typeof(val)));\n          }\n          return this.nativeToEnum(val, entry.udtEnumV0());\n        case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtStructV0():\n          return this.nativeToStruct(val, entry.udtStructV0());\n        case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtUnionV0():\n          return this.nativeToUnion(val, entry.udtUnionV0());\n        default:\n          throw new Error(\"failed to parse udt \".concat(name));\n      }\n    }\n  }, {\n    key: \"nativeToUnion\",\n    value: function nativeToUnion(val, union_) {\n      var _this3 = this;\n      var entryName = val.tag;\n      var caseFound = union_.cases().find(function (entry) {\n        var caseN = entry.value().name().toString();\n        return caseN === entryName;\n      });\n      if (!caseFound) {\n        throw new TypeError(\"no such enum entry: \".concat(entryName, \" in \").concat(union_));\n      }\n      var key = _stellarBase.xdr.ScVal.scvSymbol(entryName);\n      switch (caseFound.switch()) {\n        case _stellarBase.xdr.ScSpecUdtUnionCaseV0Kind.scSpecUdtUnionCaseVoidV0():\n          {\n            return _stellarBase.xdr.ScVal.scvVec([key]);\n          }\n        case _stellarBase.xdr.ScSpecUdtUnionCaseV0Kind.scSpecUdtUnionCaseTupleV0():\n          {\n            var types = caseFound.tupleCase().type();\n            if (Array.isArray(val.values)) {\n              if (val.values.length !== types.length) {\n                throw new TypeError(\"union \".concat(union_, \" expects \").concat(types.length, \" values, but got \").concat(val.values.length));\n              }\n              var scvals = val.values.map(function (v, i) {\n                return _this3.nativeToScVal(v, types[i]);\n              });\n              scvals.unshift(key);\n              return _stellarBase.xdr.ScVal.scvVec(scvals);\n            }\n            throw new Error(\"failed to parse union case \".concat(caseFound, \" with \").concat(val));\n          }\n        default:\n          throw new Error(\"failed to parse union \".concat(union_, \" with \").concat(val));\n      }\n    }\n  }, {\n    key: \"nativeToStruct\",\n    value: function nativeToStruct(val, struct) {\n      var _this4 = this;\n      var fields = struct.fields();\n      if (fields.some(isNumeric)) {\n        if (!fields.every(isNumeric)) {\n          throw new Error(\"mixed numeric and non-numeric field names are not allowed\");\n        }\n        return _stellarBase.xdr.ScVal.scvVec(fields.map(function (_, i) {\n          return _this4.nativeToScVal(val[i], fields[i].type());\n        }));\n      }\n      return _stellarBase.xdr.ScVal.scvMap(fields.map(function (field) {\n        var name = field.name().toString();\n        return new _stellarBase.xdr.ScMapEntry({\n          key: _this4.nativeToScVal(name, _stellarBase.xdr.ScSpecTypeDef.scSpecTypeSymbol()),\n          val: _this4.nativeToScVal(val[name], field.type())\n        });\n      }));\n    }\n  }, {\n    key: \"nativeToEnum\",\n    value: function nativeToEnum(val, enum_) {\n      if (enum_.cases().some(function (entry) {\n        return entry.value() === val;\n      })) {\n        return _stellarBase.xdr.ScVal.scvU32(val);\n      }\n      throw new TypeError(\"no such enum entry: \".concat(val, \" in \").concat(enum_));\n    }\n  }, {\n    key: \"scValStrToNative\",\n    value: function scValStrToNative(scv, typeDef) {\n      return this.scValToNative(_stellarBase.xdr.ScVal.fromXDR(scv, \"base64\"), typeDef);\n    }\n  }, {\n    key: \"scValToNative\",\n    value: function scValToNative(scv, typeDef) {\n      var _this5 = this;\n      var t = typeDef.switch();\n      var value = t.value;\n      if (value === _stellarBase.xdr.ScSpecType.scSpecTypeOption().value) {\n        switch (scv.switch().value) {\n          case _stellarBase.xdr.ScValType.scvVoid().value:\n            return null;\n          default:\n            return this.scValToNative(scv, typeDef.option().valueType());\n        }\n      }\n      if (value === _stellarBase.xdr.ScSpecType.scSpecTypeUdt().value) {\n        return this.scValUdtToNative(scv, typeDef.udt());\n      }\n      switch (scv.switch().value) {\n        case _stellarBase.xdr.ScValType.scvVoid().value:\n          return null;\n        case _stellarBase.xdr.ScValType.scvU64().value:\n        case _stellarBase.xdr.ScValType.scvI64().value:\n        case _stellarBase.xdr.ScValType.scvTimepoint().value:\n        case _stellarBase.xdr.ScValType.scvDuration().value:\n        case _stellarBase.xdr.ScValType.scvU128().value:\n        case _stellarBase.xdr.ScValType.scvI128().value:\n        case _stellarBase.xdr.ScValType.scvU256().value:\n        case _stellarBase.xdr.ScValType.scvI256().value:\n          return (0, _stellarBase.scValToBigInt)(scv);\n        case _stellarBase.xdr.ScValType.scvVec().value:\n          {\n            if (value === _stellarBase.xdr.ScSpecType.scSpecTypeVec().value) {\n              var _scv$vec;\n              var vec = typeDef.vec();\n              return ((_scv$vec = scv.vec()) !== null && _scv$vec !== void 0 ? _scv$vec : []).map(function (elm) {\n                return _this5.scValToNative(elm, vec.elementType());\n              });\n            }\n            if (value === _stellarBase.xdr.ScSpecType.scSpecTypeTuple().value) {\n              var _scv$vec2;\n              var tuple = typeDef.tuple();\n              var valTypes = tuple.valueTypes();\n              return ((_scv$vec2 = scv.vec()) !== null && _scv$vec2 !== void 0 ? _scv$vec2 : []).map(function (elm, i) {\n                return _this5.scValToNative(elm, valTypes[i]);\n              });\n            }\n            throw new TypeError(\"Type \".concat(typeDef, \" was not vec, but \").concat(scv, \" is\"));\n          }\n        case _stellarBase.xdr.ScValType.scvAddress().value:\n          return _stellarBase.Address.fromScVal(scv).toString();\n        case _stellarBase.xdr.ScValType.scvMap().value:\n          {\n            var _scv$map;\n            var map = (_scv$map = scv.map()) !== null && _scv$map !== void 0 ? _scv$map : [];\n            if (value === _stellarBase.xdr.ScSpecType.scSpecTypeMap().value) {\n              var typed = typeDef.map();\n              var keyType = typed.keyType();\n              var valueType = typed.valueType();\n              var res = map.map(function (entry) {\n                return [_this5.scValToNative(entry.key(), keyType), _this5.scValToNative(entry.val(), valueType)];\n              });\n              return res;\n            }\n            throw new TypeError(\"ScSpecType \".concat(t.name, \" was not map, but \").concat(JSON.stringify(scv, null, 2), \" is\"));\n          }\n        case _stellarBase.xdr.ScValType.scvBool().value:\n        case _stellarBase.xdr.ScValType.scvU32().value:\n        case _stellarBase.xdr.ScValType.scvI32().value:\n        case _stellarBase.xdr.ScValType.scvBytes().value:\n          return scv.value();\n        case _stellarBase.xdr.ScValType.scvString().value:\n        case _stellarBase.xdr.ScValType.scvSymbol().value:\n          {\n            var _scv$value;\n            if (value !== _stellarBase.xdr.ScSpecType.scSpecTypeString().value && value !== _stellarBase.xdr.ScSpecType.scSpecTypeSymbol().value) {\n              throw new Error(\"ScSpecType \".concat(t.name, \" was not string or symbol, but \").concat(JSON.stringify(scv, null, 2), \" is\"));\n            }\n            return (_scv$value = scv.value()) === null || _scv$value === void 0 ? void 0 : _scv$value.toString();\n          }\n        default:\n          throw new TypeError(\"failed to convert \".concat(JSON.stringify(scv, null, 2), \" to native type from type \").concat(t.name));\n      }\n    }\n  }, {\n    key: \"scValUdtToNative\",\n    value: function scValUdtToNative(scv, udt) {\n      var entry = this.findEntry(udt.name().toString());\n      switch (entry.switch()) {\n        case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtEnumV0():\n          return this.enumToNative(scv);\n        case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtStructV0():\n          return this.structToNative(scv, entry.udtStructV0());\n        case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtUnionV0():\n          return this.unionToNative(scv, entry.udtUnionV0());\n        default:\n          throw new Error(\"failed to parse udt \".concat(udt.name().toString(), \": \").concat(entry));\n      }\n    }\n  }, {\n    key: \"unionToNative\",\n    value: function unionToNative(val, udt) {\n      var _this6 = this;\n      var vec = val.vec();\n      if (!vec) {\n        throw new Error(\"\".concat(JSON.stringify(val, null, 2), \" is not a vec\"));\n      }\n      if (vec.length === 0 && udt.cases.length !== 0) {\n        throw new Error(\"\".concat(val, \" has length 0, but the there are at least one case in the union\"));\n      }\n      var name = vec[0].sym().toString();\n      if (vec[0].switch().value !== _stellarBase.xdr.ScValType.scvSymbol().value) {\n        throw new Error(\"{vec[0]} is not a symbol\");\n      }\n      var entry = udt.cases().find(findCase(name));\n      if (!entry) {\n        throw new Error(\"failed to find entry \".concat(name, \" in union {udt.name().toString()}\"));\n      }\n      var res = {\n        tag: name\n      };\n      if (entry.switch().value === _stellarBase.xdr.ScSpecUdtUnionCaseV0Kind.scSpecUdtUnionCaseTupleV0().value) {\n        var tuple = entry.tupleCase();\n        var ty = tuple.type();\n        var values = ty.map(function (e, i) {\n          return _this6.scValToNative(vec[i + 1], e);\n        });\n        res.values = values;\n      }\n      return res;\n    }\n  }, {\n    key: \"structToNative\",\n    value: function structToNative(val, udt) {\n      var _this7 = this,\n        _val$map;\n      var res = {};\n      var fields = udt.fields();\n      if (fields.some(isNumeric)) {\n        var _val$vec;\n        var r = (_val$vec = val.vec()) === null || _val$vec === void 0 ? void 0 : _val$vec.map(function (entry, i) {\n          return _this7.scValToNative(entry, fields[i].type());\n        });\n        return r;\n      }\n      (_val$map = val.map()) === null || _val$map === void 0 || _val$map.forEach(function (entry, i) {\n        var field = fields[i];\n        res[field.name().toString()] = _this7.scValToNative(entry.val(), field.type());\n      });\n      return res;\n    }\n  }, {\n    key: \"enumToNative\",\n    value: function enumToNative(scv) {\n      if (scv.switch().value !== _stellarBase.xdr.ScValType.scvU32().value) {\n        throw new Error(\"Enum must have a u32 value\");\n      }\n      var num = scv.u32();\n      return num;\n    }\n  }, {\n    key: \"errorCases\",\n    value: function errorCases() {\n      return this.entries.filter(function (entry) {\n        return entry.switch().value === _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtErrorEnumV0().value;\n      }).flatMap(function (entry) {\n        return entry.value().cases();\n      });\n    }\n  }, {\n    key: \"jsonSchema\",\n    value: function jsonSchema(funcName) {\n      var definitions = {};\n      this.entries.forEach(function (entry) {\n        switch (entry.switch().value) {\n          case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtEnumV0().value:\n            {\n              var udt = entry.udtEnumV0();\n              definitions[udt.name().toString()] = enumToJsonSchema(udt);\n              break;\n            }\n          case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtStructV0().value:\n            {\n              var _udt = entry.udtStructV0();\n              definitions[_udt.name().toString()] = structToJsonSchema(_udt);\n              break;\n            }\n          case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtUnionV0().value:\n            {\n              var _udt2 = entry.udtUnionV0();\n              definitions[_udt2.name().toString()] = unionToJsonSchema(_udt2);\n              break;\n            }\n          case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryFunctionV0().value:\n            {\n              var fn = entry.functionV0();\n              var fnName = fn.name().toString();\n              var _functionToJsonSchema = functionToJsonSchema(fn),\n                input = _functionToJsonSchema.input;\n              definitions[fnName] = input;\n              break;\n            }\n          case _stellarBase.xdr.ScSpecEntryKind.scSpecEntryUdtErrorEnumV0().value:\n            {}\n        }\n      });\n      var res = {\n        $schema: \"http://json-schema.org/draft-07/schema#\",\n        definitions: _objectSpread(_objectSpread({}, PRIMITIVE_DEFINITONS), definitions)\n      };\n      if (funcName) {\n        res.$ref = \"#/definitions/\".concat(funcName);\n      }\n      return res;\n    }\n  }], [{\n    key: \"fromWasm\",\n    value: function fromWasm(wasm) {\n      var spec = (0, _wasm_spec_parser.specFromWasm)(wasm);\n      return new Spec(spec);\n    }\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC9zcGVjLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLFlBQVk7QUFDWixtQkFBbUIsbUJBQU8sQ0FBQyxzRkFBdUI7QUFDbEQsbUJBQW1CLG1CQUFPLENBQUMsMkhBQWU7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLCtHQUFTO0FBQzlCLHdCQUF3QixtQkFBTyxDQUFDLHFJQUFvQjtBQUNwRCx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLGdDQUFnQztBQUNoQyw4QkFBOEI7QUFDOUIsNkNBQTZDLFNBQVMsMERBQTBELFVBQVUsZ0NBQWdDO0FBQzFKLG1DQUFtQywrQ0FBK0MsOEJBQThCLE9BQU8sa0JBQWtCO0FBQ3pJLHVDQUF1QyxrR0FBa0csaUJBQWlCLHdDQUF3QyxNQUFNLHlDQUF5Qyw2QkFBNkIsVUFBVSxZQUFZLGtFQUFrRSxXQUFXLFlBQVksaUJBQWlCLFVBQVUsTUFBTSwyRUFBMkUsVUFBVSxvQkFBb0I7QUFDdmdCLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGtDQUFrQyxFQUFFLHFCQUFxQixFQUFFLG1CQUFtQixFQUFFO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLHNCQUFzQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2NvbnRyYWN0L3NwZWMuanM/NTZmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU3BlYyA9IHZvaWQgMDtcbnZhciBfc3RlbGxhckJhc2UgPSByZXF1aXJlKFwiQHN0ZWxsYXIvc3RlbGxhci1iYXNlXCIpO1xudmFyIF9ydXN0X3Jlc3VsdCA9IHJlcXVpcmUoXCIuL3J1c3RfcmVzdWx0XCIpO1xudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIF93YXNtX3NwZWNfcGFyc2VyID0gcmVxdWlyZShcIi4vd2FzbV9zcGVjX3BhcnNlclwiKTtcbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbmZ1bmN0aW9uIGVudW1Ub0pzb25TY2hlbWEodWR0KSB7XG4gIHZhciBkZXNjcmlwdGlvbiA9IHVkdC5kb2MoKS50b1N0cmluZygpO1xuICB2YXIgY2FzZXMgPSB1ZHQuY2FzZXMoKTtcbiAgdmFyIG9uZU9mID0gW107XG4gIGNhc2VzLmZvckVhY2goZnVuY3Rpb24gKGFDYXNlKSB7XG4gICAgdmFyIHRpdGxlID0gYUNhc2UubmFtZSgpLnRvU3RyaW5nKCk7XG4gICAgdmFyIGRlc2MgPSBhQ2FzZS5kb2MoKS50b1N0cmluZygpO1xuICAgIG9uZU9mLnB1c2goe1xuICAgICAgZGVzY3JpcHRpb246IGRlc2MsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBlbnVtOiBbYUNhc2UudmFsdWUoKV0sXG4gICAgICB0eXBlOiBcIm51bWJlclwiXG4gICAgfSk7XG4gIH0pO1xuICB2YXIgcmVzID0ge1xuICAgIG9uZU9mOiBvbmVPZlxuICB9O1xuICBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoID4gMCkge1xuICAgIHJlcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBpc051bWVyaWMoZmllbGQpIHtcbiAgcmV0dXJuIC9eXFxkKyQvLnRlc3QoZmllbGQubmFtZSgpLnRvU3RyaW5nKCkpO1xufVxuZnVuY3Rpb24gcmVhZE9iaihhcmdzLCBpbnB1dCkge1xuICB2YXIgaW5wdXROYW1lID0gaW5wdXQubmFtZSgpLnRvU3RyaW5nKCk7XG4gIHZhciBlbnRyeSA9IE9iamVjdC5lbnRyaWVzKGFyZ3MpLmZpbmQoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAxKSxcbiAgICAgIG5hbWUgPSBfcmVmMlswXTtcbiAgICByZXR1cm4gbmFtZSA9PT0gaW5wdXROYW1lO1xuICB9KTtcbiAgaWYgKCFlbnRyeSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZmllbGQgXCIuY29uY2F0KGlucHV0TmFtZSkpO1xuICB9XG4gIHJldHVybiBlbnRyeVsxXTtcbn1cbmZ1bmN0aW9uIGZpbmRDYXNlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1hdGNoZXMoZW50cnkpIHtcbiAgICBzd2l0Y2ggKGVudHJ5LnN3aXRjaCgpLnZhbHVlKSB7XG4gICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVWR0VW5pb25DYXNlVjBLaW5kLnNjU3BlY1VkdFVuaW9uQ2FzZVR1cGxlVjAoKS52YWx1ZTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciB0dXBsZSA9IGVudHJ5LnR1cGxlQ2FzZSgpO1xuICAgICAgICAgIHJldHVybiB0dXBsZS5uYW1lKCkudG9TdHJpbmcoKSA9PT0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1VkdFVuaW9uQ2FzZVYwS2luZC5zY1NwZWNVZHRVbmlvbkNhc2VWb2lkVjAoKS52YWx1ZTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciB2b2lkQ2FzZSA9IGVudHJ5LnZvaWRDYXNlKCk7XG4gICAgICAgICAgcmV0dXJuIHZvaWRDYXNlLm5hbWUoKS50b1N0cmluZygpID09PSBuYW1lO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gc3RyaW5nVG9TY1ZhbChzdHIsIHR5KSB7XG4gIHN3aXRjaCAodHkudmFsdWUpIHtcbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlU3RyaW5nKCkudmFsdWU6XG4gICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZTdHJpbmcoc3RyKTtcbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlU3ltYm9sKCkudmFsdWU6XG4gICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZTeW1ib2woc3RyKTtcbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlQWRkcmVzcygpLnZhbHVlOlxuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVNdXhlZEFkZHJlc3MoKS52YWx1ZTpcbiAgICAgIHJldHVybiBfc3RlbGxhckJhc2UuQWRkcmVzcy5mcm9tU3RyaW5nKHN0cikudG9TY1ZhbCgpO1xuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVVNjQoKS52YWx1ZTpcbiAgICAgIHJldHVybiBuZXcgX3N0ZWxsYXJCYXNlLlhkckxhcmdlSW50KFwidTY0XCIsIHN0cikudG9TY1ZhbCgpO1xuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVJNjQoKS52YWx1ZTpcbiAgICAgIHJldHVybiBuZXcgX3N0ZWxsYXJCYXNlLlhkckxhcmdlSW50KFwiaTY0XCIsIHN0cikudG9TY1ZhbCgpO1xuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVVMTI4KCkudmFsdWU6XG4gICAgICByZXR1cm4gbmV3IF9zdGVsbGFyQmFzZS5YZHJMYXJnZUludChcInUxMjhcIiwgc3RyKS50b1NjVmFsKCk7XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUkxMjgoKS52YWx1ZTpcbiAgICAgIHJldHVybiBuZXcgX3N0ZWxsYXJCYXNlLlhkckxhcmdlSW50KFwiaTEyOFwiLCBzdHIpLnRvU2NWYWwoKTtcbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVTI1NigpLnZhbHVlOlxuICAgICAgcmV0dXJuIG5ldyBfc3RlbGxhckJhc2UuWGRyTGFyZ2VJbnQoXCJ1MjU2XCIsIHN0cikudG9TY1ZhbCgpO1xuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVJMjU2KCkudmFsdWU6XG4gICAgICByZXR1cm4gbmV3IF9zdGVsbGFyQmFzZS5YZHJMYXJnZUludChcImkyNTZcIiwgc3RyKS50b1NjVmFsKCk7XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUJ5dGVzKCkudmFsdWU6XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUJ5dGVzTigpLnZhbHVlOlxuICAgICAgcmV0dXJuIF9zdGVsbGFyQmFzZS54ZHIuU2NWYWwuc2N2Qnl0ZXMoQnVmZmVyLmZyb20oc3RyLCBcImJhc2U2NFwiKSk7XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVRpbWVwb2ludCgpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZUaW1lcG9pbnQobmV3IF9zdGVsbGFyQmFzZS54ZHIuVWludDY0KHN0cikpO1xuICAgICAgfVxuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVEdXJhdGlvbigpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZEdXJhdGlvbihuZXcgX3N0ZWxsYXJCYXNlLnhkci5VaW50NjQoc3RyKSk7XG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIHR5cGUgXCIuY29uY2F0KHR5Lm5hbWUsIFwiIHNwZWNpZmllZCBmb3Igc3RyaW5nIHZhbHVlXCIpKTtcbiAgfVxufVxudmFyIFBSSU1JVElWRV9ERUZJTklUT05TID0ge1xuICBVMzI6IHtcbiAgICB0eXBlOiBcImludGVnZXJcIixcbiAgICBtaW5pbXVtOiAwLFxuICAgIG1heGltdW06IDQyOTQ5NjcyOTVcbiAgfSxcbiAgSTMyOiB7XG4gICAgdHlwZTogXCJpbnRlZ2VyXCIsXG4gICAgbWluaW11bTogLTIxNDc0ODM2NDgsXG4gICAgbWF4aW11bTogMjE0NzQ4MzY0N1xuICB9LFxuICBVNjQ6IHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHBhdHRlcm46IFwiXihbMS05XVswLTldKnwwKSRcIixcbiAgICBtaW5MZW5ndGg6IDEsXG4gICAgbWF4TGVuZ3RoOiAyMFxuICB9LFxuICBUaW1lcG9pbnQ6IHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHBhdHRlcm46IFwiXihbMS05XVswLTldKnwwKSRcIixcbiAgICBtaW5MZW5ndGg6IDEsXG4gICAgbWF4TGVuZ3RoOiAyMFxuICB9LFxuICBEdXJhdGlvbjoge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgcGF0dGVybjogXCJeKFsxLTldWzAtOV0qfDApJFwiLFxuICAgIG1pbkxlbmd0aDogMSxcbiAgICBtYXhMZW5ndGg6IDIwXG4gIH0sXG4gIEk2NDoge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgcGF0dGVybjogXCJeKC0/WzEtOV1bMC05XSp8MCkkXCIsXG4gICAgbWluTGVuZ3RoOiAxLFxuICAgIG1heExlbmd0aDogMjFcbiAgfSxcbiAgVTEyODoge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgcGF0dGVybjogXCJeKFsxLTldWzAtOV0qfDApJFwiLFxuICAgIG1pbkxlbmd0aDogMSxcbiAgICBtYXhMZW5ndGg6IDM5XG4gIH0sXG4gIEkxMjg6IHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHBhdHRlcm46IFwiXigtP1sxLTldWzAtOV0qfDApJFwiLFxuICAgIG1pbkxlbmd0aDogMSxcbiAgICBtYXhMZW5ndGg6IDQwXG4gIH0sXG4gIFUyNTY6IHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHBhdHRlcm46IFwiXihbMS05XVswLTldKnwwKSRcIixcbiAgICBtaW5MZW5ndGg6IDEsXG4gICAgbWF4TGVuZ3RoOiA3OFxuICB9LFxuICBJMjU2OiB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBwYXR0ZXJuOiBcIl4oLT9bMS05XVswLTldKnwwKSRcIixcbiAgICBtaW5MZW5ndGg6IDEsXG4gICAgbWF4TGVuZ3RoOiA3OVxuICB9LFxuICBBZGRyZXNzOiB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBmb3JtYXQ6IFwiYWRkcmVzc1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkFkZHJlc3MgY2FuIGJlIGEgcHVibGljIGtleSBvciBjb250cmFjdCBpZFwiXG4gIH0sXG4gIE11eGVkQWRkcmVzczoge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgZm9ybWF0OiBcImFkZHJlc3NcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTdGVsbGFyIHB1YmxpYyBrZXkgd2l0aCBNIHByZWZpeCBjb21iaW5pbmcgYSBHIGFkZHJlc3MgYW5kIHVuaXF1ZSBJRFwiXG4gIH0sXG4gIFNjU3RyaW5nOiB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTY1N0cmluZyBpcyBhIHN0cmluZ1wiXG4gIH0sXG4gIFNjU3ltYm9sOiB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTY1N5bWJvbCBpcyBhIHN0cmluZ1wiXG4gIH0sXG4gIERhdGFVcmw6IHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHBhdHRlcm46IFwiXig/OltBLVphLXowLTkrXFxcXC9dezR9KSooPzpbQS1aYS16MC05K1xcXFwvXXsyfT09fFtBLVphLXowLTkrXFxcXC9dezN9PSk/JFwiXG4gIH1cbn07XG5mdW5jdGlvbiB0eXBlUmVmKHR5cGVEZWYpIHtcbiAgdmFyIHQgPSB0eXBlRGVmLnN3aXRjaCgpO1xuICB2YXIgdmFsdWUgPSB0LnZhbHVlO1xuICB2YXIgcmVmO1xuICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVZhbCgpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZWYgPSBcIlZhbFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlQm9vbCgpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiYm9vbGVhblwiXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVZvaWQoKS52YWx1ZTpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcIm51bGxcIlxuICAgICAgICB9O1xuICAgICAgfVxuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVFcnJvcigpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZWYgPSBcIkVycm9yXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVVMzIoKS52YWx1ZTpcbiAgICAgIHtcbiAgICAgICAgcmVmID0gXCJVMzJcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUkzMigpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZWYgPSBcIkkzMlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVTY0KCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHJlZiA9IFwiVTY0XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVJNjQoKS52YWx1ZTpcbiAgICAgIHtcbiAgICAgICAgcmVmID0gXCJJNjRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVRpbWVwb2ludCgpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZWYgPSBcIlRpbWVwb2ludFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlRHVyYXRpb24oKS52YWx1ZTpcbiAgICAgIHtcbiAgICAgICAgcmVmID0gXCJEdXJhdGlvblwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVTEyOCgpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZWYgPSBcIlUxMjhcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUkxMjgoKS52YWx1ZTpcbiAgICAgIHtcbiAgICAgICAgcmVmID0gXCJJMTI4XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVVMjU2KCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHJlZiA9IFwiVTI1NlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlSTI1NigpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZWYgPSBcIkkyNTZcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUJ5dGVzKCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHJlZiA9IFwiRGF0YVVybFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlU3RyaW5nKCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHJlZiA9IFwiU2NTdHJpbmdcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVN5bWJvbCgpLnZhbHVlOlxuICAgICAge1xuICAgICAgICByZWYgPSBcIlNjU3ltYm9sXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVBZGRyZXNzKCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHJlZiA9IFwiQWRkcmVzc1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlTXV4ZWRBZGRyZXNzKCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHJlZiA9IFwiTXV4ZWRBZGRyZXNzXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVPcHRpb24oKS52YWx1ZTpcbiAgICAgIHtcbiAgICAgICAgdmFyIG9wdCA9IHR5cGVEZWYub3B0aW9uKCk7XG4gICAgICAgIHJldHVybiB0eXBlUmVmKG9wdC52YWx1ZVR5cGUoKSk7XG4gICAgICB9XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVJlc3VsdCgpLnZhbHVlOlxuICAgICAge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVmVjKCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHZhciBhcnIgPSB0eXBlRGVmLnZlYygpO1xuICAgICAgICB2YXIgcmVmZXJlbmNlID0gdHlwZVJlZihhcnIuZWxlbWVudFR5cGUoKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgIGl0ZW1zOiByZWZlcmVuY2VcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlTWFwKCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHZhciBtYXAgPSB0eXBlRGVmLm1hcCgpO1xuICAgICAgICB2YXIgaXRlbXMgPSBbdHlwZVJlZihtYXAua2V5VHlwZSgpKSwgdHlwZVJlZihtYXAudmFsdWVUeXBlKCkpXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICAgIG1pbkl0ZW1zOiAyLFxuICAgICAgICAgICAgbWF4SXRlbXM6IDJcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVR1cGxlKCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHZhciB0dXBsZSA9IHR5cGVEZWYudHVwbGUoKTtcbiAgICAgICAgdmFyIG1pbkl0ZW1zID0gdHVwbGUudmFsdWVUeXBlcygpLmxlbmd0aDtcbiAgICAgICAgdmFyIG1heEl0ZW1zID0gbWluSXRlbXM7XG4gICAgICAgIHZhciBfaXRlbXMgPSB0dXBsZS52YWx1ZVR5cGVzKCkubWFwKHR5cGVSZWYpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpdGVtczogX2l0ZW1zLFxuICAgICAgICAgIG1pbkl0ZW1zOiBtaW5JdGVtcyxcbiAgICAgICAgICBtYXhJdGVtczogbWF4SXRlbXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlQnl0ZXNOKCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHZhciBfYXJyID0gdHlwZURlZi5ieXRlc04oKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAkcmVmOiBcIiMvZGVmaW5pdGlvbnMvRGF0YVVybFwiLFxuICAgICAgICAgIG1heExlbmd0aDogX2Fyci5uKClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVWR0KCkudmFsdWU6XG4gICAgICB7XG4gICAgICAgIHZhciB1ZHQgPSB0eXBlRGVmLnVkdCgpO1xuICAgICAgICByZWYgPSB1ZHQubmFtZSgpLnRvU3RyaW5nKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgJHJlZjogXCIjL2RlZmluaXRpb25zL1wiLmNvbmNhdChyZWYpXG4gIH07XG59XG5mdW5jdGlvbiBpc1JlcXVpcmVkKHR5cGVEZWYpIHtcbiAgcmV0dXJuIHR5cGVEZWYuc3dpdGNoKCkudmFsdWUgIT09IF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlT3B0aW9uKCkudmFsdWU7XG59XG5mdW5jdGlvbiBhcmdzQW5kUmVxdWlyZWQoaW5wdXQpIHtcbiAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgdmFyIHJlcXVpcmVkID0gW107XG4gIGlucHV0LmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuICAgIHZhciBhVHlwZSA9IGFyZy50eXBlKCk7XG4gICAgdmFyIG5hbWUgPSBhcmcubmFtZSgpLnRvU3RyaW5nKCk7XG4gICAgcHJvcGVydGllc1tuYW1lXSA9IHR5cGVSZWYoYVR5cGUpO1xuICAgIGlmIChpc1JlcXVpcmVkKGFUeXBlKSkge1xuICAgICAgcmVxdWlyZWQucHVzaChuYW1lKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgcmVzID0ge1xuICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXNcbiAgfTtcbiAgaWYgKHJlcXVpcmVkLmxlbmd0aCA+IDApIHtcbiAgICByZXMucmVxdWlyZWQgPSByZXF1aXJlZDtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gc3RydWN0VG9Kc29uU2NoZW1hKHVkdCkge1xuICB2YXIgZmllbGRzID0gdWR0LmZpZWxkcygpO1xuICBpZiAoZmllbGRzLnNvbWUoaXNOdW1lcmljKSkge1xuICAgIGlmICghZmllbGRzLmV2ZXJ5KGlzTnVtZXJpYykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1peGVkIG51bWVyaWMgYW5kIG5vbi1udW1lcmljIGZpZWxkIG5hbWVzIGFyZSBub3QgYWxsb3dlZFwiKTtcbiAgICB9XG4gICAgdmFyIGl0ZW1zID0gZmllbGRzLm1hcChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgcmV0dXJuIHR5cGVSZWYoZmllbGRzW2ldLnR5cGUoKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgIG1pbkl0ZW1zOiBmaWVsZHMubGVuZ3RoLFxuICAgICAgbWF4SXRlbXM6IGZpZWxkcy5sZW5ndGhcbiAgICB9O1xuICB9XG4gIHZhciBkZXNjcmlwdGlvbiA9IHVkdC5kb2MoKS50b1N0cmluZygpO1xuICB2YXIgX2FyZ3NBbmRSZXF1aXJlZCA9IGFyZ3NBbmRSZXF1aXJlZChmaWVsZHMpLFxuICAgIHByb3BlcnRpZXMgPSBfYXJnc0FuZFJlcXVpcmVkLnByb3BlcnRpZXMsXG4gICAgcmVxdWlyZWQgPSBfYXJnc0FuZFJlcXVpcmVkLnJlcXVpcmVkO1xuICBwcm9wZXJ0aWVzLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZmFsc2U7XG4gIHJldHVybiB7XG4gICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG4gICAgcmVxdWlyZWQ6IHJlcXVpcmVkLFxuICAgIHR5cGU6IFwib2JqZWN0XCJcbiAgfTtcbn1cbmZ1bmN0aW9uIGZ1bmN0aW9uVG9Kc29uU2NoZW1hKGZ1bmMpIHtcbiAgdmFyIF9hcmdzQW5kUmVxdWlyZWQyID0gYXJnc0FuZFJlcXVpcmVkKGZ1bmMuaW5wdXRzKCkpLFxuICAgIHByb3BlcnRpZXMgPSBfYXJnc0FuZFJlcXVpcmVkMi5wcm9wZXJ0aWVzLFxuICAgIHJlcXVpcmVkID0gX2FyZ3NBbmRSZXF1aXJlZDIucmVxdWlyZWQ7XG4gIHZhciBhcmdzID0ge1xuICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxuICAgIHR5cGU6IFwib2JqZWN0XCJcbiAgfTtcbiAgaWYgKChyZXF1aXJlZCA9PT0gbnVsbCB8fCByZXF1aXJlZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWlyZWQubGVuZ3RoKSA+IDApIHtcbiAgICBhcmdzLnJlcXVpcmVkID0gcmVxdWlyZWQ7XG4gIH1cbiAgdmFyIGlucHV0ID0ge1xuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIGFyZ3M6IGFyZ3NcbiAgICB9XG4gIH07XG4gIHZhciBvdXRwdXRzID0gZnVuYy5vdXRwdXRzKCk7XG4gIHZhciBvdXRwdXQgPSBvdXRwdXRzLmxlbmd0aCA+IDAgPyB0eXBlUmVmKG91dHB1dHNbMF0pIDogdHlwZVJlZihfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGVEZWYuc2NTcGVjVHlwZVZvaWQoKSk7XG4gIHZhciBkZXNjcmlwdGlvbiA9IGZ1bmMuZG9jKCkudG9TdHJpbmcoKTtcbiAgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA+IDApIHtcbiAgICBpbnB1dC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICB9XG4gIGlucHV0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZmFsc2U7XG4gIG91dHB1dC5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICByZXR1cm4ge1xuICAgIGlucHV0OiBpbnB1dCxcbiAgICBvdXRwdXQ6IG91dHB1dFxuICB9O1xufVxuZnVuY3Rpb24gdW5pb25Ub0pzb25TY2hlbWEodWR0KSB7XG4gIHZhciBkZXNjcmlwdGlvbiA9IHVkdC5kb2MoKS50b1N0cmluZygpO1xuICB2YXIgY2FzZXMgPSB1ZHQuY2FzZXMoKTtcbiAgdmFyIG9uZU9mID0gW107XG4gIGNhc2VzLmZvckVhY2goZnVuY3Rpb24gKGFDYXNlKSB7XG4gICAgc3dpdGNoIChhQ2FzZS5zd2l0Y2goKS52YWx1ZSkge1xuICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1VkdFVuaW9uQ2FzZVYwS2luZC5zY1NwZWNVZHRVbmlvbkNhc2VWb2lkVjAoKS52YWx1ZTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBjID0gYUNhc2Uudm9pZENhc2UoKTtcbiAgICAgICAgICB2YXIgdGl0bGUgPSBjLm5hbWUoKS50b1N0cmluZygpO1xuICAgICAgICAgIG9uZU9mLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgdGFnOiB0aXRsZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJ0YWdcIl1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1VkdFVuaW9uQ2FzZVYwS2luZC5zY1NwZWNVZHRVbmlvbkNhc2VUdXBsZVYwKCkudmFsdWU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX2MgPSBhQ2FzZS50dXBsZUNhc2UoKTtcbiAgICAgICAgICB2YXIgX3RpdGxlID0gX2MubmFtZSgpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgb25lT2YucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgdGl0bGU6IF90aXRsZSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgdGFnOiBfdGl0bGUsXG4gICAgICAgICAgICAgIHZhbHVlczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICBpdGVtczogX2MudHlwZSgpLm1hcCh0eXBlUmVmKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFtcInRhZ1wiLCBcInZhbHVlc1wiXSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICB9KTtcbiAgdmFyIHJlcyA9IHtcbiAgICBvbmVPZjogb25lT2ZcbiAgfTtcbiAgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA+IDApIHtcbiAgICByZXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxudmFyIFNwZWMgPSBleHBvcnRzLlNwZWMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNwZWMoZW50cmllcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcGVjKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbnRyaWVzXCIsIFtdKTtcbiAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKGVudHJpZXMpKSB7XG4gICAgICB0aGlzLmVudHJpZXMgPSAoMCwgX3V0aWxzLnByb2Nlc3NTcGVjRW50cnlTdHJlYW0pKGVudHJpZXMpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVudHJpZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMuZW50cmllcyA9ICgwLCBfdXRpbHMucHJvY2Vzc1NwZWNFbnRyeVN0cmVhbSkoQnVmZmVyLmZyb20oZW50cmllcywgXCJiYXNlNjRcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udHJhY3Qgc3BlYyBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGVudHJ5XCIpO1xuICAgICAgfVxuICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1swXTtcbiAgICAgIGlmICh0eXBlb2YgZW50cnkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcy5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNFbnRyeS5mcm9tWERSKHMsIFwiYmFzZTY0XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IGVudHJpZXM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoU3BlYywgW3tcbiAgICBrZXk6IFwiZnVuY3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnVuY3MoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LnN3aXRjaCgpLnZhbHVlID09PSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY0VudHJ5S2luZC5zY1NwZWNFbnRyeUZ1bmN0aW9uVjAoKS52YWx1ZTtcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LmZ1bmN0aW9uVjAoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRGdW5jXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZ1bmMobmFtZSkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkobmFtZSk7XG4gICAgICBpZiAoZW50cnkuc3dpdGNoKCkudmFsdWUgIT09IF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjRW50cnlLaW5kLnNjU3BlY0VudHJ5RnVuY3Rpb25WMCgpLnZhbHVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChuYW1lLCBcIiBpcyBub3QgYSBmdW5jdGlvblwiKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW50cnkuZnVuY3Rpb25WMCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmdW5jQXJnc1RvU2NWYWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZ1bmNBcmdzVG9TY1ZhbHMobmFtZSwgYXJncykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBmbiA9IHRoaXMuZ2V0RnVuYyhuYW1lKTtcbiAgICAgIHJldHVybiBmbi5pbnB1dHMoKS5tYXAoZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5uYXRpdmVUb1NjVmFsKHJlYWRPYmooYXJncywgaW5wdXQpLCBpbnB1dC50eXBlKCkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZ1bmNSZXNUb05hdGl2ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmdW5jUmVzVG9OYXRpdmUobmFtZSwgdmFsX29yX2Jhc2U2NCkge1xuICAgICAgdmFyIHZhbCA9IHR5cGVvZiB2YWxfb3JfYmFzZTY0ID09PSBcInN0cmluZ1wiID8gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5mcm9tWERSKHZhbF9vcl9iYXNlNjQsIFwiYmFzZTY0XCIpIDogdmFsX29yX2Jhc2U2NDtcbiAgICAgIHZhciBmdW5jID0gdGhpcy5nZXRGdW5jKG5hbWUpO1xuICAgICAgdmFyIG91dHB1dHMgPSBmdW5jLm91dHB1dHMoKTtcbiAgICAgIGlmIChvdXRwdXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIgdHlwZSA9IHZhbC5zd2l0Y2goKTtcbiAgICAgICAgaWYgKHR5cGUudmFsdWUgIT09IF9zdGVsbGFyQmFzZS54ZHIuU2NWYWxUeXBlLnNjdlZvaWQoKS52YWx1ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHZvaWQsIGdvdCBcIi5jb25jYXQodHlwZS5uYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAob3V0cHV0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11bHRpcGxlIG91dHB1dHMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBvdXRwdXQgPSBvdXRwdXRzWzBdO1xuICAgICAgaWYgKG91dHB1dC5zd2l0Y2goKS52YWx1ZSA9PT0gX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVSZXN1bHQoKS52YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9ydXN0X3Jlc3VsdC5Payh0aGlzLnNjVmFsVG9OYXRpdmUodmFsLCBvdXRwdXQucmVzdWx0KCkub2tUeXBlKCkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnNjVmFsVG9OYXRpdmUodmFsLCBvdXRwdXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaW5kRW50cnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEVudHJ5KG5hbWUpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZW50cmllcy5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBlLnZhbHVlKCkubmFtZSgpLnRvU3RyaW5nKCkgPT09IG5hbWU7XG4gICAgICB9KTtcbiAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gc3VjaCBlbnRyeTogXCIuY29uY2F0KG5hbWUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibmF0aXZlVG9TY1ZhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuYXRpdmVUb1NjVmFsKHZhbCwgdHkpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdmFyIHQgPSB0eS5zd2l0Y2goKTtcbiAgICAgIHZhciB2YWx1ZSA9IHQudmFsdWU7XG4gICAgICBpZiAodC52YWx1ZSA9PT0gX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVVZHQoKS52YWx1ZSkge1xuICAgICAgICB2YXIgdWR0ID0gdHkudWR0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVRvVWR0KHZhbCwgdWR0Lm5hbWUoKS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PT0gX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVPcHRpb24oKS52YWx1ZSkge1xuICAgICAgICB2YXIgb3B0ID0gdHkub3B0aW9uKCk7XG4gICAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZWb2lkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlVG9TY1ZhbCh2YWwsIG9wdC52YWx1ZVR5cGUoKSk7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKF90eXBlb2YodmFsKSkge1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF92YWwkY29uc3RydWN0b3IkbmFtZSwgX3ZhbCRjb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVWb2lkKCkudmFsdWU6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZWb2lkKCk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUeXBlIFwiLmNvbmNhdCh0eSwgXCIgd2FzIG5vdCB2b2lkLCBidXQgdmFsdWUgd2FzIG51bGxcIikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbCkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIF9zdGVsbGFyQmFzZS5BZGRyZXNzKSB7XG4gICAgICAgICAgICAgIGlmICh0eS5zd2l0Y2goKS52YWx1ZSAhPT0gX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVBZGRyZXNzKCkudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVHlwZSBcIi5jb25jYXQodHksIFwiIHdhcyBub3QgYWRkcmVzcywgYnV0IHZhbHVlIHdhcyBBZGRyZXNzXCIpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdmFsLnRvU2NWYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBfc3RlbGxhckJhc2UuQ29udHJhY3QpIHtcbiAgICAgICAgICAgICAgaWYgKHR5LnN3aXRjaCgpLnZhbHVlICE9PSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUFkZHJlc3MoKS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUeXBlIFwiLmNvbmNhdCh0eSwgXCIgd2FzIG5vdCBhZGRyZXNzLCBidXQgdmFsdWUgd2FzIEFkZHJlc3NcIikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB2YWwuYWRkcmVzcygpLnRvU2NWYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgICAgICAgICAgIHZhciBjb3B5ID0gVWludDhBcnJheS5mcm9tKHZhbCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlQnl0ZXNOKCkudmFsdWU6XG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBieXRlc04gPSB0eS5ieXRlc04oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvcHkubGVuZ3RoICE9PSBieXRlc04ubigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4cGVjdGVkIFwiLmNvbmNhdChieXRlc04ubigpLCBcIiBieXRlcywgYnV0IGdvdCBcIikuY29uY2F0KGNvcHkubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zdGVsbGFyQmFzZS54ZHIuU2NWYWwuc2N2Qnl0ZXMoY29weSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUJ5dGVzKCkudmFsdWU6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZCeXRlcyhjb3B5KTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImludmFsaWQgdHlwZSAoXCIuY29uY2F0KHR5LCBcIikgc3BlY2lmaWVkIGZvciBCeXRlcyBhbmQgQnl0ZXNOXCIpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVZlYygpLnZhbHVlOlxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmVjID0gdHkudmVjKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50VHlwZSA9IHZlYy5lbGVtZW50VHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZWZWModmFsLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubmF0aXZlVG9TY1ZhbCh2LCBlbGVtZW50VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVHVwbGUoKS52YWx1ZTpcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR1cCA9IHR5LnR1cGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxUeXBlcyA9IHR1cC52YWx1ZVR5cGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwubGVuZ3RoICE9PSB2YWxUeXBlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVHVwbGUgZXhwZWN0cyBcIi5jb25jYXQodmFsVHlwZXMubGVuZ3RoLCBcIiB2YWx1ZXMsIGJ1dCBcIikuY29uY2F0KHZhbC5sZW5ndGgsIFwiIHdlcmUgcHJvdmlkZWRcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdlZlYyh2YWwubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5uYXRpdmVUb1NjVmFsKHYsIHZhbFR5cGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVNYXAoKS52YWx1ZTpcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IHR5Lm1hcCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5VHlwZSA9IG1hcC5rZXlUeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSBtYXAudmFsdWVUeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdk1hcCh2YWwubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpczIubmF0aXZlVG9TY1ZhbChlbnRyeVswXSwga2V5VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcFZhbCA9IF90aGlzMi5uYXRpdmVUb1NjVmFsKGVudHJ5WzFdLCB2YWx1ZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgX3N0ZWxsYXJCYXNlLnhkci5TY01hcEVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiBtYXBWYWxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVHlwZSBcIi5jb25jYXQodHksIFwiIHdhcyBub3QgdmVjLCBidXQgdmFsdWUgd2FzIEFycmF5XCIpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbC5jb25zdHJ1Y3RvciA9PT0gTWFwKSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVNYXAoKS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUeXBlIFwiLmNvbmNhdCh0eSwgXCIgd2FzIG5vdCBtYXAsIGJ1dCB2YWx1ZSB3YXMgTWFwXCIpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgc2NNYXAgPSB0eS5tYXAoKTtcbiAgICAgICAgICAgICAgdmFyIF9tYXAgPSB2YWw7XG4gICAgICAgICAgICAgIHZhciBlbnRyaWVzID0gW107XG4gICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBfbWFwLmVudHJpZXMoKTtcbiAgICAgICAgICAgICAgdmFyIHJlcyA9IHZhbHVlcy5uZXh0KCk7XG4gICAgICAgICAgICAgIHdoaWxlICghcmVzLmRvbmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3JlcyR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KHJlcy52YWx1ZSwgMiksXG4gICAgICAgICAgICAgICAgICBrID0gX3JlcyR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgICAgIHYgPSBfcmVzJHZhbHVlWzFdO1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLm5hdGl2ZVRvU2NWYWwoaywgc2NNYXAua2V5VHlwZSgpKTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwdmFsID0gdGhpcy5uYXRpdmVUb1NjVmFsKHYsIHNjTWFwLnZhbHVlVHlwZSgpKTtcbiAgICAgICAgICAgICAgICBlbnRyaWVzLnB1c2gobmV3IF9zdGVsbGFyQmFzZS54ZHIuU2NNYXBFbnRyeSh7XG4gICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgIHZhbDogbWFwdmFsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJlcyA9IHZhbHVlcy5uZXh0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9zdGVsbGFyQmFzZS54ZHIuU2NWYWwuc2N2TWFwKGVudHJpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCgoX3ZhbCRjb25zdHJ1Y3RvciRuYW1lID0gKF92YWwkY29uc3RydWN0b3IgPSB2YWwuY29uc3RydWN0b3IpID09PSBudWxsIHx8IF92YWwkY29uc3RydWN0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWwkY29uc3RydWN0b3IubmFtZSkgIT09IG51bGwgJiYgX3ZhbCRjb25zdHJ1Y3RvciRuYW1lICE9PSB2b2lkIDAgPyBfdmFsJGNvbnN0cnVjdG9yJG5hbWUgOiBcIlwiKSAhPT0gXCJPYmplY3RcIikge1xuICAgICAgICAgICAgICB2YXIgX3ZhbCRjb25zdHJ1Y3RvcjI7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3QgaW50ZXJwcmV0IFwiLmNvbmNhdCgoX3ZhbCRjb25zdHJ1Y3RvcjIgPSB2YWwuY29uc3RydWN0b3IpID09PSBudWxsIHx8IF92YWwkY29uc3RydWN0b3IyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsJGNvbnN0cnVjdG9yMi5uYW1lLCBcIiB2YWx1ZSBhcyBTY1ZhbCAoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh2YWwpLCBcIilcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJlY2VpdmVkIG9iamVjdCBcIi5jb25jYXQodmFsLCBcIiAgZGlkIG5vdCBtYXRjaCB0aGUgcHJvdmlkZWQgdHlwZSBcIikuY29uY2F0KHR5KSk7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVVMzIoKS52YWx1ZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZVMzIodmFsKTtcbiAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUkzMigpLnZhbHVlOlxuICAgICAgICAgICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdkkzMih2YWwpO1xuICAgICAgICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVTY0KCkudmFsdWU6XG4gICAgICAgICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVJNjQoKS52YWx1ZTpcbiAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVUxMjgoKS52YWx1ZTpcbiAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUkxMjgoKS52YWx1ZTpcbiAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVUyNTYoKS52YWx1ZTpcbiAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZUkyNTYoKS52YWx1ZTpcbiAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVRpbWVwb2ludCgpLnZhbHVlOlxuICAgICAgICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlRHVyYXRpb24oKS52YWx1ZTpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB2YXIgaW50VHlwZSA9IHQubmFtZS5zdWJzdHJpbmcoMTApLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IF9zdGVsbGFyQmFzZS5YZHJMYXJnZUludChpbnRUeXBlLCB2YWwpLnRvU2NWYWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImludmFsaWQgdHlwZSAoXCIuY29uY2F0KHR5LCBcIikgc3BlY2lmaWVkIGZvciBpbnRlZ2VyXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gc3RyaW5nVG9TY1ZhbCh2YWwsIHQpO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlLnNjU3BlY1R5cGVCb29sKCkudmFsdWUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiVHlwZSBcIi5jb25jYXQodHksIFwiIHdhcyBub3QgYm9vbCwgYnV0IHZhbHVlIHdhcyBib29sXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdkJvb2wodmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXR5KSB7XG4gICAgICAgICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdlZvaWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZVZvaWQoKS52YWx1ZTpcbiAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZU9wdGlvbigpLnZhbHVlOlxuICAgICAgICAgICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdlZvaWQoKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVHlwZSBcIi5jb25jYXQodHksIFwiIHdhcyBub3Qgdm9pZCwgYnV0IHZhbHVlIHdhcyB1bmRlZmluZWRcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlVG9TY1ZhbCh2YWwoKSwgdHkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJmYWlsZWQgdG8gY29udmVydCB0eXBlb2YgXCIuY29uY2F0KF90eXBlb2YodmFsKSwgXCIgKFwiKS5jb25jYXQodmFsLCBcIilcIikpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJuYXRpdmVUb1VkdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuYXRpdmVUb1VkdCh2YWwsIG5hbWUpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KG5hbWUpO1xuICAgICAgc3dpdGNoIChlbnRyeS5zd2l0Y2goKSkge1xuICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjRW50cnlLaW5kLnNjU3BlY0VudHJ5VWR0RW51bVYwKCk6XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RlZCBudW1iZXIgZm9yIGVudW0gXCIuY29uY2F0KG5hbWUsIFwiLCBidXQgZ290IFwiKS5jb25jYXQoX3R5cGVvZih2YWwpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVRvRW51bSh2YWwsIGVudHJ5LnVkdEVudW1WMCgpKTtcbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY0VudHJ5S2luZC5zY1NwZWNFbnRyeVVkdFN0cnVjdFYwKCk6XG4gICAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlVG9TdHJ1Y3QodmFsLCBlbnRyeS51ZHRTdHJ1Y3RWMCgpKTtcbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY0VudHJ5S2luZC5zY1NwZWNFbnRyeVVkdFVuaW9uVjAoKTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVUb1VuaW9uKHZhbCwgZW50cnkudWR0VW5pb25WMCgpKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gcGFyc2UgdWR0IFwiLmNvbmNhdChuYW1lKSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm5hdGl2ZVRvVW5pb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmF0aXZlVG9Vbmlvbih2YWwsIHVuaW9uXykge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgICB2YXIgZW50cnlOYW1lID0gdmFsLnRhZztcbiAgICAgIHZhciBjYXNlRm91bmQgPSB1bmlvbl8uY2FzZXMoKS5maW5kKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICB2YXIgY2FzZU4gPSBlbnRyeS52YWx1ZSgpLm5hbWUoKS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gY2FzZU4gPT09IGVudHJ5TmFtZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFjYXNlRm91bmQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vIHN1Y2ggZW51bSBlbnRyeTogXCIuY29uY2F0KGVudHJ5TmFtZSwgXCIgaW4gXCIpLmNvbmNhdCh1bmlvbl8pKTtcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdlN5bWJvbChlbnRyeU5hbWUpO1xuICAgICAgc3dpdGNoIChjYXNlRm91bmQuc3dpdGNoKCkpIHtcbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1VkdFVuaW9uQ2FzZVYwS2luZC5zY1NwZWNVZHRVbmlvbkNhc2VWb2lkVjAoKTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZWZWMoW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1VkdFVuaW9uQ2FzZVYwS2luZC5zY1NwZWNVZHRVbmlvbkNhc2VUdXBsZVYwKCk6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIHR5cGVzID0gY2FzZUZvdW5kLnR1cGxlQ2FzZSgpLnR5cGUoKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbC52YWx1ZXMpKSB7XG4gICAgICAgICAgICAgIGlmICh2YWwudmFsdWVzLmxlbmd0aCAhPT0gdHlwZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInVuaW9uIFwiLmNvbmNhdCh1bmlvbl8sIFwiIGV4cGVjdHMgXCIpLmNvbmNhdCh0eXBlcy5sZW5ndGgsIFwiIHZhbHVlcywgYnV0IGdvdCBcIikuY29uY2F0KHZhbC52YWx1ZXMubGVuZ3RoKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIHNjdmFscyA9IHZhbC52YWx1ZXMubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5uYXRpdmVUb1NjVmFsKHYsIHR5cGVzW2ldKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHNjdmFscy51bnNoaWZ0KGtleSk7XG4gICAgICAgICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdlZlYyhzY3ZhbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIHBhcnNlIHVuaW9uIGNhc2UgXCIuY29uY2F0KGNhc2VGb3VuZCwgXCIgd2l0aCBcIikuY29uY2F0KHZhbCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gcGFyc2UgdW5pb24gXCIuY29uY2F0KHVuaW9uXywgXCIgd2l0aCBcIikuY29uY2F0KHZhbCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJuYXRpdmVUb1N0cnVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuYXRpdmVUb1N0cnVjdCh2YWwsIHN0cnVjdCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG4gICAgICB2YXIgZmllbGRzID0gc3RydWN0LmZpZWxkcygpO1xuICAgICAgaWYgKGZpZWxkcy5zb21lKGlzTnVtZXJpYykpIHtcbiAgICAgICAgaWYgKCFmaWVsZHMuZXZlcnkoaXNOdW1lcmljKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1peGVkIG51bWVyaWMgYW5kIG5vbi1udW1lcmljIGZpZWxkIG5hbWVzIGFyZSBub3QgYWxsb3dlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZWZWMoZmllbGRzLm1hcChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczQubmF0aXZlVG9TY1ZhbCh2YWxbaV0sIGZpZWxkc1tpXS50eXBlKCkpO1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5zY3ZNYXAoZmllbGRzLm1hcChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBmaWVsZC5uYW1lKCkudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfc3RlbGxhckJhc2UueGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgIGtleTogX3RoaXM0Lm5hdGl2ZVRvU2NWYWwobmFtZSwgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNUeXBlRGVmLnNjU3BlY1R5cGVTeW1ib2woKSksXG4gICAgICAgICAgdmFsOiBfdGhpczQubmF0aXZlVG9TY1ZhbCh2YWxbbmFtZV0sIGZpZWxkLnR5cGUoKSlcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm5hdGl2ZVRvRW51bVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuYXRpdmVUb0VudW0odmFsLCBlbnVtXykge1xuICAgICAgaWYgKGVudW1fLmNhc2VzKCkuc29tZShmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlKCkgPT09IHZhbDtcbiAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLnNjdlUzMih2YWwpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vIHN1Y2ggZW51bSBlbnRyeTogXCIuY29uY2F0KHZhbCwgXCIgaW4gXCIpLmNvbmNhdChlbnVtXykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzY1ZhbFN0clRvTmF0aXZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjVmFsU3RyVG9OYXRpdmUoc2N2LCB0eXBlRGVmKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY1ZhbFRvTmF0aXZlKF9zdGVsbGFyQmFzZS54ZHIuU2NWYWwuZnJvbVhEUihzY3YsIFwiYmFzZTY0XCIpLCB0eXBlRGVmKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2NWYWxUb05hdGl2ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY1ZhbFRvTmF0aXZlKHNjdiwgdHlwZURlZikge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG4gICAgICB2YXIgdCA9IHR5cGVEZWYuc3dpdGNoKCk7XG4gICAgICB2YXIgdmFsdWUgPSB0LnZhbHVlO1xuICAgICAgaWYgKHZhbHVlID09PSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1R5cGUuc2NTcGVjVHlwZU9wdGlvbigpLnZhbHVlKSB7XG4gICAgICAgIHN3aXRjaCAoc2N2LnN3aXRjaCgpLnZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjVmFsVHlwZS5zY3ZWb2lkKCkudmFsdWU6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NWYWxUb05hdGl2ZShzY3YsIHR5cGVEZWYub3B0aW9uKCkudmFsdWVUeXBlKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT09IF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVWR0KCkudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NWYWxVZHRUb05hdGl2ZShzY3YsIHR5cGVEZWYudWR0KCkpO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChzY3Yuc3dpdGNoKCkudmFsdWUpIHtcbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjVmFsVHlwZS5zY3ZWb2lkKCkudmFsdWU6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2VTY0KCkudmFsdWU6XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2STY0KCkudmFsdWU6XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2VGltZXBvaW50KCkudmFsdWU6XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2RHVyYXRpb24oKS52YWx1ZTpcbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjVmFsVHlwZS5zY3ZVMTI4KCkudmFsdWU6XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2STEyOCgpLnZhbHVlOlxuICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NWYWxUeXBlLnNjdlUyNTYoKS52YWx1ZTpcbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjVmFsVHlwZS5zY3ZJMjU2KCkudmFsdWU6XG4gICAgICAgICAgcmV0dXJuICgwLCBfc3RlbGxhckJhc2Uuc2NWYWxUb0JpZ0ludCkoc2N2KTtcbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjVmFsVHlwZS5zY3ZWZWMoKS52YWx1ZTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVmVjKCkudmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIF9zY3YkdmVjO1xuICAgICAgICAgICAgICB2YXIgdmVjID0gdHlwZURlZi52ZWMoKTtcbiAgICAgICAgICAgICAgcmV0dXJuICgoX3NjdiR2ZWMgPSBzY3YudmVjKCkpICE9PSBudWxsICYmIF9zY3YkdmVjICE9PSB2b2lkIDAgPyBfc2N2JHZlYyA6IFtdKS5tYXAoZnVuY3Rpb24gKGVsbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuc2NWYWxUb05hdGl2ZShlbG0sIHZlYy5lbGVtZW50VHlwZSgpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlVHVwbGUoKS52YWx1ZSkge1xuICAgICAgICAgICAgICB2YXIgX3NjdiR2ZWMyO1xuICAgICAgICAgICAgICB2YXIgdHVwbGUgPSB0eXBlRGVmLnR1cGxlKCk7XG4gICAgICAgICAgICAgIHZhciB2YWxUeXBlcyA9IHR1cGxlLnZhbHVlVHlwZXMoKTtcbiAgICAgICAgICAgICAgcmV0dXJuICgoX3NjdiR2ZWMyID0gc2N2LnZlYygpKSAhPT0gbnVsbCAmJiBfc2N2JHZlYzIgIT09IHZvaWQgMCA/IF9zY3YkdmVjMiA6IFtdKS5tYXAoZnVuY3Rpb24gKGVsbSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuc2NWYWxUb05hdGl2ZShlbG0sIHZhbFR5cGVzW2ldKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVHlwZSBcIi5jb25jYXQodHlwZURlZiwgXCIgd2FzIG5vdCB2ZWMsIGJ1dCBcIikuY29uY2F0KHNjdiwgXCIgaXNcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjVmFsVHlwZS5zY3ZBZGRyZXNzKCkudmFsdWU6XG4gICAgICAgICAgcmV0dXJuIF9zdGVsbGFyQmFzZS5BZGRyZXNzLmZyb21TY1ZhbChzY3YpLnRvU3RyaW5nKCk7XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2TWFwKCkudmFsdWU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9zY3YkbWFwO1xuICAgICAgICAgICAgdmFyIG1hcCA9IChfc2N2JG1hcCA9IHNjdi5tYXAoKSkgIT09IG51bGwgJiYgX3NjdiRtYXAgIT09IHZvaWQgMCA/IF9zY3YkbWFwIDogW107XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlTWFwKCkudmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIHR5cGVkID0gdHlwZURlZi5tYXAoKTtcbiAgICAgICAgICAgICAgdmFyIGtleVR5cGUgPSB0eXBlZC5rZXlUeXBlKCk7XG4gICAgICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSB0eXBlZC52YWx1ZVR5cGUoKTtcbiAgICAgICAgICAgICAgdmFyIHJlcyA9IG1hcC5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtfdGhpczUuc2NWYWxUb05hdGl2ZShlbnRyeS5rZXkoKSwga2V5VHlwZSksIF90aGlzNS5zY1ZhbFRvTmF0aXZlKGVudHJ5LnZhbCgpLCB2YWx1ZVR5cGUpXTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2NTcGVjVHlwZSBcIi5jb25jYXQodC5uYW1lLCBcIiB3YXMgbm90IG1hcCwgYnV0IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2N2LCBudWxsLCAyKSwgXCIgaXNcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjVmFsVHlwZS5zY3ZCb29sKCkudmFsdWU6XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2VTMyKCkudmFsdWU6XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2STMyKCkudmFsdWU6XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2Qnl0ZXMoKS52YWx1ZTpcbiAgICAgICAgICByZXR1cm4gc2N2LnZhbHVlKCk7XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2U3RyaW5nKCkudmFsdWU6XG4gICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2U3ltYm9sKCkudmFsdWU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9zY3YkdmFsdWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlU3RyaW5nKCkudmFsdWUgJiYgdmFsdWUgIT09IF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjVHlwZS5zY1NwZWNUeXBlU3ltYm9sKCkudmFsdWUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2NTcGVjVHlwZSBcIi5jb25jYXQodC5uYW1lLCBcIiB3YXMgbm90IHN0cmluZyBvciBzeW1ib2wsIGJ1dCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNjdiwgbnVsbCwgMiksIFwiIGlzXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoX3NjdiR2YWx1ZSA9IHNjdi52YWx1ZSgpKSA9PT0gbnVsbCB8fCBfc2N2JHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2N2JHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJmYWlsZWQgdG8gY29udmVydCBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2N2LCBudWxsLCAyKSwgXCIgdG8gbmF0aXZlIHR5cGUgZnJvbSB0eXBlIFwiKS5jb25jYXQodC5uYW1lKSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNjVmFsVWR0VG9OYXRpdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2NWYWxVZHRUb05hdGl2ZShzY3YsIHVkdCkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkodWR0Lm5hbWUoKS50b1N0cmluZygpKTtcbiAgICAgIHN3aXRjaCAoZW50cnkuc3dpdGNoKCkpIHtcbiAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY0VudHJ5S2luZC5zY1NwZWNFbnRyeVVkdEVudW1WMCgpOlxuICAgICAgICAgIHJldHVybiB0aGlzLmVudW1Ub05hdGl2ZShzY3YpO1xuICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjRW50cnlLaW5kLnNjU3BlY0VudHJ5VWR0U3RydWN0VjAoKTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3RUb05hdGl2ZShzY3YsIGVudHJ5LnVkdFN0cnVjdFYwKCkpO1xuICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjRW50cnlLaW5kLnNjU3BlY0VudHJ5VWR0VW5pb25WMCgpOlxuICAgICAgICAgIHJldHVybiB0aGlzLnVuaW9uVG9OYXRpdmUoc2N2LCBlbnRyeS51ZHRVbmlvblYwKCkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBwYXJzZSB1ZHQgXCIuY29uY2F0KHVkdC5uYW1lKCkudG9TdHJpbmcoKSwgXCI6IFwiKS5jb25jYXQoZW50cnkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW5pb25Ub05hdGl2ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmlvblRvTmF0aXZlKHZhbCwgdWR0KSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcbiAgICAgIHZhciB2ZWMgPSB2YWwudmVjKCk7XG4gICAgICBpZiAoIXZlYykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodmFsLCBudWxsLCAyKSwgXCIgaXMgbm90IGEgdmVjXCIpKTtcbiAgICAgIH1cbiAgICAgIGlmICh2ZWMubGVuZ3RoID09PSAwICYmIHVkdC5jYXNlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHZhbCwgXCIgaGFzIGxlbmd0aCAwLCBidXQgdGhlIHRoZXJlIGFyZSBhdCBsZWFzdCBvbmUgY2FzZSBpbiB0aGUgdW5pb25cIikpO1xuICAgICAgfVxuICAgICAgdmFyIG5hbWUgPSB2ZWNbMF0uc3ltKCkudG9TdHJpbmcoKTtcbiAgICAgIGlmICh2ZWNbMF0uc3dpdGNoKCkudmFsdWUgIT09IF9zdGVsbGFyQmFzZS54ZHIuU2NWYWxUeXBlLnNjdlN5bWJvbCgpLnZhbHVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInt2ZWNbMF19IGlzIG5vdCBhIHN5bWJvbFwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IHVkdC5jYXNlcygpLmZpbmQoZmluZENhc2UobmFtZSkpO1xuICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gZmluZCBlbnRyeSBcIi5jb25jYXQobmFtZSwgXCIgaW4gdW5pb24ge3VkdC5uYW1lKCkudG9TdHJpbmcoKX1cIikpO1xuICAgICAgfVxuICAgICAgdmFyIHJlcyA9IHtcbiAgICAgICAgdGFnOiBuYW1lXG4gICAgICB9O1xuICAgICAgaWYgKGVudHJ5LnN3aXRjaCgpLnZhbHVlID09PSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY1VkdFVuaW9uQ2FzZVYwS2luZC5zY1NwZWNVZHRVbmlvbkNhc2VUdXBsZVYwKCkudmFsdWUpIHtcbiAgICAgICAgdmFyIHR1cGxlID0gZW50cnkudHVwbGVDYXNlKCk7XG4gICAgICAgIHZhciB0eSA9IHR1cGxlLnR5cGUoKTtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHR5Lm1hcChmdW5jdGlvbiAoZSwgaSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczYuc2NWYWxUb05hdGl2ZSh2ZWNbaSArIDFdLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHJ1Y3RUb05hdGl2ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdHJ1Y3RUb05hdGl2ZSh2YWwsIHVkdCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXMsXG4gICAgICAgIF92YWwkbWFwO1xuICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgdmFyIGZpZWxkcyA9IHVkdC5maWVsZHMoKTtcbiAgICAgIGlmIChmaWVsZHMuc29tZShpc051bWVyaWMpKSB7XG4gICAgICAgIHZhciBfdmFsJHZlYztcbiAgICAgICAgdmFyIHIgPSAoX3ZhbCR2ZWMgPSB2YWwudmVjKCkpID09PSBudWxsIHx8IF92YWwkdmVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsJHZlYy5tYXAoZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNy5zY1ZhbFRvTmF0aXZlKGVudHJ5LCBmaWVsZHNbaV0udHlwZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgICAgKF92YWwkbWFwID0gdmFsLm1hcCgpKSA9PT0gbnVsbCB8fCBfdmFsJG1hcCA9PT0gdm9pZCAwIHx8IF92YWwkbWFwLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICAgICAgcmVzW2ZpZWxkLm5hbWUoKS50b1N0cmluZygpXSA9IF90aGlzNy5zY1ZhbFRvTmF0aXZlKGVudHJ5LnZhbCgpLCBmaWVsZC50eXBlKCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbnVtVG9OYXRpdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW51bVRvTmF0aXZlKHNjdikge1xuICAgICAgaWYgKHNjdi5zd2l0Y2goKS52YWx1ZSAhPT0gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbFR5cGUuc2N2VTMyKCkudmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW51bSBtdXN0IGhhdmUgYSB1MzIgdmFsdWVcIik7XG4gICAgICB9XG4gICAgICB2YXIgbnVtID0gc2N2LnUzMigpO1xuICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXJyb3JDYXNlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvckNhc2VzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW50cmllcy5maWx0ZXIoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5zd2l0Y2goKS52YWx1ZSA9PT0gX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNFbnRyeUtpbmQuc2NTcGVjRW50cnlVZHRFcnJvckVudW1WMCgpLnZhbHVlO1xuICAgICAgfSkuZmxhdE1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlKCkuY2FzZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJqc29uU2NoZW1hXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGpzb25TY2hlbWEoZnVuY05hbWUpIHtcbiAgICAgIHZhciBkZWZpbml0aW9ucyA9IHt9O1xuICAgICAgdGhpcy5lbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHN3aXRjaCAoZW50cnkuc3dpdGNoKCkudmFsdWUpIHtcbiAgICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjRW50cnlLaW5kLnNjU3BlY0VudHJ5VWR0RW51bVYwKCkudmFsdWU6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciB1ZHQgPSBlbnRyeS51ZHRFbnVtVjAoKTtcbiAgICAgICAgICAgICAgZGVmaW5pdGlvbnNbdWR0Lm5hbWUoKS50b1N0cmluZygpXSA9IGVudW1Ub0pzb25TY2hlbWEodWR0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLlNjU3BlY0VudHJ5S2luZC5zY1NwZWNFbnRyeVVkdFN0cnVjdFYwKCkudmFsdWU6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBfdWR0ID0gZW50cnkudWR0U3RydWN0VjAoKTtcbiAgICAgICAgICAgICAgZGVmaW5pdGlvbnNbX3VkdC5uYW1lKCkudG9TdHJpbmcoKV0gPSBzdHJ1Y3RUb0pzb25TY2hlbWEoX3VkdCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNFbnRyeUtpbmQuc2NTcGVjRW50cnlVZHRVbmlvblYwKCkudmFsdWU6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBfdWR0MiA9IGVudHJ5LnVkdFVuaW9uVjAoKTtcbiAgICAgICAgICAgICAgZGVmaW5pdGlvbnNbX3VkdDIubmFtZSgpLnRvU3RyaW5nKCldID0gdW5pb25Ub0pzb25TY2hlbWEoX3VkdDIpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjRW50cnlLaW5kLnNjU3BlY0VudHJ5RnVuY3Rpb25WMCgpLnZhbHVlOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2YXIgZm4gPSBlbnRyeS5mdW5jdGlvblYwKCk7XG4gICAgICAgICAgICAgIHZhciBmbk5hbWUgPSBmbi5uYW1lKCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgdmFyIF9mdW5jdGlvblRvSnNvblNjaGVtYSA9IGZ1bmN0aW9uVG9Kc29uU2NoZW1hKGZuKSxcbiAgICAgICAgICAgICAgICBpbnB1dCA9IF9mdW5jdGlvblRvSnNvblNjaGVtYS5pbnB1dDtcbiAgICAgICAgICAgICAgZGVmaW5pdGlvbnNbZm5OYW1lXSA9IGlucHV0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIF9zdGVsbGFyQmFzZS54ZHIuU2NTcGVjRW50cnlLaW5kLnNjU3BlY0VudHJ5VWR0RXJyb3JFbnVtVjAoKS52YWx1ZTpcbiAgICAgICAgICAgIHt9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIHJlcyA9IHtcbiAgICAgICAgJHNjaGVtYTogXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSNcIixcbiAgICAgICAgZGVmaW5pdGlvbnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgUFJJTUlUSVZFX0RFRklOSVRPTlMpLCBkZWZpbml0aW9ucylcbiAgICAgIH07XG4gICAgICBpZiAoZnVuY05hbWUpIHtcbiAgICAgICAgcmVzLiRyZWYgPSBcIiMvZGVmaW5pdGlvbnMvXCIuY29uY2F0KGZ1bmNOYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbVdhc21cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbVdhc20od2FzbSkge1xuICAgICAgdmFyIHNwZWMgPSAoMCwgX3dhc21fc3BlY19wYXJzZXIuc3BlY0Zyb21XYXNtKSh3YXNtKTtcbiAgICAgIHJldHVybiBuZXcgU3BlYyhzcGVjKTtcbiAgICB9XG4gIH1dKTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/spec.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/types.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/types.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.NULL_ACCOUNT = exports.DEFAULT_TIMEOUT = void 0;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar DEFAULT_TIMEOUT = exports.DEFAULT_TIMEOUT = 5 * 60;\nvar NULL_ACCOUNT = exports.NULL_ACCOUNT = \"GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWHF\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixvQkFBb0IsR0FBRyx1QkFBdUI7QUFDOUMsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQXVCO0FBQ2xELHNCQUFzQix1QkFBdUI7QUFDN0MsbUJBQW1CLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvY29udHJhY3QvdHlwZXMuanM/MTRmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTlVMTF9BQ0NPVU5UID0gZXhwb3J0cy5ERUZBVUxUX1RJTUVPVVQgPSB2b2lkIDA7XG52YXIgX3N0ZWxsYXJCYXNlID0gcmVxdWlyZShcIkBzdGVsbGFyL3N0ZWxsYXItYmFzZVwiKTtcbnZhciBERUZBVUxUX1RJTUVPVVQgPSBleHBvcnRzLkRFRkFVTFRfVElNRU9VVCA9IDUgKiA2MDtcbnZhciBOVUxMX0FDQ09VTlQgPSBleHBvcnRzLk5VTExfQUNDT1VOVCA9IFwiR0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFXSEZcIjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/utils.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/utils.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.contractErrorPattern = void 0;\nexports.getAccount = getAccount;\nexports.implementsToString = implementsToString;\nexports.parseWasmCustomSections = parseWasmCustomSections;\nexports.processSpecEntryStream = processSpecEntryStream;\nexports.withExponentialBackoff = withExponentialBackoff;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _types = __webpack_require__(/*! ./types */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/types.js\");\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction withExponentialBackoff(_x, _x2, _x3) {\n  return _withExponentialBackoff.apply(this, arguments);\n}\nfunction _withExponentialBackoff() {\n  _withExponentialBackoff = _asyncToGenerator(_regenerator().m(function _callee(fn, keepWaitingIf, timeoutInSeconds) {\n    var exponentialFactor,\n      verbose,\n      attempts,\n      count,\n      waitUntil,\n      waitTime,\n      totalWaitTime,\n      _args = arguments,\n      _t,\n      _t2;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          exponentialFactor = _args.length > 3 && _args[3] !== undefined ? _args[3] : 1.5;\n          verbose = _args.length > 4 && _args[4] !== undefined ? _args[4] : false;\n          attempts = [];\n          count = 0;\n          _t = attempts;\n          _context.n = 1;\n          return fn();\n        case 1:\n          _t.push.call(_t, _context.v);\n          if (keepWaitingIf(attempts[attempts.length - 1])) {\n            _context.n = 2;\n            break;\n          }\n          return _context.a(2, attempts);\n        case 2:\n          waitUntil = new Date(Date.now() + timeoutInSeconds * 1000).valueOf();\n          waitTime = 1000;\n          totalWaitTime = waitTime;\n        case 3:\n          if (!(Date.now() < waitUntil && keepWaitingIf(attempts[attempts.length - 1]))) {\n            _context.n = 6;\n            break;\n          }\n          count += 1;\n          if (verbose) {\n            console.info(\"Waiting \".concat(waitTime, \"ms before trying again (bringing the total wait time to \").concat(totalWaitTime, \"ms so far, of total \").concat(timeoutInSeconds * 1000, \"ms)\"));\n          }\n          _context.n = 4;\n          return new Promise(function (res) {\n            return setTimeout(res, waitTime);\n          });\n        case 4:\n          waitTime *= exponentialFactor;\n          if (new Date(Date.now() + waitTime).valueOf() > waitUntil) {\n            waitTime = waitUntil - Date.now();\n            if (verbose) {\n              console.info(\"was gonna wait too long; new waitTime: \".concat(waitTime, \"ms\"));\n            }\n          }\n          totalWaitTime = waitTime + totalWaitTime;\n          _t2 = attempts;\n          _context.n = 5;\n          return fn(attempts[attempts.length - 1]);\n        case 5:\n          _t2.push.call(_t2, _context.v);\n          if (verbose && keepWaitingIf(attempts[attempts.length - 1])) {\n            console.info(\"\".concat(count, \". Called \").concat(fn, \"; \").concat(attempts.length, \" prev attempts. Most recent: \").concat(JSON.stringify(attempts[attempts.length - 1], null, 2)));\n          }\n          _context.n = 3;\n          break;\n        case 6:\n          return _context.a(2, attempts);\n      }\n    }, _callee);\n  }));\n  return _withExponentialBackoff.apply(this, arguments);\n}\nvar contractErrorPattern = exports.contractErrorPattern = /Error\\(Contract, #(\\d+)\\)/;\nfunction implementsToString(obj) {\n  return _typeof(obj) === \"object\" && obj !== null && \"toString\" in obj;\n}\nfunction parseWasmCustomSections(buffer) {\n  var sections = new Map();\n  var arrayBuffer = buffer.buffer.slice(buffer.byteOffset, buffer.byteOffset + buffer.byteLength);\n  var offset = 0;\n  var read = function read(length) {\n    if (offset + length > buffer.byteLength) throw new Error(\"Buffer overflow\");\n    var bytes = new Uint8Array(arrayBuffer, offset, length);\n    offset += length;\n    return bytes;\n  };\n  function readVarUint32() {\n    var value = 0;\n    var shift = 0;\n    while (true) {\n      var byte = read(1)[0];\n      value |= (byte & 0x7f) << shift;\n      if ((byte & 0x80) === 0) break;\n      if ((shift += 7) >= 32) throw new Error(\"Invalid WASM value\");\n    }\n    return value >>> 0;\n  }\n  if (_toConsumableArray(read(4)).join() !== \"0,97,115,109\") throw new Error(\"Invalid WASM magic\");\n  if (_toConsumableArray(read(4)).join() !== \"1,0,0,0\") throw new Error(\"Invalid WASM version\");\n  while (offset < buffer.byteLength) {\n    var sectionId = read(1)[0];\n    var sectionLength = readVarUint32();\n    var start = offset;\n    if (sectionId === 0) {\n      var nameLen = readVarUint32();\n      if (nameLen === 0 || offset + nameLen > start + sectionLength) continue;\n      var nameBytes = read(nameLen);\n      var payload = read(sectionLength - (offset - start));\n      try {\n        var name = new TextDecoder(\"utf-8\", {\n          fatal: true\n        }).decode(nameBytes);\n        if (payload.length > 0) {\n          sections.set(name, (sections.get(name) || []).concat(payload));\n        }\n      } catch (_unused) {}\n    } else {\n      offset += sectionLength;\n    }\n  }\n  return sections;\n}\nfunction processSpecEntryStream(buffer) {\n  var reader = new _stellarBase.cereal.XdrReader(buffer);\n  var res = [];\n  while (!reader.eof) {\n    res.push(_stellarBase.xdr.ScSpecEntry.read(reader));\n  }\n  return res;\n}\nfunction getAccount(_x4, _x5) {\n  return _getAccount.apply(this, arguments);\n}\nfunction _getAccount() {\n  _getAccount = _asyncToGenerator(_regenerator().m(function _callee2(options, server) {\n    return _regenerator().w(function (_context2) {\n      while (1) switch (_context2.n) {\n        case 0:\n          return _context2.a(2, options.publicKey ? server.getAccount(options.publicKey) : new _stellarBase.Account(_types.NULL_ACCOUNT, \"0\"));\n      }\n    }, _callee2);\n  }));\n  return _getAccount.apply(this, arguments);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC91dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRiw0QkFBNEI7QUFDNUIsa0JBQWtCO0FBQ2xCLDBCQUEwQjtBQUMxQiwrQkFBK0I7QUFDL0IsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QixtQkFBbUIsbUJBQU8sQ0FBQyxzRkFBdUI7QUFDbEQsYUFBYSxtQkFBTyxDQUFDLCtHQUFTO0FBQzlCLDBCQUEwQix1REFBdUQsd0VBQXdFLHlCQUF5QiwrRkFBK0YsOERBQThELCtDQUErQywrREFBK0QsNkNBQTZDLG1CQUFtQiwwQkFBMEIsK0JBQStCLE9BQU8sb0NBQW9DLDhPQUE4TywwQkFBMEIsbUJBQW1CLDRCQUE0Qiw0REFBNEQsNENBQTRDLDBCQUEwQixJQUFJLHVFQUF1RSxNQUFNLGdCQUFnQixtQ0FBbUMsOEVBQThFLHVCQUF1QixpQ0FBaUMsb0lBQW9JLFNBQVMsZ0VBQWdFLFlBQVksdUJBQXVCLFVBQVUsV0FBVyxTQUFTLHlCQUF5QixxQkFBcUIsWUFBWSx3QkFBd0IsZ0NBQWdDLHlDQUF5QywyQkFBMkIsMkRBQTJELG1CQUFtQixjQUFjLDBGQUEwRixnQkFBZ0IsdU5BQXVOLDZiQUE2YixjQUFjLG9EQUFvRCw4QkFBOEIsNkNBQTZDLFNBQVMsZUFBZTtBQUN2dUYsMkNBQTJDLCtCQUErQixNQUFNLElBQUksUUFBUSxLQUFLLFlBQVksU0FBUyxnRUFBZ0UsbUJBQW1CLHlDQUF5QywrQkFBK0IsS0FBSyxrQkFBa0IsMERBQTBELCtEQUErRDtBQUNqYSxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDLDZDQUE2QyxTQUFTLDBEQUEwRCxVQUFVLGdDQUFnQztBQUMxSiwrQkFBK0I7QUFDL0IsaUNBQWlDO0FBQ2pDLG1DQUFtQywrQ0FBK0MsOEJBQThCLE9BQU8sa0JBQWtCO0FBQ3pJLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLG1EQUFtRCxNQUFNLGdDQUFnQyxZQUFZLG9CQUFvQjtBQUN6SCxnQ0FBZ0MscUJBQXFCLDZCQUE2QixxQ0FBcUMsdUJBQXVCLG9CQUFvQix5REFBeUQscUJBQXFCLDBEQUEwRCxnQkFBZ0I7QUFDMVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQiw0QkFBNEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2NvbnRyYWN0L3V0aWxzLmpzPzI5NWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNvbnRyYWN0RXJyb3JQYXR0ZXJuID0gdm9pZCAwO1xuZXhwb3J0cy5nZXRBY2NvdW50ID0gZ2V0QWNjb3VudDtcbmV4cG9ydHMuaW1wbGVtZW50c1RvU3RyaW5nID0gaW1wbGVtZW50c1RvU3RyaW5nO1xuZXhwb3J0cy5wYXJzZVdhc21DdXN0b21TZWN0aW9ucyA9IHBhcnNlV2FzbUN1c3RvbVNlY3Rpb25zO1xuZXhwb3J0cy5wcm9jZXNzU3BlY0VudHJ5U3RyZWFtID0gcHJvY2Vzc1NwZWNFbnRyeVN0cmVhbTtcbmV4cG9ydHMud2l0aEV4cG9uZW50aWFsQmFja29mZiA9IHdpdGhFeHBvbmVudGlhbEJhY2tvZmY7XG52YXIgX3N0ZWxsYXJCYXNlID0gcmVxdWlyZShcIkBzdGVsbGFyL3N0ZWxsYXItYmFzZVwiKTtcbnZhciBfdHlwZXMgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmZ1bmN0aW9uIF9yZWdlbmVyYXRvcigpIHsgdmFyIGUsIHQsIHIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LCBuID0gci5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIiwgbyA9IHIudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGkociwgbiwgbywgaSkgeyB2YXIgYyA9IG4gJiYgbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBuIDogR2VuZXJhdG9yLCB1ID0gT2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSk7IHJldHVybiBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwiX2ludm9rZVwiLCBmdW5jdGlvbiAociwgbiwgbykgeyB2YXIgaSwgYywgdSwgZiA9IDAsIHAgPSBvIHx8IFtdLCB5ID0gITEsIEcgPSB7IHA6IDAsIG46IDAsIHY6IGUsIGE6IGQsIGY6IGQuYmluZChlLCA0KSwgZDogZnVuY3Rpb24gZCh0LCByKSB7IHJldHVybiBpID0gdCwgYyA9IDAsIHUgPSBlLCBHLm4gPSByLCBhOyB9IH07IGZ1bmN0aW9uIGQociwgbikgeyBmb3IgKGMgPSByLCB1ID0gbiwgdCA9IDA7ICF5ICYmIGYgJiYgIW8gJiYgdCA8IHAubGVuZ3RoOyB0KyspIHsgdmFyIG8sIGkgPSBwW3RdLCBkID0gRy5wLCBsID0gaVsyXTsgciA+IDMgPyAobyA9IGwgPT09IG4pICYmICh1ID0gaVsoYyA9IGlbNF0pID8gNSA6IChjID0gMywgMyldLCBpWzRdID0gaVs1XSA9IGUpIDogaVswXSA8PSBkICYmICgobyA9IHIgPCAyICYmIGQgPCBpWzFdKSA/IChjID0gMCwgRy52ID0gbiwgRy5uID0gaVsxXSkgOiBkIDwgbCAmJiAobyA9IHIgPCAzIHx8IGlbMF0gPiBuIHx8IG4gPiBsKSAmJiAoaVs0XSA9IHIsIGlbNV0gPSBuLCBHLm4gPSBsLCBjID0gMCkpOyB9IGlmIChvIHx8IHIgPiAxKSByZXR1cm4gYTsgdGhyb3cgeSA9ICEwLCBuOyB9IHJldHVybiBmdW5jdGlvbiAobywgcCwgbCkgeyBpZiAoZiA+IDEpIHRocm93IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7IGZvciAoeSAmJiAxID09PSBwICYmIGQocCwgbCksIGMgPSBwLCB1ID0gbDsgKHQgPSBjIDwgMiA/IGUgOiB1KSB8fCAheTspIHsgaSB8fCAoYyA/IGMgPCAzID8gKGMgPiAxICYmIChHLm4gPSAtMSksIGQoYywgdSkpIDogRy5uID0gdSA6IEcudiA9IHUpOyB0cnkgeyBpZiAoZiA9IDIsIGkpIHsgaWYgKGMgfHwgKG8gPSBcIm5leHRcIiksIHQgPSBpW29dKSB7IGlmICghKHQgPSB0LmNhbGwoaSwgdSkpKSB0aHJvdyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTsgaWYgKCF0LmRvbmUpIHJldHVybiB0OyB1ID0gdC52YWx1ZSwgYyA8IDIgJiYgKGMgPSAwKTsgfSBlbHNlIDEgPT09IGMgJiYgKHQgPSBpLnJldHVybikgJiYgdC5jYWxsKGkpLCBjIDwgMiAmJiAodSA9IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbyArIFwiJyBtZXRob2RcIiksIGMgPSAxKTsgaSA9IGU7IH0gZWxzZSBpZiAoKHQgPSAoeSA9IEcubiA8IDApID8gdSA6IHIuY2FsbChuLCBHKSkgIT09IGEpIGJyZWFrOyB9IGNhdGNoICh0KSB7IGkgPSBlLCBjID0gMSwgdSA9IHQ7IH0gZmluYWxseSB7IGYgPSAxOyB9IH0gcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6IHkgfTsgfTsgfShyLCBvLCBpKSwgITApLCB1OyB9IHZhciBhID0ge307IGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSB0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mOyB2YXIgYyA9IFtdW25dID8gdCh0KFtdW25dKCkpKSA6IChfcmVnZW5lcmF0b3JEZWZpbmUyKHQgPSB7fSwgbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIHQpLCB1ID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYyk7IGZ1bmN0aW9uIGYoZSkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6IChlLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIG8sIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodSksIGU7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uKSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCIsIF9yZWdlbmVyYXRvckRlZmluZTIoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIG8sIFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksIF9yZWdlbmVyYXRvckRlZmluZTIodSksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgbywgXCJHZW5lcmF0b3JcIiksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgKF9yZWdlbmVyYXRvciA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvcigpIHsgcmV0dXJuIHsgdzogaSwgbTogZiB9OyB9KSgpOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIG4sIHQpIHsgdmFyIGkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7IHRyeSB7IGkoe30sIFwiXCIsIHt9KTsgfSBjYXRjaCAoZSkgeyBpID0gMDsgfSBfcmVnZW5lcmF0b3JEZWZpbmUyID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yRGVmaW5lKGUsIHIsIG4sIHQpIHsgZnVuY3Rpb24gbyhyLCBuKSB7IF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShyLCBuLCBlKTsgfSk7IH0gciA/IGkgPyBpKGUsIHIsIHsgdmFsdWU6IG4sIGVudW1lcmFibGU6ICF0LCBjb25maWd1cmFibGU6ICF0LCB3cml0YWJsZTogIXQgfSkgOiBlW3JdID0gbiA6IChvKFwibmV4dFwiLCAwKSwgbyhcInRocm93XCIsIDEpLCBvKFwicmV0dXJuXCIsIDIpKTsgfSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBuLCB0KTsgfVxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KHIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5KHIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShyKSB7IGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgbnVsbCAhPSByW1N5bWJvbC5pdGVyYXRvcl0gfHwgbnVsbCAhPSByW1wiQEBpdGVyYXRvclwiXSkgcmV0dXJuIEFycmF5LmZyb20ocik7IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkocik7IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmZ1bmN0aW9uIHdpdGhFeHBvbmVudGlhbEJhY2tvZmYoX3gsIF94MiwgX3gzKSB7XG4gIHJldHVybiBfd2l0aEV4cG9uZW50aWFsQmFja29mZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gX3dpdGhFeHBvbmVudGlhbEJhY2tvZmYoKSB7XG4gIF93aXRoRXhwb25lbnRpYWxCYWNrb2ZmID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlKGZuLCBrZWVwV2FpdGluZ0lmLCB0aW1lb3V0SW5TZWNvbmRzKSB7XG4gICAgdmFyIGV4cG9uZW50aWFsRmFjdG9yLFxuICAgICAgdmVyYm9zZSxcbiAgICAgIGF0dGVtcHRzLFxuICAgICAgY291bnQsXG4gICAgICB3YWl0VW50aWwsXG4gICAgICB3YWl0VGltZSxcbiAgICAgIHRvdGFsV2FpdFRpbWUsXG4gICAgICBfYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgIF90LFxuICAgICAgX3QyO1xuICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dCkge1xuICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgZXhwb25lbnRpYWxGYWN0b3IgPSBfYXJncy5sZW5ndGggPiAzICYmIF9hcmdzWzNdICE9PSB1bmRlZmluZWQgPyBfYXJnc1szXSA6IDEuNTtcbiAgICAgICAgICB2ZXJib3NlID0gX2FyZ3MubGVuZ3RoID4gNCAmJiBfYXJnc1s0XSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbNF0gOiBmYWxzZTtcbiAgICAgICAgICBhdHRlbXB0cyA9IFtdO1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgICBfdCA9IGF0dGVtcHRzO1xuICAgICAgICAgIF9jb250ZXh0Lm4gPSAxO1xuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgX3QucHVzaC5jYWxsKF90LCBfY29udGV4dC52KTtcbiAgICAgICAgICBpZiAoa2VlcFdhaXRpbmdJZihhdHRlbXB0c1thdHRlbXB0cy5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5hKDIsIGF0dGVtcHRzKTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHdhaXRVbnRpbCA9IG5ldyBEYXRlKERhdGUubm93KCkgKyB0aW1lb3V0SW5TZWNvbmRzICogMTAwMCkudmFsdWVPZigpO1xuICAgICAgICAgIHdhaXRUaW1lID0gMTAwMDtcbiAgICAgICAgICB0b3RhbFdhaXRUaW1lID0gd2FpdFRpbWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAoIShEYXRlLm5vdygpIDwgd2FpdFVudGlsICYmIGtlZXBXYWl0aW5nSWYoYXR0ZW1wdHNbYXR0ZW1wdHMubGVuZ3RoIC0gMV0pKSkge1xuICAgICAgICAgICAgX2NvbnRleHQubiA9IDY7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICBpZiAodmVyYm9zZSkge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKFwiV2FpdGluZyBcIi5jb25jYXQod2FpdFRpbWUsIFwibXMgYmVmb3JlIHRyeWluZyBhZ2FpbiAoYnJpbmdpbmcgdGhlIHRvdGFsIHdhaXQgdGltZSB0byBcIikuY29uY2F0KHRvdGFsV2FpdFRpbWUsIFwibXMgc28gZmFyLCBvZiB0b3RhbCBcIikuY29uY2F0KHRpbWVvdXRJblNlY29uZHMgKiAxMDAwLCBcIm1zKVwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jb250ZXh0Lm4gPSA0O1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXMsIHdhaXRUaW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHdhaXRUaW1lICo9IGV4cG9uZW50aWFsRmFjdG9yO1xuICAgICAgICAgIGlmIChuZXcgRGF0ZShEYXRlLm5vdygpICsgd2FpdFRpbWUpLnZhbHVlT2YoKSA+IHdhaXRVbnRpbCkge1xuICAgICAgICAgICAgd2FpdFRpbWUgPSB3YWl0VW50aWwgLSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgaWYgKHZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5pbmZvKFwid2FzIGdvbm5hIHdhaXQgdG9vIGxvbmc7IG5ldyB3YWl0VGltZTogXCIuY29uY2F0KHdhaXRUaW1lLCBcIm1zXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdG90YWxXYWl0VGltZSA9IHdhaXRUaW1lICsgdG90YWxXYWl0VGltZTtcbiAgICAgICAgICBfdDIgPSBhdHRlbXB0cztcbiAgICAgICAgICBfY29udGV4dC5uID0gNTtcbiAgICAgICAgICByZXR1cm4gZm4oYXR0ZW1wdHNbYXR0ZW1wdHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgX3QyLnB1c2guY2FsbChfdDIsIF9jb250ZXh0LnYpO1xuICAgICAgICAgIGlmICh2ZXJib3NlICYmIGtlZXBXYWl0aW5nSWYoYXR0ZW1wdHNbYXR0ZW1wdHMubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oXCJcIi5jb25jYXQoY291bnQsIFwiLiBDYWxsZWQgXCIpLmNvbmNhdChmbiwgXCI7IFwiKS5jb25jYXQoYXR0ZW1wdHMubGVuZ3RoLCBcIiBwcmV2IGF0dGVtcHRzLiBNb3N0IHJlY2VudDogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShhdHRlbXB0c1thdHRlbXB0cy5sZW5ndGggLSAxXSwgbnVsbCwgMikpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX2NvbnRleHQubiA9IDM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCBhdHRlbXB0cyk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZSk7XG4gIH0pKTtcbiAgcmV0dXJuIF93aXRoRXhwb25lbnRpYWxCYWNrb2ZmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG52YXIgY29udHJhY3RFcnJvclBhdHRlcm4gPSBleHBvcnRzLmNvbnRyYWN0RXJyb3JQYXR0ZXJuID0gL0Vycm9yXFwoQ29udHJhY3QsICMoXFxkKylcXCkvO1xuZnVuY3Rpb24gaW1wbGVtZW50c1RvU3RyaW5nKG9iaikge1xuICByZXR1cm4gX3R5cGVvZihvYmopID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBcInRvU3RyaW5nXCIgaW4gb2JqO1xufVxuZnVuY3Rpb24gcGFyc2VXYXNtQ3VzdG9tU2VjdGlvbnMoYnVmZmVyKSB7XG4gIHZhciBzZWN0aW9ucyA9IG5ldyBNYXAoKTtcbiAgdmFyIGFycmF5QnVmZmVyID0gYnVmZmVyLmJ1ZmZlci5zbGljZShidWZmZXIuYnl0ZU9mZnNldCwgYnVmZmVyLmJ5dGVPZmZzZXQgKyBidWZmZXIuYnl0ZUxlbmd0aCk7XG4gIHZhciBvZmZzZXQgPSAwO1xuICB2YXIgcmVhZCA9IGZ1bmN0aW9uIHJlYWQobGVuZ3RoKSB7XG4gICAgaWYgKG9mZnNldCArIGxlbmd0aCA+IGJ1ZmZlci5ieXRlTGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIgb3ZlcmZsb3dcIik7XG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIG9mZnNldCwgbGVuZ3RoKTtcbiAgICBvZmZzZXQgKz0gbGVuZ3RoO1xuICAgIHJldHVybiBieXRlcztcbiAgfTtcbiAgZnVuY3Rpb24gcmVhZFZhclVpbnQzMigpIHtcbiAgICB2YXIgdmFsdWUgPSAwO1xuICAgIHZhciBzaGlmdCA9IDA7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBieXRlID0gcmVhZCgxKVswXTtcbiAgICAgIHZhbHVlIHw9IChieXRlICYgMHg3ZikgPDwgc2hpZnQ7XG4gICAgICBpZiAoKGJ5dGUgJiAweDgwKSA9PT0gMCkgYnJlYWs7XG4gICAgICBpZiAoKHNoaWZ0ICs9IDcpID49IDMyKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFdBU00gdmFsdWVcIik7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSA+Pj4gMDtcbiAgfVxuICBpZiAoX3RvQ29uc3VtYWJsZUFycmF5KHJlYWQoNCkpLmpvaW4oKSAhPT0gXCIwLDk3LDExNSwxMDlcIikgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBXQVNNIG1hZ2ljXCIpO1xuICBpZiAoX3RvQ29uc3VtYWJsZUFycmF5KHJlYWQoNCkpLmpvaW4oKSAhPT0gXCIxLDAsMCwwXCIpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgV0FTTSB2ZXJzaW9uXCIpO1xuICB3aGlsZSAob2Zmc2V0IDwgYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICB2YXIgc2VjdGlvbklkID0gcmVhZCgxKVswXTtcbiAgICB2YXIgc2VjdGlvbkxlbmd0aCA9IHJlYWRWYXJVaW50MzIoKTtcbiAgICB2YXIgc3RhcnQgPSBvZmZzZXQ7XG4gICAgaWYgKHNlY3Rpb25JZCA9PT0gMCkge1xuICAgICAgdmFyIG5hbWVMZW4gPSByZWFkVmFyVWludDMyKCk7XG4gICAgICBpZiAobmFtZUxlbiA9PT0gMCB8fCBvZmZzZXQgKyBuYW1lTGVuID4gc3RhcnQgKyBzZWN0aW9uTGVuZ3RoKSBjb250aW51ZTtcbiAgICAgIHZhciBuYW1lQnl0ZXMgPSByZWFkKG5hbWVMZW4pO1xuICAgICAgdmFyIHBheWxvYWQgPSByZWFkKHNlY3Rpb25MZW5ndGggLSAob2Zmc2V0IC0gc3RhcnQpKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBuYW1lID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIiwge1xuICAgICAgICAgIGZhdGFsOiB0cnVlXG4gICAgICAgIH0pLmRlY29kZShuYW1lQnl0ZXMpO1xuICAgICAgICBpZiAocGF5bG9hZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2VjdGlvbnMuc2V0KG5hbWUsIChzZWN0aW9ucy5nZXQobmFtZSkgfHwgW10pLmNvbmNhdChwYXlsb2FkKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHt9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9mZnNldCArPSBzZWN0aW9uTGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VjdGlvbnM7XG59XG5mdW5jdGlvbiBwcm9jZXNzU3BlY0VudHJ5U3RyZWFtKGJ1ZmZlcikge1xuICB2YXIgcmVhZGVyID0gbmV3IF9zdGVsbGFyQmFzZS5jZXJlYWwuWGRyUmVhZGVyKGJ1ZmZlcik7XG4gIHZhciByZXMgPSBbXTtcbiAgd2hpbGUgKCFyZWFkZXIuZW9mKSB7XG4gICAgcmVzLnB1c2goX3N0ZWxsYXJCYXNlLnhkci5TY1NwZWNFbnRyeS5yZWFkKHJlYWRlcikpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBnZXRBY2NvdW50KF94NCwgX3g1KSB7XG4gIHJldHVybiBfZ2V0QWNjb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gX2dldEFjY291bnQoKSB7XG4gIF9nZXRBY2NvdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMihvcHRpb25zLCBzZXJ2ZXIpIHtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQyKSB7XG4gICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIubikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hKDIsIG9wdGlvbnMucHVibGljS2V5ID8gc2VydmVyLmdldEFjY291bnQob3B0aW9ucy5wdWJsaWNLZXkpIDogbmV3IF9zdGVsbGFyQmFzZS5BY2NvdW50KF90eXBlcy5OVUxMX0FDQ09VTlQsIFwiMFwiKSk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTIpO1xuICB9KSk7XG4gIHJldHVybiBfZ2V0QWNjb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/wasm_spec_parser.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/wasm_spec_parser.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.specFromWasm = specFromWasm;\nvar _utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/utils.js\");\nfunction specFromWasm(wasm) {\n  var customData = (0, _utils.parseWasmCustomSections)(wasm);\n  var xdrSections = customData.get(\"contractspecv0\");\n  if (!xdrSections || xdrSections.length === 0) {\n    throw new Error(\"Could not obtain contract spec from wasm\");\n  }\n  return Buffer.from(xdrSections[0]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9jb250cmFjdC93YXNtX3NwZWNfcGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLG9CQUFvQjtBQUNwQixhQUFhLG1CQUFPLENBQUMsK0dBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvY29udHJhY3Qvd2FzbV9zcGVjX3BhcnNlci5qcz9kMTJmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zcGVjRnJvbVdhc20gPSBzcGVjRnJvbVdhc207XG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5mdW5jdGlvbiBzcGVjRnJvbVdhc20od2FzbSkge1xuICB2YXIgY3VzdG9tRGF0YSA9ICgwLCBfdXRpbHMucGFyc2VXYXNtQ3VzdG9tU2VjdGlvbnMpKHdhc20pO1xuICB2YXIgeGRyU2VjdGlvbnMgPSBjdXN0b21EYXRhLmdldChcImNvbnRyYWN0c3BlY3YwXCIpO1xuICBpZiAoIXhkclNlY3Rpb25zIHx8IHhkclNlY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBvYnRhaW4gY29udHJhY3Qgc3BlYyBmcm9tIHdhc21cIik7XG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKHhkclNlY3Rpb25zWzBdKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/wasm_spec_parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/account_requires_memo.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/account_requires_memo.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AccountRequiresMemoError = void 0;\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _wrapNativeSuper(t) { var r = \"function\" == typeof Map ? new Map() : void 0; return _wrapNativeSuper = function _wrapNativeSuper(t) { if (null === t || !_isNativeFunction(t)) return t; if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\"); if (void 0 !== r) { if (r.has(t)) return r.get(t); r.set(t, Wrapper); } function Wrapper() { return _construct(t, arguments, _getPrototypeOf(this).constructor); } return Wrapper.prototype = Object.create(t.prototype, { constructor: { value: Wrapper, enumerable: !1, writable: !0, configurable: !0 } }), _setPrototypeOf(Wrapper, t); }, _wrapNativeSuper(t); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(t) { try { return -1 !== Function.toString.call(t).indexOf(\"[native code]\"); } catch (n) { return \"function\" == typeof t; } }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nvar AccountRequiresMemoError = exports.AccountRequiresMemoError = function (_Error) {\n  function AccountRequiresMemoError(message, accountId, operationIndex) {\n    var _this;\n    _classCallCheck(this, AccountRequiresMemoError);\n    _this = _callSuper(this, AccountRequiresMemoError, [message]);\n    _this.accountId = accountId;\n    _this.operationIndex = operationIndex;\n    return _this;\n  }\n  _inherits(AccountRequiresMemoError, _Error);\n  return _createClass(AccountRequiresMemoError);\n}(_wrapNativeSuper(Error));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvYWNjb3VudF9yZXF1aXJlc19tZW1vLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGdDQUFnQztBQUNoQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USxpQ0FBaUM7QUFDakMsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsK0JBQStCLHVEQUF1RCx5REFBeUQsbURBQW1ELHVHQUF1RyxvQkFBb0IsK0JBQStCLHFCQUFxQixxQkFBcUIsc0VBQXNFLHdEQUF3RCxlQUFlLGtFQUFrRSxpQ0FBaUM7QUFDdG5CLCtCQUErQixrRkFBa0YsZ0JBQWdCLG9CQUFvQixvQ0FBb0M7QUFDekwsdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3TyxnQ0FBZ0MsTUFBTSxvRUFBb0UsWUFBWTtBQUN0SCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSiw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywrQkFBK0IsZ0NBQWdDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvZXJyb3JzL2FjY291bnRfcmVxdWlyZXNfbWVtby5qcz81ZjliIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5BY2NvdW50UmVxdWlyZXNNZW1vRXJyb3IgPSB2b2lkIDA7XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcih0KSB7IHZhciByID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBNYXAgPyBuZXcgTWFwKCkgOiB2b2lkIDA7IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcih0KSB7IGlmIChudWxsID09PSB0IHx8ICFfaXNOYXRpdmVGdW5jdGlvbih0KSkgcmV0dXJuIHQ7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgaWYgKHZvaWQgMCAhPT0gcikgeyBpZiAoci5oYXModCkpIHJldHVybiByLmdldCh0KTsgci5zZXQodCwgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QodCwgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IHJldHVybiBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6ICExLCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIHQpOyB9LCBfd3JhcE5hdGl2ZVN1cGVyKHQpOyB9XG5mdW5jdGlvbiBfY29uc3RydWN0KHQsIGUsIHIpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IHZhciBvID0gW251bGxdOyBvLnB1c2guYXBwbHkobywgZSk7IHZhciBwID0gbmV3ICh0LmJpbmQuYXBwbHkodCwgbykpKCk7IHJldHVybiByICYmIF9zZXRQcm90b3R5cGVPZihwLCByLnByb3RvdHlwZSksIHA7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24odCkgeyB0cnkgeyByZXR1cm4gLTEgIT09IEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwodCkuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIik7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdDsgfSB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YodCwgZSkgeyByZXR1cm4gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0LCBlKSB7IHJldHVybiB0Ll9fcHJvdG9fXyA9IGUsIHQ7IH0sIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbnZhciBBY2NvdW50UmVxdWlyZXNNZW1vRXJyb3IgPSBleHBvcnRzLkFjY291bnRSZXF1aXJlc01lbW9FcnJvciA9IGZ1bmN0aW9uIChfRXJyb3IpIHtcbiAgZnVuY3Rpb24gQWNjb3VudFJlcXVpcmVzTWVtb0Vycm9yKG1lc3NhZ2UsIGFjY291bnRJZCwgb3BlcmF0aW9uSW5kZXgpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY291bnRSZXF1aXJlc01lbW9FcnJvcik7XG4gICAgX3RoaXMgPSBfY2FsbFN1cGVyKHRoaXMsIEFjY291bnRSZXF1aXJlc01lbW9FcnJvciwgW21lc3NhZ2VdKTtcbiAgICBfdGhpcy5hY2NvdW50SWQgPSBhY2NvdW50SWQ7XG4gICAgX3RoaXMub3BlcmF0aW9uSW5kZXggPSBvcGVyYXRpb25JbmRleDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKEFjY291bnRSZXF1aXJlc01lbW9FcnJvciwgX0Vycm9yKTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhBY2NvdW50UmVxdWlyZXNNZW1vRXJyb3IpO1xufShfd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/account_requires_memo.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/bad_request.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/bad_request.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BadRequestError = void 0;\nvar _network = __webpack_require__(/*! ./network */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/network.js\");\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar BadRequestError = exports.BadRequestError = function (_NetworkError) {\n  function BadRequestError() {\n    _classCallCheck(this, BadRequestError);\n    return _callSuper(this, BadRequestError, arguments);\n  }\n  _inherits(BadRequestError, _NetworkError);\n  return _createClass(BadRequestError);\n}(_network.NetworkError);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvYmFkX3JlcXVlc3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsdUJBQXVCO0FBQ3ZCLGVBQWUsbUJBQU8sQ0FBQyxpSEFBVztBQUNsQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USxpQ0FBaUM7QUFDakMsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSixzQkFBc0IsdUJBQXVCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2Vycm9ycy9iYWRfcmVxdWVzdC5qcz84Y2ZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5CYWRSZXF1ZXN0RXJyb3IgPSB2b2lkIDA7XG52YXIgX25ldHdvcmsgPSByZXF1aXJlKFwiLi9uZXR3b3JrXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgQmFkUmVxdWVzdEVycm9yID0gZXhwb3J0cy5CYWRSZXF1ZXN0RXJyb3IgPSBmdW5jdGlvbiAoX05ldHdvcmtFcnJvcikge1xuICBmdW5jdGlvbiBCYWRSZXF1ZXN0RXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhZFJlcXVlc3RFcnJvcik7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgQmFkUmVxdWVzdEVycm9yLCBhcmd1bWVudHMpO1xuICB9XG4gIF9pbmhlcml0cyhCYWRSZXF1ZXN0RXJyb3IsIF9OZXR3b3JrRXJyb3IpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEJhZFJlcXVlc3RFcnJvcik7XG59KF9uZXR3b3JrLk5ldHdvcmtFcnJvcik7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/bad_request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/bad_response.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/bad_response.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BadResponseError = void 0;\nvar _network = __webpack_require__(/*! ./network */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/network.js\");\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar BadResponseError = exports.BadResponseError = function (_NetworkError) {\n  function BadResponseError() {\n    _classCallCheck(this, BadResponseError);\n    return _callSuper(this, BadResponseError, arguments);\n  }\n  _inherits(BadResponseError, _NetworkError);\n  return _createClass(BadResponseError);\n}(_network.NetworkError);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvYmFkX3Jlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLHdCQUF3QjtBQUN4QixlQUFlLG1CQUFPLENBQUMsaUhBQVc7QUFDbEMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsaUNBQWlDO0FBQ2pDLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0osdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvYmFkX3Jlc3BvbnNlLmpzPzE3ZTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkJhZFJlc3BvbnNlRXJyb3IgPSB2b2lkIDA7XG52YXIgX25ldHdvcmsgPSByZXF1aXJlKFwiLi9uZXR3b3JrXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgQmFkUmVzcG9uc2VFcnJvciA9IGV4cG9ydHMuQmFkUmVzcG9uc2VFcnJvciA9IGZ1bmN0aW9uIChfTmV0d29ya0Vycm9yKSB7XG4gIGZ1bmN0aW9uIEJhZFJlc3BvbnNlRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhZFJlc3BvbnNlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEJhZFJlc3BvbnNlRXJyb3IsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2luaGVyaXRzKEJhZFJlc3BvbnNlRXJyb3IsIF9OZXR3b3JrRXJyb3IpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEJhZFJlc3BvbnNlRXJyb3IpO1xufShfbmV0d29yay5OZXR3b3JrRXJyb3IpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/bad_response.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/index.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/index.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _network = __webpack_require__(/*! ./network */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/network.js\");\nObject.keys(_network).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _network[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _network[key];\n    }\n  });\n});\nvar _not_found = __webpack_require__(/*! ./not_found */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/not_found.js\");\nObject.keys(_not_found).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _not_found[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _not_found[key];\n    }\n  });\n});\nvar _bad_request = __webpack_require__(/*! ./bad_request */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/bad_request.js\");\nObject.keys(_bad_request).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _bad_request[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _bad_request[key];\n    }\n  });\n});\nvar _bad_response = __webpack_require__(/*! ./bad_response */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/bad_response.js\");\nObject.keys(_bad_response).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _bad_response[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _bad_response[key];\n    }\n  });\n});\nvar _account_requires_memo = __webpack_require__(/*! ./account_requires_memo */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/account_requires_memo.js\");\nObject.keys(_account_requires_memo).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _account_requires_memo[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _account_requires_memo[key];\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsZUFBZSxtQkFBTyxDQUFDLGlIQUFXO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELGlCQUFpQixtQkFBTyxDQUFDLHFIQUFhO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELG1CQUFtQixtQkFBTyxDQUFDLHlIQUFlO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELG9CQUFvQixtQkFBTyxDQUFDLDJIQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCw2QkFBNkIsbUJBQU8sQ0FBQyw2SUFBeUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvaW5kZXguanM/NWM4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBfbmV0d29yayA9IHJlcXVpcmUoXCIuL25ldHdvcmtcIik7XG5PYmplY3Qua2V5cyhfbmV0d29yaykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX25ldHdvcmtba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfbmV0d29ya1trZXldO1xuICAgIH1cbiAgfSk7XG59KTtcbnZhciBfbm90X2ZvdW5kID0gcmVxdWlyZShcIi4vbm90X2ZvdW5kXCIpO1xuT2JqZWN0LmtleXMoX25vdF9mb3VuZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX25vdF9mb3VuZFtrZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9ub3RfZm91bmRba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgX2JhZF9yZXF1ZXN0ID0gcmVxdWlyZShcIi4vYmFkX3JlcXVlc3RcIik7XG5PYmplY3Qua2V5cyhfYmFkX3JlcXVlc3QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9iYWRfcmVxdWVzdFtrZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9iYWRfcmVxdWVzdFtrZXldO1xuICAgIH1cbiAgfSk7XG59KTtcbnZhciBfYmFkX3Jlc3BvbnNlID0gcmVxdWlyZShcIi4vYmFkX3Jlc3BvbnNlXCIpO1xuT2JqZWN0LmtleXMoX2JhZF9yZXNwb25zZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX2JhZF9yZXNwb25zZVtrZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9iYWRfcmVzcG9uc2Vba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgX2FjY291bnRfcmVxdWlyZXNfbWVtbyA9IHJlcXVpcmUoXCIuL2FjY291bnRfcmVxdWlyZXNfbWVtb1wiKTtcbk9iamVjdC5rZXlzKF9hY2NvdW50X3JlcXVpcmVzX21lbW8pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9hY2NvdW50X3JlcXVpcmVzX21lbW9ba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfYWNjb3VudF9yZXF1aXJlc19tZW1vW2tleV07XG4gICAgfVxuICB9KTtcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/network.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/network.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.NetworkError = void 0;\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _wrapNativeSuper(t) { var r = \"function\" == typeof Map ? new Map() : void 0; return _wrapNativeSuper = function _wrapNativeSuper(t) { if (null === t || !_isNativeFunction(t)) return t; if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\"); if (void 0 !== r) { if (r.has(t)) return r.get(t); r.set(t, Wrapper); } function Wrapper() { return _construct(t, arguments, _getPrototypeOf(this).constructor); } return Wrapper.prototype = Object.create(t.prototype, { constructor: { value: Wrapper, enumerable: !1, writable: !0, configurable: !0 } }), _setPrototypeOf(Wrapper, t); }, _wrapNativeSuper(t); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(t) { try { return -1 !== Function.toString.call(t).indexOf(\"[native code]\"); } catch (n) { return \"function\" == typeof t; } }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nvar NetworkError = exports.NetworkError = function (_Error) {\n  function NetworkError(message, response) {\n    var _this;\n    _classCallCheck(this, NetworkError);\n    _this = _callSuper(this, NetworkError, [message]);\n    _this.response = response;\n    return _this;\n  }\n  _inherits(NetworkError, _Error);\n  return _createClass(NetworkError, [{\n    key: \"getResponse\",\n    value: function getResponse() {\n      return this.response;\n    }\n  }]);\n}(_wrapNativeSuper(Error));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvbmV0d29yay5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixvQkFBb0I7QUFDcEIsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLDJCQUEyQixxSEFBcUgsZ0RBQWdELGVBQWUsNENBQTRDLDJDQUEyQyxjQUFjO0FBQ3BULCtCQUErQix1REFBdUQseURBQXlELG1EQUFtRCx1R0FBdUcsb0JBQW9CLCtCQUErQixxQkFBcUIscUJBQXFCLHNFQUFzRSx3REFBd0QsZUFBZSxrRUFBa0UsaUNBQWlDO0FBQ3RuQiwrQkFBK0Isa0ZBQWtGLGdCQUFnQixvQkFBb0Isb0NBQW9DO0FBQ3pMLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sZ0NBQWdDLE1BQU0sb0VBQW9FLFlBQVk7QUFDdEgsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0osOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssbUJBQW1CLG9CQUFvQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvbmV0d29yay5qcz8yMGZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5OZXR3b3JrRXJyb3IgPSB2b2lkIDA7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcih0KSB7IHZhciByID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBNYXAgPyBuZXcgTWFwKCkgOiB2b2lkIDA7IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcih0KSB7IGlmIChudWxsID09PSB0IHx8ICFfaXNOYXRpdmVGdW5jdGlvbih0KSkgcmV0dXJuIHQ7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgaWYgKHZvaWQgMCAhPT0gcikgeyBpZiAoci5oYXModCkpIHJldHVybiByLmdldCh0KTsgci5zZXQodCwgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QodCwgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IHJldHVybiBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6ICExLCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIHQpOyB9LCBfd3JhcE5hdGl2ZVN1cGVyKHQpOyB9XG5mdW5jdGlvbiBfY29uc3RydWN0KHQsIGUsIHIpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IHZhciBvID0gW251bGxdOyBvLnB1c2guYXBwbHkobywgZSk7IHZhciBwID0gbmV3ICh0LmJpbmQuYXBwbHkodCwgbykpKCk7IHJldHVybiByICYmIF9zZXRQcm90b3R5cGVPZihwLCByLnByb3RvdHlwZSksIHA7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24odCkgeyB0cnkgeyByZXR1cm4gLTEgIT09IEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwodCkuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIik7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdDsgfSB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YodCwgZSkgeyByZXR1cm4gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0LCBlKSB7IHJldHVybiB0Ll9fcHJvdG9fXyA9IGUsIHQ7IH0sIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbnZhciBOZXR3b3JrRXJyb3IgPSBleHBvcnRzLk5ldHdvcmtFcnJvciA9IGZ1bmN0aW9uIChfRXJyb3IpIHtcbiAgZnVuY3Rpb24gTmV0d29ya0Vycm9yKG1lc3NhZ2UsIHJlc3BvbnNlKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOZXR3b3JrRXJyb3IpO1xuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBOZXR3b3JrRXJyb3IsIFttZXNzYWdlXSk7XG4gICAgX3RoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKE5ldHdvcmtFcnJvciwgX0Vycm9yKTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhOZXR3b3JrRXJyb3IsIFt7XG4gICAga2V5OiBcImdldFJlc3BvbnNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlc3BvbnNlKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2U7XG4gICAgfVxuICB9XSk7XG59KF93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/network.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/not_found.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/not_found.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.NotFoundError = void 0;\nvar _network = __webpack_require__(/*! ./network */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/network.js\");\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar NotFoundError = exports.NotFoundError = function (_NetworkError) {\n  function NotFoundError() {\n    _classCallCheck(this, NotFoundError);\n    return _callSuper(this, NotFoundError, arguments);\n  }\n  _inherits(NotFoundError, _NetworkError);\n  return _createClass(NotFoundError);\n}(_network.NetworkError);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvbm90X2ZvdW5kLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLHFCQUFxQjtBQUNyQixlQUFlLG1CQUFPLENBQUMsaUhBQVc7QUFDbEMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsaUNBQWlDO0FBQ2pDLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0osb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9lcnJvcnMvbm90X2ZvdW5kLmpzPzQ4ODQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk5vdEZvdW5kRXJyb3IgPSB2b2lkIDA7XG52YXIgX25ldHdvcmsgPSByZXF1aXJlKFwiLi9uZXR3b3JrXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgTm90Rm91bmRFcnJvciA9IGV4cG9ydHMuTm90Rm91bmRFcnJvciA9IGZ1bmN0aW9uIChfTmV0d29ya0Vycm9yKSB7XG4gIGZ1bmN0aW9uIE5vdEZvdW5kRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdEZvdW5kRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIE5vdEZvdW5kRXJyb3IsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2luaGVyaXRzKE5vdEZvdW5kRXJyb3IsIF9OZXR3b3JrRXJyb3IpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKE5vdEZvdW5kRXJyb3IpO1xufShfbmV0d29yay5OZXR3b3JrRXJyb3IpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/not_found.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/api.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/api.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Api = void 0;\nvar Api;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9mZWRlcmF0aW9uL2FwaS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixXQUFXO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2ZlZGVyYXRpb24vYXBpLmpzPzJkODQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkFwaSA9IHZvaWQgMDtcbnZhciBBcGk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/api.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/index.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/index.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _exportNames = {\n  Server: true,\n  FEDERATION_RESPONSE_MAX_SIZE: true\n};\nObject.defineProperty(exports, \"FEDERATION_RESPONSE_MAX_SIZE\", ({\n  enumerable: true,\n  get: function get() {\n    return _server.FEDERATION_RESPONSE_MAX_SIZE;\n  }\n}));\nObject.defineProperty(exports, \"Server\", ({\n  enumerable: true,\n  get: function get() {\n    return _server.FederationServer;\n  }\n}));\nvar _server = __webpack_require__(/*! ./server */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/server.js\");\nvar _api = __webpack_require__(/*! ./api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/api.js\");\nObject.keys(_api).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _api[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _api[key];\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9mZWRlcmF0aW9uL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsMENBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsY0FBYyxtQkFBTyxDQUFDLG1IQUFVO0FBQ2hDLFdBQVcsbUJBQU8sQ0FBQyw2R0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvZmVkZXJhdGlvbi9pbmRleC5qcz8xNjliIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIF9leHBvcnROYW1lcyA9IHtcbiAgU2VydmVyOiB0cnVlLFxuICBGRURFUkFUSU9OX1JFU1BPTlNFX01BWF9TSVpFOiB0cnVlXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRkVERVJBVElPTl9SRVNQT05TRV9NQVhfU0laRVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfc2VydmVyLkZFREVSQVRJT05fUkVTUE9OU0VfTUFYX1NJWkU7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VydmVyXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9zZXJ2ZXIuRmVkZXJhdGlvblNlcnZlcjtcbiAgfVxufSk7XG52YXIgX3NlcnZlciA9IHJlcXVpcmUoXCIuL3NlcnZlclwiKTtcbnZhciBfYXBpID0gcmVxdWlyZShcIi4vYXBpXCIpO1xuT2JqZWN0LmtleXMoX2FwaSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfZXhwb3J0TmFtZXMsIGtleSkpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX2FwaVtrZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9hcGlba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/server.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/server.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.FederationServer = exports.FEDERATION_RESPONSE_MAX_SIZE = void 0;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _urijs = _interopRequireDefault(__webpack_require__(/*! urijs */ \"(rsc)/./node_modules/urijs/src/URI.js\"));\nvar _config = __webpack_require__(/*! ../config */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/config.js\");\nvar _errors = __webpack_require__(/*! ../errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/index.js\");\nvar _stellartoml = __webpack_require__(/*! ../stellartoml */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/stellartoml/index.js\");\nvar _httpClient = __webpack_require__(/*! ../http-client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/index.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar FEDERATION_RESPONSE_MAX_SIZE = exports.FEDERATION_RESPONSE_MAX_SIZE = 100 * 1024;\nvar FederationServer = exports.FederationServer = function () {\n  function FederationServer(serverURL, domain) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, FederationServer);\n    this.serverURL = (0, _urijs.default)(serverURL);\n    this.domain = domain;\n    var allowHttp = typeof opts.allowHttp === \"undefined\" ? _config.Config.isAllowHttp() : opts.allowHttp;\n    this.timeout = typeof opts.timeout === \"undefined\" ? _config.Config.getTimeout() : opts.timeout;\n    if (this.serverURL.protocol() !== \"https\" && !allowHttp) {\n      throw new Error(\"Cannot connect to insecure federation server\");\n    }\n  }\n  return _createClass(FederationServer, [{\n    key: \"resolveAddress\",\n    value: (function () {\n      var _resolveAddress = _asyncToGenerator(_regenerator().m(function _callee(address) {\n        var stellarAddress, url;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              stellarAddress = address;\n              if (!(address.indexOf(\"*\") < 0)) {\n                _context.n = 2;\n                break;\n              }\n              if (this.domain) {\n                _context.n = 1;\n                break;\n              }\n              return _context.a(2, Promise.reject(new Error(\"Unknown domain. Make sure `address` contains a domain (ex. `bob*stellar.org`) or pass `domain` parameter when instantiating the server object.\")));\n            case 1:\n              stellarAddress = \"\".concat(address, \"*\").concat(this.domain);\n            case 2:\n              url = this.serverURL.query({\n                type: \"name\",\n                q: stellarAddress\n              });\n              return _context.a(2, this._sendRequest(url));\n          }\n        }, _callee, this);\n      }));\n      function resolveAddress(_x) {\n        return _resolveAddress.apply(this, arguments);\n      }\n      return resolveAddress;\n    }())\n  }, {\n    key: \"resolveAccountId\",\n    value: (function () {\n      var _resolveAccountId = _asyncToGenerator(_regenerator().m(function _callee2(accountId) {\n        var url;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              url = this.serverURL.query({\n                type: \"id\",\n                q: accountId\n              });\n              return _context2.a(2, this._sendRequest(url));\n          }\n        }, _callee2, this);\n      }));\n      function resolveAccountId(_x2) {\n        return _resolveAccountId.apply(this, arguments);\n      }\n      return resolveAccountId;\n    }())\n  }, {\n    key: \"resolveTransactionId\",\n    value: (function () {\n      var _resolveTransactionId = _asyncToGenerator(_regenerator().m(function _callee3(transactionId) {\n        var url;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              url = this.serverURL.query({\n                type: \"txid\",\n                q: transactionId\n              });\n              return _context3.a(2, this._sendRequest(url));\n          }\n        }, _callee3, this);\n      }));\n      function resolveTransactionId(_x3) {\n        return _resolveTransactionId.apply(this, arguments);\n      }\n      return resolveTransactionId;\n    }())\n  }, {\n    key: \"_sendRequest\",\n    value: function () {\n      var _sendRequest2 = _asyncToGenerator(_regenerator().m(function _callee4(url) {\n        var timeout;\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.n) {\n            case 0:\n              timeout = this.timeout;\n              return _context4.a(2, _httpClient.httpClient.get(url.toString(), {\n                maxContentLength: FEDERATION_RESPONSE_MAX_SIZE,\n                timeout: timeout\n              }).then(function (response) {\n                if (typeof response.data.memo !== \"undefined\" && typeof response.data.memo !== \"string\") {\n                  throw new Error(\"memo value should be of type string\");\n                }\n                return response.data;\n              }).catch(function (response) {\n                if (response instanceof Error) {\n                  if (response.message.match(/^maxContentLength size/)) {\n                    throw new Error(\"federation response exceeds allowed size of \".concat(FEDERATION_RESPONSE_MAX_SIZE));\n                  } else {\n                    return Promise.reject(response);\n                  }\n                } else {\n                  return Promise.reject(new _errors.BadResponseError(\"Server query failed. Server responded: \".concat(response.status, \" \").concat(response.statusText), response.data));\n                }\n              }));\n          }\n        }, _callee4, this);\n      }));\n      function _sendRequest(_x4) {\n        return _sendRequest2.apply(this, arguments);\n      }\n      return _sendRequest;\n    }()\n  }], [{\n    key: \"resolve\",\n    value: (function () {\n      var _resolve = _asyncToGenerator(_regenerator().m(function _callee5(value) {\n        var opts,\n          addressParts,\n          _addressParts,\n          domain,\n          federationServer,\n          _args5 = arguments;\n        return _regenerator().w(function (_context5) {\n          while (1) switch (_context5.n) {\n            case 0:\n              opts = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {};\n              if (!(value.indexOf(\"*\") < 0)) {\n                _context5.n = 2;\n                break;\n              }\n              if (_stellarBase.StrKey.isValidEd25519PublicKey(value)) {\n                _context5.n = 1;\n                break;\n              }\n              return _context5.a(2, Promise.reject(new Error(\"Invalid Account ID\")));\n            case 1:\n              return _context5.a(2, Promise.resolve({\n                account_id: value\n              }));\n            case 2:\n              addressParts = value.split(\"*\");\n              _addressParts = _slicedToArray(addressParts, 2), domain = _addressParts[1];\n              if (!(addressParts.length !== 2 || !domain)) {\n                _context5.n = 3;\n                break;\n              }\n              return _context5.a(2, Promise.reject(new Error(\"Invalid Stellar address\")));\n            case 3:\n              _context5.n = 4;\n              return FederationServer.createForDomain(domain, opts);\n            case 4:\n              federationServer = _context5.v;\n              return _context5.a(2, federationServer.resolveAddress(value));\n          }\n        }, _callee5);\n      }));\n      function resolve(_x5) {\n        return _resolve.apply(this, arguments);\n      }\n      return resolve;\n    }())\n  }, {\n    key: \"createForDomain\",\n    value: (function () {\n      var _createForDomain = _asyncToGenerator(_regenerator().m(function _callee6(domain) {\n        var opts,\n          tomlObject,\n          _args6 = arguments;\n        return _regenerator().w(function (_context6) {\n          while (1) switch (_context6.n) {\n            case 0:\n              opts = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : {};\n              _context6.n = 1;\n              return _stellartoml.Resolver.resolve(domain, opts);\n            case 1:\n              tomlObject = _context6.v;\n              if (tomlObject.FEDERATION_SERVER) {\n                _context6.n = 2;\n                break;\n              }\n              return _context6.a(2, Promise.reject(new Error(\"stellar.toml does not contain FEDERATION_SERVER field\")));\n            case 2:\n              return _context6.a(2, new FederationServer(tomlObject.FEDERATION_SERVER, domain, opts));\n          }\n        }, _callee6);\n      }));\n      function createForDomain(_x6) {\n        return _createForDomain.apply(this, arguments);\n      }\n      return createForDomain;\n    }())\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9mZWRlcmF0aW9uL3NlcnZlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRix3QkFBd0IsR0FBRyxvQ0FBb0M7QUFDL0QsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQXVCO0FBQ2xELG9DQUFvQyxtQkFBTyxDQUFDLG9EQUFPO0FBQ25ELGNBQWMsbUJBQU8sQ0FBQyx5R0FBVztBQUNqQyxjQUFjLG1CQUFPLENBQUMsK0dBQVc7QUFDakMsbUJBQW1CLG1CQUFPLENBQUMseUhBQWdCO0FBQzNDLGtCQUFrQixtQkFBTyxDQUFDLHlIQUFnQjtBQUMxQyxxQ0FBcUMsaUNBQWlDO0FBQ3RFLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLGdDQUFnQztBQUNoQyw4QkFBOEI7QUFDOUIsNkNBQTZDLFNBQVMsMERBQTBELFVBQVUsZ0NBQWdDO0FBQzFKLG1DQUFtQywrQ0FBK0MsOEJBQThCLE9BQU8sa0JBQWtCO0FBQ3pJLHVDQUF1QyxrR0FBa0csaUJBQWlCLHdDQUF3QyxNQUFNLHlDQUF5Qyw2QkFBNkIsVUFBVSxZQUFZLGtFQUFrRSxXQUFXLFlBQVksaUJBQWlCLFVBQVUsTUFBTSwyRUFBMkUsVUFBVSxvQkFBb0I7QUFDdmdCLDhCQUE4QjtBQUM5QiwwQkFBMEIsdURBQXVELHdFQUF3RSx5QkFBeUIsK0ZBQStGLDhEQUE4RCwrQ0FBK0MsK0RBQStELDZDQUE2QyxtQkFBbUIsMEJBQTBCLCtCQUErQixPQUFPLG9DQUFvQyw4T0FBOE8sMEJBQTBCLG1CQUFtQiw0QkFBNEIsNERBQTRELDRDQUE0QywwQkFBMEIsSUFBSSx1RUFBdUUsTUFBTSxnQkFBZ0IsbUNBQW1DLDhFQUE4RSx1QkFBdUIsaUNBQWlDLG9JQUFvSSxTQUFTLGdFQUFnRSxZQUFZLHVCQUF1QixVQUFVLFdBQVcsU0FBUyx5QkFBeUIscUJBQXFCLFlBQVksd0JBQXdCLGdDQUFnQyx5Q0FBeUMsMkJBQTJCLDJEQUEyRCxtQkFBbUIsY0FBYywwRkFBMEYsZ0JBQWdCLHVOQUF1Tiw2YkFBNmIsY0FBYyxvREFBb0QsOEJBQThCLDZDQUE2QyxTQUFTLGVBQWU7QUFDdnVGLDJDQUEyQywrQkFBK0IsTUFBTSxJQUFJLFFBQVEsS0FBSyxZQUFZLFNBQVMsZ0VBQWdFLG1CQUFtQix5Q0FBeUMsK0JBQStCLEtBQUssa0JBQWtCLDBEQUEwRCwrREFBK0Q7QUFDamEsbURBQW1ELE1BQU0sZ0NBQWdDLFlBQVksb0JBQW9CO0FBQ3pILGdDQUFnQyxxQkFBcUIsNkJBQTZCLHFDQUFxQyx1QkFBdUIsb0JBQW9CLHlEQUF5RCxxQkFBcUIsMERBQTBELGdCQUFnQjtBQUMxVCxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsbUNBQW1DLG9DQUFvQztBQUN2RSx1QkFBdUIsd0JBQXdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9mZWRlcmF0aW9uL3NlcnZlci5qcz8zYTZkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5GZWRlcmF0aW9uU2VydmVyID0gZXhwb3J0cy5GRURFUkFUSU9OX1JFU1BPTlNFX01BWF9TSVpFID0gdm9pZCAwO1xudmFyIF9zdGVsbGFyQmFzZSA9IHJlcXVpcmUoXCJAc3RlbGxhci9zdGVsbGFyLWJhc2VcIik7XG52YXIgX3VyaWpzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwidXJpanNcIikpO1xudmFyIF9jb25maWcgPSByZXF1aXJlKFwiLi4vY29uZmlnXCIpO1xudmFyIF9lcnJvcnMgPSByZXF1aXJlKFwiLi4vZXJyb3JzXCIpO1xudmFyIF9zdGVsbGFydG9tbCA9IHJlcXVpcmUoXCIuLi9zdGVsbGFydG9tbFwiKTtcbnZhciBfaHR0cENsaWVudCA9IHJlcXVpcmUoXCIuLi9odHRwLWNsaWVudFwiKTtcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSkgeyByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyBkZWZhdWx0OiBlIH07IH1cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyB2YXIgZSwgdCwgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIG4gPSByLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBvID0gci50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjsgZnVuY3Rpb24gaShyLCBuLCBvLCBpKSB7IHZhciBjID0gbiAmJiBuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG4gOiBHZW5lcmF0b3IsIHUgPSBPYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKTsgcmV0dXJuIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJfaW52b2tlXCIsIGZ1bmN0aW9uIChyLCBuLCBvKSB7IHZhciBpLCBjLCB1LCBmID0gMCwgcCA9IG8gfHwgW10sIHkgPSAhMSwgRyA9IHsgcDogMCwgbjogMCwgdjogZSwgYTogZCwgZjogZC5iaW5kKGUsIDQpLCBkOiBmdW5jdGlvbiBkKHQsIHIpIHsgcmV0dXJuIGkgPSB0LCBjID0gMCwgdSA9IGUsIEcubiA9IHIsIGE7IH0gfTsgZnVuY3Rpb24gZChyLCBuKSB7IGZvciAoYyA9IHIsIHUgPSBuLCB0ID0gMDsgIXkgJiYgZiAmJiAhbyAmJiB0IDwgcC5sZW5ndGg7IHQrKykgeyB2YXIgbywgaSA9IHBbdF0sIGQgPSBHLnAsIGwgPSBpWzJdOyByID4gMyA/IChvID0gbCA9PT0gbikgJiYgKHUgPSBpWyhjID0gaVs0XSkgPyA1IDogKGMgPSAzLCAzKV0sIGlbNF0gPSBpWzVdID0gZSkgOiBpWzBdIDw9IGQgJiYgKChvID0gciA8IDIgJiYgZCA8IGlbMV0pID8gKGMgPSAwLCBHLnYgPSBuLCBHLm4gPSBpWzFdKSA6IGQgPCBsICYmIChvID0gciA8IDMgfHwgaVswXSA+IG4gfHwgbiA+IGwpICYmIChpWzRdID0gciwgaVs1XSA9IG4sIEcubiA9IGwsIGMgPSAwKSk7IH0gaWYgKG8gfHwgciA+IDEpIHJldHVybiBhOyB0aHJvdyB5ID0gITAsIG47IH0gcmV0dXJuIGZ1bmN0aW9uIChvLCBwLCBsKSB7IGlmIChmID4gMSkgdGhyb3cgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgZm9yICh5ICYmIDEgPT09IHAgJiYgZChwLCBsKSwgYyA9IHAsIHUgPSBsOyAodCA9IGMgPCAyID8gZSA6IHUpIHx8ICF5OykgeyBpIHx8IChjID8gYyA8IDMgPyAoYyA+IDEgJiYgKEcubiA9IC0xKSwgZChjLCB1KSkgOiBHLm4gPSB1IDogRy52ID0gdSk7IHRyeSB7IGlmIChmID0gMiwgaSkgeyBpZiAoYyB8fCAobyA9IFwibmV4dFwiKSwgdCA9IGlbb10pIHsgaWYgKCEodCA9IHQuY2FsbChpLCB1KSkpIHRocm93IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpOyBpZiAoIXQuZG9uZSkgcmV0dXJuIHQ7IHUgPSB0LnZhbHVlLCBjIDwgMiAmJiAoYyA9IDApOyB9IGVsc2UgMSA9PT0gYyAmJiAodCA9IGkucmV0dXJuKSAmJiB0LmNhbGwoaSksIGMgPCAyICYmICh1ID0gVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBvICsgXCInIG1ldGhvZFwiKSwgYyA9IDEpOyBpID0gZTsgfSBlbHNlIGlmICgodCA9ICh5ID0gRy5uIDwgMCkgPyB1IDogci5jYWxsKG4sIEcpKSAhPT0gYSkgYnJlYWs7IH0gY2F0Y2ggKHQpIHsgaSA9IGUsIGMgPSAxLCB1ID0gdDsgfSBmaW5hbGx5IHsgZiA9IDE7IH0gfSByZXR1cm4geyB2YWx1ZTogdCwgZG9uZTogeSB9OyB9OyB9KHIsIG8sIGkpLCAhMCksIHU7IH0gdmFyIGEgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7IHZhciBjID0gW11bbl0gPyB0KHQoW11bbl0oKSkpIDogKF9yZWdlbmVyYXRvckRlZmluZTIodCA9IHt9LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgdCksIHUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjKTsgZnVuY3Rpb24gZihlKSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGUuX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh1KSwgZTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSksIF9yZWdlbmVyYXRvckRlZmluZTIoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiwgX3JlZ2VuZXJhdG9yRGVmaW5lMihHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBvLCBcIkdlbmVyYXRvclwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCAoX3JlZ2VuZXJhdG9yID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyByZXR1cm4geyB3OiBpLCBtOiBmIH07IH0pKCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgbiwgdCkgeyB2YXIgaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsgdHJ5IHsgaSh7fSwgXCJcIiwge30pOyB9IGNhdGNoIChlKSB7IGkgPSAwOyB9IF9yZWdlbmVyYXRvckRlZmluZTIgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JEZWZpbmUoZSwgciwgbiwgdCkgeyBmdW5jdGlvbiBvKHIsIG4pIHsgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcy5faW52b2tlKHIsIG4sIGUpOyB9KTsgfSByID8gaSA/IGkoZSwgciwgeyB2YWx1ZTogbiwgZW51bWVyYWJsZTogIXQsIGNvbmZpZ3VyYWJsZTogIXQsIHdyaXRhYmxlOiAhdCB9KSA6IGVbcl0gPSBuIDogKG8oXCJuZXh0XCIsIDApLCBvKFwidGhyb3dcIiwgMSksIG8oXCJyZXR1cm5cIiwgMikpOyB9LCBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIG4sIHQpOyB9XG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAobiwgdCwgZSwgciwgbywgYSwgYykgeyB0cnkgeyB2YXIgaSA9IG5bYV0oYyksIHUgPSBpLnZhbHVlOyB9IGNhdGNoIChuKSB7IHJldHVybiB2b2lkIGUobik7IH0gaS5kb25lID8gdCh1KSA6IFByb21pc2UucmVzb2x2ZSh1KS50aGVuKHIsIG8pOyB9XG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gdGhpcywgZSA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyLCBvKSB7IHZhciBhID0gbi5hcHBseSh0LCBlKTsgZnVuY3Rpb24gX25leHQobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIG4pOyB9IGZ1bmN0aW9uIF90aHJvdyhuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIG4pOyB9IF9uZXh0KHZvaWQgMCk7IH0pOyB9OyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG52YXIgRkVERVJBVElPTl9SRVNQT05TRV9NQVhfU0laRSA9IGV4cG9ydHMuRkVERVJBVElPTl9SRVNQT05TRV9NQVhfU0laRSA9IDEwMCAqIDEwMjQ7XG52YXIgRmVkZXJhdGlvblNlcnZlciA9IGV4cG9ydHMuRmVkZXJhdGlvblNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRmVkZXJhdGlvblNlcnZlcihzZXJ2ZXJVUkwsIGRvbWFpbikge1xuICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmVkZXJhdGlvblNlcnZlcik7XG4gICAgdGhpcy5zZXJ2ZXJVUkwgPSAoMCwgX3VyaWpzLmRlZmF1bHQpKHNlcnZlclVSTCk7XG4gICAgdGhpcy5kb21haW4gPSBkb21haW47XG4gICAgdmFyIGFsbG93SHR0cCA9IHR5cGVvZiBvcHRzLmFsbG93SHR0cCA9PT0gXCJ1bmRlZmluZWRcIiA/IF9jb25maWcuQ29uZmlnLmlzQWxsb3dIdHRwKCkgOiBvcHRzLmFsbG93SHR0cDtcbiAgICB0aGlzLnRpbWVvdXQgPSB0eXBlb2Ygb3B0cy50aW1lb3V0ID09PSBcInVuZGVmaW5lZFwiID8gX2NvbmZpZy5Db25maWcuZ2V0VGltZW91dCgpIDogb3B0cy50aW1lb3V0O1xuICAgIGlmICh0aGlzLnNlcnZlclVSTC5wcm90b2NvbCgpICE9PSBcImh0dHBzXCIgJiYgIWFsbG93SHR0cCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbm5lY3QgdG8gaW5zZWN1cmUgZmVkZXJhdGlvbiBzZXJ2ZXJcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRmVkZXJhdGlvblNlcnZlciwgW3tcbiAgICBrZXk6IFwicmVzb2x2ZUFkZHJlc3NcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVzb2x2ZUFkZHJlc3MgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUoYWRkcmVzcykge1xuICAgICAgICB2YXIgc3RlbGxhckFkZHJlc3MsIHVybDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBzdGVsbGFyQWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgICAgICAgIGlmICghKGFkZHJlc3MuaW5kZXhPZihcIipcIikgPCAwKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0aGlzLmRvbWFpbikge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hKDIsIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVua25vd24gZG9tYWluLiBNYWtlIHN1cmUgYGFkZHJlc3NgIGNvbnRhaW5zIGEgZG9tYWluIChleC4gYGJvYipzdGVsbGFyLm9yZ2ApIG9yIHBhc3MgYGRvbWFpbmAgcGFyYW1ldGVyIHdoZW4gaW5zdGFudGlhdGluZyB0aGUgc2VydmVyIG9iamVjdC5cIikpKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgc3RlbGxhckFkZHJlc3MgPSBcIlwiLmNvbmNhdChhZGRyZXNzLCBcIipcIikuY29uY2F0KHRoaXMuZG9tYWluKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgdXJsID0gdGhpcy5zZXJ2ZXJVUkwucXVlcnkoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgIHE6IHN0ZWxsYXJBZGRyZXNzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCB0aGlzLl9zZW5kUmVxdWVzdCh1cmwpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZUFkZHJlc3MoX3gpIHtcbiAgICAgICAgcmV0dXJuIF9yZXNvbHZlQWRkcmVzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc29sdmVBZGRyZXNzO1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJyZXNvbHZlQWNjb3VudElkXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jlc29sdmVBY2NvdW50SWQgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUyKGFjY291bnRJZCkge1xuICAgICAgICB2YXIgdXJsO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdXJsID0gdGhpcy5zZXJ2ZXJVUkwucXVlcnkoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiaWRcIixcbiAgICAgICAgICAgICAgICBxOiBhY2NvdW50SWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyLCB0aGlzLl9zZW5kUmVxdWVzdCh1cmwpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVBY2NvdW50SWQoX3gyKSB7XG4gICAgICAgIHJldHVybiBfcmVzb2x2ZUFjY291bnRJZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc29sdmVBY2NvdW50SWQ7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcInJlc29sdmVUcmFuc2FjdGlvbklkXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jlc29sdmVUcmFuc2FjdGlvbklkID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMyh0cmFuc2FjdGlvbklkKSB7XG4gICAgICAgIHZhciB1cmw7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB1cmwgPSB0aGlzLnNlcnZlclVSTC5xdWVyeSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0eGlkXCIsXG4gICAgICAgICAgICAgICAgcTogdHJhbnNhY3Rpb25JZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hKDIsIHRoaXMuX3NlbmRSZXF1ZXN0KHVybCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVRyYW5zYWN0aW9uSWQoX3gzKSB7XG4gICAgICAgIHJldHVybiBfcmVzb2x2ZVRyYW5zYWN0aW9uSWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNvbHZlVHJhbnNhY3Rpb25JZDtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiX3NlbmRSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2VuZFJlcXVlc3QyID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlNCh1cmwpIHtcbiAgICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB0aW1lb3V0ID0gdGhpcy50aW1lb3V0O1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmEoMiwgX2h0dHBDbGllbnQuaHR0cENsaWVudC5nZXQodXJsLnRvU3RyaW5nKCksIHtcbiAgICAgICAgICAgICAgICBtYXhDb250ZW50TGVuZ3RoOiBGRURFUkFUSU9OX1JFU1BPTlNFX01BWF9TSVpFLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRpbWVvdXRcbiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmRhdGEubWVtbyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcmVzcG9uc2UuZGF0YS5tZW1vICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtZW1vIHZhbHVlIHNob3VsZCBiZSBvZiB0eXBlIHN0cmluZ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZS5tYXRjaCgvXm1heENvbnRlbnRMZW5ndGggc2l6ZS8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZlZGVyYXRpb24gcmVzcG9uc2UgZXhjZWVkcyBhbGxvd2VkIHNpemUgb2YgXCIuY29uY2F0KEZFREVSQVRJT05fUkVTUE9OU0VfTUFYX1NJWkUpKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgX2Vycm9ycy5CYWRSZXNwb25zZUVycm9yKFwiU2VydmVyIHF1ZXJ5IGZhaWxlZC4gU2VydmVyIHJlc3BvbmRlZDogXCIuY29uY2F0KHJlc3BvbnNlLnN0YXR1cywgXCIgXCIpLmNvbmNhdChyZXNwb25zZS5zdGF0dXNUZXh0KSwgcmVzcG9uc2UuZGF0YSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gX3NlbmRSZXF1ZXN0KF94NCkge1xuICAgICAgICByZXR1cm4gX3NlbmRSZXF1ZXN0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9zZW5kUmVxdWVzdDtcbiAgICB9KClcbiAgfV0sIFt7XG4gICAga2V5OiBcInJlc29sdmVcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVzb2x2ZSA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTUodmFsdWUpIHtcbiAgICAgICAgdmFyIG9wdHMsXG4gICAgICAgICAgYWRkcmVzc1BhcnRzLFxuICAgICAgICAgIF9hZGRyZXNzUGFydHMsXG4gICAgICAgICAgZG9tYWluLFxuICAgICAgICAgIGZlZGVyYXRpb25TZXJ2ZXIsXG4gICAgICAgICAgX2FyZ3M1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQ1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgb3B0cyA9IF9hcmdzNS5sZW5ndGggPiAxICYmIF9hcmdzNVsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M1WzFdIDoge307XG4gICAgICAgICAgICAgIGlmICghKHZhbHVlLmluZGV4T2YoXCIqXCIpIDwgMCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubiA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKF9zdGVsbGFyQmFzZS5TdHJLZXkuaXNWYWxpZEVkMjU1MTlQdWJsaWNLZXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYSgyLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIEFjY291bnQgSURcIikpKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hKDIsIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgYWNjb3VudF9pZDogdmFsdWVcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBhZGRyZXNzUGFydHMgPSB2YWx1ZS5zcGxpdChcIipcIik7XG4gICAgICAgICAgICAgIF9hZGRyZXNzUGFydHMgPSBfc2xpY2VkVG9BcnJheShhZGRyZXNzUGFydHMsIDIpLCBkb21haW4gPSBfYWRkcmVzc1BhcnRzWzFdO1xuICAgICAgICAgICAgICBpZiAoIShhZGRyZXNzUGFydHMubGVuZ3RoICE9PSAyIHx8ICFkb21haW4pKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm4gPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYSgyLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIFN0ZWxsYXIgYWRkcmVzc1wiKSkpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBfY29udGV4dDUubiA9IDQ7XG4gICAgICAgICAgICAgIHJldHVybiBGZWRlcmF0aW9uU2VydmVyLmNyZWF0ZUZvckRvbWFpbihkb21haW4sIG9wdHMpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBmZWRlcmF0aW9uU2VydmVyID0gX2NvbnRleHQ1LnY7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYSgyLCBmZWRlcmF0aW9uU2VydmVyLnJlc29sdmVBZGRyZXNzKHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNSk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiByZXNvbHZlKF94NSkge1xuICAgICAgICByZXR1cm4gX3Jlc29sdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNvbHZlO1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVGb3JEb21haW5cIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlRm9yRG9tYWluID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlNihkb21haW4pIHtcbiAgICAgICAgdmFyIG9wdHMsXG4gICAgICAgICAgdG9tbE9iamVjdCxcbiAgICAgICAgICBfYXJnczYgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBvcHRzID0gX2FyZ3M2Lmxlbmd0aCA+IDEgJiYgX2FyZ3M2WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczZbMV0gOiB7fTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm4gPSAxO1xuICAgICAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJ0b21sLlJlc29sdmVyLnJlc29sdmUoZG9tYWluLCBvcHRzKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgdG9tbE9iamVjdCA9IF9jb250ZXh0Ni52O1xuICAgICAgICAgICAgICBpZiAodG9tbE9iamVjdC5GRURFUkFUSU9OX1NFUlZFUikge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmEoMiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwic3RlbGxhci50b21sIGRvZXMgbm90IGNvbnRhaW4gRkVERVJBVElPTl9TRVJWRVIgZmllbGRcIikpKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hKDIsIG5ldyBGZWRlcmF0aW9uU2VydmVyKHRvbWxPYmplY3QuRkVERVJBVElPTl9TRVJWRVIsIGRvbWFpbiwgb3B0cykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gY3JlYXRlRm9yRG9tYWluKF94Nikge1xuICAgICAgICByZXR1cm4gX2NyZWF0ZUZvckRvbWFpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZUZvckRvbWFpbjtcbiAgICB9KCkpXG4gIH1dKTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/server.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/friendbot/index.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/friendbot/index.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Api = void 0;\nvar Api;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9mcmllbmRib3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsV0FBVztBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9mcmllbmRib3QvaW5kZXguanM/MjU2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQXBpID0gdm9pZCAwO1xudmFyIEFwaTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/friendbot/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_call_builder.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_call_builder.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AccountCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar AccountCallBuilder = exports.AccountCallBuilder = function (_CallBuilder) {\n  function AccountCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, AccountCallBuilder);\n    _this = _callSuper(this, AccountCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"accounts\");\n    return _this;\n  }\n  _inherits(AccountCallBuilder, _CallBuilder);\n  return _createClass(AccountCallBuilder, [{\n    key: \"accountId\",\n    value: function accountId(id) {\n      var builder = new _call_builder.CallBuilder(this.url.clone(), this.httpClient);\n      builder.filter.push([id]);\n      return builder;\n    }\n  }, {\n    key: \"forSigner\",\n    value: function forSigner(id) {\n      this.url.setQuery(\"signer\", id);\n      return this;\n    }\n  }, {\n    key: \"forAsset\",\n    value: function forAsset(asset) {\n      this.url.setQuery(\"asset\", \"\".concat(asset));\n      return this;\n    }\n  }, {\n    key: \"sponsor\",\n    value: function sponsor(id) {\n      this.url.setQuery(\"sponsor\", id);\n      return this;\n    }\n  }, {\n    key: \"forLiquidityPool\",\n    value: function forLiquidityPool(id) {\n      this.url.setQuery(\"liquidity_pool\", id);\n      return this;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2FjY291bnRfY2FsbF9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLDBCQUEwQjtBQUMxQixvQkFBb0IsbUJBQU8sQ0FBQyw0SEFBZ0I7QUFDNUMsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0oseUJBQXlCLDBCQUEwQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2FjY291bnRfY2FsbF9idWlsZGVyLmpzPzIyN2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkFjY291bnRDYWxsQnVpbGRlciA9IHZvaWQgMDtcbnZhciBfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2FsbF9idWlsZGVyXCIpO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgQWNjb3VudENhbGxCdWlsZGVyID0gZXhwb3J0cy5BY2NvdW50Q2FsbEJ1aWxkZXIgPSBmdW5jdGlvbiAoX0NhbGxCdWlsZGVyKSB7XG4gIGZ1bmN0aW9uIEFjY291bnRDYWxsQnVpbGRlcihzZXJ2ZXJVcmwsIGh0dHBDbGllbnQpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY291bnRDYWxsQnVpbGRlcik7XG4gICAgX3RoaXMgPSBfY2FsbFN1cGVyKHRoaXMsIEFjY291bnRDYWxsQnVpbGRlciwgW3NlcnZlclVybCwgaHR0cENsaWVudF0pO1xuICAgIF90aGlzLnVybC5zZWdtZW50KFwiYWNjb3VudHNcIik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9pbmhlcml0cyhBY2NvdW50Q2FsbEJ1aWxkZXIsIF9DYWxsQnVpbGRlcik7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoQWNjb3VudENhbGxCdWlsZGVyLCBbe1xuICAgIGtleTogXCJhY2NvdW50SWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWNjb3VudElkKGlkKSB7XG4gICAgICB2YXIgYnVpbGRlciA9IG5ldyBfY2FsbF9idWlsZGVyLkNhbGxCdWlsZGVyKHRoaXMudXJsLmNsb25lKCksIHRoaXMuaHR0cENsaWVudCk7XG4gICAgICBidWlsZGVyLmZpbHRlci5wdXNoKFtpZF0pO1xuICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvclNpZ25lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JTaWduZXIoaWQpIHtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwic2lnbmVyXCIsIGlkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JBc3NldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JBc3NldChhc3NldCkge1xuICAgICAgdGhpcy51cmwuc2V0UXVlcnkoXCJhc3NldFwiLCBcIlwiLmNvbmNhdChhc3NldCkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNwb25zb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3BvbnNvcihpZCkge1xuICAgICAgdGhpcy51cmwuc2V0UXVlcnkoXCJzcG9uc29yXCIsIGlkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JMaXF1aWRpdHlQb29sXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvckxpcXVpZGl0eVBvb2woaWQpIHtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwibGlxdWlkaXR5X3Bvb2xcIiwgaWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG59KF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_response.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_response.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AccountResponse = void 0;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar AccountResponse = exports.AccountResponse = function () {\n  function AccountResponse(response) {\n    var _this = this;\n    _classCallCheck(this, AccountResponse);\n    this._baseAccount = new _stellarBase.Account(response.account_id, response.sequence);\n    Object.entries(response).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n      _this[key] = value;\n    });\n  }\n  return _createClass(AccountResponse, [{\n    key: \"accountId\",\n    value: function accountId() {\n      return this._baseAccount.accountId();\n    }\n  }, {\n    key: \"sequenceNumber\",\n    value: function sequenceNumber() {\n      return this._baseAccount.sequenceNumber();\n    }\n  }, {\n    key: \"incrementSequenceNumber\",\n    value: function incrementSequenceNumber() {\n      this._baseAccount.incrementSequenceNumber();\n      this.sequence = this._baseAccount.sequenceNumber();\n    }\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2FjY291bnRfcmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsdUJBQXVCO0FBQ3ZCLG1CQUFtQixtQkFBTyxDQUFDLHNGQUF1QjtBQUNsRCxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyxnQ0FBZ0M7QUFDaEMsOEJBQThCO0FBQzlCLDZDQUE2QyxTQUFTLDBEQUEwRCxVQUFVLGdDQUFnQztBQUMxSixtQ0FBbUMsK0NBQStDLDhCQUE4QixPQUFPLGtCQUFrQjtBQUN6SSx1Q0FBdUMsa0dBQWtHLGlCQUFpQix3Q0FBd0MsTUFBTSx5Q0FBeUMsNkJBQTZCLFVBQVUsWUFBWSxrRUFBa0UsV0FBVyxZQUFZLGlCQUFpQixVQUFVLE1BQU0sMkVBQTJFLFVBQVUsb0JBQW9CO0FBQ3ZnQiw4QkFBOEI7QUFDOUIsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vYWNjb3VudF9yZXNwb25zZS5qcz9jYWIyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5BY2NvdW50UmVzcG9uc2UgPSB2b2lkIDA7XG52YXIgX3N0ZWxsYXJCYXNlID0gcmVxdWlyZShcIkBzdGVsbGFyL3N0ZWxsYXItYmFzZVwiKTtcbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxudmFyIEFjY291bnRSZXNwb25zZSA9IGV4cG9ydHMuQWNjb3VudFJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBY2NvdW50UmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY2NvdW50UmVzcG9uc2UpO1xuICAgIHRoaXMuX2Jhc2VBY2NvdW50ID0gbmV3IF9zdGVsbGFyQmFzZS5BY2NvdW50KHJlc3BvbnNlLmFjY291bnRfaWQsIHJlc3BvbnNlLnNlcXVlbmNlKTtcbiAgICBPYmplY3QuZW50cmllcyhyZXNwb25zZSkuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgIGtleSA9IF9yZWYyWzBdLFxuICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdO1xuICAgICAgX3RoaXNba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoQWNjb3VudFJlc3BvbnNlLCBbe1xuICAgIGtleTogXCJhY2NvdW50SWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWNjb3VudElkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Jhc2VBY2NvdW50LmFjY291bnRJZCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXF1ZW5jZU51bWJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXF1ZW5jZU51bWJlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9iYXNlQWNjb3VudC5zZXF1ZW5jZU51bWJlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbmNyZW1lbnRTZXF1ZW5jZU51bWJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbmNyZW1lbnRTZXF1ZW5jZU51bWJlcigpIHtcbiAgICAgIHRoaXMuX2Jhc2VBY2NvdW50LmluY3JlbWVudFNlcXVlbmNlTnVtYmVyKCk7XG4gICAgICB0aGlzLnNlcXVlbmNlID0gdGhpcy5fYmFzZUFjY291bnQuc2VxdWVuY2VOdW1iZXIoKTtcbiAgICB9XG4gIH1dKTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_response.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/assets_call_builder.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/assets_call_builder.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AssetsCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar AssetsCallBuilder = exports.AssetsCallBuilder = function (_CallBuilder) {\n  function AssetsCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, AssetsCallBuilder);\n    _this = _callSuper(this, AssetsCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"assets\");\n    return _this;\n  }\n  _inherits(AssetsCallBuilder, _CallBuilder);\n  return _createClass(AssetsCallBuilder, [{\n    key: \"forCode\",\n    value: function forCode(value) {\n      this.url.setQuery(\"asset_code\", value);\n      return this;\n    }\n  }, {\n    key: \"forIssuer\",\n    value: function forIssuer(value) {\n      this.url.setQuery(\"asset_issuer\", value);\n      return this;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2Fzc2V0c19jYWxsX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YseUJBQXlCO0FBQ3pCLG9CQUFvQixtQkFBTyxDQUFDLDRIQUFnQjtBQUM1QyxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSix3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2Fzc2V0c19jYWxsX2J1aWxkZXIuanM/ODEyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQXNzZXRzQ2FsbEJ1aWxkZXIgPSB2b2lkIDA7XG52YXIgX2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL2NhbGxfYnVpbGRlclwiKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jYWxsU3VwZXIodCwgbywgZSkgeyByZXR1cm4gbyA9IF9nZXRQcm90b3R5cGVPZihvKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpID8gUmVmbGVjdC5jb25zdHJ1Y3QobywgZSB8fCBbXSwgX2dldFByb3RvdHlwZU9mKHQpLmNvbnN0cnVjdG9yKSA6IG8uYXBwbHkodCwgZSkpOyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBlKSB7IGlmIChlICYmIChcIm9iamVjdFwiID09IF90eXBlb2YoZSkgfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlKSkgcmV0dXJuIGU7IGlmICh2b2lkIDAgIT09IGUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQodCk7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoZSkgeyBpZiAodm9pZCAwID09PSBlKSB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyB0cnkgeyB2YXIgdCA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IH0gY2F0Y2ggKHQpIHt9IHJldHVybiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHJldHVybiAhIXQ7IH0pKCk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZih0KSB7IHJldHVybiBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZih0KTsgfSwgX2dldFByb3RvdHlwZU9mKHQpOyB9XG5mdW5jdGlvbiBfaW5oZXJpdHModCwgZSkgeyBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiBlICYmIG51bGwgIT09IGUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGUgJiYgZS5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHQsIHdyaXRhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCB9IH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGUgJiYgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YodCwgZSkgeyByZXR1cm4gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0LCBlKSB7IHJldHVybiB0Ll9fcHJvdG9fXyA9IGUsIHQ7IH0sIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxudmFyIEFzc2V0c0NhbGxCdWlsZGVyID0gZXhwb3J0cy5Bc3NldHNDYWxsQnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gQXNzZXRzQ2FsbEJ1aWxkZXIoc2VydmVyVXJsLCBodHRwQ2xpZW50KSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBc3NldHNDYWxsQnVpbGRlcik7XG4gICAgX3RoaXMgPSBfY2FsbFN1cGVyKHRoaXMsIEFzc2V0c0NhbGxCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50XSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJhc3NldHNcIik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9pbmhlcml0cyhBc3NldHNDYWxsQnVpbGRlciwgX0NhbGxCdWlsZGVyKTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhBc3NldHNDYWxsQnVpbGRlciwgW3tcbiAgICBrZXk6IFwiZm9yQ29kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JDb2RlKHZhbHVlKSB7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcImFzc2V0X2NvZGVcIiwgdmFsdWUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcklzc3VlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JJc3N1ZXIodmFsdWUpIHtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiYXNzZXRfaXNzdWVyXCIsIHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xufShfY2FsbF9idWlsZGVyLkNhbGxCdWlsZGVyKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/assets_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CallBuilder = void 0;\nvar _urijs = _interopRequireDefault(__webpack_require__(/*! urijs */ \"(rsc)/./node_modules/urijs/src/URI.js\"));\nvar _URITemplate = _interopRequireDefault(__webpack_require__(/*! urijs/src/URITemplate */ \"(rsc)/./node_modules/urijs/src/URITemplate.js\"));\nvar _errors = __webpack_require__(/*! ../errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/index.js\");\nvar _horizon_axios_client = __webpack_require__(/*! ./horizon_axios_client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_axios_client.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar JOINABLE = [\"transaction\"];\nvar anyGlobal = global;\nvar EventSource;\nif (true) {\n  var _ref, _anyGlobal$EventSourc, _anyGlobal$window;\n  EventSource = (_ref = (_anyGlobal$EventSourc = anyGlobal.EventSource) !== null && _anyGlobal$EventSourc !== void 0 ? _anyGlobal$EventSourc : (_anyGlobal$window = anyGlobal.window) === null || _anyGlobal$window === void 0 ? void 0 : _anyGlobal$window.EventSource) !== null && _ref !== void 0 ? _ref : __webpack_require__(/*! eventsource */ \"(rsc)/./node_modules/eventsource/lib/eventsource.js\");\n}\nvar CallBuilder = exports.CallBuilder = function () {\n  function CallBuilder(serverUrl, httpClient) {\n    var neighborRoot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n    _classCallCheck(this, CallBuilder);\n    this.url = serverUrl.clone();\n    this.filter = [];\n    this.originalSegments = this.url.segment() || [];\n    this.neighborRoot = neighborRoot;\n    this.httpClient = httpClient;\n  }\n  return _createClass(CallBuilder, [{\n    key: \"call\",\n    value: function call() {\n      var _this = this;\n      this.checkFilter();\n      return this._sendNormalRequest(this.url).then(function (r) {\n        return _this._parseResponse(r);\n      });\n    }\n  }, {\n    key: \"stream\",\n    value: function stream() {\n      var _this2 = this;\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (EventSource === undefined) {\n        throw new Error(\"Streaming requires eventsource to be enabled. If you need this functionality, compile with USE_EVENTSOURCE=true.\");\n      }\n      this.checkFilter();\n      this.url.setQuery(\"X-Client-Name\", \"js-stellar-sdk\");\n      this.url.setQuery(\"X-Client-Version\", _horizon_axios_client.version);\n      var es;\n      var timeout;\n      var createTimeout = function createTimeout() {\n        timeout = setTimeout(function () {\n          var _es;\n          (_es = es) === null || _es === void 0 || _es.close();\n          es = _createEventSource();\n        }, options.reconnectTimeout || 15 * 1000);\n      };\n      var _createEventSource = function createEventSource() {\n        try {\n          es = new EventSource(_this2.url.toString());\n        } catch (err) {\n          if (options.onerror) {\n            options.onerror(err);\n          }\n        }\n        createTimeout();\n        if (!es) {\n          return es;\n        }\n        var closed = false;\n        var onClose = function onClose() {\n          if (closed) {\n            return;\n          }\n          clearTimeout(timeout);\n          es.close();\n          _createEventSource();\n          closed = true;\n        };\n        var onMessage = function onMessage(message) {\n          if (message.type === \"close\") {\n            onClose();\n            return;\n          }\n          var result = message.data ? _this2._parseRecord(JSON.parse(message.data)) : message;\n          if (result.paging_token) {\n            _this2.url.setQuery(\"cursor\", result.paging_token);\n          }\n          clearTimeout(timeout);\n          createTimeout();\n          if (typeof options.onmessage !== \"undefined\") {\n            options.onmessage(result);\n          }\n        };\n        var onError = function onError(error) {\n          if (options.onerror) {\n            options.onerror(error);\n          }\n        };\n        if (es.addEventListener) {\n          es.addEventListener(\"message\", onMessage.bind(_this2));\n          es.addEventListener(\"error\", onError.bind(_this2));\n          es.addEventListener(\"close\", onClose.bind(_this2));\n        } else {\n          es.onmessage = onMessage.bind(_this2);\n          es.onerror = onError.bind(_this2);\n        }\n        return es;\n      };\n      _createEventSource();\n      return function () {\n        var _es2;\n        clearTimeout(timeout);\n        (_es2 = es) === null || _es2 === void 0 || _es2.close();\n      };\n    }\n  }, {\n    key: \"cursor\",\n    value: function cursor(_cursor) {\n      this.url.setQuery(\"cursor\", _cursor);\n      return this;\n    }\n  }, {\n    key: \"limit\",\n    value: function limit(recordsNumber) {\n      this.url.setQuery(\"limit\", recordsNumber.toString());\n      return this;\n    }\n  }, {\n    key: \"order\",\n    value: function order(direction) {\n      this.url.setQuery(\"order\", direction);\n      return this;\n    }\n  }, {\n    key: \"join\",\n    value: function join(include) {\n      this.url.setQuery(\"join\", include);\n      return this;\n    }\n  }, {\n    key: \"forEndpoint\",\n    value: function forEndpoint(endpoint, param) {\n      if (this.neighborRoot === \"\") {\n        throw new Error(\"Invalid usage: neighborRoot not set in constructor\");\n      }\n      this.filter.push([endpoint, param, this.neighborRoot]);\n      return this;\n    }\n  }, {\n    key: \"checkFilter\",\n    value: function checkFilter() {\n      if (this.filter.length >= 2) {\n        throw new _errors.BadRequestError(\"Too many filters specified\", this.filter);\n      }\n      if (this.filter.length === 1) {\n        var newSegment = this.originalSegments.concat(this.filter[0]);\n        this.url.segment(newSegment);\n      }\n    }\n  }, {\n    key: \"_requestFnForLink\",\n    value: function _requestFnForLink(link) {\n      var _this3 = this;\n      return _asyncToGenerator(_regenerator().m(function _callee() {\n        var opts,\n          uri,\n          template,\n          r,\n          _args = arguments;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              opts = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n              if (link.templated) {\n                template = (0, _URITemplate.default)(link.href);\n                uri = (0, _urijs.default)(template.expand(opts));\n              } else {\n                uri = (0, _urijs.default)(link.href);\n              }\n              _context.n = 1;\n              return _this3._sendNormalRequest(uri);\n            case 1:\n              r = _context.v;\n              return _context.a(2, _this3._parseResponse(r));\n          }\n        }, _callee);\n      }));\n    }\n  }, {\n    key: \"_parseRecord\",\n    value: function _parseRecord(json) {\n      var _this4 = this;\n      if (!json._links) {\n        return json;\n      }\n      Object.keys(json._links).forEach(function (key) {\n        var n = json._links[key];\n        var included = false;\n        if (typeof json[key] !== \"undefined\") {\n          json[\"\".concat(key, \"_attr\")] = json[key];\n          included = true;\n        }\n        if (included && JOINABLE.indexOf(key) >= 0) {\n          var record = _this4._parseRecord(json[key]);\n          json[key] = _asyncToGenerator(_regenerator().m(function _callee2() {\n            return _regenerator().w(function (_context2) {\n              while (1) switch (_context2.n) {\n                case 0:\n                  return _context2.a(2, record);\n              }\n            }, _callee2);\n          }));\n        } else {\n          json[key] = _this4._requestFnForLink(n);\n        }\n      });\n      return json;\n    }\n  }, {\n    key: \"_sendNormalRequest\",\n    value: function () {\n      var _sendNormalRequest2 = _asyncToGenerator(_regenerator().m(function _callee3(initialUrl) {\n        var url;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              url = initialUrl;\n              if (url.authority() === \"\") {\n                url = url.authority(this.url.authority());\n              }\n              if (url.protocol() === \"\") {\n                url = url.protocol(this.url.protocol());\n              }\n              return _context3.a(2, this.httpClient.get(url.toString()).then(function (response) {\n                return response.data;\n              }).catch(this._handleNetworkError));\n          }\n        }, _callee3, this);\n      }));\n      function _sendNormalRequest(_x) {\n        return _sendNormalRequest2.apply(this, arguments);\n      }\n      return _sendNormalRequest;\n    }()\n  }, {\n    key: \"_parseResponse\",\n    value: function _parseResponse(json) {\n      if (json._embedded && json._embedded.records) {\n        return this._toCollectionPage(json);\n      }\n      return this._parseRecord(json);\n    }\n  }, {\n    key: \"_toCollectionPage\",\n    value: function _toCollectionPage(json) {\n      var _this5 = this;\n      for (var i = 0; i < json._embedded.records.length; i += 1) {\n        json._embedded.records[i] = this._parseRecord(json._embedded.records[i]);\n      }\n      return {\n        records: json._embedded.records,\n        next: function () {\n          var _next2 = _asyncToGenerator(_regenerator().m(function _callee4() {\n            var r;\n            return _regenerator().w(function (_context4) {\n              while (1) switch (_context4.n) {\n                case 0:\n                  _context4.n = 1;\n                  return _this5._sendNormalRequest((0, _urijs.default)(json._links.next.href));\n                case 1:\n                  r = _context4.v;\n                  return _context4.a(2, _this5._toCollectionPage(r));\n              }\n            }, _callee4);\n          }));\n          function next() {\n            return _next2.apply(this, arguments);\n          }\n          return next;\n        }(),\n        prev: function () {\n          var _prev = _asyncToGenerator(_regenerator().m(function _callee5() {\n            var r;\n            return _regenerator().w(function (_context5) {\n              while (1) switch (_context5.n) {\n                case 0:\n                  _context5.n = 1;\n                  return _this5._sendNormalRequest((0, _urijs.default)(json._links.prev.href));\n                case 1:\n                  r = _context5.v;\n                  return _context5.a(2, _this5._toCollectionPage(r));\n              }\n            }, _callee5);\n          }));\n          function prev() {\n            return _prev.apply(this, arguments);\n          }\n          return prev;\n        }()\n      };\n    }\n  }, {\n    key: \"_handleNetworkError\",\n    value: (function () {\n      var _handleNetworkError2 = _asyncToGenerator(_regenerator().m(function _callee6(error) {\n        var _error$response$statu, _error$response$statu2;\n        var _t;\n        return _regenerator().w(function (_context6) {\n          while (1) switch (_context6.n) {\n            case 0:\n              if (!(error.response && error.response.status)) {\n                _context6.n = 4;\n                break;\n              }\n              _t = error.response.status;\n              _context6.n = _t === 404 ? 1 : 2;\n              break;\n            case 1:\n              return _context6.a(2, Promise.reject(new _errors.NotFoundError((_error$response$statu = error.response.statusText) !== null && _error$response$statu !== void 0 ? _error$response$statu : \"Not Found\", error.response.data)));\n            case 2:\n              return _context6.a(2, Promise.reject(new _errors.NetworkError((_error$response$statu2 = error.response.statusText) !== null && _error$response$statu2 !== void 0 ? _error$response$statu2 : \"Unknown\", error.response.data)));\n            case 3:\n              _context6.n = 5;\n              break;\n            case 4:\n              return _context6.a(2, Promise.reject(new Error(error.message)));\n            case 5:\n              return _context6.a(2);\n          }\n        }, _callee6);\n      }));\n      function _handleNetworkError(_x2) {\n        return _handleNetworkError2.apply(this, arguments);\n      }\n      return _handleNetworkError;\n    }())\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2NhbGxfYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixtQkFBbUI7QUFDbkIsb0NBQW9DLG1CQUFPLENBQUMsb0RBQU87QUFDbkQsMENBQTBDLG1CQUFPLENBQUMsNEVBQXVCO0FBQ3pFLGNBQWMsbUJBQU8sQ0FBQywrR0FBVztBQUNqQyw0QkFBNEIsbUJBQU8sQ0FBQyw0SUFBd0I7QUFDNUQscUNBQXFDLGlDQUFpQztBQUN0RSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUywwQkFBMEIsdURBQXVELHdFQUF3RSx5QkFBeUIsK0ZBQStGLDhEQUE4RCwrQ0FBK0MsK0RBQStELDZDQUE2QyxtQkFBbUIsMEJBQTBCLCtCQUErQixPQUFPLG9DQUFvQyw4T0FBOE8sMEJBQTBCLG1CQUFtQiw0QkFBNEIsNERBQTRELDRDQUE0QywwQkFBMEIsSUFBSSx1RUFBdUUsTUFBTSxnQkFBZ0IsbUNBQW1DLDhFQUE4RSx1QkFBdUIsaUNBQWlDLG9JQUFvSSxTQUFTLGdFQUFnRSxZQUFZLHVCQUF1QixVQUFVLFdBQVcsU0FBUyx5QkFBeUIscUJBQXFCLFlBQVksd0JBQXdCLGdDQUFnQyx5Q0FBeUMsMkJBQTJCLDJEQUEyRCxtQkFBbUIsY0FBYywwRkFBMEYsZ0JBQWdCLHVOQUF1Tiw2YkFBNmIsY0FBYyxvREFBb0QsOEJBQThCLDZDQUE2QyxTQUFTLGVBQWU7QUFDdnVGLDJDQUEyQywrQkFBK0IsTUFBTSxJQUFJLFFBQVEsS0FBSyxZQUFZLFNBQVMsZ0VBQWdFLG1CQUFtQix5Q0FBeUMsK0JBQStCLEtBQUssa0JBQWtCLDBEQUEwRCwrREFBK0Q7QUFDamEsbURBQW1ELE1BQU0sZ0NBQWdDLFlBQVksb0JBQW9CO0FBQ3pILGdDQUFnQyxxQkFBcUIsNkJBQTZCLHFDQUFxQyx1QkFBdUIsb0JBQW9CLHlEQUF5RCxxQkFBcUIsMERBQTBELGdCQUFnQjtBQUMxVCxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFtQztBQUN2QztBQUNBLDhTQUE4UyxtQkFBTyxDQUFDLHdFQUFhO0FBQ25VO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtQ0FBbUM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2NhbGxfYnVpbGRlci5qcz84NTg1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5DYWxsQnVpbGRlciA9IHZvaWQgMDtcbnZhciBfdXJpanMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJ1cmlqc1wiKSk7XG52YXIgX1VSSVRlbXBsYXRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwidXJpanMvc3JjL1VSSVRlbXBsYXRlXCIpKTtcbnZhciBfZXJyb3JzID0gcmVxdWlyZShcIi4uL2Vycm9yc1wiKTtcbnZhciBfaG9yaXpvbl9heGlvc19jbGllbnQgPSByZXF1aXJlKFwiLi9ob3Jpem9uX2F4aW9zX2NsaWVudFwiKTtcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoZSkgeyByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyBkZWZhdWx0OiBlIH07IH1cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvcigpIHsgdmFyIGUsIHQsIHIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LCBuID0gci5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIiwgbyA9IHIudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGkociwgbiwgbywgaSkgeyB2YXIgYyA9IG4gJiYgbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBuIDogR2VuZXJhdG9yLCB1ID0gT2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSk7IHJldHVybiBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwiX2ludm9rZVwiLCBmdW5jdGlvbiAociwgbiwgbykgeyB2YXIgaSwgYywgdSwgZiA9IDAsIHAgPSBvIHx8IFtdLCB5ID0gITEsIEcgPSB7IHA6IDAsIG46IDAsIHY6IGUsIGE6IGQsIGY6IGQuYmluZChlLCA0KSwgZDogZnVuY3Rpb24gZCh0LCByKSB7IHJldHVybiBpID0gdCwgYyA9IDAsIHUgPSBlLCBHLm4gPSByLCBhOyB9IH07IGZ1bmN0aW9uIGQociwgbikgeyBmb3IgKGMgPSByLCB1ID0gbiwgdCA9IDA7ICF5ICYmIGYgJiYgIW8gJiYgdCA8IHAubGVuZ3RoOyB0KyspIHsgdmFyIG8sIGkgPSBwW3RdLCBkID0gRy5wLCBsID0gaVsyXTsgciA+IDMgPyAobyA9IGwgPT09IG4pICYmICh1ID0gaVsoYyA9IGlbNF0pID8gNSA6IChjID0gMywgMyldLCBpWzRdID0gaVs1XSA9IGUpIDogaVswXSA8PSBkICYmICgobyA9IHIgPCAyICYmIGQgPCBpWzFdKSA/IChjID0gMCwgRy52ID0gbiwgRy5uID0gaVsxXSkgOiBkIDwgbCAmJiAobyA9IHIgPCAzIHx8IGlbMF0gPiBuIHx8IG4gPiBsKSAmJiAoaVs0XSA9IHIsIGlbNV0gPSBuLCBHLm4gPSBsLCBjID0gMCkpOyB9IGlmIChvIHx8IHIgPiAxKSByZXR1cm4gYTsgdGhyb3cgeSA9ICEwLCBuOyB9IHJldHVybiBmdW5jdGlvbiAobywgcCwgbCkgeyBpZiAoZiA+IDEpIHRocm93IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7IGZvciAoeSAmJiAxID09PSBwICYmIGQocCwgbCksIGMgPSBwLCB1ID0gbDsgKHQgPSBjIDwgMiA/IGUgOiB1KSB8fCAheTspIHsgaSB8fCAoYyA/IGMgPCAzID8gKGMgPiAxICYmIChHLm4gPSAtMSksIGQoYywgdSkpIDogRy5uID0gdSA6IEcudiA9IHUpOyB0cnkgeyBpZiAoZiA9IDIsIGkpIHsgaWYgKGMgfHwgKG8gPSBcIm5leHRcIiksIHQgPSBpW29dKSB7IGlmICghKHQgPSB0LmNhbGwoaSwgdSkpKSB0aHJvdyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTsgaWYgKCF0LmRvbmUpIHJldHVybiB0OyB1ID0gdC52YWx1ZSwgYyA8IDIgJiYgKGMgPSAwKTsgfSBlbHNlIDEgPT09IGMgJiYgKHQgPSBpLnJldHVybikgJiYgdC5jYWxsKGkpLCBjIDwgMiAmJiAodSA9IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbyArIFwiJyBtZXRob2RcIiksIGMgPSAxKTsgaSA9IGU7IH0gZWxzZSBpZiAoKHQgPSAoeSA9IEcubiA8IDApID8gdSA6IHIuY2FsbChuLCBHKSkgIT09IGEpIGJyZWFrOyB9IGNhdGNoICh0KSB7IGkgPSBlLCBjID0gMSwgdSA9IHQ7IH0gZmluYWxseSB7IGYgPSAxOyB9IH0gcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6IHkgfTsgfTsgfShyLCBvLCBpKSwgITApLCB1OyB9IHZhciBhID0ge307IGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSB0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mOyB2YXIgYyA9IFtdW25dID8gdCh0KFtdW25dKCkpKSA6IChfcmVnZW5lcmF0b3JEZWZpbmUyKHQgPSB7fSwgbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIHQpLCB1ID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYyk7IGZ1bmN0aW9uIGYoZSkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6IChlLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIG8sIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodSksIGU7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uKSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCIsIF9yZWdlbmVyYXRvckRlZmluZTIoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIG8sIFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksIF9yZWdlbmVyYXRvckRlZmluZTIodSksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgbywgXCJHZW5lcmF0b3JcIiksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgKF9yZWdlbmVyYXRvciA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvcigpIHsgcmV0dXJuIHsgdzogaSwgbTogZiB9OyB9KSgpOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIG4sIHQpIHsgdmFyIGkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7IHRyeSB7IGkoe30sIFwiXCIsIHt9KTsgfSBjYXRjaCAoZSkgeyBpID0gMDsgfSBfcmVnZW5lcmF0b3JEZWZpbmUyID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yRGVmaW5lKGUsIHIsIG4sIHQpIHsgZnVuY3Rpb24gbyhyLCBuKSB7IF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShyLCBuLCBlKTsgfSk7IH0gciA/IGkgPyBpKGUsIHIsIHsgdmFsdWU6IG4sIGVudW1lcmFibGU6ICF0LCBjb25maWd1cmFibGU6ICF0LCB3cml0YWJsZTogIXQgfSkgOiBlW3JdID0gbiA6IChvKFwibmV4dFwiLCAwKSwgbyhcInRocm93XCIsIDEpLCBvKFwicmV0dXJuXCIsIDIpKTsgfSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBuLCB0KTsgfVxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKG4sIHQsIGUsIHIsIG8sIGEsIGMpIHsgdHJ5IHsgdmFyIGkgPSBuW2FdKGMpLCB1ID0gaS52YWx1ZTsgfSBjYXRjaCAobikgeyByZXR1cm4gdm9pZCBlKG4pOyB9IGkuZG9uZSA/IHQodSkgOiBQcm9taXNlLnJlc29sdmUodSkudGhlbihyLCBvKTsgfVxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IobikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHRoaXMsIGUgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAociwgbykgeyB2YXIgYSA9IG4uYXBwbHkodCwgZSk7IGZ1bmN0aW9uIF9uZXh0KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCBuKTsgfSBmdW5jdGlvbiBfdGhyb3cobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBuKTsgfSBfbmV4dCh2b2lkIDApOyB9KTsgfTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxudmFyIEpPSU5BQkxFID0gW1widHJhbnNhY3Rpb25cIl07XG52YXIgYW55R2xvYmFsID0gZ2xvYmFsO1xudmFyIEV2ZW50U291cmNlO1xuaWYgKHR5cGVvZiB0cnVlICE9PSBcInVuZGVmaW5lZFwiICYmIHRydWUpIHtcbiAgdmFyIF9yZWYsIF9hbnlHbG9iYWwkRXZlbnRTb3VyYywgX2FueUdsb2JhbCR3aW5kb3c7XG4gIEV2ZW50U291cmNlID0gKF9yZWYgPSAoX2FueUdsb2JhbCRFdmVudFNvdXJjID0gYW55R2xvYmFsLkV2ZW50U291cmNlKSAhPT0gbnVsbCAmJiBfYW55R2xvYmFsJEV2ZW50U291cmMgIT09IHZvaWQgMCA/IF9hbnlHbG9iYWwkRXZlbnRTb3VyYyA6IChfYW55R2xvYmFsJHdpbmRvdyA9IGFueUdsb2JhbC53aW5kb3cpID09PSBudWxsIHx8IF9hbnlHbG9iYWwkd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYW55R2xvYmFsJHdpbmRvdy5FdmVudFNvdXJjZSkgIT09IG51bGwgJiYgX3JlZiAhPT0gdm9pZCAwID8gX3JlZiA6IHJlcXVpcmUoXCJldmVudHNvdXJjZVwiKTtcbn1cbnZhciBDYWxsQnVpbGRlciA9IGV4cG9ydHMuQ2FsbEJ1aWxkZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhbGxCdWlsZGVyKHNlcnZlclVybCwgaHR0cENsaWVudCkge1xuICAgIHZhciBuZWlnaGJvclJvb3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFwiXCI7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbGxCdWlsZGVyKTtcbiAgICB0aGlzLnVybCA9IHNlcnZlclVybC5jbG9uZSgpO1xuICAgIHRoaXMuZmlsdGVyID0gW107XG4gICAgdGhpcy5vcmlnaW5hbFNlZ21lbnRzID0gdGhpcy51cmwuc2VnbWVudCgpIHx8IFtdO1xuICAgIHRoaXMubmVpZ2hib3JSb290ID0gbmVpZ2hib3JSb290O1xuICAgIHRoaXMuaHR0cENsaWVudCA9IGh0dHBDbGllbnQ7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhDYWxsQnVpbGRlciwgW3tcbiAgICBrZXk6IFwiY2FsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxsKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMuY2hlY2tGaWx0ZXIoKTtcbiAgICAgIHJldHVybiB0aGlzLl9zZW5kTm9ybWFsUmVxdWVzdCh0aGlzLnVybCkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgICByZXR1cm4gX3RoaXMuX3BhcnNlUmVzcG9uc2Uocik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RyZWFtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0cmVhbSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgaWYgKEV2ZW50U291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RyZWFtaW5nIHJlcXVpcmVzIGV2ZW50c291cmNlIHRvIGJlIGVuYWJsZWQuIElmIHlvdSBuZWVkIHRoaXMgZnVuY3Rpb25hbGl0eSwgY29tcGlsZSB3aXRoIFVTRV9FVkVOVFNPVVJDRT10cnVlLlwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hlY2tGaWx0ZXIoKTtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiWC1DbGllbnQtTmFtZVwiLCBcImpzLXN0ZWxsYXItc2RrXCIpO1xuICAgICAgdGhpcy51cmwuc2V0UXVlcnkoXCJYLUNsaWVudC1WZXJzaW9uXCIsIF9ob3Jpem9uX2F4aW9zX2NsaWVudC52ZXJzaW9uKTtcbiAgICAgIHZhciBlcztcbiAgICAgIHZhciB0aW1lb3V0O1xuICAgICAgdmFyIGNyZWF0ZVRpbWVvdXQgPSBmdW5jdGlvbiBjcmVhdGVUaW1lb3V0KCkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIF9lcztcbiAgICAgICAgICAoX2VzID0gZXMpID09PSBudWxsIHx8IF9lcyA9PT0gdm9pZCAwIHx8IF9lcy5jbG9zZSgpO1xuICAgICAgICAgIGVzID0gX2NyZWF0ZUV2ZW50U291cmNlKCk7XG4gICAgICAgIH0sIG9wdGlvbnMucmVjb25uZWN0VGltZW91dCB8fCAxNSAqIDEwMDApO1xuICAgICAgfTtcbiAgICAgIHZhciBfY3JlYXRlRXZlbnRTb3VyY2UgPSBmdW5jdGlvbiBjcmVhdGVFdmVudFNvdXJjZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlcyA9IG5ldyBFdmVudFNvdXJjZShfdGhpczIudXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5vbmVycm9yKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlVGltZW91dCgpO1xuICAgICAgICBpZiAoIWVzKSB7XG4gICAgICAgICAgcmV0dXJuIGVzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIG9uQ2xvc2UgPSBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIGVzLmNsb3NlKCk7XG4gICAgICAgICAgX2NyZWF0ZUV2ZW50U291cmNlKCk7XG4gICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uTWVzc2FnZSA9IGZ1bmN0aW9uIG9uTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJjbG9zZVwiKSB7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciByZXN1bHQgPSBtZXNzYWdlLmRhdGEgPyBfdGhpczIuX3BhcnNlUmVjb3JkKEpTT04ucGFyc2UobWVzc2FnZS5kYXRhKSkgOiBtZXNzYWdlO1xuICAgICAgICAgIGlmIChyZXN1bHQucGFnaW5nX3Rva2VuKSB7XG4gICAgICAgICAgICBfdGhpczIudXJsLnNldFF1ZXJ5KFwiY3Vyc29yXCIsIHJlc3VsdC5wYWdpbmdfdG9rZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgY3JlYXRlVGltZW91dCgpO1xuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbm1lc3NhZ2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25tZXNzYWdlKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5vbmVycm9yKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGVzLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICBlcy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbk1lc3NhZ2UuYmluZChfdGhpczIpKTtcbiAgICAgICAgICBlcy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvci5iaW5kKF90aGlzMikpO1xuICAgICAgICAgIGVzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCBvbkNsb3NlLmJpbmQoX3RoaXMyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXMub25tZXNzYWdlID0gb25NZXNzYWdlLmJpbmQoX3RoaXMyKTtcbiAgICAgICAgICBlcy5vbmVycm9yID0gb25FcnJvci5iaW5kKF90aGlzMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVzO1xuICAgICAgfTtcbiAgICAgIF9jcmVhdGVFdmVudFNvdXJjZSgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9lczI7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgKF9lczIgPSBlcykgPT09IG51bGwgfHwgX2VzMiA9PT0gdm9pZCAwIHx8IF9lczIuY2xvc2UoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImN1cnNvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJzb3IoX2N1cnNvcikge1xuICAgICAgdGhpcy51cmwuc2V0UXVlcnkoXCJjdXJzb3JcIiwgX2N1cnNvcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGltaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGltaXQocmVjb3Jkc051bWJlcikge1xuICAgICAgdGhpcy51cmwuc2V0UXVlcnkoXCJsaW1pdFwiLCByZWNvcmRzTnVtYmVyLnRvU3RyaW5nKCkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9yZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9yZGVyKGRpcmVjdGlvbikge1xuICAgICAgdGhpcy51cmwuc2V0UXVlcnkoXCJvcmRlclwiLCBkaXJlY3Rpb24pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImpvaW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbihpbmNsdWRlKSB7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcImpvaW5cIiwgaW5jbHVkZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yRW5kcG9pbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yRW5kcG9pbnQoZW5kcG9pbnQsIHBhcmFtKSB7XG4gICAgICBpZiAodGhpcy5uZWlnaGJvclJvb3QgPT09IFwiXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1c2FnZTogbmVpZ2hib3JSb290IG5vdCBzZXQgaW4gY29uc3RydWN0b3JcIik7XG4gICAgICB9XG4gICAgICB0aGlzLmZpbHRlci5wdXNoKFtlbmRwb2ludCwgcGFyYW0sIHRoaXMubmVpZ2hib3JSb290XSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tGaWx0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tGaWx0ZXIoKSB7XG4gICAgICBpZiAodGhpcy5maWx0ZXIubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IF9lcnJvcnMuQmFkUmVxdWVzdEVycm9yKFwiVG9vIG1hbnkgZmlsdGVycyBzcGVjaWZpZWRcIiwgdGhpcy5maWx0ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZmlsdGVyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgbmV3U2VnbWVudCA9IHRoaXMub3JpZ2luYWxTZWdtZW50cy5jb25jYXQodGhpcy5maWx0ZXJbMF0pO1xuICAgICAgICB0aGlzLnVybC5zZWdtZW50KG5ld1NlZ21lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcmVxdWVzdEZuRm9yTGlua1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVxdWVzdEZuRm9yTGluayhsaW5rKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHZhciBvcHRzLFxuICAgICAgICAgIHVyaSxcbiAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICByLFxuICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIG9wdHMgPSBfYXJncy5sZW5ndGggPiAwICYmIF9hcmdzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnc1swXSA6IHt9O1xuICAgICAgICAgICAgICBpZiAobGluay50ZW1wbGF0ZWQpIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICgwLCBfVVJJVGVtcGxhdGUuZGVmYXVsdCkobGluay5ocmVmKTtcbiAgICAgICAgICAgICAgICB1cmkgPSAoMCwgX3VyaWpzLmRlZmF1bHQpKHRlbXBsYXRlLmV4cGFuZChvcHRzKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXJpID0gKDAsIF91cmlqcy5kZWZhdWx0KShsaW5rLmhyZWYpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAxO1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLl9zZW5kTm9ybWFsUmVxdWVzdCh1cmkpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICByID0gX2NvbnRleHQudjtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMiwgX3RoaXMzLl9wYXJzZVJlc3BvbnNlKHIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcGFyc2VSZWNvcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3BhcnNlUmVjb3JkKGpzb24pIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuICAgICAgaWYgKCFqc29uLl9saW5rcykge1xuICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGpzb24uX2xpbmtzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIG4gPSBqc29uLl9saW5rc1trZXldO1xuICAgICAgICB2YXIgaW5jbHVkZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBqc29uW2tleV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBqc29uW1wiXCIuY29uY2F0KGtleSwgXCJfYXR0clwiKV0gPSBqc29uW2tleV07XG4gICAgICAgICAgaW5jbHVkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNsdWRlZCAmJiBKT0lOQUJMRS5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBfdGhpczQuX3BhcnNlUmVjb3JkKGpzb25ba2V5XSk7XG4gICAgICAgICAganNvbltrZXldID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLm4pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmEoMiwgcmVjb3JkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgX2NhbGxlZTIpO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBqc29uW2tleV0gPSBfdGhpczQuX3JlcXVlc3RGbkZvckxpbmsobik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZW5kTm9ybWFsUmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlbmROb3JtYWxSZXF1ZXN0MiA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTMoaW5pdGlhbFVybCkge1xuICAgICAgICB2YXIgdXJsO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdXJsID0gaW5pdGlhbFVybDtcbiAgICAgICAgICAgICAgaWYgKHVybC5hdXRob3JpdHkoKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5hdXRob3JpdHkodGhpcy51cmwuYXV0aG9yaXR5KCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh1cmwucHJvdG9jb2woKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5wcm90b2NvbCh0aGlzLnVybC5wcm90b2NvbCgpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmEoMiwgdGhpcy5odHRwQ2xpZW50LmdldCh1cmwudG9TdHJpbmcoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2godGhpcy5faGFuZGxlTmV0d29ya0Vycm9yKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBfc2VuZE5vcm1hbFJlcXVlc3QoX3gpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kTm9ybWFsUmVxdWVzdDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfc2VuZE5vcm1hbFJlcXVlc3Q7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiX3BhcnNlUmVzcG9uc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3BhcnNlUmVzcG9uc2UoanNvbikge1xuICAgICAgaWYgKGpzb24uX2VtYmVkZGVkICYmIGpzb24uX2VtYmVkZGVkLnJlY29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvQ29sbGVjdGlvblBhZ2UoanNvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fcGFyc2VSZWNvcmQoanNvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl90b0NvbGxlY3Rpb25QYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF90b0NvbGxlY3Rpb25QYWdlKGpzb24pIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uLl9lbWJlZGRlZC5yZWNvcmRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGpzb24uX2VtYmVkZGVkLnJlY29yZHNbaV0gPSB0aGlzLl9wYXJzZVJlY29yZChqc29uLl9lbWJlZGRlZC5yZWNvcmRzW2ldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlY29yZHM6IGpzb24uX2VtYmVkZGVkLnJlY29yZHMsXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX25leHQyID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlNCgpIHtcbiAgICAgICAgICAgIHZhciByO1xuICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0NCkge1xuICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQubikge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uID0gMTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuX3NlbmROb3JtYWxSZXF1ZXN0KCgwLCBfdXJpanMuZGVmYXVsdCkoanNvbi5fbGlua3MubmV4dC5ocmVmKSk7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgciA9IF9jb250ZXh0NC52O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hKDIsIF90aGlzNS5fdG9Db2xsZWN0aW9uUGFnZShyKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIF9jYWxsZWU0KTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfbmV4dDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH0oKSxcbiAgICAgICAgcHJldjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBfcHJldiA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTUoKSB7XG4gICAgICAgICAgICB2YXIgcjtcbiAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDUpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1Lm4pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubiA9IDE7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1Ll9zZW5kTm9ybWFsUmVxdWVzdCgoMCwgX3VyaWpzLmRlZmF1bHQpKGpzb24uX2xpbmtzLnByZXYuaHJlZikpO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgIHIgPSBfY29udGV4dDUudjtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYSgyLCBfdGhpczUuX3RvQ29sbGVjdGlvblBhZ2UocikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBfY2FsbGVlNSk7XG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGZ1bmN0aW9uIHByZXYoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3ByZXYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0oKVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZU5ldHdvcmtFcnJvclwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9oYW5kbGVOZXR3b3JrRXJyb3IyID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlNihlcnJvcikge1xuICAgICAgICB2YXIgX2Vycm9yJHJlc3BvbnNlJHN0YXR1LCBfZXJyb3IkcmVzcG9uc2Ukc3RhdHUyO1xuICAgICAgICB2YXIgX3Q7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBpZiAoIShlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm4gPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90ID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgICBfY29udGV4dDYubiA9IF90ID09PSA0MDQgPyAxIDogMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYSgyLCBQcm9taXNlLnJlamVjdChuZXcgX2Vycm9ycy5Ob3RGb3VuZEVycm9yKChfZXJyb3IkcmVzcG9uc2Ukc3RhdHUgPSBlcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0KSAhPT0gbnVsbCAmJiBfZXJyb3IkcmVzcG9uc2Ukc3RhdHUgIT09IHZvaWQgMCA/IF9lcnJvciRyZXNwb25zZSRzdGF0dSA6IFwiTm90IEZvdW5kXCIsIGVycm9yLnJlc3BvbnNlLmRhdGEpKSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYSgyLCBQcm9taXNlLnJlamVjdChuZXcgX2Vycm9ycy5OZXR3b3JrRXJyb3IoKF9lcnJvciRyZXNwb25zZSRzdGF0dTIgPSBlcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0KSAhPT0gbnVsbCAmJiBfZXJyb3IkcmVzcG9uc2Ukc3RhdHUyICE9PSB2b2lkIDAgPyBfZXJyb3IkcmVzcG9uc2Ukc3RhdHUyIDogXCJVbmtub3duXCIsIGVycm9yLnJlc3BvbnNlLmRhdGEpKSk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF9jb250ZXh0Ni5uID0gNTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYSgyLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSkpKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hKDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gX2hhbmRsZU5ldHdvcmtFcnJvcihfeDIpIHtcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVOZXR3b3JrRXJyb3IyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2hhbmRsZU5ldHdvcmtFcnJvcjtcbiAgICB9KCkpXG4gIH1dKTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/claimable_balances_call_builder.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/claimable_balances_call_builder.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ClaimableBalanceCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar ClaimableBalanceCallBuilder = exports.ClaimableBalanceCallBuilder = function (_CallBuilder) {\n  function ClaimableBalanceCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, ClaimableBalanceCallBuilder);\n    _this = _callSuper(this, ClaimableBalanceCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"claimable_balances\");\n    return _this;\n  }\n  _inherits(ClaimableBalanceCallBuilder, _CallBuilder);\n  return _createClass(ClaimableBalanceCallBuilder, [{\n    key: \"claimableBalance\",\n    value: function claimableBalance(claimableBalanceId) {\n      var builder = new _call_builder.CallBuilder(this.url.clone(), this.httpClient);\n      builder.filter.push([claimableBalanceId]);\n      return builder;\n    }\n  }, {\n    key: \"sponsor\",\n    value: function sponsor(_sponsor) {\n      this.url.setQuery(\"sponsor\", _sponsor);\n      return this;\n    }\n  }, {\n    key: \"claimant\",\n    value: function claimant(_claimant) {\n      this.url.setQuery(\"claimant\", _claimant);\n      return this;\n    }\n  }, {\n    key: \"asset\",\n    value: function asset(_asset) {\n      this.url.setQuery(\"asset\", _asset.toString());\n      return this;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2NsYWltYWJsZV9iYWxhbmNlc19jYWxsX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsbUNBQW1DO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLDRIQUFnQjtBQUM1QyxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSixrQ0FBa0MsbUNBQW1DO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2NsYWltYWJsZV9iYWxhbmNlc19jYWxsX2J1aWxkZXIuanM/ZDNiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQ2xhaW1hYmxlQmFsYW5jZUNhbGxCdWlsZGVyID0gdm9pZCAwO1xudmFyIF9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9jYWxsX2J1aWxkZXJcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgdHJ5IHsgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyB9IGNhdGNoICh0KSB7fSByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyByZXR1cm4gISF0OyB9KSgpOyB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YodCkgeyByZXR1cm4gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7IH0sIF9nZXRQcm90b3R5cGVPZih0KTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbnZhciBDbGFpbWFibGVCYWxhbmNlQ2FsbEJ1aWxkZXIgPSBleHBvcnRzLkNsYWltYWJsZUJhbGFuY2VDYWxsQnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gQ2xhaW1hYmxlQmFsYW5jZUNhbGxCdWlsZGVyKHNlcnZlclVybCwgaHR0cENsaWVudCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xhaW1hYmxlQmFsYW5jZUNhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgQ2xhaW1hYmxlQmFsYW5jZUNhbGxCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50XSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJjbGFpbWFibGVfYmFsYW5jZXNcIik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9pbmhlcml0cyhDbGFpbWFibGVCYWxhbmNlQ2FsbEJ1aWxkZXIsIF9DYWxsQnVpbGRlcik7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoQ2xhaW1hYmxlQmFsYW5jZUNhbGxCdWlsZGVyLCBbe1xuICAgIGtleTogXCJjbGFpbWFibGVCYWxhbmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsYWltYWJsZUJhbGFuY2UoY2xhaW1hYmxlQmFsYW5jZUlkKSB7XG4gICAgICB2YXIgYnVpbGRlciA9IG5ldyBfY2FsbF9idWlsZGVyLkNhbGxCdWlsZGVyKHRoaXMudXJsLmNsb25lKCksIHRoaXMuaHR0cENsaWVudCk7XG4gICAgICBidWlsZGVyLmZpbHRlci5wdXNoKFtjbGFpbWFibGVCYWxhbmNlSWRdKTtcbiAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzcG9uc29yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNwb25zb3IoX3Nwb25zb3IpIHtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwic3BvbnNvclwiLCBfc3BvbnNvcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xhaW1hbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xhaW1hbnQoX2NsYWltYW50KSB7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcImNsYWltYW50XCIsIF9jbGFpbWFudCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYXNzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXNzZXQoX2Fzc2V0KSB7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcImFzc2V0XCIsIF9hc3NldC50b1N0cmluZygpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xufShfY2FsbF9idWlsZGVyLkNhbGxCdWlsZGVyKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/claimable_balances_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/effect_call_builder.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/effect_call_builder.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.EffectCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar EffectCallBuilder = exports.EffectCallBuilder = function (_CallBuilder) {\n  function EffectCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, EffectCallBuilder);\n    _this = _callSuper(this, EffectCallBuilder, [serverUrl, httpClient, \"effects\"]);\n    _this.url.segment(\"effects\");\n    return _this;\n  }\n  _inherits(EffectCallBuilder, _CallBuilder);\n  return _createClass(EffectCallBuilder, [{\n    key: \"forAccount\",\n    value: function forAccount(accountId) {\n      return this.forEndpoint(\"accounts\", accountId);\n    }\n  }, {\n    key: \"forLedger\",\n    value: function forLedger(sequence) {\n      return this.forEndpoint(\"ledgers\", sequence.toString());\n    }\n  }, {\n    key: \"forTransaction\",\n    value: function forTransaction(transactionId) {\n      return this.forEndpoint(\"transactions\", transactionId);\n    }\n  }, {\n    key: \"forOperation\",\n    value: function forOperation(operationId) {\n      return this.forEndpoint(\"operations\", operationId);\n    }\n  }, {\n    key: \"forLiquidityPool\",\n    value: function forLiquidityPool(poolId) {\n      return this.forEndpoint(\"liquidity_pools\", poolId);\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2VmZmVjdF9jYWxsX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YseUJBQXlCO0FBQ3pCLG9CQUFvQixtQkFBTyxDQUFDLDRIQUFnQjtBQUM1QyxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSix3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vZWZmZWN0X2NhbGxfYnVpbGRlci5qcz9lMDYwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5FZmZlY3RDYWxsQnVpbGRlciA9IHZvaWQgMDtcbnZhciBfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2FsbF9idWlsZGVyXCIpO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgRWZmZWN0Q2FsbEJ1aWxkZXIgPSBleHBvcnRzLkVmZmVjdENhbGxCdWlsZGVyID0gZnVuY3Rpb24gKF9DYWxsQnVpbGRlcikge1xuICBmdW5jdGlvbiBFZmZlY3RDYWxsQnVpbGRlcihzZXJ2ZXJVcmwsIGh0dHBDbGllbnQpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVmZmVjdENhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgRWZmZWN0Q2FsbEJ1aWxkZXIsIFtzZXJ2ZXJVcmwsIGh0dHBDbGllbnQsIFwiZWZmZWN0c1wiXSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJlZmZlY3RzXCIpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfaW5oZXJpdHMoRWZmZWN0Q2FsbEJ1aWxkZXIsIF9DYWxsQnVpbGRlcik7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRWZmZWN0Q2FsbEJ1aWxkZXIsIFt7XG4gICAga2V5OiBcImZvckFjY291bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yQWNjb3VudChhY2NvdW50SWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvckVuZHBvaW50KFwiYWNjb3VudHNcIiwgYWNjb3VudElkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yTGVkZ2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvckxlZGdlcihzZXF1ZW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9yRW5kcG9pbnQoXCJsZWRnZXJzXCIsIHNlcXVlbmNlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JUcmFuc2FjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JUcmFuc2FjdGlvbih0cmFuc2FjdGlvbklkKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JFbmRwb2ludChcInRyYW5zYWN0aW9uc1wiLCB0cmFuc2FjdGlvbklkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yT3BlcmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvck9wZXJhdGlvbihvcGVyYXRpb25JZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9yRW5kcG9pbnQoXCJvcGVyYXRpb25zXCIsIG9wZXJhdGlvbklkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yTGlxdWlkaXR5UG9vbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JMaXF1aWRpdHlQb29sKHBvb2xJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9yRW5kcG9pbnQoXCJsaXF1aWRpdHlfcG9vbHNcIiwgcG9vbElkKTtcbiAgICB9XG4gIH1dKTtcbn0oX2NhbGxfYnVpbGRlci5DYWxsQnVpbGRlcik7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/effect_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/friendbot_builder.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/friendbot_builder.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.FriendbotBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar FriendbotBuilder = exports.FriendbotBuilder = function (_CallBuilder) {\n  function FriendbotBuilder(serverUrl, httpClient, address) {\n    var _this;\n    _classCallCheck(this, FriendbotBuilder);\n    _this = _callSuper(this, FriendbotBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"friendbot\");\n    _this.url.setQuery(\"addr\", address);\n    return _this;\n  }\n  _inherits(FriendbotBuilder, _CallBuilder);\n  return _createClass(FriendbotBuilder);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2ZyaWVuZGJvdF9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLHdCQUF3QjtBQUN4QixvQkFBb0IsbUJBQU8sQ0FBQyw0SEFBZ0I7QUFDNUMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsaUNBQWlDO0FBQ2pDLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0osdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vZnJpZW5kYm90X2J1aWxkZXIuanM/NjNkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuRnJpZW5kYm90QnVpbGRlciA9IHZvaWQgMDtcbnZhciBfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2FsbF9idWlsZGVyXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgRnJpZW5kYm90QnVpbGRlciA9IGV4cG9ydHMuRnJpZW5kYm90QnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gRnJpZW5kYm90QnVpbGRlcihzZXJ2ZXJVcmwsIGh0dHBDbGllbnQsIGFkZHJlc3MpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZyaWVuZGJvdEJ1aWxkZXIpO1xuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBGcmllbmRib3RCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50XSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJmcmllbmRib3RcIik7XG4gICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiYWRkclwiLCBhZGRyZXNzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKEZyaWVuZGJvdEJ1aWxkZXIsIF9DYWxsQnVpbGRlcik7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRnJpZW5kYm90QnVpbGRlcik7XG59KF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/friendbot_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_api.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_api.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.HorizonApi = void 0;\nvar HorizonApi;\n(function (_HorizonApi) {\n  var LiquidityPoolType = function (LiquidityPoolType) {\n    LiquidityPoolType[\"constantProduct\"] = \"constant_product\";\n    return LiquidityPoolType;\n  }({});\n  _HorizonApi.LiquidityPoolType = LiquidityPoolType;\n  var OperationResponseType = function (OperationResponseType) {\n    OperationResponseType[\"createAccount\"] = \"create_account\";\n    OperationResponseType[\"payment\"] = \"payment\";\n    OperationResponseType[\"pathPayment\"] = \"path_payment_strict_receive\";\n    OperationResponseType[\"createPassiveOffer\"] = \"create_passive_sell_offer\";\n    OperationResponseType[\"manageOffer\"] = \"manage_sell_offer\";\n    OperationResponseType[\"setOptions\"] = \"set_options\";\n    OperationResponseType[\"changeTrust\"] = \"change_trust\";\n    OperationResponseType[\"allowTrust\"] = \"allow_trust\";\n    OperationResponseType[\"accountMerge\"] = \"account_merge\";\n    OperationResponseType[\"inflation\"] = \"inflation\";\n    OperationResponseType[\"manageData\"] = \"manage_data\";\n    OperationResponseType[\"bumpSequence\"] = \"bump_sequence\";\n    OperationResponseType[\"manageBuyOffer\"] = \"manage_buy_offer\";\n    OperationResponseType[\"pathPaymentStrictSend\"] = \"path_payment_strict_send\";\n    OperationResponseType[\"createClaimableBalance\"] = \"create_claimable_balance\";\n    OperationResponseType[\"claimClaimableBalance\"] = \"claim_claimable_balance\";\n    OperationResponseType[\"beginSponsoringFutureReserves\"] = \"begin_sponsoring_future_reserves\";\n    OperationResponseType[\"endSponsoringFutureReserves\"] = \"end_sponsoring_future_reserves\";\n    OperationResponseType[\"revokeSponsorship\"] = \"revoke_sponsorship\";\n    OperationResponseType[\"clawback\"] = \"clawback\";\n    OperationResponseType[\"clawbackClaimableBalance\"] = \"clawback_claimable_balance\";\n    OperationResponseType[\"setTrustLineFlags\"] = \"set_trust_line_flags\";\n    OperationResponseType[\"liquidityPoolDeposit\"] = \"liquidity_pool_deposit\";\n    OperationResponseType[\"liquidityPoolWithdraw\"] = \"liquidity_pool_withdraw\";\n    OperationResponseType[\"invokeHostFunction\"] = \"invoke_host_function\";\n    OperationResponseType[\"bumpFootprintExpiration\"] = \"bump_footprint_expiration\";\n    OperationResponseType[\"restoreFootprint\"] = \"restore_footprint\";\n    return OperationResponseType;\n  }({});\n  _HorizonApi.OperationResponseType = OperationResponseType;\n  var OperationResponseTypeI = function (OperationResponseTypeI) {\n    OperationResponseTypeI[OperationResponseTypeI[\"createAccount\"] = 0] = \"createAccount\";\n    OperationResponseTypeI[OperationResponseTypeI[\"payment\"] = 1] = \"payment\";\n    OperationResponseTypeI[OperationResponseTypeI[\"pathPayment\"] = 2] = \"pathPayment\";\n    OperationResponseTypeI[OperationResponseTypeI[\"createPassiveOffer\"] = 3] = \"createPassiveOffer\";\n    OperationResponseTypeI[OperationResponseTypeI[\"manageOffer\"] = 4] = \"manageOffer\";\n    OperationResponseTypeI[OperationResponseTypeI[\"setOptions\"] = 5] = \"setOptions\";\n    OperationResponseTypeI[OperationResponseTypeI[\"changeTrust\"] = 6] = \"changeTrust\";\n    OperationResponseTypeI[OperationResponseTypeI[\"allowTrust\"] = 7] = \"allowTrust\";\n    OperationResponseTypeI[OperationResponseTypeI[\"accountMerge\"] = 8] = \"accountMerge\";\n    OperationResponseTypeI[OperationResponseTypeI[\"inflation\"] = 9] = \"inflation\";\n    OperationResponseTypeI[OperationResponseTypeI[\"manageData\"] = 10] = \"manageData\";\n    OperationResponseTypeI[OperationResponseTypeI[\"bumpSequence\"] = 11] = \"bumpSequence\";\n    OperationResponseTypeI[OperationResponseTypeI[\"manageBuyOffer\"] = 12] = \"manageBuyOffer\";\n    OperationResponseTypeI[OperationResponseTypeI[\"pathPaymentStrictSend\"] = 13] = \"pathPaymentStrictSend\";\n    OperationResponseTypeI[OperationResponseTypeI[\"createClaimableBalance\"] = 14] = \"createClaimableBalance\";\n    OperationResponseTypeI[OperationResponseTypeI[\"claimClaimableBalance\"] = 15] = \"claimClaimableBalance\";\n    OperationResponseTypeI[OperationResponseTypeI[\"beginSponsoringFutureReserves\"] = 16] = \"beginSponsoringFutureReserves\";\n    OperationResponseTypeI[OperationResponseTypeI[\"endSponsoringFutureReserves\"] = 17] = \"endSponsoringFutureReserves\";\n    OperationResponseTypeI[OperationResponseTypeI[\"revokeSponsorship\"] = 18] = \"revokeSponsorship\";\n    OperationResponseTypeI[OperationResponseTypeI[\"clawback\"] = 19] = \"clawback\";\n    OperationResponseTypeI[OperationResponseTypeI[\"clawbackClaimableBalance\"] = 20] = \"clawbackClaimableBalance\";\n    OperationResponseTypeI[OperationResponseTypeI[\"setTrustLineFlags\"] = 21] = \"setTrustLineFlags\";\n    OperationResponseTypeI[OperationResponseTypeI[\"liquidityPoolDeposit\"] = 22] = \"liquidityPoolDeposit\";\n    OperationResponseTypeI[OperationResponseTypeI[\"liquidityPoolWithdraw\"] = 23] = \"liquidityPoolWithdraw\";\n    OperationResponseTypeI[OperationResponseTypeI[\"invokeHostFunction\"] = 24] = \"invokeHostFunction\";\n    OperationResponseTypeI[OperationResponseTypeI[\"bumpFootprintExpiration\"] = 25] = \"bumpFootprintExpiration\";\n    OperationResponseTypeI[OperationResponseTypeI[\"restoreFootprint\"] = 26] = \"restoreFootprint\";\n    return OperationResponseTypeI;\n  }({});\n  _HorizonApi.OperationResponseTypeI = OperationResponseTypeI;\n  var TransactionFailedResultCodes = function (TransactionFailedResultCodes) {\n    TransactionFailedResultCodes[\"TX_FAILED\"] = \"tx_failed\";\n    TransactionFailedResultCodes[\"TX_BAD_SEQ\"] = \"tx_bad_seq\";\n    TransactionFailedResultCodes[\"TX_BAD_AUTH\"] = \"tx_bad_auth\";\n    TransactionFailedResultCodes[\"TX_BAD_AUTH_EXTRA\"] = \"tx_bad_auth_extra\";\n    TransactionFailedResultCodes[\"TX_FEE_BUMP_INNER_SUCCESS\"] = \"tx_fee_bump_inner_success\";\n    TransactionFailedResultCodes[\"TX_FEE_BUMP_INNER_FAILED\"] = \"tx_fee_bump_inner_failed\";\n    TransactionFailedResultCodes[\"TX_NOT_SUPPORTED\"] = \"tx_not_supported\";\n    TransactionFailedResultCodes[\"TX_SUCCESS\"] = \"tx_success\";\n    TransactionFailedResultCodes[\"TX_TOO_EARLY\"] = \"tx_too_early\";\n    TransactionFailedResultCodes[\"TX_TOO_LATE\"] = \"tx_too_late\";\n    TransactionFailedResultCodes[\"TX_MISSING_OPERATION\"] = \"tx_missing_operation\";\n    TransactionFailedResultCodes[\"TX_INSUFFICIENT_BALANCE\"] = \"tx_insufficient_balance\";\n    TransactionFailedResultCodes[\"TX_NO_SOURCE_ACCOUNT\"] = \"tx_no_source_account\";\n    TransactionFailedResultCodes[\"TX_INSUFFICIENT_FEE\"] = \"tx_insufficient_fee\";\n    TransactionFailedResultCodes[\"TX_INTERNAL_ERROR\"] = \"tx_internal_error\";\n    return TransactionFailedResultCodes;\n  }({});\n  _HorizonApi.TransactionFailedResultCodes = TransactionFailedResultCodes;\n})(HorizonApi || (exports.HorizonApi = HorizonApi = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2hvcml6b25fYXBpLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHO0FBQ047QUFDQSxDQUFDLGlCQUFpQixrQkFBa0Isa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2hvcml6b25fYXBpLmpzP2MwYTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkhvcml6b25BcGkgPSB2b2lkIDA7XG52YXIgSG9yaXpvbkFwaTtcbihmdW5jdGlvbiAoX0hvcml6b25BcGkpIHtcbiAgdmFyIExpcXVpZGl0eVBvb2xUeXBlID0gZnVuY3Rpb24gKExpcXVpZGl0eVBvb2xUeXBlKSB7XG4gICAgTGlxdWlkaXR5UG9vbFR5cGVbXCJjb25zdGFudFByb2R1Y3RcIl0gPSBcImNvbnN0YW50X3Byb2R1Y3RcIjtcbiAgICByZXR1cm4gTGlxdWlkaXR5UG9vbFR5cGU7XG4gIH0oe30pO1xuICBfSG9yaXpvbkFwaS5MaXF1aWRpdHlQb29sVHlwZSA9IExpcXVpZGl0eVBvb2xUeXBlO1xuICB2YXIgT3BlcmF0aW9uUmVzcG9uc2VUeXBlID0gZnVuY3Rpb24gKE9wZXJhdGlvblJlc3BvbnNlVHlwZSkge1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImNyZWF0ZUFjY291bnRcIl0gPSBcImNyZWF0ZV9hY2NvdW50XCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlW1wicGF5bWVudFwiXSA9IFwicGF5bWVudFwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcInBhdGhQYXltZW50XCJdID0gXCJwYXRoX3BheW1lbnRfc3RyaWN0X3JlY2VpdmVcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJjcmVhdGVQYXNzaXZlT2ZmZXJcIl0gPSBcImNyZWF0ZV9wYXNzaXZlX3NlbGxfb2ZmZXJcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJtYW5hZ2VPZmZlclwiXSA9IFwibWFuYWdlX3NlbGxfb2ZmZXJcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJzZXRPcHRpb25zXCJdID0gXCJzZXRfb3B0aW9uc1wiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImNoYW5nZVRydXN0XCJdID0gXCJjaGFuZ2VfdHJ1c3RcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJhbGxvd1RydXN0XCJdID0gXCJhbGxvd190cnVzdFwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImFjY291bnRNZXJnZVwiXSA9IFwiYWNjb3VudF9tZXJnZVwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImluZmxhdGlvblwiXSA9IFwiaW5mbGF0aW9uXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlW1wibWFuYWdlRGF0YVwiXSA9IFwibWFuYWdlX2RhdGFcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJidW1wU2VxdWVuY2VcIl0gPSBcImJ1bXBfc2VxdWVuY2VcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJtYW5hZ2VCdXlPZmZlclwiXSA9IFwibWFuYWdlX2J1eV9vZmZlclwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcInBhdGhQYXltZW50U3RyaWN0U2VuZFwiXSA9IFwicGF0aF9wYXltZW50X3N0cmljdF9zZW5kXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlW1wiY3JlYXRlQ2xhaW1hYmxlQmFsYW5jZVwiXSA9IFwiY3JlYXRlX2NsYWltYWJsZV9iYWxhbmNlXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlW1wiY2xhaW1DbGFpbWFibGVCYWxhbmNlXCJdID0gXCJjbGFpbV9jbGFpbWFibGVfYmFsYW5jZVwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImJlZ2luU3BvbnNvcmluZ0Z1dHVyZVJlc2VydmVzXCJdID0gXCJiZWdpbl9zcG9uc29yaW5nX2Z1dHVyZV9yZXNlcnZlc1wiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImVuZFNwb25zb3JpbmdGdXR1cmVSZXNlcnZlc1wiXSA9IFwiZW5kX3Nwb25zb3JpbmdfZnV0dXJlX3Jlc2VydmVzXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlW1wicmV2b2tlU3BvbnNvcnNoaXBcIl0gPSBcInJldm9rZV9zcG9uc29yc2hpcFwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImNsYXdiYWNrXCJdID0gXCJjbGF3YmFja1wiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImNsYXdiYWNrQ2xhaW1hYmxlQmFsYW5jZVwiXSA9IFwiY2xhd2JhY2tfY2xhaW1hYmxlX2JhbGFuY2VcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJzZXRUcnVzdExpbmVGbGFnc1wiXSA9IFwic2V0X3RydXN0X2xpbmVfZmxhZ3NcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJsaXF1aWRpdHlQb29sRGVwb3NpdFwiXSA9IFwibGlxdWlkaXR5X3Bvb2xfZGVwb3NpdFwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZVtcImxpcXVpZGl0eVBvb2xXaXRoZHJhd1wiXSA9IFwibGlxdWlkaXR5X3Bvb2xfd2l0aGRyYXdcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJpbnZva2VIb3N0RnVuY3Rpb25cIl0gPSBcImludm9rZV9ob3N0X2Z1bmN0aW9uXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlW1wiYnVtcEZvb3RwcmludEV4cGlyYXRpb25cIl0gPSBcImJ1bXBfZm9vdHByaW50X2V4cGlyYXRpb25cIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVbXCJyZXN0b3JlRm9vdHByaW50XCJdID0gXCJyZXN0b3JlX2Zvb3RwcmludFwiO1xuICAgIHJldHVybiBPcGVyYXRpb25SZXNwb25zZVR5cGU7XG4gIH0oe30pO1xuICBfSG9yaXpvbkFwaS5PcGVyYXRpb25SZXNwb25zZVR5cGUgPSBPcGVyYXRpb25SZXNwb25zZVR5cGU7XG4gIHZhciBPcGVyYXRpb25SZXNwb25zZVR5cGVJID0gZnVuY3Rpb24gKE9wZXJhdGlvblJlc3BvbnNlVHlwZUkpIHtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJjcmVhdGVBY2NvdW50XCJdID0gMF0gPSBcImNyZWF0ZUFjY291bnRcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJwYXltZW50XCJdID0gMV0gPSBcInBheW1lbnRcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJwYXRoUGF5bWVudFwiXSA9IDJdID0gXCJwYXRoUGF5bWVudFwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZUlbT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtcImNyZWF0ZVBhc3NpdmVPZmZlclwiXSA9IDNdID0gXCJjcmVhdGVQYXNzaXZlT2ZmZXJcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJtYW5hZ2VPZmZlclwiXSA9IDRdID0gXCJtYW5hZ2VPZmZlclwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZUlbT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtcInNldE9wdGlvbnNcIl0gPSA1XSA9IFwic2V0T3B0aW9uc1wiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZUlbT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtcImNoYW5nZVRydXN0XCJdID0gNl0gPSBcImNoYW5nZVRydXN0XCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtPcGVyYXRpb25SZXNwb25zZVR5cGVJW1wiYWxsb3dUcnVzdFwiXSA9IDddID0gXCJhbGxvd1RydXN0XCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtPcGVyYXRpb25SZXNwb25zZVR5cGVJW1wiYWNjb3VudE1lcmdlXCJdID0gOF0gPSBcImFjY291bnRNZXJnZVwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZUlbT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtcImluZmxhdGlvblwiXSA9IDldID0gXCJpbmZsYXRpb25cIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJtYW5hZ2VEYXRhXCJdID0gMTBdID0gXCJtYW5hZ2VEYXRhXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtPcGVyYXRpb25SZXNwb25zZVR5cGVJW1wiYnVtcFNlcXVlbmNlXCJdID0gMTFdID0gXCJidW1wU2VxdWVuY2VcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJtYW5hZ2VCdXlPZmZlclwiXSA9IDEyXSA9IFwibWFuYWdlQnV5T2ZmZXJcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJwYXRoUGF5bWVudFN0cmljdFNlbmRcIl0gPSAxM10gPSBcInBhdGhQYXltZW50U3RyaWN0U2VuZFwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZUlbT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtcImNyZWF0ZUNsYWltYWJsZUJhbGFuY2VcIl0gPSAxNF0gPSBcImNyZWF0ZUNsYWltYWJsZUJhbGFuY2VcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJjbGFpbUNsYWltYWJsZUJhbGFuY2VcIl0gPSAxNV0gPSBcImNsYWltQ2xhaW1hYmxlQmFsYW5jZVwiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZUlbT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtcImJlZ2luU3BvbnNvcmluZ0Z1dHVyZVJlc2VydmVzXCJdID0gMTZdID0gXCJiZWdpblNwb25zb3JpbmdGdXR1cmVSZXNlcnZlc1wiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZUlbT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtcImVuZFNwb25zb3JpbmdGdXR1cmVSZXNlcnZlc1wiXSA9IDE3XSA9IFwiZW5kU3BvbnNvcmluZ0Z1dHVyZVJlc2VydmVzXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtPcGVyYXRpb25SZXNwb25zZVR5cGVJW1wicmV2b2tlU3BvbnNvcnNoaXBcIl0gPSAxOF0gPSBcInJldm9rZVNwb25zb3JzaGlwXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtPcGVyYXRpb25SZXNwb25zZVR5cGVJW1wiY2xhd2JhY2tcIl0gPSAxOV0gPSBcImNsYXdiYWNrXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtPcGVyYXRpb25SZXNwb25zZVR5cGVJW1wiY2xhd2JhY2tDbGFpbWFibGVCYWxhbmNlXCJdID0gMjBdID0gXCJjbGF3YmFja0NsYWltYWJsZUJhbGFuY2VcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJzZXRUcnVzdExpbmVGbGFnc1wiXSA9IDIxXSA9IFwic2V0VHJ1c3RMaW5lRmxhZ3NcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJsaXF1aWRpdHlQb29sRGVwb3NpdFwiXSA9IDIyXSA9IFwibGlxdWlkaXR5UG9vbERlcG9zaXRcIjtcbiAgICBPcGVyYXRpb25SZXNwb25zZVR5cGVJW09wZXJhdGlvblJlc3BvbnNlVHlwZUlbXCJsaXF1aWRpdHlQb29sV2l0aGRyYXdcIl0gPSAyM10gPSBcImxpcXVpZGl0eVBvb2xXaXRoZHJhd1wiO1xuICAgIE9wZXJhdGlvblJlc3BvbnNlVHlwZUlbT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtcImludm9rZUhvc3RGdW5jdGlvblwiXSA9IDI0XSA9IFwiaW52b2tlSG9zdEZ1bmN0aW9uXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtPcGVyYXRpb25SZXNwb25zZVR5cGVJW1wiYnVtcEZvb3RwcmludEV4cGlyYXRpb25cIl0gPSAyNV0gPSBcImJ1bXBGb290cHJpbnRFeHBpcmF0aW9uXCI7XG4gICAgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSVtPcGVyYXRpb25SZXNwb25zZVR5cGVJW1wicmVzdG9yZUZvb3RwcmludFwiXSA9IDI2XSA9IFwicmVzdG9yZUZvb3RwcmludFwiO1xuICAgIHJldHVybiBPcGVyYXRpb25SZXNwb25zZVR5cGVJO1xuICB9KHt9KTtcbiAgX0hvcml6b25BcGkuT3BlcmF0aW9uUmVzcG9uc2VUeXBlSSA9IE9wZXJhdGlvblJlc3BvbnNlVHlwZUk7XG4gIHZhciBUcmFuc2FjdGlvbkZhaWxlZFJlc3VsdENvZGVzID0gZnVuY3Rpb24gKFRyYW5zYWN0aW9uRmFpbGVkUmVzdWx0Q29kZXMpIHtcbiAgICBUcmFuc2FjdGlvbkZhaWxlZFJlc3VsdENvZGVzW1wiVFhfRkFJTEVEXCJdID0gXCJ0eF9mYWlsZWRcIjtcbiAgICBUcmFuc2FjdGlvbkZhaWxlZFJlc3VsdENvZGVzW1wiVFhfQkFEX1NFUVwiXSA9IFwidHhfYmFkX3NlcVwiO1xuICAgIFRyYW5zYWN0aW9uRmFpbGVkUmVzdWx0Q29kZXNbXCJUWF9CQURfQVVUSFwiXSA9IFwidHhfYmFkX2F1dGhcIjtcbiAgICBUcmFuc2FjdGlvbkZhaWxlZFJlc3VsdENvZGVzW1wiVFhfQkFEX0FVVEhfRVhUUkFcIl0gPSBcInR4X2JhZF9hdXRoX2V4dHJhXCI7XG4gICAgVHJhbnNhY3Rpb25GYWlsZWRSZXN1bHRDb2Rlc1tcIlRYX0ZFRV9CVU1QX0lOTkVSX1NVQ0NFU1NcIl0gPSBcInR4X2ZlZV9idW1wX2lubmVyX3N1Y2Nlc3NcIjtcbiAgICBUcmFuc2FjdGlvbkZhaWxlZFJlc3VsdENvZGVzW1wiVFhfRkVFX0JVTVBfSU5ORVJfRkFJTEVEXCJdID0gXCJ0eF9mZWVfYnVtcF9pbm5lcl9mYWlsZWRcIjtcbiAgICBUcmFuc2FjdGlvbkZhaWxlZFJlc3VsdENvZGVzW1wiVFhfTk9UX1NVUFBPUlRFRFwiXSA9IFwidHhfbm90X3N1cHBvcnRlZFwiO1xuICAgIFRyYW5zYWN0aW9uRmFpbGVkUmVzdWx0Q29kZXNbXCJUWF9TVUNDRVNTXCJdID0gXCJ0eF9zdWNjZXNzXCI7XG4gICAgVHJhbnNhY3Rpb25GYWlsZWRSZXN1bHRDb2Rlc1tcIlRYX1RPT19FQVJMWVwiXSA9IFwidHhfdG9vX2Vhcmx5XCI7XG4gICAgVHJhbnNhY3Rpb25GYWlsZWRSZXN1bHRDb2Rlc1tcIlRYX1RPT19MQVRFXCJdID0gXCJ0eF90b29fbGF0ZVwiO1xuICAgIFRyYW5zYWN0aW9uRmFpbGVkUmVzdWx0Q29kZXNbXCJUWF9NSVNTSU5HX09QRVJBVElPTlwiXSA9IFwidHhfbWlzc2luZ19vcGVyYXRpb25cIjtcbiAgICBUcmFuc2FjdGlvbkZhaWxlZFJlc3VsdENvZGVzW1wiVFhfSU5TVUZGSUNJRU5UX0JBTEFOQ0VcIl0gPSBcInR4X2luc3VmZmljaWVudF9iYWxhbmNlXCI7XG4gICAgVHJhbnNhY3Rpb25GYWlsZWRSZXN1bHRDb2Rlc1tcIlRYX05PX1NPVVJDRV9BQ0NPVU5UXCJdID0gXCJ0eF9ub19zb3VyY2VfYWNjb3VudFwiO1xuICAgIFRyYW5zYWN0aW9uRmFpbGVkUmVzdWx0Q29kZXNbXCJUWF9JTlNVRkZJQ0lFTlRfRkVFXCJdID0gXCJ0eF9pbnN1ZmZpY2llbnRfZmVlXCI7XG4gICAgVHJhbnNhY3Rpb25GYWlsZWRSZXN1bHRDb2Rlc1tcIlRYX0lOVEVSTkFMX0VSUk9SXCJdID0gXCJ0eF9pbnRlcm5hbF9lcnJvclwiO1xuICAgIHJldHVybiBUcmFuc2FjdGlvbkZhaWxlZFJlc3VsdENvZGVzO1xuICB9KHt9KTtcbiAgX0hvcml6b25BcGkuVHJhbnNhY3Rpb25GYWlsZWRSZXN1bHRDb2RlcyA9IFRyYW5zYWN0aW9uRmFpbGVkUmVzdWx0Q29kZXM7XG59KShIb3Jpem9uQXBpIHx8IChleHBvcnRzLkhvcml6b25BcGkgPSBIb3Jpem9uQXBpID0ge30pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_api.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_axios_client.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_axios_client.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SERVER_TIME_MAP = void 0;\nexports.createHttpClient = createHttpClient;\nexports.getCurrentServerTime = getCurrentServerTime;\nexports.version = void 0;\nvar _urijs = _interopRequireDefault(__webpack_require__(/*! urijs */ \"(rsc)/./node_modules/urijs/src/URI.js\"));\nvar _httpClient = __webpack_require__(/*! ../http-client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/index.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar version = exports.version = \"14.4.3\";\nvar SERVER_TIME_MAP = exports.SERVER_TIME_MAP = {};\nfunction toSeconds(ms) {\n  return Math.floor(ms / 1000);\n}\nfunction createHttpClient(headers) {\n  var httpClient = (0, _httpClient.create)({\n    headers: _objectSpread(_objectSpread({}, headers), {}, {\n      \"X-Client-Name\": \"js-stellar-sdk\",\n      \"X-Client-Version\": version\n    })\n  });\n  httpClient.interceptors.response.use(function (response) {\n    var hostname = (0, _urijs.default)(response.config.url).hostname();\n    var serverTime = 0;\n    if (response.headers instanceof Headers) {\n      var dateHeader = response.headers.get(\"date\");\n      if (dateHeader) {\n        serverTime = toSeconds(Date.parse(dateHeader));\n      }\n    } else if (_typeof(response.headers) === \"object\" && \"date\" in response.headers) {\n      var responseHeader = response.headers;\n      if (typeof responseHeader.date === \"string\") {\n        serverTime = toSeconds(Date.parse(responseHeader.date));\n      }\n    }\n    var localTimeRecorded = toSeconds(new Date().getTime());\n    if (!Number.isNaN(serverTime)) {\n      SERVER_TIME_MAP[hostname] = {\n        serverTime: serverTime,\n        localTimeRecorded: localTimeRecorded\n      };\n    }\n    return response;\n  });\n  return httpClient;\n}\nfunction getCurrentServerTime(hostname) {\n  var entry = SERVER_TIME_MAP[hostname];\n  if (!entry || !entry.localTimeRecorded || !entry.serverTime) {\n    return null;\n  }\n  var serverTime = entry.serverTime,\n    localTimeRecorded = entry.localTimeRecorded;\n  var currentTime = toSeconds(new Date().getTime());\n  if (currentTime - localTimeRecorded > 60 * 5) {\n    return null;\n  }\n  return currentTime - localTimeRecorded + serverTime;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2hvcml6b25fYXhpb3NfY2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLHVCQUF1QjtBQUN2Qix3QkFBd0I7QUFDeEIsNEJBQTRCO0FBQzVCLGVBQWU7QUFDZixvQ0FBb0MsbUJBQU8sQ0FBQyxvREFBTztBQUNuRCxrQkFBa0IsbUJBQU8sQ0FBQyx5SEFBZ0I7QUFDMUMscUNBQXFDLGlDQUFpQztBQUN0RSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsY0FBYyxlQUFlO0FBQzdCLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxjQUFjO0FBQ3pEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2hvcml6b25fYXhpb3NfY2xpZW50LmpzPzVkNDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlNFUlZFUl9USU1FX01BUCA9IHZvaWQgMDtcbmV4cG9ydHMuY3JlYXRlSHR0cENsaWVudCA9IGNyZWF0ZUh0dHBDbGllbnQ7XG5leHBvcnRzLmdldEN1cnJlbnRTZXJ2ZXJUaW1lID0gZ2V0Q3VycmVudFNlcnZlclRpbWU7XG5leHBvcnRzLnZlcnNpb24gPSB2b2lkIDA7XG52YXIgX3VyaWpzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwidXJpanNcIikpO1xudmFyIF9odHRwQ2xpZW50ID0gcmVxdWlyZShcIi4uL2h0dHAtY2xpZW50XCIpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG52YXIgdmVyc2lvbiA9IGV4cG9ydHMudmVyc2lvbiA9IFwiMTQuNC4zXCI7XG52YXIgU0VSVkVSX1RJTUVfTUFQID0gZXhwb3J0cy5TRVJWRVJfVElNRV9NQVAgPSB7fTtcbmZ1bmN0aW9uIHRvU2Vjb25kcyhtcykge1xuICByZXR1cm4gTWF0aC5mbG9vcihtcyAvIDEwMDApO1xufVxuZnVuY3Rpb24gY3JlYXRlSHR0cENsaWVudChoZWFkZXJzKSB7XG4gIHZhciBodHRwQ2xpZW50ID0gKDAsIF9odHRwQ2xpZW50LmNyZWF0ZSkoe1xuICAgIGhlYWRlcnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaGVhZGVycyksIHt9LCB7XG4gICAgICBcIlgtQ2xpZW50LU5hbWVcIjogXCJqcy1zdGVsbGFyLXNka1wiLFxuICAgICAgXCJYLUNsaWVudC1WZXJzaW9uXCI6IHZlcnNpb25cbiAgICB9KVxuICB9KTtcbiAgaHR0cENsaWVudC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIHZhciBob3N0bmFtZSA9ICgwLCBfdXJpanMuZGVmYXVsdCkocmVzcG9uc2UuY29uZmlnLnVybCkuaG9zdG5hbWUoKTtcbiAgICB2YXIgc2VydmVyVGltZSA9IDA7XG4gICAgaWYgKHJlc3BvbnNlLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICB2YXIgZGF0ZUhlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiZGF0ZVwiKTtcbiAgICAgIGlmIChkYXRlSGVhZGVyKSB7XG4gICAgICAgIHNlcnZlclRpbWUgPSB0b1NlY29uZHMoRGF0ZS5wYXJzZShkYXRlSGVhZGVyKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChfdHlwZW9mKHJlc3BvbnNlLmhlYWRlcnMpID09PSBcIm9iamVjdFwiICYmIFwiZGF0ZVwiIGluIHJlc3BvbnNlLmhlYWRlcnMpIHtcbiAgICAgIHZhciByZXNwb25zZUhlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICBpZiAodHlwZW9mIHJlc3BvbnNlSGVhZGVyLmRhdGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgc2VydmVyVGltZSA9IHRvU2Vjb25kcyhEYXRlLnBhcnNlKHJlc3BvbnNlSGVhZGVyLmRhdGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGxvY2FsVGltZVJlY29yZGVkID0gdG9TZWNvbmRzKG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihzZXJ2ZXJUaW1lKSkge1xuICAgICAgU0VSVkVSX1RJTUVfTUFQW2hvc3RuYW1lXSA9IHtcbiAgICAgICAgc2VydmVyVGltZTogc2VydmVyVGltZSxcbiAgICAgICAgbG9jYWxUaW1lUmVjb3JkZWQ6IGxvY2FsVGltZVJlY29yZGVkXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0pO1xuICByZXR1cm4gaHR0cENsaWVudDtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRTZXJ2ZXJUaW1lKGhvc3RuYW1lKSB7XG4gIHZhciBlbnRyeSA9IFNFUlZFUl9USU1FX01BUFtob3N0bmFtZV07XG4gIGlmICghZW50cnkgfHwgIWVudHJ5LmxvY2FsVGltZVJlY29yZGVkIHx8ICFlbnRyeS5zZXJ2ZXJUaW1lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHNlcnZlclRpbWUgPSBlbnRyeS5zZXJ2ZXJUaW1lLFxuICAgIGxvY2FsVGltZVJlY29yZGVkID0gZW50cnkubG9jYWxUaW1lUmVjb3JkZWQ7XG4gIHZhciBjdXJyZW50VGltZSA9IHRvU2Vjb25kcyhuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG4gIGlmIChjdXJyZW50VGltZSAtIGxvY2FsVGltZVJlY29yZGVkID4gNjAgKiA1KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRUaW1lIC0gbG9jYWxUaW1lUmVjb3JkZWQgKyBzZXJ2ZXJUaW1lO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_axios_client.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/index.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/index.js ***!
  \***********************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _exportNames = {\n  Server: true,\n  SERVER_TIME_MAP: true,\n  getCurrentServerTime: true\n};\nObject.defineProperty(exports, \"SERVER_TIME_MAP\", ({\n  enumerable: true,\n  get: function get() {\n    return _horizon_axios_client.SERVER_TIME_MAP;\n  }\n}));\nObject.defineProperty(exports, \"Server\", ({\n  enumerable: true,\n  get: function get() {\n    return _server.HorizonServer;\n  }\n}));\nexports[\"default\"] = void 0;\nObject.defineProperty(exports, \"getCurrentServerTime\", ({\n  enumerable: true,\n  get: function get() {\n    return _horizon_axios_client.getCurrentServerTime;\n  }\n}));\nvar _horizon_api = __webpack_require__(/*! ./horizon_api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_api.js\");\nObject.keys(_horizon_api).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _horizon_api[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _horizon_api[key];\n    }\n  });\n});\nvar _server_api = __webpack_require__(/*! ./server_api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/server_api.js\");\nObject.keys(_server_api).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _server_api[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _server_api[key];\n    }\n  });\n});\nvar _account_response = __webpack_require__(/*! ./account_response */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_response.js\");\nObject.keys(_account_response).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _account_response[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _account_response[key];\n    }\n  });\n});\nvar _server = __webpack_require__(/*! ./server */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/server.js\");\nvar _horizon_axios_client = __webpack_require__(/*! ./horizon_axios_client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_axios_client.js\");\nvar _default = exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRiwwQ0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBZTtBQUNmLHdEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLG1CQUFtQixtQkFBTyxDQUFDLDBIQUFlO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Qsa0JBQWtCLG1CQUFPLENBQUMsd0hBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCx3QkFBd0IsbUJBQU8sQ0FBQyxvSUFBb0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxjQUFjLG1CQUFPLENBQUMsZ0hBQVU7QUFDaEMsNEJBQTRCLG1CQUFPLENBQUMsNElBQXdCO0FBQzVELGVBQWUsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vaW5kZXguanM/MWE2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBfZXhwb3J0TmFtZXMgPSB7XG4gIFNlcnZlcjogdHJ1ZSxcbiAgU0VSVkVSX1RJTUVfTUFQOiB0cnVlLFxuICBnZXRDdXJyZW50U2VydmVyVGltZTogdHJ1ZVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNFUlZFUl9USU1FX01BUFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaG9yaXpvbl9heGlvc19jbGllbnQuU0VSVkVSX1RJTUVfTUFQO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlclwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfc2VydmVyLkhvcml6b25TZXJ2ZXI7XG4gIH1cbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0Q3VycmVudFNlcnZlclRpbWVcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2hvcml6b25fYXhpb3NfY2xpZW50LmdldEN1cnJlbnRTZXJ2ZXJUaW1lO1xuICB9XG59KTtcbnZhciBfaG9yaXpvbl9hcGkgPSByZXF1aXJlKFwiLi9ob3Jpem9uX2FwaVwiKTtcbk9iamVjdC5rZXlzKF9ob3Jpem9uX2FwaSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfZXhwb3J0TmFtZXMsIGtleSkpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX2hvcml6b25fYXBpW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2hvcml6b25fYXBpW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xudmFyIF9zZXJ2ZXJfYXBpID0gcmVxdWlyZShcIi4vc2VydmVyX2FwaVwiKTtcbk9iamVjdC5rZXlzKF9zZXJ2ZXJfYXBpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9leHBvcnROYW1lcywga2V5KSkgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfc2VydmVyX2FwaVtrZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9zZXJ2ZXJfYXBpW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xudmFyIF9hY2NvdW50X3Jlc3BvbnNlID0gcmVxdWlyZShcIi4vYWNjb3VudF9yZXNwb25zZVwiKTtcbk9iamVjdC5rZXlzKF9hY2NvdW50X3Jlc3BvbnNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9leHBvcnROYW1lcywga2V5KSkgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfYWNjb3VudF9yZXNwb25zZVtrZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9hY2NvdW50X3Jlc3BvbnNlW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xudmFyIF9zZXJ2ZXIgPSByZXF1aXJlKFwiLi9zZXJ2ZXJcIik7XG52YXIgX2hvcml6b25fYXhpb3NfY2xpZW50ID0gcmVxdWlyZShcIi4vaG9yaXpvbl9heGlvc19jbGllbnRcIik7XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0czsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/ledger_call_builder.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/ledger_call_builder.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.LedgerCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar LedgerCallBuilder = exports.LedgerCallBuilder = function (_CallBuilder) {\n  function LedgerCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, LedgerCallBuilder);\n    _this = _callSuper(this, LedgerCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"ledgers\");\n    return _this;\n  }\n  _inherits(LedgerCallBuilder, _CallBuilder);\n  return _createClass(LedgerCallBuilder, [{\n    key: \"ledger\",\n    value: function ledger(sequence) {\n      this.filter.push([\"ledgers\", sequence.toString()]);\n      return this;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2xlZGdlcl9jYWxsX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YseUJBQXlCO0FBQ3pCLG9CQUFvQixtQkFBTyxDQUFDLDRIQUFnQjtBQUM1QyxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSix3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvaG9yaXpvbi9sZWRnZXJfY2FsbF9idWlsZGVyLmpzP2FkMzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkxlZGdlckNhbGxCdWlsZGVyID0gdm9pZCAwO1xudmFyIF9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9jYWxsX2J1aWxkZXJcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgdHJ5IHsgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyB9IGNhdGNoICh0KSB7fSByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyByZXR1cm4gISF0OyB9KSgpOyB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YodCkgeyByZXR1cm4gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7IH0sIF9nZXRQcm90b3R5cGVPZih0KTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbnZhciBMZWRnZXJDYWxsQnVpbGRlciA9IGV4cG9ydHMuTGVkZ2VyQ2FsbEJ1aWxkZXIgPSBmdW5jdGlvbiAoX0NhbGxCdWlsZGVyKSB7XG4gIGZ1bmN0aW9uIExlZGdlckNhbGxCdWlsZGVyKHNlcnZlclVybCwgaHR0cENsaWVudCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGVkZ2VyQ2FsbEJ1aWxkZXIpO1xuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBMZWRnZXJDYWxsQnVpbGRlciwgW3NlcnZlclVybCwgaHR0cENsaWVudF0pO1xuICAgIF90aGlzLnVybC5zZWdtZW50KFwibGVkZ2Vyc1wiKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKExlZGdlckNhbGxCdWlsZGVyLCBfQ2FsbEJ1aWxkZXIpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKExlZGdlckNhbGxCdWlsZGVyLCBbe1xuICAgIGtleTogXCJsZWRnZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVkZ2VyKHNlcXVlbmNlKSB7XG4gICAgICB0aGlzLmZpbHRlci5wdXNoKFtcImxlZGdlcnNcIiwgc2VxdWVuY2UudG9TdHJpbmcoKV0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG59KF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/ledger_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/liquidity_pool_call_builder.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/liquidity_pool_call_builder.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.LiquidityPoolCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar LiquidityPoolCallBuilder = exports.LiquidityPoolCallBuilder = function (_CallBuilder) {\n  function LiquidityPoolCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, LiquidityPoolCallBuilder);\n    _this = _callSuper(this, LiquidityPoolCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"liquidity_pools\");\n    return _this;\n  }\n  _inherits(LiquidityPoolCallBuilder, _CallBuilder);\n  return _createClass(LiquidityPoolCallBuilder, [{\n    key: \"forAssets\",\n    value: function forAssets() {\n      for (var _len = arguments.length, assets = new Array(_len), _key = 0; _key < _len; _key++) {\n        assets[_key] = arguments[_key];\n      }\n      var assetList = assets.map(function (asset) {\n        return asset.toString();\n      }).join(\",\");\n      this.url.setQuery(\"reserves\", assetList);\n      return this;\n    }\n  }, {\n    key: \"forAccount\",\n    value: function forAccount(id) {\n      this.url.setQuery(\"account\", id);\n      return this;\n    }\n  }, {\n    key: \"liquidityPoolId\",\n    value: function liquidityPoolId(id) {\n      if (!id.match(/[a-fA-F0-9]{64}/)) {\n        throw new TypeError(\"\".concat(id, \" does not look like a liquidity pool ID\"));\n      }\n      var builder = new _call_builder.CallBuilder(this.url.clone(), this.httpClient);\n      builder.filter.push([id.toLowerCase()]);\n      return builder;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL2xpcXVpZGl0eV9wb29sX2NhbGxfYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixnQ0FBZ0M7QUFDaEMsb0JBQW9CLG1CQUFPLENBQUMsNEhBQWdCO0FBQzVDLGlDQUFpQztBQUNqQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USwrQkFBK0I7QUFDL0IsNENBQTRDLHVFQUF1RSxtR0FBbUc7QUFDdE4scUNBQXFDLHlHQUF5RztBQUM5SSx1Q0FBdUMsTUFBTSxxRkFBcUYsTUFBTSxhQUFhLDJFQUEyRSxhQUFhO0FBQzdPLDhCQUE4QiwrRkFBK0YsaURBQWlEO0FBQzlLLDJCQUEyQixxSEFBcUgsZ0RBQWdELGVBQWUsNENBQTRDLDJDQUEyQyxjQUFjO0FBQ3BULGlDQUFpQyxrR0FBa0csNEJBQTRCO0FBQy9KLCtCQUErQixnQ0FBZ0M7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxhQUFhO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxpQ0FBaUMsR0FBRztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvaG9yaXpvbi9saXF1aWRpdHlfcG9vbF9jYWxsX2J1aWxkZXIuanM/NmM4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTGlxdWlkaXR5UG9vbENhbGxCdWlsZGVyID0gdm9pZCAwO1xudmFyIF9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9jYWxsX2J1aWxkZXJcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgdHJ5IHsgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyB9IGNhdGNoICh0KSB7fSByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyByZXR1cm4gISF0OyB9KSgpOyB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YodCkgeyByZXR1cm4gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7IH0sIF9nZXRQcm90b3R5cGVPZih0KTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbnZhciBMaXF1aWRpdHlQb29sQ2FsbEJ1aWxkZXIgPSBleHBvcnRzLkxpcXVpZGl0eVBvb2xDYWxsQnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gTGlxdWlkaXR5UG9vbENhbGxCdWlsZGVyKHNlcnZlclVybCwgaHR0cENsaWVudCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlxdWlkaXR5UG9vbENhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgTGlxdWlkaXR5UG9vbENhbGxCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50XSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJsaXF1aWRpdHlfcG9vbHNcIik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9pbmhlcml0cyhMaXF1aWRpdHlQb29sQ2FsbEJ1aWxkZXIsIF9DYWxsQnVpbGRlcik7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoTGlxdWlkaXR5UG9vbENhbGxCdWlsZGVyLCBbe1xuICAgIGtleTogXCJmb3JBc3NldHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yQXNzZXRzKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFzc2V0cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXNzZXRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgdmFyIGFzc2V0TGlzdCA9IGFzc2V0cy5tYXAoZnVuY3Rpb24gKGFzc2V0KSB7XG4gICAgICAgIHJldHVybiBhc3NldC50b1N0cmluZygpO1xuICAgICAgfSkuam9pbihcIixcIik7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcInJlc2VydmVzXCIsIGFzc2V0TGlzdCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yQWNjb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JBY2NvdW50KGlkKSB7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcImFjY291bnRcIiwgaWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxpcXVpZGl0eVBvb2xJZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXF1aWRpdHlQb29sSWQoaWQpIHtcbiAgICAgIGlmICghaWQubWF0Y2goL1thLWZBLUYwLTldezY0fS8pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJcIi5jb25jYXQoaWQsIFwiIGRvZXMgbm90IGxvb2sgbGlrZSBhIGxpcXVpZGl0eSBwb29sIElEXCIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBidWlsZGVyID0gbmV3IF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIodGhpcy51cmwuY2xvbmUoKSwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICAgIGJ1aWxkZXIuZmlsdGVyLnB1c2goW2lkLnRvTG93ZXJDYXNlKCldKTtcbiAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgfV0pO1xufShfY2FsbF9idWlsZGVyLkNhbGxCdWlsZGVyKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/liquidity_pool_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/offer_call_builder.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/offer_call_builder.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.OfferCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar OfferCallBuilder = exports.OfferCallBuilder = function (_CallBuilder) {\n  function OfferCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, OfferCallBuilder);\n    _this = _callSuper(this, OfferCallBuilder, [serverUrl, httpClient, \"offers\"]);\n    _this.url.segment(\"offers\");\n    return _this;\n  }\n  _inherits(OfferCallBuilder, _CallBuilder);\n  return _createClass(OfferCallBuilder, [{\n    key: \"offer\",\n    value: function offer(offerId) {\n      var builder = new _call_builder.CallBuilder(this.url.clone(), this.httpClient);\n      builder.filter.push([offerId]);\n      return builder;\n    }\n  }, {\n    key: \"forAccount\",\n    value: function forAccount(id) {\n      return this.forEndpoint(\"accounts\", id);\n    }\n  }, {\n    key: \"buying\",\n    value: function buying(asset) {\n      if (!asset.isNative()) {\n        this.url.setQuery(\"buying_asset_type\", asset.getAssetType());\n        this.url.setQuery(\"buying_asset_code\", asset.getCode());\n        this.url.setQuery(\"buying_asset_issuer\", asset.getIssuer());\n      } else {\n        this.url.setQuery(\"buying_asset_type\", \"native\");\n      }\n      return this;\n    }\n  }, {\n    key: \"selling\",\n    value: function selling(asset) {\n      if (!asset.isNative()) {\n        this.url.setQuery(\"selling_asset_type\", asset.getAssetType());\n        this.url.setQuery(\"selling_asset_code\", asset.getCode());\n        this.url.setQuery(\"selling_asset_issuer\", asset.getIssuer());\n      } else {\n        this.url.setQuery(\"selling_asset_type\", \"native\");\n      }\n      return this;\n    }\n  }, {\n    key: \"sponsor\",\n    value: function sponsor(id) {\n      this.url.setQuery(\"sponsor\", id);\n      return this;\n    }\n  }, {\n    key: \"seller\",\n    value: function seller(_seller) {\n      this.url.setQuery(\"seller\", _seller);\n      return this;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL29mZmVyX2NhbGxfYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRix3QkFBd0I7QUFDeEIsb0JBQW9CLG1CQUFPLENBQUMsNEhBQWdCO0FBQzVDLGlDQUFpQztBQUNqQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USwrQkFBK0I7QUFDL0IsNENBQTRDLHVFQUF1RSxtR0FBbUc7QUFDdE4scUNBQXFDLHlHQUF5RztBQUM5SSx1Q0FBdUMsTUFBTSxxRkFBcUYsTUFBTSxhQUFhLDJFQUEyRSxhQUFhO0FBQzdPLDhCQUE4QiwrRkFBK0YsaURBQWlEO0FBQzlLLDJCQUEyQixxSEFBcUgsZ0RBQWdELGVBQWUsNENBQTRDLDJDQUEyQyxjQUFjO0FBQ3BULGlDQUFpQyxrR0FBa0csNEJBQTRCO0FBQy9KLHVCQUF1Qix3QkFBd0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vb2ZmZXJfY2FsbF9idWlsZGVyLmpzP2VhMGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk9mZmVyQ2FsbEJ1aWxkZXIgPSB2b2lkIDA7XG52YXIgX2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL2NhbGxfYnVpbGRlclwiKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jYWxsU3VwZXIodCwgbywgZSkgeyByZXR1cm4gbyA9IF9nZXRQcm90b3R5cGVPZihvKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpID8gUmVmbGVjdC5jb25zdHJ1Y3QobywgZSB8fCBbXSwgX2dldFByb3RvdHlwZU9mKHQpLmNvbnN0cnVjdG9yKSA6IG8uYXBwbHkodCwgZSkpOyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBlKSB7IGlmIChlICYmIChcIm9iamVjdFwiID09IF90eXBlb2YoZSkgfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlKSkgcmV0dXJuIGU7IGlmICh2b2lkIDAgIT09IGUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQodCk7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoZSkgeyBpZiAodm9pZCAwID09PSBlKSB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyB0cnkgeyB2YXIgdCA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IH0gY2F0Y2ggKHQpIHt9IHJldHVybiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHJldHVybiAhIXQ7IH0pKCk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZih0KSB7IHJldHVybiBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZih0KTsgfSwgX2dldFByb3RvdHlwZU9mKHQpOyB9XG5mdW5jdGlvbiBfaW5oZXJpdHModCwgZSkgeyBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiBlICYmIG51bGwgIT09IGUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGUgJiYgZS5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHQsIHdyaXRhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCB9IH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGUgJiYgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YodCwgZSkgeyByZXR1cm4gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0LCBlKSB7IHJldHVybiB0Ll9fcHJvdG9fXyA9IGUsIHQ7IH0sIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxudmFyIE9mZmVyQ2FsbEJ1aWxkZXIgPSBleHBvcnRzLk9mZmVyQ2FsbEJ1aWxkZXIgPSBmdW5jdGlvbiAoX0NhbGxCdWlsZGVyKSB7XG4gIGZ1bmN0aW9uIE9mZmVyQ2FsbEJ1aWxkZXIoc2VydmVyVXJsLCBodHRwQ2xpZW50KSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPZmZlckNhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgT2ZmZXJDYWxsQnVpbGRlciwgW3NlcnZlclVybCwgaHR0cENsaWVudCwgXCJvZmZlcnNcIl0pO1xuICAgIF90aGlzLnVybC5zZWdtZW50KFwib2ZmZXJzXCIpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfaW5oZXJpdHMoT2ZmZXJDYWxsQnVpbGRlciwgX0NhbGxCdWlsZGVyKTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhPZmZlckNhbGxCdWlsZGVyLCBbe1xuICAgIGtleTogXCJvZmZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZlcihvZmZlcklkKSB7XG4gICAgICB2YXIgYnVpbGRlciA9IG5ldyBfY2FsbF9idWlsZGVyLkNhbGxCdWlsZGVyKHRoaXMudXJsLmNsb25lKCksIHRoaXMuaHR0cENsaWVudCk7XG4gICAgICBidWlsZGVyLmZpbHRlci5wdXNoKFtvZmZlcklkXSk7XG4gICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yQWNjb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JBY2NvdW50KGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JFbmRwb2ludChcImFjY291bnRzXCIsIGlkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYnV5aW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJ1eWluZyhhc3NldCkge1xuICAgICAgaWYgKCFhc3NldC5pc05hdGl2ZSgpKSB7XG4gICAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiYnV5aW5nX2Fzc2V0X3R5cGVcIiwgYXNzZXQuZ2V0QXNzZXRUeXBlKCkpO1xuICAgICAgICB0aGlzLnVybC5zZXRRdWVyeShcImJ1eWluZ19hc3NldF9jb2RlXCIsIGFzc2V0LmdldENvZGUoKSk7XG4gICAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiYnV5aW5nX2Fzc2V0X2lzc3VlclwiLCBhc3NldC5nZXRJc3N1ZXIoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVybC5zZXRRdWVyeShcImJ1eWluZ19hc3NldF90eXBlXCIsIFwibmF0aXZlXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbGxpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsbGluZyhhc3NldCkge1xuICAgICAgaWYgKCFhc3NldC5pc05hdGl2ZSgpKSB7XG4gICAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwic2VsbGluZ19hc3NldF90eXBlXCIsIGFzc2V0LmdldEFzc2V0VHlwZSgpKTtcbiAgICAgICAgdGhpcy51cmwuc2V0UXVlcnkoXCJzZWxsaW5nX2Fzc2V0X2NvZGVcIiwgYXNzZXQuZ2V0Q29kZSgpKTtcbiAgICAgICAgdGhpcy51cmwuc2V0UXVlcnkoXCJzZWxsaW5nX2Fzc2V0X2lzc3VlclwiLCBhc3NldC5nZXRJc3N1ZXIoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVybC5zZXRRdWVyeShcInNlbGxpbmdfYXNzZXRfdHlwZVwiLCBcIm5hdGl2ZVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzcG9uc29yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNwb25zb3IoaWQpIHtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwic3BvbnNvclwiLCBpZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VsbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGxlcihfc2VsbGVyKSB7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcInNlbGxlclwiLCBfc2VsbGVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xufShfY2FsbF9idWlsZGVyLkNhbGxCdWlsZGVyKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/offer_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/operation_call_builder.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/operation_call_builder.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.OperationCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar OperationCallBuilder = exports.OperationCallBuilder = function (_CallBuilder) {\n  function OperationCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, OperationCallBuilder);\n    _this = _callSuper(this, OperationCallBuilder, [serverUrl, httpClient, \"operations\"]);\n    _this.url.segment(\"operations\");\n    return _this;\n  }\n  _inherits(OperationCallBuilder, _CallBuilder);\n  return _createClass(OperationCallBuilder, [{\n    key: \"operation\",\n    value: function operation(operationId) {\n      var builder = new _call_builder.CallBuilder(this.url.clone(), this.httpClient);\n      builder.filter.push([operationId]);\n      return builder;\n    }\n  }, {\n    key: \"forAccount\",\n    value: function forAccount(accountId) {\n      return this.forEndpoint(\"accounts\", accountId);\n    }\n  }, {\n    key: \"forClaimableBalance\",\n    value: function forClaimableBalance(claimableBalanceId) {\n      return this.forEndpoint(\"claimable_balances\", claimableBalanceId);\n    }\n  }, {\n    key: \"forLedger\",\n    value: function forLedger(sequence) {\n      return this.forEndpoint(\"ledgers\", sequence.toString());\n    }\n  }, {\n    key: \"forTransaction\",\n    value: function forTransaction(transactionId) {\n      return this.forEndpoint(\"transactions\", transactionId);\n    }\n  }, {\n    key: \"forLiquidityPool\",\n    value: function forLiquidityPool(poolId) {\n      return this.forEndpoint(\"liquidity_pools\", poolId);\n    }\n  }, {\n    key: \"includeFailed\",\n    value: function includeFailed(value) {\n      this.url.setQuery(\"include_failed\", value.toString());\n      return this;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL29wZXJhdGlvbl9jYWxsX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsNEJBQTRCO0FBQzVCLG9CQUFvQixtQkFBTyxDQUFDLDRIQUFnQjtBQUM1QyxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSiwyQkFBMkIsNEJBQTRCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vb3BlcmF0aW9uX2NhbGxfYnVpbGRlci5qcz9iN2E0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5PcGVyYXRpb25DYWxsQnVpbGRlciA9IHZvaWQgMDtcbnZhciBfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2FsbF9idWlsZGVyXCIpO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgT3BlcmF0aW9uQ2FsbEJ1aWxkZXIgPSBleHBvcnRzLk9wZXJhdGlvbkNhbGxCdWlsZGVyID0gZnVuY3Rpb24gKF9DYWxsQnVpbGRlcikge1xuICBmdW5jdGlvbiBPcGVyYXRpb25DYWxsQnVpbGRlcihzZXJ2ZXJVcmwsIGh0dHBDbGllbnQpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9wZXJhdGlvbkNhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgT3BlcmF0aW9uQ2FsbEJ1aWxkZXIsIFtzZXJ2ZXJVcmwsIGh0dHBDbGllbnQsIFwib3BlcmF0aW9uc1wiXSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJvcGVyYXRpb25zXCIpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfaW5oZXJpdHMoT3BlcmF0aW9uQ2FsbEJ1aWxkZXIsIF9DYWxsQnVpbGRlcik7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoT3BlcmF0aW9uQ2FsbEJ1aWxkZXIsIFt7XG4gICAga2V5OiBcIm9wZXJhdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVyYXRpb24ob3BlcmF0aW9uSWQpIHtcbiAgICAgIHZhciBidWlsZGVyID0gbmV3IF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIodGhpcy51cmwuY2xvbmUoKSwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICAgIGJ1aWxkZXIuZmlsdGVyLnB1c2goW29wZXJhdGlvbklkXSk7XG4gICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yQWNjb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JBY2NvdW50KGFjY291bnRJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9yRW5kcG9pbnQoXCJhY2NvdW50c1wiLCBhY2NvdW50SWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JDbGFpbWFibGVCYWxhbmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvckNsYWltYWJsZUJhbGFuY2UoY2xhaW1hYmxlQmFsYW5jZUlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JFbmRwb2ludChcImNsYWltYWJsZV9iYWxhbmNlc1wiLCBjbGFpbWFibGVCYWxhbmNlSWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JMZWRnZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yTGVkZ2VyKHNlcXVlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JFbmRwb2ludChcImxlZGdlcnNcIiwgc2VxdWVuY2UudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvclRyYW5zYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvclRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uSWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvckVuZHBvaW50KFwidHJhbnNhY3Rpb25zXCIsIHRyYW5zYWN0aW9uSWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JMaXF1aWRpdHlQb29sXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvckxpcXVpZGl0eVBvb2wocG9vbElkKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JFbmRwb2ludChcImxpcXVpZGl0eV9wb29sc1wiLCBwb29sSWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbmNsdWRlRmFpbGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluY2x1ZGVGYWlsZWQodmFsdWUpIHtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiaW5jbHVkZV9mYWlsZWRcIiwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcbn0oX2NhbGxfYnVpbGRlci5DYWxsQnVpbGRlcik7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/operation_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/orderbook_call_builder.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/orderbook_call_builder.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.OrderbookCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar OrderbookCallBuilder = exports.OrderbookCallBuilder = function (_CallBuilder) {\n  function OrderbookCallBuilder(serverUrl, httpClient, selling, buying) {\n    var _this;\n    _classCallCheck(this, OrderbookCallBuilder);\n    _this = _callSuper(this, OrderbookCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"order_book\");\n    if (!selling.isNative()) {\n      _this.url.setQuery(\"selling_asset_type\", selling.getAssetType());\n      _this.url.setQuery(\"selling_asset_code\", selling.getCode());\n      _this.url.setQuery(\"selling_asset_issuer\", selling.getIssuer());\n    } else {\n      _this.url.setQuery(\"selling_asset_type\", \"native\");\n    }\n    if (!buying.isNative()) {\n      _this.url.setQuery(\"buying_asset_type\", buying.getAssetType());\n      _this.url.setQuery(\"buying_asset_code\", buying.getCode());\n      _this.url.setQuery(\"buying_asset_issuer\", buying.getIssuer());\n    } else {\n      _this.url.setQuery(\"buying_asset_type\", \"native\");\n    }\n    return _this;\n  }\n  _inherits(OrderbookCallBuilder, _CallBuilder);\n  return _createClass(OrderbookCallBuilder);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL29yZGVyYm9va19jYWxsX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsNEJBQTRCO0FBQzVCLG9CQUFvQixtQkFBTyxDQUFDLDRIQUFnQjtBQUM1QyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USxpQ0FBaUM7QUFDakMsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSiwyQkFBMkIsNEJBQTRCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvaG9yaXpvbi9vcmRlcmJvb2tfY2FsbF9idWlsZGVyLmpzPzFlMGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk9yZGVyYm9va0NhbGxCdWlsZGVyID0gdm9pZCAwO1xudmFyIF9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9jYWxsX2J1aWxkZXJcIik7XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgdHJ5IHsgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyB9IGNhdGNoICh0KSB7fSByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyByZXR1cm4gISF0OyB9KSgpOyB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YodCkgeyByZXR1cm4gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7IH0sIF9nZXRQcm90b3R5cGVPZih0KTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbnZhciBPcmRlcmJvb2tDYWxsQnVpbGRlciA9IGV4cG9ydHMuT3JkZXJib29rQ2FsbEJ1aWxkZXIgPSBmdW5jdGlvbiAoX0NhbGxCdWlsZGVyKSB7XG4gIGZ1bmN0aW9uIE9yZGVyYm9va0NhbGxCdWlsZGVyKHNlcnZlclVybCwgaHR0cENsaWVudCwgc2VsbGluZywgYnV5aW5nKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcmRlcmJvb2tDYWxsQnVpbGRlcik7XG4gICAgX3RoaXMgPSBfY2FsbFN1cGVyKHRoaXMsIE9yZGVyYm9va0NhbGxCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50XSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJvcmRlcl9ib29rXCIpO1xuICAgIGlmICghc2VsbGluZy5pc05hdGl2ZSgpKSB7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJzZWxsaW5nX2Fzc2V0X3R5cGVcIiwgc2VsbGluZy5nZXRBc3NldFR5cGUoKSk7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJzZWxsaW5nX2Fzc2V0X2NvZGVcIiwgc2VsbGluZy5nZXRDb2RlKCkpO1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwic2VsbGluZ19hc3NldF9pc3N1ZXJcIiwgc2VsbGluZy5nZXRJc3N1ZXIoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcInNlbGxpbmdfYXNzZXRfdHlwZVwiLCBcIm5hdGl2ZVwiKTtcbiAgICB9XG4gICAgaWYgKCFidXlpbmcuaXNOYXRpdmUoKSkge1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiYnV5aW5nX2Fzc2V0X3R5cGVcIiwgYnV5aW5nLmdldEFzc2V0VHlwZSgpKTtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcImJ1eWluZ19hc3NldF9jb2RlXCIsIGJ1eWluZy5nZXRDb2RlKCkpO1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiYnV5aW5nX2Fzc2V0X2lzc3VlclwiLCBidXlpbmcuZ2V0SXNzdWVyKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJidXlpbmdfYXNzZXRfdHlwZVwiLCBcIm5hdGl2ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9pbmhlcml0cyhPcmRlcmJvb2tDYWxsQnVpbGRlciwgX0NhbGxCdWlsZGVyKTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhPcmRlcmJvb2tDYWxsQnVpbGRlcik7XG59KF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/orderbook_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/payment_call_builder.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/payment_call_builder.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PaymentCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar PaymentCallBuilder = exports.PaymentCallBuilder = function (_CallBuilder) {\n  function PaymentCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, PaymentCallBuilder);\n    _this = _callSuper(this, PaymentCallBuilder, [serverUrl, httpClient, \"payments\"]);\n    _this.url.segment(\"payments\");\n    return _this;\n  }\n  _inherits(PaymentCallBuilder, _CallBuilder);\n  return _createClass(PaymentCallBuilder, [{\n    key: \"forAccount\",\n    value: function forAccount(accountId) {\n      return this.forEndpoint(\"accounts\", accountId);\n    }\n  }, {\n    key: \"forLedger\",\n    value: function forLedger(sequence) {\n      return this.forEndpoint(\"ledgers\", sequence.toString());\n    }\n  }, {\n    key: \"forTransaction\",\n    value: function forTransaction(transactionId) {\n      return this.forEndpoint(\"transactions\", transactionId);\n    }\n  }, {\n    key: \"includeFailed\",\n    value: function includeFailed(value) {\n      this.url.setQuery(\"include_failed\", value.toString());\n      return this;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3BheW1lbnRfY2FsbF9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLDBCQUEwQjtBQUMxQixvQkFBb0IsbUJBQU8sQ0FBQyw0SEFBZ0I7QUFDNUMsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0oseUJBQXlCLDBCQUEwQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vcGF5bWVudF9jYWxsX2J1aWxkZXIuanM/YTc3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuUGF5bWVudENhbGxCdWlsZGVyID0gdm9pZCAwO1xudmFyIF9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9jYWxsX2J1aWxkZXJcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgdHJ5IHsgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyB9IGNhdGNoICh0KSB7fSByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyByZXR1cm4gISF0OyB9KSgpOyB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YodCkgeyByZXR1cm4gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7IH0sIF9nZXRQcm90b3R5cGVPZih0KTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbnZhciBQYXltZW50Q2FsbEJ1aWxkZXIgPSBleHBvcnRzLlBheW1lbnRDYWxsQnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gUGF5bWVudENhbGxCdWlsZGVyKHNlcnZlclVybCwgaHR0cENsaWVudCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF5bWVudENhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgUGF5bWVudENhbGxCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50LCBcInBheW1lbnRzXCJdKTtcbiAgICBfdGhpcy51cmwuc2VnbWVudChcInBheW1lbnRzXCIpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfaW5oZXJpdHMoUGF5bWVudENhbGxCdWlsZGVyLCBfQ2FsbEJ1aWxkZXIpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFBheW1lbnRDYWxsQnVpbGRlciwgW3tcbiAgICBrZXk6IFwiZm9yQWNjb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JBY2NvdW50KGFjY291bnRJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9yRW5kcG9pbnQoXCJhY2NvdW50c1wiLCBhY2NvdW50SWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JMZWRnZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yTGVkZ2VyKHNlcXVlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JFbmRwb2ludChcImxlZGdlcnNcIiwgc2VxdWVuY2UudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvclRyYW5zYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvclRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uSWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvckVuZHBvaW50KFwidHJhbnNhY3Rpb25zXCIsIHRyYW5zYWN0aW9uSWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbmNsdWRlRmFpbGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluY2x1ZGVGYWlsZWQodmFsdWUpIHtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiaW5jbHVkZV9mYWlsZWRcIiwgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcbn0oX2NhbGxfYnVpbGRlci5DYWxsQnVpbGRlcik7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/payment_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/server.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/server.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SUBMIT_TRANSACTION_TIMEOUT = exports.HorizonServer = void 0;\nvar _bignumber = _interopRequireDefault(__webpack_require__(/*! bignumber.js */ \"(rsc)/./node_modules/bignumber.js/bignumber.js\"));\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _urijs = _interopRequireDefault(__webpack_require__(/*! urijs */ \"(rsc)/./node_modules/urijs/src/URI.js\"));\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nvar _config = __webpack_require__(/*! ../config */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/config.js\");\nvar _errors = __webpack_require__(/*! ../errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/index.js\");\nvar _account_call_builder = __webpack_require__(/*! ./account_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_call_builder.js\");\nvar _account_response = __webpack_require__(/*! ./account_response */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/account_response.js\");\nvar _assets_call_builder = __webpack_require__(/*! ./assets_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/assets_call_builder.js\");\nvar _claimable_balances_call_builder = __webpack_require__(/*! ./claimable_balances_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/claimable_balances_call_builder.js\");\nvar _effect_call_builder = __webpack_require__(/*! ./effect_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/effect_call_builder.js\");\nvar _friendbot_builder = __webpack_require__(/*! ./friendbot_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/friendbot_builder.js\");\nvar _ledger_call_builder = __webpack_require__(/*! ./ledger_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/ledger_call_builder.js\");\nvar _liquidity_pool_call_builder = __webpack_require__(/*! ./liquidity_pool_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/liquidity_pool_call_builder.js\");\nvar _offer_call_builder = __webpack_require__(/*! ./offer_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/offer_call_builder.js\");\nvar _operation_call_builder = __webpack_require__(/*! ./operation_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/operation_call_builder.js\");\nvar _orderbook_call_builder = __webpack_require__(/*! ./orderbook_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/orderbook_call_builder.js\");\nvar _payment_call_builder = __webpack_require__(/*! ./payment_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/payment_call_builder.js\");\nvar _strict_receive_path_call_builder = __webpack_require__(/*! ./strict_receive_path_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/strict_receive_path_call_builder.js\");\nvar _strict_send_path_call_builder = __webpack_require__(/*! ./strict_send_path_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/strict_send_path_call_builder.js\");\nvar _trade_aggregation_call_builder = __webpack_require__(/*! ./trade_aggregation_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/trade_aggregation_call_builder.js\");\nvar _trades_call_builder = __webpack_require__(/*! ./trades_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/trades_call_builder.js\");\nvar _transaction_call_builder = __webpack_require__(/*! ./transaction_call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/transaction_call_builder.js\");\nvar _horizon_axios_client = __webpack_require__(/*! ./horizon_axios_client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_axios_client.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar SUBMIT_TRANSACTION_TIMEOUT = exports.SUBMIT_TRANSACTION_TIMEOUT = 60 * 1000;\nvar STROOPS_IN_LUMEN = 10000000;\nvar ACCOUNT_REQUIRES_MEMO = \"MQ==\";\nfunction getAmountInLumens(amt) {\n  return new _bignumber.default(amt).div(STROOPS_IN_LUMEN).toString();\n}\nvar HorizonServer = exports.HorizonServer = function () {\n  function HorizonServer(serverURL) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, HorizonServer);\n    this.serverURL = (0, _urijs.default)(serverURL);\n    var allowHttp = typeof opts.allowHttp === \"undefined\" ? _config.Config.isAllowHttp() : opts.allowHttp;\n    var customHeaders = {};\n    if (opts.appName) {\n      customHeaders[\"X-App-Name\"] = opts.appName;\n    }\n    if (opts.appVersion) {\n      customHeaders[\"X-App-Version\"] = opts.appVersion;\n    }\n    if (opts.authToken) {\n      customHeaders[\"X-Auth-Token\"] = opts.authToken;\n    }\n    if (opts.headers) {\n      Object.assign(customHeaders, opts.headers);\n    }\n    this.httpClient = (0, _horizon_axios_client.createHttpClient)(customHeaders);\n    if (this.serverURL.protocol() !== \"https\" && !allowHttp) {\n      throw new Error(\"Cannot connect to insecure horizon server\");\n    }\n  }\n  return _createClass(HorizonServer, [{\n    key: \"fetchTimebounds\",\n    value: (function () {\n      var _fetchTimebounds = _asyncToGenerator(_regenerator().m(function _callee(seconds) {\n        var _isRetry,\n          currentTime,\n          _args = arguments;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              _isRetry = _args.length > 1 && _args[1] !== undefined ? _args[1] : false;\n              currentTime = (0, _horizon_axios_client.getCurrentServerTime)(this.serverURL.hostname());\n              if (!currentTime) {\n                _context.n = 1;\n                break;\n              }\n              return _context.a(2, {\n                minTime: 0,\n                maxTime: currentTime + seconds\n              });\n            case 1:\n              if (!_isRetry) {\n                _context.n = 2;\n                break;\n              }\n              return _context.a(2, {\n                minTime: 0,\n                maxTime: Math.floor(new Date().getTime() / 1000) + seconds\n              });\n            case 2:\n              _context.n = 3;\n              return this.httpClient.get(this.serverURL.toString());\n            case 3:\n              return _context.a(2, this.fetchTimebounds(seconds, true));\n          }\n        }, _callee, this);\n      }));\n      function fetchTimebounds(_x) {\n        return _fetchTimebounds.apply(this, arguments);\n      }\n      return fetchTimebounds;\n    }())\n  }, {\n    key: \"fetchBaseFee\",\n    value: (function () {\n      var _fetchBaseFee = _asyncToGenerator(_regenerator().m(function _callee2() {\n        var response;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _context2.n = 1;\n              return this.feeStats();\n            case 1:\n              response = _context2.v;\n              return _context2.a(2, parseInt(response.last_ledger_base_fee, 10) || 100);\n          }\n        }, _callee2, this);\n      }));\n      function fetchBaseFee() {\n        return _fetchBaseFee.apply(this, arguments);\n      }\n      return fetchBaseFee;\n    }())\n  }, {\n    key: \"feeStats\",\n    value: (function () {\n      var _feeStats = _asyncToGenerator(_regenerator().m(function _callee3() {\n        var cb;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              cb = new _call_builder.CallBuilder(this.serverURL, this.httpClient);\n              cb.filter.push([\"fee_stats\"]);\n              return _context3.a(2, cb.call());\n          }\n        }, _callee3, this);\n      }));\n      function feeStats() {\n        return _feeStats.apply(this, arguments);\n      }\n      return feeStats;\n    }())\n  }, {\n    key: \"root\",\n    value: (function () {\n      var _root = _asyncToGenerator(_regenerator().m(function _callee4() {\n        var cb;\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.n) {\n            case 0:\n              cb = new _call_builder.CallBuilder(this.serverURL, this.httpClient);\n              return _context4.a(2, cb.call());\n          }\n        }, _callee4, this);\n      }));\n      function root() {\n        return _root.apply(this, arguments);\n      }\n      return root;\n    }())\n  }, {\n    key: \"submitTransaction\",\n    value: (function () {\n      var _submitTransaction = _asyncToGenerator(_regenerator().m(function _callee5(transaction) {\n        var opts,\n          tx,\n          _args5 = arguments;\n        return _regenerator().w(function (_context5) {\n          while (1) switch (_context5.n) {\n            case 0:\n              opts = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {\n                skipMemoRequiredCheck: false\n              };\n              if (opts.skipMemoRequiredCheck) {\n                _context5.n = 1;\n                break;\n              }\n              _context5.n = 1;\n              return this.checkMemoRequired(transaction);\n            case 1:\n              tx = encodeURIComponent(transaction.toEnvelope().toXDR().toString(\"base64\"));\n              return _context5.a(2, this.httpClient.post(this.serverURL.clone().segment(\"transactions\").toString(), \"tx=\".concat(tx), {\n                timeout: SUBMIT_TRANSACTION_TIMEOUT,\n                headers: {\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                }\n              }).then(function (response) {\n                if (!response.data.result_xdr) {\n                  return response.data;\n                }\n                var responseXDR = _stellarBase.xdr.TransactionResult.fromXDR(response.data.result_xdr, \"base64\");\n                var results = responseXDR.result().value();\n                var offerResults;\n                var hasManageOffer;\n                if (results.length) {\n                  offerResults = results.map(function (result, i) {\n                    if (result.value().switch().name !== \"manageBuyOffer\" && result.value().switch().name !== \"manageSellOffer\") {\n                      return null;\n                    }\n                    hasManageOffer = true;\n                    var amountBought = new _bignumber.default(0);\n                    var amountSold = new _bignumber.default(0);\n                    var offerSuccess = result.value().value().success();\n                    var offersClaimed = offerSuccess.offersClaimed().map(function (offerClaimedAtom) {\n                      var offerClaimed = offerClaimedAtom.value();\n                      var sellerId = \"\";\n                      switch (offerClaimedAtom.switch()) {\n                        case _stellarBase.xdr.ClaimAtomType.claimAtomTypeV0():\n                          sellerId = _stellarBase.StrKey.encodeEd25519PublicKey(offerClaimed.sellerEd25519());\n                          break;\n                        case _stellarBase.xdr.ClaimAtomType.claimAtomTypeOrderBook():\n                          sellerId = _stellarBase.StrKey.encodeEd25519PublicKey(offerClaimed.sellerId().ed25519());\n                          break;\n                        default:\n                          throw new Error(\"Invalid offer result type: \".concat(offerClaimedAtom.switch()));\n                      }\n                      var claimedOfferAmountBought = new _bignumber.default(offerClaimed.amountBought().toString());\n                      var claimedOfferAmountSold = new _bignumber.default(offerClaimed.amountSold().toString());\n                      amountBought = amountBought.plus(claimedOfferAmountSold);\n                      amountSold = amountSold.plus(claimedOfferAmountBought);\n                      var sold = _stellarBase.Asset.fromOperation(offerClaimed.assetSold());\n                      var bought = _stellarBase.Asset.fromOperation(offerClaimed.assetBought());\n                      var assetSold = {\n                        type: sold.getAssetType(),\n                        assetCode: sold.getCode(),\n                        issuer: sold.getIssuer()\n                      };\n                      var assetBought = {\n                        type: bought.getAssetType(),\n                        assetCode: bought.getCode(),\n                        issuer: bought.getIssuer()\n                      };\n                      return {\n                        sellerId: sellerId,\n                        offerId: offerClaimed.offerId().toString(),\n                        assetSold: assetSold,\n                        amountSold: getAmountInLumens(claimedOfferAmountSold),\n                        assetBought: assetBought,\n                        amountBought: getAmountInLumens(claimedOfferAmountBought)\n                      };\n                    });\n                    var effect = offerSuccess.offer().switch().name;\n                    var currentOffer;\n                    if (typeof offerSuccess.offer().value === \"function\" && offerSuccess.offer().value()) {\n                      var offerXDR = offerSuccess.offer().value();\n                      currentOffer = {\n                        offerId: offerXDR.offerId().toString(),\n                        selling: {},\n                        buying: {},\n                        amount: getAmountInLumens(offerXDR.amount().toString()),\n                        price: {\n                          n: offerXDR.price().n(),\n                          d: offerXDR.price().d()\n                        }\n                      };\n                      var selling = _stellarBase.Asset.fromOperation(offerXDR.selling());\n                      currentOffer.selling = {\n                        type: selling.getAssetType(),\n                        assetCode: selling.getCode(),\n                        issuer: selling.getIssuer()\n                      };\n                      var buying = _stellarBase.Asset.fromOperation(offerXDR.buying());\n                      currentOffer.buying = {\n                        type: buying.getAssetType(),\n                        assetCode: buying.getCode(),\n                        issuer: buying.getIssuer()\n                      };\n                    }\n                    return {\n                      offersClaimed: offersClaimed,\n                      effect: effect,\n                      operationIndex: i,\n                      currentOffer: currentOffer,\n                      amountBought: getAmountInLumens(amountBought),\n                      amountSold: getAmountInLumens(amountSold),\n                      isFullyOpen: !offersClaimed.length && effect !== \"manageOfferDeleted\",\n                      wasPartiallyFilled: !!offersClaimed.length && effect !== \"manageOfferDeleted\",\n                      wasImmediatelyFilled: !!offersClaimed.length && effect === \"manageOfferDeleted\",\n                      wasImmediatelyDeleted: !offersClaimed.length && effect === \"manageOfferDeleted\"\n                    };\n                  }).filter(function (result) {\n                    return !!result;\n                  });\n                }\n                return _objectSpread(_objectSpread({}, response.data), {}, {\n                  offerResults: hasManageOffer ? offerResults : undefined\n                });\n              }).catch(function (response) {\n                if (response instanceof Error) {\n                  return Promise.reject(response);\n                }\n                return Promise.reject(new _errors.BadResponseError(\"Transaction submission failed. Server responded: \".concat(response.status, \" \").concat(response.statusText), response.data));\n              }));\n          }\n        }, _callee5, this);\n      }));\n      function submitTransaction(_x2) {\n        return _submitTransaction.apply(this, arguments);\n      }\n      return submitTransaction;\n    }())\n  }, {\n    key: \"submitAsyncTransaction\",\n    value: (function () {\n      var _submitAsyncTransaction = _asyncToGenerator(_regenerator().m(function _callee6(transaction) {\n        var opts,\n          tx,\n          _args6 = arguments;\n        return _regenerator().w(function (_context6) {\n          while (1) switch (_context6.n) {\n            case 0:\n              opts = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : {\n                skipMemoRequiredCheck: false\n              };\n              if (opts.skipMemoRequiredCheck) {\n                _context6.n = 1;\n                break;\n              }\n              _context6.n = 1;\n              return this.checkMemoRequired(transaction);\n            case 1:\n              tx = encodeURIComponent(transaction.toEnvelope().toXDR().toString(\"base64\"));\n              return _context6.a(2, this.httpClient.post(this.serverURL.clone().segment(\"transactions_async\").toString(), \"tx=\".concat(tx), {\n                headers: {\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                }\n              }).then(function (response) {\n                return response.data;\n              }).catch(function (response) {\n                if (response instanceof Error) {\n                  return Promise.reject(response);\n                }\n                return Promise.reject(new _errors.BadResponseError(\"Transaction submission failed. Server responded: \".concat(response.status, \" \").concat(response.statusText), response.data));\n              }));\n          }\n        }, _callee6, this);\n      }));\n      function submitAsyncTransaction(_x3) {\n        return _submitAsyncTransaction.apply(this, arguments);\n      }\n      return submitAsyncTransaction;\n    }())\n  }, {\n    key: \"accounts\",\n    value: function accounts() {\n      return new _account_call_builder.AccountCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"claimableBalances\",\n    value: function claimableBalances() {\n      return new _claimable_balances_call_builder.ClaimableBalanceCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"ledgers\",\n    value: function ledgers() {\n      return new _ledger_call_builder.LedgerCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"transactions\",\n    value: function transactions() {\n      return new _transaction_call_builder.TransactionCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"offers\",\n    value: function offers() {\n      return new _offer_call_builder.OfferCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"orderbook\",\n    value: function orderbook(selling, buying) {\n      return new _orderbook_call_builder.OrderbookCallBuilder(this.serverURL, this.httpClient, selling, buying);\n    }\n  }, {\n    key: \"trades\",\n    value: function trades() {\n      return new _trades_call_builder.TradesCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"operations\",\n    value: function operations() {\n      return new _operation_call_builder.OperationCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"liquidityPools\",\n    value: function liquidityPools() {\n      return new _liquidity_pool_call_builder.LiquidityPoolCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"strictReceivePaths\",\n    value: function strictReceivePaths(source, destinationAsset, destinationAmount) {\n      return new _strict_receive_path_call_builder.StrictReceivePathCallBuilder(this.serverURL, this.httpClient, source, destinationAsset, destinationAmount);\n    }\n  }, {\n    key: \"strictSendPaths\",\n    value: function strictSendPaths(sourceAsset, sourceAmount, destination) {\n      return new _strict_send_path_call_builder.StrictSendPathCallBuilder(this.serverURL, this.httpClient, sourceAsset, sourceAmount, destination);\n    }\n  }, {\n    key: \"payments\",\n    value: function payments() {\n      return new _payment_call_builder.PaymentCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"effects\",\n    value: function effects() {\n      return new _effect_call_builder.EffectCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"friendbot\",\n    value: function friendbot(address) {\n      return new _friendbot_builder.FriendbotBuilder(this.serverURL, this.httpClient, address);\n    }\n  }, {\n    key: \"assets\",\n    value: function assets() {\n      return new _assets_call_builder.AssetsCallBuilder(this.serverURL, this.httpClient);\n    }\n  }, {\n    key: \"loadAccount\",\n    value: (function () {\n      var _loadAccount = _asyncToGenerator(_regenerator().m(function _callee7(accountId) {\n        var res;\n        return _regenerator().w(function (_context7) {\n          while (1) switch (_context7.n) {\n            case 0:\n              _context7.n = 1;\n              return this.accounts().accountId(accountId).call();\n            case 1:\n              res = _context7.v;\n              return _context7.a(2, new _account_response.AccountResponse(res));\n          }\n        }, _callee7, this);\n      }));\n      function loadAccount(_x4) {\n        return _loadAccount.apply(this, arguments);\n      }\n      return loadAccount;\n    }())\n  }, {\n    key: \"tradeAggregation\",\n    value: function tradeAggregation(base, counter, start_time, end_time, resolution, offset) {\n      return new _trade_aggregation_call_builder.TradeAggregationCallBuilder(this.serverURL, this.httpClient, base, counter, start_time, end_time, resolution, offset);\n    }\n  }, {\n    key: \"checkMemoRequired\",\n    value: (function () {\n      var _checkMemoRequired = _asyncToGenerator(_regenerator().m(function _callee8(transaction) {\n        var destinations, i, operation, destination, account, _t, _t2;\n        return _regenerator().w(function (_context8) {\n          while (1) switch (_context8.p = _context8.n) {\n            case 0:\n              if (transaction instanceof _stellarBase.FeeBumpTransaction) {\n                transaction = transaction.innerTransaction;\n              }\n              if (!(transaction.memo.type !== \"none\")) {\n                _context8.n = 1;\n                break;\n              }\n              return _context8.a(2);\n            case 1:\n              destinations = new Set();\n              i = 0;\n            case 2:\n              if (!(i < transaction.operations.length)) {\n                _context8.n = 14;\n                break;\n              }\n              operation = transaction.operations[i];\n              _t = operation.type;\n              _context8.n = _t === \"payment\" ? 3 : _t === \"pathPaymentStrictReceive\" ? 3 : _t === \"pathPaymentStrictSend\" ? 3 : _t === \"accountMerge\" ? 3 : 4;\n              break;\n            case 3:\n              return _context8.a(3, 5);\n            case 4:\n              return _context8.a(3, 13);\n            case 5:\n              destination = operation.destination;\n              if (!destinations.has(destination)) {\n                _context8.n = 6;\n                break;\n              }\n              return _context8.a(3, 13);\n            case 6:\n              destinations.add(destination);\n              if (!destination.startsWith(\"M\")) {\n                _context8.n = 7;\n                break;\n              }\n              return _context8.a(3, 13);\n            case 7:\n              _context8.p = 7;\n              _context8.n = 8;\n              return this.loadAccount(destination);\n            case 8:\n              account = _context8.v;\n              if (!(account.data_attr[\"config.memo_required\"] === ACCOUNT_REQUIRES_MEMO)) {\n                _context8.n = 9;\n                break;\n              }\n              throw new _errors.AccountRequiresMemoError(\"account requires memo\", destination, i);\n            case 9:\n              _context8.n = 13;\n              break;\n            case 10:\n              _context8.p = 10;\n              _t2 = _context8.v;\n              if (!(_t2 instanceof _errors.AccountRequiresMemoError)) {\n                _context8.n = 11;\n                break;\n              }\n              throw _t2;\n            case 11:\n              if (_t2 instanceof _errors.NotFoundError) {\n                _context8.n = 12;\n                break;\n              }\n              throw _t2;\n            case 12:\n              return _context8.a(3, 13);\n            case 13:\n              i += 1;\n              _context8.n = 2;\n              break;\n            case 14:\n              return _context8.a(2);\n          }\n        }, _callee8, this, [[7, 10]]);\n      }));\n      function checkMemoRequired(_x5) {\n        return _checkMemoRequired.apply(this, arguments);\n      }\n      return checkMemoRequired;\n    }())\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3NlcnZlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQ0FBa0MsR0FBRyxxQkFBcUI7QUFDMUQsd0NBQXdDLG1CQUFPLENBQUMsb0VBQWM7QUFDOUQsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQXVCO0FBQ2xELG9DQUFvQyxtQkFBTyxDQUFDLG9EQUFPO0FBQ25ELG9CQUFvQixtQkFBTyxDQUFDLDRIQUFnQjtBQUM1QyxjQUFjLG1CQUFPLENBQUMseUdBQVc7QUFDakMsY0FBYyxtQkFBTyxDQUFDLCtHQUFXO0FBQ2pDLDRCQUE0QixtQkFBTyxDQUFDLDRJQUF3QjtBQUM1RCx3QkFBd0IsbUJBQU8sQ0FBQyxvSUFBb0I7QUFDcEQsMkJBQTJCLG1CQUFPLENBQUMsMElBQXVCO0FBQzFELHVDQUF1QyxtQkFBTyxDQUFDLGtLQUFtQztBQUNsRiwyQkFBMkIsbUJBQU8sQ0FBQywwSUFBdUI7QUFDMUQseUJBQXlCLG1CQUFPLENBQUMsc0lBQXFCO0FBQ3RELDJCQUEyQixtQkFBTyxDQUFDLDBJQUF1QjtBQUMxRCxtQ0FBbUMsbUJBQU8sQ0FBQywwSkFBK0I7QUFDMUUsMEJBQTBCLG1CQUFPLENBQUMsd0lBQXNCO0FBQ3hELDhCQUE4QixtQkFBTyxDQUFDLGdKQUEwQjtBQUNoRSw4QkFBOEIsbUJBQU8sQ0FBQyxnSkFBMEI7QUFDaEUsNEJBQTRCLG1CQUFPLENBQUMsNElBQXdCO0FBQzVELHdDQUF3QyxtQkFBTyxDQUFDLG9LQUFvQztBQUNwRixxQ0FBcUMsbUJBQU8sQ0FBQyw4SkFBaUM7QUFDOUUsc0NBQXNDLG1CQUFPLENBQUMsZ0tBQWtDO0FBQ2hGLDJCQUEyQixtQkFBTyxDQUFDLDBJQUF1QjtBQUMxRCxnQ0FBZ0MsbUJBQU8sQ0FBQyxvSkFBNEI7QUFDcEUsNEJBQTRCLG1CQUFPLENBQUMsNElBQXdCO0FBQzVELHFDQUFxQyxpQ0FBaUM7QUFDdEUsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDBCQUEwQix1REFBdUQsd0VBQXdFLHlCQUF5QiwrRkFBK0YsOERBQThELCtDQUErQywrREFBK0QsNkNBQTZDLG1CQUFtQiwwQkFBMEIsK0JBQStCLE9BQU8sb0NBQW9DLDhPQUE4TywwQkFBMEIsbUJBQW1CLDRCQUE0Qiw0REFBNEQsNENBQTRDLDBCQUEwQixJQUFJLHVFQUF1RSxNQUFNLGdCQUFnQixtQ0FBbUMsOEVBQThFLHVCQUF1QixpQ0FBaUMsb0lBQW9JLFNBQVMsZ0VBQWdFLFlBQVksdUJBQXVCLFVBQVUsV0FBVyxTQUFTLHlCQUF5QixxQkFBcUIsWUFBWSx3QkFBd0IsZ0NBQWdDLHlDQUF5QywyQkFBMkIsMkRBQTJELG1CQUFtQixjQUFjLDBGQUEwRixnQkFBZ0IsdU5BQXVOLDZiQUE2YixjQUFjLG9EQUFvRCw4QkFBOEIsNkNBQTZDLFNBQVMsZUFBZTtBQUN2dUYsMkNBQTJDLCtCQUErQixNQUFNLElBQUksUUFBUSxLQUFLLFlBQVksU0FBUyxnRUFBZ0UsbUJBQW1CLHlDQUF5QywrQkFBK0IsS0FBSyxrQkFBa0IsMERBQTBELCtEQUErRDtBQUNqYSxtREFBbUQsTUFBTSxnQ0FBZ0MsWUFBWSxvQkFBb0I7QUFDekgsZ0NBQWdDLHFCQUFxQiw2QkFBNkIscUNBQXFDLHVCQUF1QixvQkFBb0IseURBQXlELHFCQUFxQiwwREFBMEQsZ0JBQWdCO0FBQzFULGlDQUFpQztBQUNqQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USxpQ0FBaUMsa0NBQWtDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUJBQXFCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EscURBQXFELG9CQUFvQjtBQUN6RTtBQUNBLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvaG9yaXpvbi9zZXJ2ZXIuanM/ZTQ3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU1VCTUlUX1RSQU5TQUNUSU9OX1RJTUVPVVQgPSBleHBvcnRzLkhvcml6b25TZXJ2ZXIgPSB2b2lkIDA7XG52YXIgX2JpZ251bWJlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImJpZ251bWJlci5qc1wiKSk7XG52YXIgX3N0ZWxsYXJCYXNlID0gcmVxdWlyZShcIkBzdGVsbGFyL3N0ZWxsYXItYmFzZVwiKTtcbnZhciBfdXJpanMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJ1cmlqc1wiKSk7XG52YXIgX2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL2NhbGxfYnVpbGRlclwiKTtcbnZhciBfY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZ1wiKTtcbnZhciBfZXJyb3JzID0gcmVxdWlyZShcIi4uL2Vycm9yc1wiKTtcbnZhciBfYWNjb3VudF9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9hY2NvdW50X2NhbGxfYnVpbGRlclwiKTtcbnZhciBfYWNjb3VudF9yZXNwb25zZSA9IHJlcXVpcmUoXCIuL2FjY291bnRfcmVzcG9uc2VcIik7XG52YXIgX2Fzc2V0c19jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9hc3NldHNfY2FsbF9idWlsZGVyXCIpO1xudmFyIF9jbGFpbWFibGVfYmFsYW5jZXNfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2xhaW1hYmxlX2JhbGFuY2VzX2NhbGxfYnVpbGRlclwiKTtcbnZhciBfZWZmZWN0X2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL2VmZmVjdF9jYWxsX2J1aWxkZXJcIik7XG52YXIgX2ZyaWVuZGJvdF9idWlsZGVyID0gcmVxdWlyZShcIi4vZnJpZW5kYm90X2J1aWxkZXJcIik7XG52YXIgX2xlZGdlcl9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9sZWRnZXJfY2FsbF9idWlsZGVyXCIpO1xudmFyIF9saXF1aWRpdHlfcG9vbF9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9saXF1aWRpdHlfcG9vbF9jYWxsX2J1aWxkZXJcIik7XG52YXIgX29mZmVyX2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL29mZmVyX2NhbGxfYnVpbGRlclwiKTtcbnZhciBfb3BlcmF0aW9uX2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL29wZXJhdGlvbl9jYWxsX2J1aWxkZXJcIik7XG52YXIgX29yZGVyYm9va19jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9vcmRlcmJvb2tfY2FsbF9idWlsZGVyXCIpO1xudmFyIF9wYXltZW50X2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL3BheW1lbnRfY2FsbF9idWlsZGVyXCIpO1xudmFyIF9zdHJpY3RfcmVjZWl2ZV9wYXRoX2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL3N0cmljdF9yZWNlaXZlX3BhdGhfY2FsbF9idWlsZGVyXCIpO1xudmFyIF9zdHJpY3Rfc2VuZF9wYXRoX2NhbGxfYnVpbGRlciA9IHJlcXVpcmUoXCIuL3N0cmljdF9zZW5kX3BhdGhfY2FsbF9idWlsZGVyXCIpO1xudmFyIF90cmFkZV9hZ2dyZWdhdGlvbl9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi90cmFkZV9hZ2dyZWdhdGlvbl9jYWxsX2J1aWxkZXJcIik7XG52YXIgX3RyYWRlc19jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi90cmFkZXNfY2FsbF9idWlsZGVyXCIpO1xudmFyIF90cmFuc2FjdGlvbl9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvbl9jYWxsX2J1aWxkZXJcIik7XG52YXIgX2hvcml6b25fYXhpb3NfY2xpZW50ID0gcmVxdWlyZShcIi4vaG9yaXpvbl9heGlvc19jbGllbnRcIik7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9OyB9XG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyB2YXIgZSwgdCwgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIG4gPSByLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBvID0gci50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjsgZnVuY3Rpb24gaShyLCBuLCBvLCBpKSB7IHZhciBjID0gbiAmJiBuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG4gOiBHZW5lcmF0b3IsIHUgPSBPYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKTsgcmV0dXJuIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJfaW52b2tlXCIsIGZ1bmN0aW9uIChyLCBuLCBvKSB7IHZhciBpLCBjLCB1LCBmID0gMCwgcCA9IG8gfHwgW10sIHkgPSAhMSwgRyA9IHsgcDogMCwgbjogMCwgdjogZSwgYTogZCwgZjogZC5iaW5kKGUsIDQpLCBkOiBmdW5jdGlvbiBkKHQsIHIpIHsgcmV0dXJuIGkgPSB0LCBjID0gMCwgdSA9IGUsIEcubiA9IHIsIGE7IH0gfTsgZnVuY3Rpb24gZChyLCBuKSB7IGZvciAoYyA9IHIsIHUgPSBuLCB0ID0gMDsgIXkgJiYgZiAmJiAhbyAmJiB0IDwgcC5sZW5ndGg7IHQrKykgeyB2YXIgbywgaSA9IHBbdF0sIGQgPSBHLnAsIGwgPSBpWzJdOyByID4gMyA/IChvID0gbCA9PT0gbikgJiYgKHUgPSBpWyhjID0gaVs0XSkgPyA1IDogKGMgPSAzLCAzKV0sIGlbNF0gPSBpWzVdID0gZSkgOiBpWzBdIDw9IGQgJiYgKChvID0gciA8IDIgJiYgZCA8IGlbMV0pID8gKGMgPSAwLCBHLnYgPSBuLCBHLm4gPSBpWzFdKSA6IGQgPCBsICYmIChvID0gciA8IDMgfHwgaVswXSA+IG4gfHwgbiA+IGwpICYmIChpWzRdID0gciwgaVs1XSA9IG4sIEcubiA9IGwsIGMgPSAwKSk7IH0gaWYgKG8gfHwgciA+IDEpIHJldHVybiBhOyB0aHJvdyB5ID0gITAsIG47IH0gcmV0dXJuIGZ1bmN0aW9uIChvLCBwLCBsKSB7IGlmIChmID4gMSkgdGhyb3cgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgZm9yICh5ICYmIDEgPT09IHAgJiYgZChwLCBsKSwgYyA9IHAsIHUgPSBsOyAodCA9IGMgPCAyID8gZSA6IHUpIHx8ICF5OykgeyBpIHx8IChjID8gYyA8IDMgPyAoYyA+IDEgJiYgKEcubiA9IC0xKSwgZChjLCB1KSkgOiBHLm4gPSB1IDogRy52ID0gdSk7IHRyeSB7IGlmIChmID0gMiwgaSkgeyBpZiAoYyB8fCAobyA9IFwibmV4dFwiKSwgdCA9IGlbb10pIHsgaWYgKCEodCA9IHQuY2FsbChpLCB1KSkpIHRocm93IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpOyBpZiAoIXQuZG9uZSkgcmV0dXJuIHQ7IHUgPSB0LnZhbHVlLCBjIDwgMiAmJiAoYyA9IDApOyB9IGVsc2UgMSA9PT0gYyAmJiAodCA9IGkucmV0dXJuKSAmJiB0LmNhbGwoaSksIGMgPCAyICYmICh1ID0gVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBvICsgXCInIG1ldGhvZFwiKSwgYyA9IDEpOyBpID0gZTsgfSBlbHNlIGlmICgodCA9ICh5ID0gRy5uIDwgMCkgPyB1IDogci5jYWxsKG4sIEcpKSAhPT0gYSkgYnJlYWs7IH0gY2F0Y2ggKHQpIHsgaSA9IGUsIGMgPSAxLCB1ID0gdDsgfSBmaW5hbGx5IHsgZiA9IDE7IH0gfSByZXR1cm4geyB2YWx1ZTogdCwgZG9uZTogeSB9OyB9OyB9KHIsIG8sIGkpLCAhMCksIHU7IH0gdmFyIGEgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7IHZhciBjID0gW11bbl0gPyB0KHQoW11bbl0oKSkpIDogKF9yZWdlbmVyYXRvckRlZmluZTIodCA9IHt9LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgdCksIHUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjKTsgZnVuY3Rpb24gZihlKSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGUuX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh1KSwgZTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSksIF9yZWdlbmVyYXRvckRlZmluZTIoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiwgX3JlZ2VuZXJhdG9yRGVmaW5lMihHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBvLCBcIkdlbmVyYXRvclwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCAoX3JlZ2VuZXJhdG9yID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyByZXR1cm4geyB3OiBpLCBtOiBmIH07IH0pKCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgbiwgdCkgeyB2YXIgaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsgdHJ5IHsgaSh7fSwgXCJcIiwge30pOyB9IGNhdGNoIChlKSB7IGkgPSAwOyB9IF9yZWdlbmVyYXRvckRlZmluZTIgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JEZWZpbmUoZSwgciwgbiwgdCkgeyBmdW5jdGlvbiBvKHIsIG4pIHsgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcy5faW52b2tlKHIsIG4sIGUpOyB9KTsgfSByID8gaSA/IGkoZSwgciwgeyB2YWx1ZTogbiwgZW51bWVyYWJsZTogIXQsIGNvbmZpZ3VyYWJsZTogIXQsIHdyaXRhYmxlOiAhdCB9KSA6IGVbcl0gPSBuIDogKG8oXCJuZXh0XCIsIDApLCBvKFwidGhyb3dcIiwgMSksIG8oXCJyZXR1cm5cIiwgMikpOyB9LCBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIG4sIHQpOyB9XG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAobiwgdCwgZSwgciwgbywgYSwgYykgeyB0cnkgeyB2YXIgaSA9IG5bYV0oYyksIHUgPSBpLnZhbHVlOyB9IGNhdGNoIChuKSB7IHJldHVybiB2b2lkIGUobik7IH0gaS5kb25lID8gdCh1KSA6IFByb21pc2UucmVzb2x2ZSh1KS50aGVuKHIsIG8pOyB9XG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gdGhpcywgZSA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyLCBvKSB7IHZhciBhID0gbi5hcHBseSh0LCBlKTsgZnVuY3Rpb24gX25leHQobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIG4pOyB9IGZ1bmN0aW9uIF90aHJvdyhuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIG4pOyB9IF9uZXh0KHZvaWQgMCk7IH0pOyB9OyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG52YXIgU1VCTUlUX1RSQU5TQUNUSU9OX1RJTUVPVVQgPSBleHBvcnRzLlNVQk1JVF9UUkFOU0FDVElPTl9USU1FT1VUID0gNjAgKiAxMDAwO1xudmFyIFNUUk9PUFNfSU5fTFVNRU4gPSAxMDAwMDAwMDtcbnZhciBBQ0NPVU5UX1JFUVVJUkVTX01FTU8gPSBcIk1RPT1cIjtcbmZ1bmN0aW9uIGdldEFtb3VudEluTHVtZW5zKGFtdCkge1xuICByZXR1cm4gbmV3IF9iaWdudW1iZXIuZGVmYXVsdChhbXQpLmRpdihTVFJPT1BTX0lOX0xVTUVOKS50b1N0cmluZygpO1xufVxudmFyIEhvcml6b25TZXJ2ZXIgPSBleHBvcnRzLkhvcml6b25TZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhvcml6b25TZXJ2ZXIoc2VydmVyVVJMKSB7XG4gICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIb3Jpem9uU2VydmVyKTtcbiAgICB0aGlzLnNlcnZlclVSTCA9ICgwLCBfdXJpanMuZGVmYXVsdCkoc2VydmVyVVJMKTtcbiAgICB2YXIgYWxsb3dIdHRwID0gdHlwZW9mIG9wdHMuYWxsb3dIdHRwID09PSBcInVuZGVmaW5lZFwiID8gX2NvbmZpZy5Db25maWcuaXNBbGxvd0h0dHAoKSA6IG9wdHMuYWxsb3dIdHRwO1xuICAgIHZhciBjdXN0b21IZWFkZXJzID0ge307XG4gICAgaWYgKG9wdHMuYXBwTmFtZSkge1xuICAgICAgY3VzdG9tSGVhZGVyc1tcIlgtQXBwLU5hbWVcIl0gPSBvcHRzLmFwcE5hbWU7XG4gICAgfVxuICAgIGlmIChvcHRzLmFwcFZlcnNpb24pIHtcbiAgICAgIGN1c3RvbUhlYWRlcnNbXCJYLUFwcC1WZXJzaW9uXCJdID0gb3B0cy5hcHBWZXJzaW9uO1xuICAgIH1cbiAgICBpZiAob3B0cy5hdXRoVG9rZW4pIHtcbiAgICAgIGN1c3RvbUhlYWRlcnNbXCJYLUF1dGgtVG9rZW5cIl0gPSBvcHRzLmF1dGhUb2tlbjtcbiAgICB9XG4gICAgaWYgKG9wdHMuaGVhZGVycykge1xuICAgICAgT2JqZWN0LmFzc2lnbihjdXN0b21IZWFkZXJzLCBvcHRzLmhlYWRlcnMpO1xuICAgIH1cbiAgICB0aGlzLmh0dHBDbGllbnQgPSAoMCwgX2hvcml6b25fYXhpb3NfY2xpZW50LmNyZWF0ZUh0dHBDbGllbnQpKGN1c3RvbUhlYWRlcnMpO1xuICAgIGlmICh0aGlzLnNlcnZlclVSTC5wcm90b2NvbCgpICE9PSBcImh0dHBzXCIgJiYgIWFsbG93SHR0cCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbm5lY3QgdG8gaW5zZWN1cmUgaG9yaXpvbiBzZXJ2ZXJcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoSG9yaXpvblNlcnZlciwgW3tcbiAgICBrZXk6IFwiZmV0Y2hUaW1lYm91bmRzXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2ZldGNoVGltZWJvdW5kcyA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZShzZWNvbmRzKSB7XG4gICAgICAgIHZhciBfaXNSZXRyeSxcbiAgICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfaXNSZXRyeSA9IF9hcmdzLmxlbmd0aCA+IDEgJiYgX2FyZ3NbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzFdIDogZmFsc2U7XG4gICAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gKDAsIF9ob3Jpem9uX2F4aW9zX2NsaWVudC5nZXRDdXJyZW50U2VydmVyVGltZSkodGhpcy5zZXJ2ZXJVUkwuaG9zdG5hbWUoKSk7XG4gICAgICAgICAgICAgIGlmICghY3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCB7XG4gICAgICAgICAgICAgICAgbWluVGltZTogMCxcbiAgICAgICAgICAgICAgICBtYXhUaW1lOiBjdXJyZW50VGltZSArIHNlY29uZHNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGlmICghX2lzUmV0cnkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCB7XG4gICAgICAgICAgICAgICAgbWluVGltZTogMCxcbiAgICAgICAgICAgICAgICBtYXhUaW1lOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgKyBzZWNvbmRzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBfY29udGV4dC5uID0gMztcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5nZXQodGhpcy5zZXJ2ZXJVUkwudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hKDIsIHRoaXMuZmV0Y2hUaW1lYm91bmRzKHNlY29uZHMsIHRydWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZmV0Y2hUaW1lYm91bmRzKF94KSB7XG4gICAgICAgIHJldHVybiBfZmV0Y2hUaW1lYm91bmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hUaW1lYm91bmRzO1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJmZXRjaEJhc2VGZWVcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmV0Y2hCYXNlRmVlID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSAxO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZWVTdGF0cygpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi52O1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmEoMiwgcGFyc2VJbnQocmVzcG9uc2UubGFzdF9sZWRnZXJfYmFzZV9mZWUsIDEwKSB8fCAxMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZmV0Y2hCYXNlRmVlKCkge1xuICAgICAgICByZXR1cm4gX2ZldGNoQmFzZUZlZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoQmFzZUZlZTtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiZmVlU3RhdHNcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmVlU3RhdHMgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUzKCkge1xuICAgICAgICB2YXIgY2I7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBjYiA9IG5ldyBfY2FsbF9idWlsZGVyLkNhbGxCdWlsZGVyKHRoaXMuc2VydmVyVVJMLCB0aGlzLmh0dHBDbGllbnQpO1xuICAgICAgICAgICAgICBjYi5maWx0ZXIucHVzaChbXCJmZWVfc3RhdHNcIl0pO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmEoMiwgY2IuY2FsbCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIGZlZVN0YXRzKCkge1xuICAgICAgICByZXR1cm4gX2ZlZVN0YXRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmVlU3RhdHM7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcInJvb3RcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcm9vdCA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgICAgIHZhciBjYjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0NCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGNiID0gbmV3IF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIodGhpcy5zZXJ2ZXJVUkwsIHRoaXMuaHR0cENsaWVudCk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYSgyLCBjYi5jYWxsKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gcm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIF9yb290LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcm9vdDtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwic3VibWl0VHJhbnNhY3Rpb25cIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3VibWl0VHJhbnNhY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWU1KHRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHZhciBvcHRzLFxuICAgICAgICAgIHR4LFxuICAgICAgICAgIF9hcmdzNSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NS5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIG9wdHMgPSBfYXJnczUubGVuZ3RoID4gMSAmJiBfYXJnczVbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNVsxXSA6IHtcbiAgICAgICAgICAgICAgICBza2lwTWVtb1JlcXVpcmVkQ2hlY2s6IGZhbHNlXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChvcHRzLnNraXBNZW1vUmVxdWlyZWRDaGVjaykge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDUubiA9IDE7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrTWVtb1JlcXVpcmVkKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgdHggPSBlbmNvZGVVUklDb21wb25lbnQodHJhbnNhY3Rpb24udG9FbnZlbG9wZSgpLnRvWERSKCkudG9TdHJpbmcoXCJiYXNlNjRcIikpO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmEoMiwgdGhpcy5odHRwQ2xpZW50LnBvc3QodGhpcy5zZXJ2ZXJVUkwuY2xvbmUoKS5zZWdtZW50KFwidHJhbnNhY3Rpb25zXCIpLnRvU3RyaW5nKCksIFwidHg9XCIuY29uY2F0KHR4KSwge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IFNVQk1JVF9UUkFOU0FDVElPTl9USU1FT1VULFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLnJlc3VsdF94ZHIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VYRFIgPSBfc3RlbGxhckJhc2UueGRyLlRyYW5zYWN0aW9uUmVzdWx0LmZyb21YRFIocmVzcG9uc2UuZGF0YS5yZXN1bHRfeGRyLCBcImJhc2U2NFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHJlc3BvbnNlWERSLnJlc3VsdCgpLnZhbHVlKCk7XG4gICAgICAgICAgICAgICAgdmFyIG9mZmVyUmVzdWx0cztcbiAgICAgICAgICAgICAgICB2YXIgaGFzTWFuYWdlT2ZmZXI7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBvZmZlclJlc3VsdHMgPSByZXN1bHRzLm1hcChmdW5jdGlvbiAocmVzdWx0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUoKS5zd2l0Y2goKS5uYW1lICE9PSBcIm1hbmFnZUJ1eU9mZmVyXCIgJiYgcmVzdWx0LnZhbHVlKCkuc3dpdGNoKCkubmFtZSAhPT0gXCJtYW5hZ2VTZWxsT2ZmZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhhc01hbmFnZU9mZmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFtb3VudEJvdWdodCA9IG5ldyBfYmlnbnVtYmVyLmRlZmF1bHQoMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbW91bnRTb2xkID0gbmV3IF9iaWdudW1iZXIuZGVmYXVsdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZmVyU3VjY2VzcyA9IHJlc3VsdC52YWx1ZSgpLnZhbHVlKCkuc3VjY2VzcygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2ZmZXJzQ2xhaW1lZCA9IG9mZmVyU3VjY2Vzcy5vZmZlcnNDbGFpbWVkKCkubWFwKGZ1bmN0aW9uIChvZmZlckNsYWltZWRBdG9tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZmVyQ2xhaW1lZCA9IG9mZmVyQ2xhaW1lZEF0b20udmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsbGVySWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob2ZmZXJDbGFpbWVkQXRvbS5zd2l0Y2goKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBfc3RlbGxhckJhc2UueGRyLkNsYWltQXRvbVR5cGUuY2xhaW1BdG9tVHlwZVYwKCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGxlcklkID0gX3N0ZWxsYXJCYXNlLlN0cktleS5lbmNvZGVFZDI1NTE5UHVibGljS2V5KG9mZmVyQ2xhaW1lZC5zZWxsZXJFZDI1NTE5KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgX3N0ZWxsYXJCYXNlLnhkci5DbGFpbUF0b21UeXBlLmNsYWltQXRvbVR5cGVPcmRlckJvb2soKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsbGVySWQgPSBfc3RlbGxhckJhc2UuU3RyS2V5LmVuY29kZUVkMjU1MTlQdWJsaWNLZXkob2ZmZXJDbGFpbWVkLnNlbGxlcklkKCkuZWQyNTUxOSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9mZmVyIHJlc3VsdCB0eXBlOiBcIi5jb25jYXQob2ZmZXJDbGFpbWVkQXRvbS5zd2l0Y2goKSkpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhaW1lZE9mZmVyQW1vdW50Qm91Z2h0ID0gbmV3IF9iaWdudW1iZXIuZGVmYXVsdChvZmZlckNsYWltZWQuYW1vdW50Qm91Z2h0KCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGNsYWltZWRPZmZlckFtb3VudFNvbGQgPSBuZXcgX2JpZ251bWJlci5kZWZhdWx0KG9mZmVyQ2xhaW1lZC5hbW91bnRTb2xkKCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgYW1vdW50Qm91Z2h0ID0gYW1vdW50Qm91Z2h0LnBsdXMoY2xhaW1lZE9mZmVyQW1vdW50U29sZCk7XG4gICAgICAgICAgICAgICAgICAgICAgYW1vdW50U29sZCA9IGFtb3VudFNvbGQucGx1cyhjbGFpbWVkT2ZmZXJBbW91bnRCb3VnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBzb2xkID0gX3N0ZWxsYXJCYXNlLkFzc2V0LmZyb21PcGVyYXRpb24ob2ZmZXJDbGFpbWVkLmFzc2V0U29sZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgYm91Z2h0ID0gX3N0ZWxsYXJCYXNlLkFzc2V0LmZyb21PcGVyYXRpb24ob2ZmZXJDbGFpbWVkLmFzc2V0Qm91Z2h0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3NldFNvbGQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBzb2xkLmdldEFzc2V0VHlwZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRDb2RlOiBzb2xkLmdldENvZGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3Vlcjogc29sZC5nZXRJc3N1ZXIoKVxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGFzc2V0Qm91Z2h0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogYm91Z2h0LmdldEFzc2V0VHlwZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRDb2RlOiBib3VnaHQuZ2V0Q29kZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVyOiBib3VnaHQuZ2V0SXNzdWVyKClcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxsZXJJZDogc2VsbGVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZlcklkOiBvZmZlckNsYWltZWQub2ZmZXJJZCgpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NldFNvbGQ6IGFzc2V0U29sZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudFNvbGQ6IGdldEFtb3VudEluTHVtZW5zKGNsYWltZWRPZmZlckFtb3VudFNvbGQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRCb3VnaHQ6IGFzc2V0Qm91Z2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50Qm91Z2h0OiBnZXRBbW91bnRJbkx1bWVucyhjbGFpbWVkT2ZmZXJBbW91bnRCb3VnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlZmZlY3QgPSBvZmZlclN1Y2Nlc3Mub2ZmZXIoKS5zd2l0Y2goKS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9mZmVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9mZmVyU3VjY2Vzcy5vZmZlcigpLnZhbHVlID09PSBcImZ1bmN0aW9uXCIgJiYgb2ZmZXJTdWNjZXNzLm9mZmVyKCkudmFsdWUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBvZmZlclhEUiA9IG9mZmVyU3VjY2Vzcy5vZmZlcigpLnZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9mZmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmZXJJZDogb2ZmZXJYRFIub2ZmZXJJZCgpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxsaW5nOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1eWluZzoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGdldEFtb3VudEluTHVtZW5zKG9mZmVyWERSLmFtb3VudCgpLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbjogb2ZmZXJYRFIucHJpY2UoKS5uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGQ6IG9mZmVyWERSLnByaWNlKCkuZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsbGluZyA9IF9zdGVsbGFyQmFzZS5Bc3NldC5mcm9tT3BlcmF0aW9uKG9mZmVyWERSLnNlbGxpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9mZmVyLnNlbGxpbmcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBzZWxsaW5nLmdldEFzc2V0VHlwZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRDb2RlOiBzZWxsaW5nLmdldENvZGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3Vlcjogc2VsbGluZy5nZXRJc3N1ZXIoKVxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1eWluZyA9IF9zdGVsbGFyQmFzZS5Bc3NldC5mcm9tT3BlcmF0aW9uKG9mZmVyWERSLmJ1eWluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2ZmZXIuYnV5aW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogYnV5aW5nLmdldEFzc2V0VHlwZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRDb2RlOiBidXlpbmcuZ2V0Q29kZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVyOiBidXlpbmcuZ2V0SXNzdWVyKClcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgb2ZmZXJzQ2xhaW1lZDogb2ZmZXJzQ2xhaW1lZCxcbiAgICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6IGVmZmVjdCxcbiAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2ZmZXI6IGN1cnJlbnRPZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICBhbW91bnRCb3VnaHQ6IGdldEFtb3VudEluTHVtZW5zKGFtb3VudEJvdWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgYW1vdW50U29sZDogZ2V0QW1vdW50SW5MdW1lbnMoYW1vdW50U29sZCksXG4gICAgICAgICAgICAgICAgICAgICAgaXNGdWxseU9wZW46ICFvZmZlcnNDbGFpbWVkLmxlbmd0aCAmJiBlZmZlY3QgIT09IFwibWFuYWdlT2ZmZXJEZWxldGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgd2FzUGFydGlhbGx5RmlsbGVkOiAhIW9mZmVyc0NsYWltZWQubGVuZ3RoICYmIGVmZmVjdCAhPT0gXCJtYW5hZ2VPZmZlckRlbGV0ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICB3YXNJbW1lZGlhdGVseUZpbGxlZDogISFvZmZlcnNDbGFpbWVkLmxlbmd0aCAmJiBlZmZlY3QgPT09IFwibWFuYWdlT2ZmZXJEZWxldGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgd2FzSW1tZWRpYXRlbHlEZWxldGVkOiAhb2ZmZXJzQ2xhaW1lZC5sZW5ndGggJiYgZWZmZWN0ID09PSBcIm1hbmFnZU9mZmVyRGVsZXRlZFwiXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVzcG9uc2UuZGF0YSksIHt9LCB7XG4gICAgICAgICAgICAgICAgICBvZmZlclJlc3VsdHM6IGhhc01hbmFnZU9mZmVyID8gb2ZmZXJSZXN1bHRzIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IF9lcnJvcnMuQmFkUmVzcG9uc2VFcnJvcihcIlRyYW5zYWN0aW9uIHN1Ym1pc3Npb24gZmFpbGVkLiBTZXJ2ZXIgcmVzcG9uZGVkOiBcIi5jb25jYXQocmVzcG9uc2Uuc3RhdHVzLCBcIiBcIikuY29uY2F0KHJlc3BvbnNlLnN0YXR1c1RleHQpLCByZXNwb25zZS5kYXRhKSk7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIHN1Ym1pdFRyYW5zYWN0aW9uKF94Mikge1xuICAgICAgICByZXR1cm4gX3N1Ym1pdFRyYW5zYWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3VibWl0VHJhbnNhY3Rpb247XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcInN1Ym1pdEFzeW5jVHJhbnNhY3Rpb25cIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3VibWl0QXN5bmNUcmFuc2FjdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTYodHJhbnNhY3Rpb24pIHtcbiAgICAgICAgdmFyIG9wdHMsXG4gICAgICAgICAgdHgsXG4gICAgICAgICAgX2FyZ3M2ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ2Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgb3B0cyA9IF9hcmdzNi5sZW5ndGggPiAxICYmIF9hcmdzNlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M2WzFdIDoge1xuICAgICAgICAgICAgICAgIHNraXBNZW1vUmVxdWlyZWRDaGVjazogZmFsc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKG9wdHMuc2tpcE1lbW9SZXF1aXJlZENoZWNrKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0Ni5uID0gMTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNZW1vUmVxdWlyZWQodHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICB0eCA9IGVuY29kZVVSSUNvbXBvbmVudCh0cmFuc2FjdGlvbi50b0VudmVsb3BlKCkudG9YRFIoKS50b1N0cmluZyhcImJhc2U2NFwiKSk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYSgyLCB0aGlzLmh0dHBDbGllbnQucG9zdCh0aGlzLnNlcnZlclVSTC5jbG9uZSgpLnNlZ21lbnQoXCJ0cmFuc2FjdGlvbnNfYXN5bmNcIikudG9TdHJpbmcoKSwgXCJ0eD1cIi5jb25jYXQodHgpLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgX2Vycm9ycy5CYWRSZXNwb25zZUVycm9yKFwiVHJhbnNhY3Rpb24gc3VibWlzc2lvbiBmYWlsZWQuIFNlcnZlciByZXNwb25kZWQ6IFwiLmNvbmNhdChyZXNwb25zZS5zdGF0dXMsIFwiIFwiKS5jb25jYXQocmVzcG9uc2Uuc3RhdHVzVGV4dCksIHJlc3BvbnNlLmRhdGEpKTtcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gc3VibWl0QXN5bmNUcmFuc2FjdGlvbihfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9zdWJtaXRBc3luY1RyYW5zYWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3VibWl0QXN5bmNUcmFuc2FjdGlvbjtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiYWNjb3VudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWNjb3VudHMoKSB7XG4gICAgICByZXR1cm4gbmV3IF9hY2NvdW50X2NhbGxfYnVpbGRlci5BY2NvdW50Q2FsbEJ1aWxkZXIodGhpcy5zZXJ2ZXJVUkwsIHRoaXMuaHR0cENsaWVudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsYWltYWJsZUJhbGFuY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsYWltYWJsZUJhbGFuY2VzKCkge1xuICAgICAgcmV0dXJuIG5ldyBfY2xhaW1hYmxlX2JhbGFuY2VzX2NhbGxfYnVpbGRlci5DbGFpbWFibGVCYWxhbmNlQ2FsbEJ1aWxkZXIodGhpcy5zZXJ2ZXJVUkwsIHRoaXMuaHR0cENsaWVudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxlZGdlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVkZ2VycygpIHtcbiAgICAgIHJldHVybiBuZXcgX2xlZGdlcl9jYWxsX2J1aWxkZXIuTGVkZ2VyQ2FsbEJ1aWxkZXIodGhpcy5zZXJ2ZXJVUkwsIHRoaXMuaHR0cENsaWVudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRyYW5zYWN0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2FjdGlvbnMoKSB7XG4gICAgICByZXR1cm4gbmV3IF90cmFuc2FjdGlvbl9jYWxsX2J1aWxkZXIuVHJhbnNhY3Rpb25DYWxsQnVpbGRlcih0aGlzLnNlcnZlclVSTCwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZmVycygpIHtcbiAgICAgIHJldHVybiBuZXcgX29mZmVyX2NhbGxfYnVpbGRlci5PZmZlckNhbGxCdWlsZGVyKHRoaXMuc2VydmVyVVJMLCB0aGlzLmh0dHBDbGllbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcmRlcmJvb2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3JkZXJib29rKHNlbGxpbmcsIGJ1eWluZykge1xuICAgICAgcmV0dXJuIG5ldyBfb3JkZXJib29rX2NhbGxfYnVpbGRlci5PcmRlcmJvb2tDYWxsQnVpbGRlcih0aGlzLnNlcnZlclVSTCwgdGhpcy5odHRwQ2xpZW50LCBzZWxsaW5nLCBidXlpbmcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0cmFkZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhZGVzKCkge1xuICAgICAgcmV0dXJuIG5ldyBfdHJhZGVzX2NhbGxfYnVpbGRlci5UcmFkZXNDYWxsQnVpbGRlcih0aGlzLnNlcnZlclVSTCwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib3BlcmF0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVyYXRpb25zKCkge1xuICAgICAgcmV0dXJuIG5ldyBfb3BlcmF0aW9uX2NhbGxfYnVpbGRlci5PcGVyYXRpb25DYWxsQnVpbGRlcih0aGlzLnNlcnZlclVSTCwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGlxdWlkaXR5UG9vbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlxdWlkaXR5UG9vbHMoKSB7XG4gICAgICByZXR1cm4gbmV3IF9saXF1aWRpdHlfcG9vbF9jYWxsX2J1aWxkZXIuTGlxdWlkaXR5UG9vbENhbGxCdWlsZGVyKHRoaXMuc2VydmVyVVJMLCB0aGlzLmh0dHBDbGllbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHJpY3RSZWNlaXZlUGF0aHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RyaWN0UmVjZWl2ZVBhdGhzKHNvdXJjZSwgZGVzdGluYXRpb25Bc3NldCwgZGVzdGluYXRpb25BbW91bnQpIHtcbiAgICAgIHJldHVybiBuZXcgX3N0cmljdF9yZWNlaXZlX3BhdGhfY2FsbF9idWlsZGVyLlN0cmljdFJlY2VpdmVQYXRoQ2FsbEJ1aWxkZXIodGhpcy5zZXJ2ZXJVUkwsIHRoaXMuaHR0cENsaWVudCwgc291cmNlLCBkZXN0aW5hdGlvbkFzc2V0LCBkZXN0aW5hdGlvbkFtb3VudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0cmljdFNlbmRQYXRoc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdHJpY3RTZW5kUGF0aHMoc291cmNlQXNzZXQsIHNvdXJjZUFtb3VudCwgZGVzdGluYXRpb24pIHtcbiAgICAgIHJldHVybiBuZXcgX3N0cmljdF9zZW5kX3BhdGhfY2FsbF9idWlsZGVyLlN0cmljdFNlbmRQYXRoQ2FsbEJ1aWxkZXIodGhpcy5zZXJ2ZXJVUkwsIHRoaXMuaHR0cENsaWVudCwgc291cmNlQXNzZXQsIHNvdXJjZUFtb3VudCwgZGVzdGluYXRpb24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwYXltZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXltZW50cygpIHtcbiAgICAgIHJldHVybiBuZXcgX3BheW1lbnRfY2FsbF9idWlsZGVyLlBheW1lbnRDYWxsQnVpbGRlcih0aGlzLnNlcnZlclVSTCwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZWZmZWN0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlZmZlY3RzKCkge1xuICAgICAgcmV0dXJuIG5ldyBfZWZmZWN0X2NhbGxfYnVpbGRlci5FZmZlY3RDYWxsQnVpbGRlcih0aGlzLnNlcnZlclVSTCwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZnJpZW5kYm90XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyaWVuZGJvdChhZGRyZXNzKSB7XG4gICAgICByZXR1cm4gbmV3IF9mcmllbmRib3RfYnVpbGRlci5GcmllbmRib3RCdWlsZGVyKHRoaXMuc2VydmVyVVJMLCB0aGlzLmh0dHBDbGllbnQsIGFkZHJlc3MpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhc3NldHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXNzZXRzKCkge1xuICAgICAgcmV0dXJuIG5ldyBfYXNzZXRzX2NhbGxfYnVpbGRlci5Bc3NldHNDYWxsQnVpbGRlcih0aGlzLnNlcnZlclVSTCwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZEFjY291bnRcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbG9hZEFjY291bnQgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWU3KGFjY291bnRJZCkge1xuICAgICAgICB2YXIgcmVzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ3Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm4gPSAxO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hY2NvdW50cygpLmFjY291bnRJZChhY2NvdW50SWQpLmNhbGwoKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ3LnY7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYSgyLCBuZXcgX2FjY291bnRfcmVzcG9uc2UuQWNjb3VudFJlc3BvbnNlKHJlcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gbG9hZEFjY291bnQoX3g0KSB7XG4gICAgICAgIHJldHVybiBfbG9hZEFjY291bnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsb2FkQWNjb3VudDtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwidHJhZGVBZ2dyZWdhdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFkZUFnZ3JlZ2F0aW9uKGJhc2UsIGNvdW50ZXIsIHN0YXJ0X3RpbWUsIGVuZF90aW1lLCByZXNvbHV0aW9uLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBuZXcgX3RyYWRlX2FnZ3JlZ2F0aW9uX2NhbGxfYnVpbGRlci5UcmFkZUFnZ3JlZ2F0aW9uQ2FsbEJ1aWxkZXIodGhpcy5zZXJ2ZXJVUkwsIHRoaXMuaHR0cENsaWVudCwgYmFzZSwgY291bnRlciwgc3RhcnRfdGltZSwgZW5kX3RpbWUsIHJlc29sdXRpb24sIG9mZnNldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrTWVtb1JlcXVpcmVkXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NoZWNrTWVtb1JlcXVpcmVkID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlOCh0cmFuc2FjdGlvbikge1xuICAgICAgICB2YXIgZGVzdGluYXRpb25zLCBpLCBvcGVyYXRpb24sIGRlc3RpbmF0aW9uLCBhY2NvdW50LCBfdCwgX3QyO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ4LnAgPSBfY29udGV4dDgubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBpZiAodHJhbnNhY3Rpb24gaW5zdGFuY2VvZiBfc3RlbGxhckJhc2UuRmVlQnVtcFRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvbi5pbm5lclRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghKHRyYW5zYWN0aW9uLm1lbW8udHlwZSAhPT0gXCJub25lXCIpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYSgyKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25zID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgaWYgKCEoaSA8IHRyYW5zYWN0aW9uLm9wZXJhdGlvbnMubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uID0gMTQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3BlcmF0aW9uID0gdHJhbnNhY3Rpb24ub3BlcmF0aW9uc1tpXTtcbiAgICAgICAgICAgICAgX3QgPSBvcGVyYXRpb24udHlwZTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm4gPSBfdCA9PT0gXCJwYXltZW50XCIgPyAzIDogX3QgPT09IFwicGF0aFBheW1lbnRTdHJpY3RSZWNlaXZlXCIgPyAzIDogX3QgPT09IFwicGF0aFBheW1lbnRTdHJpY3RTZW5kXCIgPyAzIDogX3QgPT09IFwiYWNjb3VudE1lcmdlXCIgPyAzIDogNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYSgzLCA1KTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hKDMsIDEzKTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgZGVzdGluYXRpb24gPSBvcGVyYXRpb24uZGVzdGluYXRpb247XG4gICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25zLmhhcyhkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDgubiA9IDY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hKDMsIDEzKTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25zLmFkZChkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb24uc3RhcnRzV2l0aChcIk1cIikpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDgubiA9IDc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hKDMsIDEzKTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgX2NvbnRleHQ4LnAgPSA3O1xuICAgICAgICAgICAgICBfY29udGV4dDgubiA9IDg7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRBY2NvdW50KGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgYWNjb3VudCA9IF9jb250ZXh0OC52O1xuICAgICAgICAgICAgICBpZiAoIShhY2NvdW50LmRhdGFfYXR0cltcImNvbmZpZy5tZW1vX3JlcXVpcmVkXCJdID09PSBBQ0NPVU5UX1JFUVVJUkVTX01FTU8pKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm4gPSA5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBfZXJyb3JzLkFjY291bnRSZXF1aXJlc01lbW9FcnJvcihcImFjY291bnQgcmVxdWlyZXMgbWVtb1wiLCBkZXN0aW5hdGlvbiwgaSk7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIF9jb250ZXh0OC5uID0gMTM7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQ4LnAgPSAxMDtcbiAgICAgICAgICAgICAgX3QyID0gX2NvbnRleHQ4LnY7XG4gICAgICAgICAgICAgIGlmICghKF90MiBpbnN0YW5jZW9mIF9lcnJvcnMuQWNjb3VudFJlcXVpcmVzTWVtb0Vycm9yKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uID0gMTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgX3QyO1xuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgaWYgKF90MiBpbnN0YW5jZW9mIF9lcnJvcnMuTm90Rm91bmRFcnJvcikge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uID0gMTI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3cgX3QyO1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hKDMsIDEzKTtcbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm4gPSAyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYSgyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzLCBbWzcsIDEwXV0pO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gY2hlY2tNZW1vUmVxdWlyZWQoX3g1KSB7XG4gICAgICAgIHJldHVybiBfY2hlY2tNZW1vUmVxdWlyZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGVja01lbW9SZXF1aXJlZDtcbiAgICB9KCkpXG4gIH1dKTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/server.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/server_api.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/server_api.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ServerApi = void 0;\nvar _horizon_api = __webpack_require__(/*! ./horizon_api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/horizon_api.js\");\nvar Effects = _interopRequireWildcard(__webpack_require__(/*! ./types/effects */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/types/effects.js\"));\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nvar ServerApi;\n(function (_ServerApi) {\n  var EffectType = _ServerApi.EffectType = Effects.EffectType;\n  var TradeType = function (TradeType) {\n    TradeType[\"all\"] = \"all\";\n    TradeType[\"liquidityPools\"] = \"liquidity_pool\";\n    TradeType[\"orderbook\"] = \"orderbook\";\n    return TradeType;\n  }({});\n  _ServerApi.TradeType = TradeType;\n  var OperationResponseType = _horizon_api.HorizonApi.OperationResponseType;\n  var OperationResponseTypeI = _horizon_api.HorizonApi.OperationResponseTypeI;\n})(ServerApi || (exports.ServerApi = ServerApi = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3NlcnZlcl9hcGkuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsaUJBQWlCO0FBQ2pCLG1CQUFtQixtQkFBTyxDQUFDLDBIQUFlO0FBQzFDLHNDQUFzQyxtQkFBTyxDQUFDLDhIQUFpQjtBQUMvRCx5Q0FBeUMsNEVBQTRFLDJFQUEyRSx1Q0FBdUMsZ0JBQWdCLCtCQUErQiw4RUFBOEUscUJBQXFCLCtCQUErQixlQUFlLHdDQUF3QyxnS0FBZ0ssV0FBVztBQUMxbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0JBQWdCLGlCQUFpQixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vc2VydmVyX2FwaS5qcz80ZDE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5TZXJ2ZXJBcGkgPSB2b2lkIDA7XG52YXIgX2hvcml6b25fYXBpID0gcmVxdWlyZShcIi4vaG9yaXpvbl9hcGlcIik7XG52YXIgRWZmZWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL3R5cGVzL2VmZmVjdHNcIikpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSwgdCkgeyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBXZWFrTWFwKSB2YXIgciA9IG5ldyBXZWFrTWFwKCksIG4gPSBuZXcgV2Vha01hcCgpOyByZXR1cm4gKF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSwgdCkgeyBpZiAoIXQgJiYgZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlOyB2YXIgbywgaSwgZiA9IHsgX19wcm90b19fOiBudWxsLCBkZWZhdWx0OiBlIH07IGlmIChudWxsID09PSBlIHx8IFwib2JqZWN0XCIgIT0gX3R5cGVvZihlKSAmJiBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUpIHJldHVybiBmOyBpZiAobyA9IHQgPyBuIDogcikgeyBpZiAoby5oYXMoZSkpIHJldHVybiBvLmdldChlKTsgby5zZXQoZSwgZik7IH0gZm9yICh2YXIgX3QgaW4gZSkgXCJkZWZhdWx0XCIgIT09IF90ICYmIHt9Lmhhc093blByb3BlcnR5LmNhbGwoZSwgX3QpICYmICgoaSA9IChvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIF90KSkgJiYgKGkuZ2V0IHx8IGkuc2V0KSA/IG8oZiwgX3QsIGkpIDogZltfdF0gPSBlW190XSk7IHJldHVybiBmOyB9KShlLCB0KTsgfVxudmFyIFNlcnZlckFwaTtcbihmdW5jdGlvbiAoX1NlcnZlckFwaSkge1xuICB2YXIgRWZmZWN0VHlwZSA9IF9TZXJ2ZXJBcGkuRWZmZWN0VHlwZSA9IEVmZmVjdHMuRWZmZWN0VHlwZTtcbiAgdmFyIFRyYWRlVHlwZSA9IGZ1bmN0aW9uIChUcmFkZVR5cGUpIHtcbiAgICBUcmFkZVR5cGVbXCJhbGxcIl0gPSBcImFsbFwiO1xuICAgIFRyYWRlVHlwZVtcImxpcXVpZGl0eVBvb2xzXCJdID0gXCJsaXF1aWRpdHlfcG9vbFwiO1xuICAgIFRyYWRlVHlwZVtcIm9yZGVyYm9va1wiXSA9IFwib3JkZXJib29rXCI7XG4gICAgcmV0dXJuIFRyYWRlVHlwZTtcbiAgfSh7fSk7XG4gIF9TZXJ2ZXJBcGkuVHJhZGVUeXBlID0gVHJhZGVUeXBlO1xuICB2YXIgT3BlcmF0aW9uUmVzcG9uc2VUeXBlID0gX2hvcml6b25fYXBpLkhvcml6b25BcGkuT3BlcmF0aW9uUmVzcG9uc2VUeXBlO1xuICB2YXIgT3BlcmF0aW9uUmVzcG9uc2VUeXBlSSA9IF9ob3Jpem9uX2FwaS5Ib3Jpem9uQXBpLk9wZXJhdGlvblJlc3BvbnNlVHlwZUk7XG59KShTZXJ2ZXJBcGkgfHwgKGV4cG9ydHMuU2VydmVyQXBpID0gU2VydmVyQXBpID0ge30pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/server_api.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/strict_receive_path_call_builder.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/strict_receive_path_call_builder.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.StrictReceivePathCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar StrictReceivePathCallBuilder = exports.StrictReceivePathCallBuilder = function (_CallBuilder) {\n  function StrictReceivePathCallBuilder(serverUrl, httpClient, source, destinationAsset, destinationAmount) {\n    var _this;\n    _classCallCheck(this, StrictReceivePathCallBuilder);\n    _this = _callSuper(this, StrictReceivePathCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"paths/strict-receive\");\n    if (typeof source === \"string\") {\n      _this.url.setQuery(\"source_account\", source);\n    } else {\n      var assets = source.map(function (asset) {\n        if (asset.isNative()) {\n          return \"native\";\n        }\n        return \"\".concat(asset.getCode(), \":\").concat(asset.getIssuer());\n      }).join(\",\");\n      _this.url.setQuery(\"source_assets\", assets);\n    }\n    _this.url.setQuery(\"destination_amount\", destinationAmount);\n    if (!destinationAsset.isNative()) {\n      _this.url.setQuery(\"destination_asset_type\", destinationAsset.getAssetType());\n      _this.url.setQuery(\"destination_asset_code\", destinationAsset.getCode());\n      _this.url.setQuery(\"destination_asset_issuer\", destinationAsset.getIssuer());\n    } else {\n      _this.url.setQuery(\"destination_asset_type\", \"native\");\n    }\n    return _this;\n  }\n  _inherits(StrictReceivePathCallBuilder, _CallBuilder);\n  return _createClass(StrictReceivePathCallBuilder);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3N0cmljdF9yZWNlaXZlX3BhdGhfY2FsbF9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLG9DQUFvQztBQUNwQyxvQkFBb0IsbUJBQU8sQ0FBQyw0SEFBZ0I7QUFDNUMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsaUNBQWlDO0FBQ2pDLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0osbUNBQW1DLG9DQUFvQztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vc3RyaWN0X3JlY2VpdmVfcGF0aF9jYWxsX2J1aWxkZXIuanM/YThlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU3RyaWN0UmVjZWl2ZVBhdGhDYWxsQnVpbGRlciA9IHZvaWQgMDtcbnZhciBfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2FsbF9idWlsZGVyXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgU3RyaWN0UmVjZWl2ZVBhdGhDYWxsQnVpbGRlciA9IGV4cG9ydHMuU3RyaWN0UmVjZWl2ZVBhdGhDYWxsQnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gU3RyaWN0UmVjZWl2ZVBhdGhDYWxsQnVpbGRlcihzZXJ2ZXJVcmwsIGh0dHBDbGllbnQsIHNvdXJjZSwgZGVzdGluYXRpb25Bc3NldCwgZGVzdGluYXRpb25BbW91bnQpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0cmljdFJlY2VpdmVQYXRoQ2FsbEJ1aWxkZXIpO1xuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBTdHJpY3RSZWNlaXZlUGF0aENhbGxCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50XSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJwYXRocy9zdHJpY3QtcmVjZWl2ZVwiKTtcbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwic291cmNlX2FjY291bnRcIiwgc291cmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFzc2V0cyA9IHNvdXJjZS5tYXAoZnVuY3Rpb24gKGFzc2V0KSB7XG4gICAgICAgIGlmIChhc3NldC5pc05hdGl2ZSgpKSB7XG4gICAgICAgICAgcmV0dXJuIFwibmF0aXZlXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGFzc2V0LmdldENvZGUoKSwgXCI6XCIpLmNvbmNhdChhc3NldC5nZXRJc3N1ZXIoKSk7XG4gICAgICB9KS5qb2luKFwiLFwiKTtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcInNvdXJjZV9hc3NldHNcIiwgYXNzZXRzKTtcbiAgICB9XG4gICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiZGVzdGluYXRpb25fYW1vdW50XCIsIGRlc3RpbmF0aW9uQW1vdW50KTtcbiAgICBpZiAoIWRlc3RpbmF0aW9uQXNzZXQuaXNOYXRpdmUoKSkge1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiZGVzdGluYXRpb25fYXNzZXRfdHlwZVwiLCBkZXN0aW5hdGlvbkFzc2V0LmdldEFzc2V0VHlwZSgpKTtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcImRlc3RpbmF0aW9uX2Fzc2V0X2NvZGVcIiwgZGVzdGluYXRpb25Bc3NldC5nZXRDb2RlKCkpO1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiZGVzdGluYXRpb25fYXNzZXRfaXNzdWVyXCIsIGRlc3RpbmF0aW9uQXNzZXQuZ2V0SXNzdWVyKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJkZXN0aW5hdGlvbl9hc3NldF90eXBlXCIsIFwibmF0aXZlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKFN0cmljdFJlY2VpdmVQYXRoQ2FsbEJ1aWxkZXIsIF9DYWxsQnVpbGRlcik7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoU3RyaWN0UmVjZWl2ZVBhdGhDYWxsQnVpbGRlcik7XG59KF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/strict_receive_path_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/strict_send_path_call_builder.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/strict_send_path_call_builder.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.StrictSendPathCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar StrictSendPathCallBuilder = exports.StrictSendPathCallBuilder = function (_CallBuilder) {\n  function StrictSendPathCallBuilder(serverUrl, httpClient, sourceAsset, sourceAmount, destination) {\n    var _this;\n    _classCallCheck(this, StrictSendPathCallBuilder);\n    _this = _callSuper(this, StrictSendPathCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"paths/strict-send\");\n    if (sourceAsset.isNative()) {\n      _this.url.setQuery(\"source_asset_type\", \"native\");\n    } else {\n      _this.url.setQuery(\"source_asset_type\", sourceAsset.getAssetType());\n      _this.url.setQuery(\"source_asset_code\", sourceAsset.getCode());\n      _this.url.setQuery(\"source_asset_issuer\", sourceAsset.getIssuer());\n    }\n    _this.url.setQuery(\"source_amount\", sourceAmount);\n    if (typeof destination === \"string\") {\n      _this.url.setQuery(\"destination_account\", destination);\n    } else {\n      var assets = destination.map(function (asset) {\n        if (asset.isNative()) {\n          return \"native\";\n        }\n        return \"\".concat(asset.getCode(), \":\").concat(asset.getIssuer());\n      }).join(\",\");\n      _this.url.setQuery(\"destination_assets\", assets);\n    }\n    return _this;\n  }\n  _inherits(StrictSendPathCallBuilder, _CallBuilder);\n  return _createClass(StrictSendPathCallBuilder);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3N0cmljdF9zZW5kX3BhdGhfY2FsbF9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGlDQUFpQztBQUNqQyxvQkFBb0IsbUJBQU8sQ0FBQyw0SEFBZ0I7QUFDNUMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsaUNBQWlDO0FBQ2pDLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssMkJBQTJCLHFIQUFxSCxnREFBZ0QsZUFBZSw0Q0FBNEMsMkNBQTJDLGNBQWM7QUFDcFQsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0osZ0NBQWdDLGlDQUFpQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vc3RyaWN0X3NlbmRfcGF0aF9jYWxsX2J1aWxkZXIuanM/NmMyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU3RyaWN0U2VuZFBhdGhDYWxsQnVpbGRlciA9IHZvaWQgMDtcbnZhciBfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2FsbF9idWlsZGVyXCIpO1xuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgU3RyaWN0U2VuZFBhdGhDYWxsQnVpbGRlciA9IGV4cG9ydHMuU3RyaWN0U2VuZFBhdGhDYWxsQnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gU3RyaWN0U2VuZFBhdGhDYWxsQnVpbGRlcihzZXJ2ZXJVcmwsIGh0dHBDbGllbnQsIHNvdXJjZUFzc2V0LCBzb3VyY2VBbW91bnQsIGRlc3RpbmF0aW9uKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHJpY3RTZW5kUGF0aENhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgU3RyaWN0U2VuZFBhdGhDYWxsQnVpbGRlciwgW3NlcnZlclVybCwgaHR0cENsaWVudF0pO1xuICAgIF90aGlzLnVybC5zZWdtZW50KFwicGF0aHMvc3RyaWN0LXNlbmRcIik7XG4gICAgaWYgKHNvdXJjZUFzc2V0LmlzTmF0aXZlKCkpIHtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcInNvdXJjZV9hc3NldF90eXBlXCIsIFwibmF0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJzb3VyY2VfYXNzZXRfdHlwZVwiLCBzb3VyY2VBc3NldC5nZXRBc3NldFR5cGUoKSk7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJzb3VyY2VfYXNzZXRfY29kZVwiLCBzb3VyY2VBc3NldC5nZXRDb2RlKCkpO1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwic291cmNlX2Fzc2V0X2lzc3VlclwiLCBzb3VyY2VBc3NldC5nZXRJc3N1ZXIoKSk7XG4gICAgfVxuICAgIF90aGlzLnVybC5zZXRRdWVyeShcInNvdXJjZV9hbW91bnRcIiwgc291cmNlQW1vdW50KTtcbiAgICBpZiAodHlwZW9mIGRlc3RpbmF0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJkZXN0aW5hdGlvbl9hY2NvdW50XCIsIGRlc3RpbmF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFzc2V0cyA9IGRlc3RpbmF0aW9uLm1hcChmdW5jdGlvbiAoYXNzZXQpIHtcbiAgICAgICAgaWYgKGFzc2V0LmlzTmF0aXZlKCkpIHtcbiAgICAgICAgICByZXR1cm4gXCJuYXRpdmVcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoYXNzZXQuZ2V0Q29kZSgpLCBcIjpcIikuY29uY2F0KGFzc2V0LmdldElzc3VlcigpKTtcbiAgICAgIH0pLmpvaW4oXCIsXCIpO1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiZGVzdGluYXRpb25fYXNzZXRzXCIsIGFzc2V0cyk7XG4gICAgfVxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfaW5oZXJpdHMoU3RyaWN0U2VuZFBhdGhDYWxsQnVpbGRlciwgX0NhbGxCdWlsZGVyKTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTdHJpY3RTZW5kUGF0aENhbGxCdWlsZGVyKTtcbn0oX2NhbGxfYnVpbGRlci5DYWxsQnVpbGRlcik7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/strict_send_path_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/trade_aggregation_call_builder.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/trade_aggregation_call_builder.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TradeAggregationCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nvar _errors = __webpack_require__(/*! ../errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/index.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar allowedResolutions = [60000, 300000, 900000, 3600000, 86400000, 604800000];\nvar TradeAggregationCallBuilder = exports.TradeAggregationCallBuilder = function (_CallBuilder) {\n  function TradeAggregationCallBuilder(serverUrl, httpClient, base, counter, start_time, end_time, resolution, offset) {\n    var _this;\n    _classCallCheck(this, TradeAggregationCallBuilder);\n    _this = _callSuper(this, TradeAggregationCallBuilder, [serverUrl, httpClient]);\n    _this.url.segment(\"trade_aggregations\");\n    if (!base.isNative()) {\n      _this.url.setQuery(\"base_asset_type\", base.getAssetType());\n      _this.url.setQuery(\"base_asset_code\", base.getCode());\n      _this.url.setQuery(\"base_asset_issuer\", base.getIssuer());\n    } else {\n      _this.url.setQuery(\"base_asset_type\", \"native\");\n    }\n    if (!counter.isNative()) {\n      _this.url.setQuery(\"counter_asset_type\", counter.getAssetType());\n      _this.url.setQuery(\"counter_asset_code\", counter.getCode());\n      _this.url.setQuery(\"counter_asset_issuer\", counter.getIssuer());\n    } else {\n      _this.url.setQuery(\"counter_asset_type\", \"native\");\n    }\n    if (typeof start_time !== \"number\" || typeof end_time !== \"number\") {\n      throw new _errors.BadRequestError(\"Invalid time bounds\", [start_time, end_time]);\n    } else {\n      _this.url.setQuery(\"start_time\", start_time.toString());\n      _this.url.setQuery(\"end_time\", end_time.toString());\n    }\n    if (!_this.isValidResolution(resolution)) {\n      throw new _errors.BadRequestError(\"Invalid resolution\", resolution);\n    } else {\n      _this.url.setQuery(\"resolution\", resolution.toString());\n    }\n    if (!_this.isValidOffset(offset, resolution)) {\n      throw new _errors.BadRequestError(\"Invalid offset\", offset);\n    } else {\n      _this.url.setQuery(\"offset\", offset.toString());\n    }\n    return _this;\n  }\n  _inherits(TradeAggregationCallBuilder, _CallBuilder);\n  return _createClass(TradeAggregationCallBuilder, [{\n    key: \"isValidResolution\",\n    value: function isValidResolution(resolution) {\n      return allowedResolutions.some(function (allowed) {\n        return allowed === resolution;\n      });\n    }\n  }, {\n    key: \"isValidOffset\",\n    value: function isValidOffset(offset, resolution) {\n      var hour = 3600000;\n      return !(offset > resolution || offset >= 24 * hour || offset % hour !== 0);\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3RyYWRlX2FnZ3JlZ2F0aW9uX2NhbGxfYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixtQ0FBbUM7QUFDbkMsb0JBQW9CLG1CQUFPLENBQUMsNEhBQWdCO0FBQzVDLGNBQWMsbUJBQU8sQ0FBQywrR0FBVztBQUNqQyxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSjtBQUNBLGtDQUFrQyxtQ0FBbUM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvaG9yaXpvbi90cmFkZV9hZ2dyZWdhdGlvbl9jYWxsX2J1aWxkZXIuanM/YjIzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuVHJhZGVBZ2dyZWdhdGlvbkNhbGxCdWlsZGVyID0gdm9pZCAwO1xudmFyIF9jYWxsX2J1aWxkZXIgPSByZXF1aXJlKFwiLi9jYWxsX2J1aWxkZXJcIik7XG52YXIgX2Vycm9ycyA9IHJlcXVpcmUoXCIuLi9lcnJvcnNcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgdHJ5IHsgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyB9IGNhdGNoICh0KSB7fSByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyByZXR1cm4gISF0OyB9KSgpOyB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YodCkgeyByZXR1cm4gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7IH0sIF9nZXRQcm90b3R5cGVPZih0KTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbnZhciBhbGxvd2VkUmVzb2x1dGlvbnMgPSBbNjAwMDAsIDMwMDAwMCwgOTAwMDAwLCAzNjAwMDAwLCA4NjQwMDAwMCwgNjA0ODAwMDAwXTtcbnZhciBUcmFkZUFnZ3JlZ2F0aW9uQ2FsbEJ1aWxkZXIgPSBleHBvcnRzLlRyYWRlQWdncmVnYXRpb25DYWxsQnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gVHJhZGVBZ2dyZWdhdGlvbkNhbGxCdWlsZGVyKHNlcnZlclVybCwgaHR0cENsaWVudCwgYmFzZSwgY291bnRlciwgc3RhcnRfdGltZSwgZW5kX3RpbWUsIHJlc29sdXRpb24sIG9mZnNldCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhZGVBZ2dyZWdhdGlvbkNhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgVHJhZGVBZ2dyZWdhdGlvbkNhbGxCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50XSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJ0cmFkZV9hZ2dyZWdhdGlvbnNcIik7XG4gICAgaWYgKCFiYXNlLmlzTmF0aXZlKCkpIHtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcImJhc2VfYXNzZXRfdHlwZVwiLCBiYXNlLmdldEFzc2V0VHlwZSgpKTtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcImJhc2VfYXNzZXRfY29kZVwiLCBiYXNlLmdldENvZGUoKSk7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJiYXNlX2Fzc2V0X2lzc3VlclwiLCBiYXNlLmdldElzc3VlcigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiYmFzZV9hc3NldF90eXBlXCIsIFwibmF0aXZlXCIpO1xuICAgIH1cbiAgICBpZiAoIWNvdW50ZXIuaXNOYXRpdmUoKSkge1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiY291bnRlcl9hc3NldF90eXBlXCIsIGNvdW50ZXIuZ2V0QXNzZXRUeXBlKCkpO1xuICAgICAgX3RoaXMudXJsLnNldFF1ZXJ5KFwiY291bnRlcl9hc3NldF9jb2RlXCIsIGNvdW50ZXIuZ2V0Q29kZSgpKTtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcImNvdW50ZXJfYXNzZXRfaXNzdWVyXCIsIGNvdW50ZXIuZ2V0SXNzdWVyKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy51cmwuc2V0UXVlcnkoXCJjb3VudGVyX2Fzc2V0X3R5cGVcIiwgXCJuYXRpdmVcIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc3RhcnRfdGltZSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgZW5kX3RpbWUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRocm93IG5ldyBfZXJyb3JzLkJhZFJlcXVlc3RFcnJvcihcIkludmFsaWQgdGltZSBib3VuZHNcIiwgW3N0YXJ0X3RpbWUsIGVuZF90aW1lXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcInN0YXJ0X3RpbWVcIiwgc3RhcnRfdGltZS50b1N0cmluZygpKTtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcImVuZF90aW1lXCIsIGVuZF90aW1lLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBpZiAoIV90aGlzLmlzVmFsaWRSZXNvbHV0aW9uKHJlc29sdXRpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgX2Vycm9ycy5CYWRSZXF1ZXN0RXJyb3IoXCJJbnZhbGlkIHJlc29sdXRpb25cIiwgcmVzb2x1dGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcInJlc29sdXRpb25cIiwgcmVzb2x1dGlvbi50b1N0cmluZygpKTtcbiAgICB9XG4gICAgaWYgKCFfdGhpcy5pc1ZhbGlkT2Zmc2V0KG9mZnNldCwgcmVzb2x1dGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBfZXJyb3JzLkJhZFJlcXVlc3RFcnJvcihcIkludmFsaWQgb2Zmc2V0XCIsIG9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLnVybC5zZXRRdWVyeShcIm9mZnNldFwiLCBvZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfaW5oZXJpdHMoVHJhZGVBZ2dyZWdhdGlvbkNhbGxCdWlsZGVyLCBfQ2FsbEJ1aWxkZXIpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFRyYWRlQWdncmVnYXRpb25DYWxsQnVpbGRlciwgW3tcbiAgICBrZXk6IFwiaXNWYWxpZFJlc29sdXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZFJlc29sdXRpb24ocmVzb2x1dGlvbikge1xuICAgICAgcmV0dXJuIGFsbG93ZWRSZXNvbHV0aW9ucy5zb21lKGZ1bmN0aW9uIChhbGxvd2VkKSB7XG4gICAgICAgIHJldHVybiBhbGxvd2VkID09PSByZXNvbHV0aW9uO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzVmFsaWRPZmZzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZE9mZnNldChvZmZzZXQsIHJlc29sdXRpb24pIHtcbiAgICAgIHZhciBob3VyID0gMzYwMDAwMDtcbiAgICAgIHJldHVybiAhKG9mZnNldCA+IHJlc29sdXRpb24gfHwgb2Zmc2V0ID49IDI0ICogaG91ciB8fCBvZmZzZXQgJSBob3VyICE9PSAwKTtcbiAgICB9XG4gIH1dKTtcbn0oX2NhbGxfYnVpbGRlci5DYWxsQnVpbGRlcik7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/trade_aggregation_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/trades_call_builder.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/trades_call_builder.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TradesCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar TradesCallBuilder = exports.TradesCallBuilder = function (_CallBuilder) {\n  function TradesCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, TradesCallBuilder);\n    _this = _callSuper(this, TradesCallBuilder, [serverUrl, httpClient, \"trades\"]);\n    _this.url.segment(\"trades\");\n    return _this;\n  }\n  _inherits(TradesCallBuilder, _CallBuilder);\n  return _createClass(TradesCallBuilder, [{\n    key: \"forAssetPair\",\n    value: function forAssetPair(base, counter) {\n      if (!base.isNative()) {\n        this.url.setQuery(\"base_asset_type\", base.getAssetType());\n        this.url.setQuery(\"base_asset_code\", base.getCode());\n        this.url.setQuery(\"base_asset_issuer\", base.getIssuer());\n      } else {\n        this.url.setQuery(\"base_asset_type\", \"native\");\n      }\n      if (!counter.isNative()) {\n        this.url.setQuery(\"counter_asset_type\", counter.getAssetType());\n        this.url.setQuery(\"counter_asset_code\", counter.getCode());\n        this.url.setQuery(\"counter_asset_issuer\", counter.getIssuer());\n      } else {\n        this.url.setQuery(\"counter_asset_type\", \"native\");\n      }\n      return this;\n    }\n  }, {\n    key: \"forOffer\",\n    value: function forOffer(offerId) {\n      this.url.setQuery(\"offer_id\", offerId);\n      return this;\n    }\n  }, {\n    key: \"forType\",\n    value: function forType(tradeType) {\n      this.url.setQuery(\"trade_type\", tradeType);\n      return this;\n    }\n  }, {\n    key: \"forAccount\",\n    value: function forAccount(accountId) {\n      return this.forEndpoint(\"accounts\", accountId);\n    }\n  }, {\n    key: \"forLiquidityPool\",\n    value: function forLiquidityPool(liquidityPoolId) {\n      return this.forEndpoint(\"liquidity_pools\", liquidityPoolId);\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3RyYWRlc19jYWxsX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YseUJBQXlCO0FBQ3pCLG9CQUFvQixtQkFBTyxDQUFDLDRIQUFnQjtBQUM1QyxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsK0JBQStCO0FBQy9CLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SywyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSix3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2hvcml6b24vdHJhZGVzX2NhbGxfYnVpbGRlci5qcz9kZTQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5UcmFkZXNDYWxsQnVpbGRlciA9IHZvaWQgMDtcbnZhciBfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2FsbF9idWlsZGVyXCIpO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgVHJhZGVzQ2FsbEJ1aWxkZXIgPSBleHBvcnRzLlRyYWRlc0NhbGxCdWlsZGVyID0gZnVuY3Rpb24gKF9DYWxsQnVpbGRlcikge1xuICBmdW5jdGlvbiBUcmFkZXNDYWxsQnVpbGRlcihzZXJ2ZXJVcmwsIGh0dHBDbGllbnQpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYWRlc0NhbGxCdWlsZGVyKTtcbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgVHJhZGVzQ2FsbEJ1aWxkZXIsIFtzZXJ2ZXJVcmwsIGh0dHBDbGllbnQsIFwidHJhZGVzXCJdKTtcbiAgICBfdGhpcy51cmwuc2VnbWVudChcInRyYWRlc1wiKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKFRyYWRlc0NhbGxCdWlsZGVyLCBfQ2FsbEJ1aWxkZXIpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFRyYWRlc0NhbGxCdWlsZGVyLCBbe1xuICAgIGtleTogXCJmb3JBc3NldFBhaXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yQXNzZXRQYWlyKGJhc2UsIGNvdW50ZXIpIHtcbiAgICAgIGlmICghYmFzZS5pc05hdGl2ZSgpKSB7XG4gICAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiYmFzZV9hc3NldF90eXBlXCIsIGJhc2UuZ2V0QXNzZXRUeXBlKCkpO1xuICAgICAgICB0aGlzLnVybC5zZXRRdWVyeShcImJhc2VfYXNzZXRfY29kZVwiLCBiYXNlLmdldENvZGUoKSk7XG4gICAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiYmFzZV9hc3NldF9pc3N1ZXJcIiwgYmFzZS5nZXRJc3N1ZXIoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVybC5zZXRRdWVyeShcImJhc2VfYXNzZXRfdHlwZVwiLCBcIm5hdGl2ZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghY291bnRlci5pc05hdGl2ZSgpKSB7XG4gICAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiY291bnRlcl9hc3NldF90eXBlXCIsIGNvdW50ZXIuZ2V0QXNzZXRUeXBlKCkpO1xuICAgICAgICB0aGlzLnVybC5zZXRRdWVyeShcImNvdW50ZXJfYXNzZXRfY29kZVwiLCBjb3VudGVyLmdldENvZGUoKSk7XG4gICAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwiY291bnRlcl9hc3NldF9pc3N1ZXJcIiwgY291bnRlci5nZXRJc3N1ZXIoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVybC5zZXRRdWVyeShcImNvdW50ZXJfYXNzZXRfdHlwZVwiLCBcIm5hdGl2ZVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JPZmZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JPZmZlcihvZmZlcklkKSB7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcIm9mZmVyX2lkXCIsIG9mZmVySWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvclR5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yVHlwZSh0cmFkZVR5cGUpIHtcbiAgICAgIHRoaXMudXJsLnNldFF1ZXJ5KFwidHJhZGVfdHlwZVwiLCB0cmFkZVR5cGUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvckFjY291bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yQWNjb3VudChhY2NvdW50SWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvckVuZHBvaW50KFwiYWNjb3VudHNcIiwgYWNjb3VudElkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yTGlxdWlkaXR5UG9vbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JMaXF1aWRpdHlQb29sKGxpcXVpZGl0eVBvb2xJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9yRW5kcG9pbnQoXCJsaXF1aWRpdHlfcG9vbHNcIiwgbGlxdWlkaXR5UG9vbElkKTtcbiAgICB9XG4gIH1dKTtcbn0oX2NhbGxfYnVpbGRlci5DYWxsQnVpbGRlcik7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/trades_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/transaction_call_builder.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/transaction_call_builder.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TransactionCallBuilder = void 0;\nvar _call_builder = __webpack_require__(/*! ./call_builder */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/call_builder.js\");\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nvar TransactionCallBuilder = exports.TransactionCallBuilder = function (_CallBuilder) {\n  function TransactionCallBuilder(serverUrl, httpClient) {\n    var _this;\n    _classCallCheck(this, TransactionCallBuilder);\n    _this = _callSuper(this, TransactionCallBuilder, [serverUrl, httpClient, \"transactions\"]);\n    _this.url.segment(\"transactions\");\n    return _this;\n  }\n  _inherits(TransactionCallBuilder, _CallBuilder);\n  return _createClass(TransactionCallBuilder, [{\n    key: \"transaction\",\n    value: function transaction(transactionId) {\n      var builder = new _call_builder.CallBuilder(this.url.clone(), this.httpClient);\n      builder.filter.push([transactionId]);\n      return builder;\n    }\n  }, {\n    key: \"forAccount\",\n    value: function forAccount(accountId) {\n      return this.forEndpoint(\"accounts\", accountId);\n    }\n  }, {\n    key: \"forClaimableBalance\",\n    value: function forClaimableBalance(claimableBalanceId) {\n      return this.forEndpoint(\"claimable_balances\", claimableBalanceId);\n    }\n  }, {\n    key: \"forLedger\",\n    value: function forLedger(sequence) {\n      return this.forEndpoint(\"ledgers\", sequence.toString());\n    }\n  }, {\n    key: \"forLiquidityPool\",\n    value: function forLiquidityPool(poolId) {\n      return this.forEndpoint(\"liquidity_pools\", poolId);\n    }\n  }, {\n    key: \"includeFailed\",\n    value: function includeFailed(value) {\n      this.url.setQuery(\"include_failed\", value.toString());\n      return this;\n    }\n  }]);\n}(_call_builder.CallBuilder);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3RyYW5zYWN0aW9uX2NhbGxfYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRiw4QkFBOEI7QUFDOUIsb0JBQW9CLG1CQUFPLENBQUMsNEhBQWdCO0FBQzVDLGlDQUFpQztBQUNqQyxtQ0FBbUMsZ0JBQWdCLGNBQWMsT0FBTyxjQUFjO0FBQ3RGLGlDQUFpQyxxSEFBcUgsY0FBYztBQUNwSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USwrQkFBK0I7QUFDL0IsNENBQTRDLHVFQUF1RSxtR0FBbUc7QUFDdE4scUNBQXFDLHlHQUF5RztBQUM5SSx1Q0FBdUMsTUFBTSxxRkFBcUYsTUFBTSxhQUFhLDJFQUEyRSxhQUFhO0FBQzdPLDhCQUE4QiwrRkFBK0YsaURBQWlEO0FBQzlLLDJCQUEyQixxSEFBcUgsZ0RBQWdELGVBQWUsNENBQTRDLDJDQUEyQyxjQUFjO0FBQ3BULGlDQUFpQyxrR0FBa0csNEJBQTRCO0FBQy9KLDZCQUE2Qiw4QkFBOEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvaG9yaXpvbi90cmFuc2FjdGlvbl9jYWxsX2J1aWxkZXIuanM/NzJiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuVHJhbnNhY3Rpb25DYWxsQnVpbGRlciA9IHZvaWQgMDtcbnZhciBfY2FsbF9idWlsZGVyID0gcmVxdWlyZShcIi4vY2FsbF9idWlsZGVyXCIpO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NhbGxTdXBlcih0LCBvLCBlKSB7IHJldHVybiBvID0gX2dldFByb3RvdHlwZU9mKG8pLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgPyBSZWZsZWN0LmNvbnN0cnVjdChvLCBlIHx8IFtdLCBfZ2V0UHJvdG90eXBlT2YodCkuY29uc3RydWN0b3IpIDogby5hcHBseSh0LCBlKSk7IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZSAmJiBlLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogdCwgd3JpdGFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0gfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LCBlKSB7IHJldHVybiBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQsIGUpIHsgcmV0dXJuIHQuX19wcm90b19fID0gZSwgdDsgfSwgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG52YXIgVHJhbnNhY3Rpb25DYWxsQnVpbGRlciA9IGV4cG9ydHMuVHJhbnNhY3Rpb25DYWxsQnVpbGRlciA9IGZ1bmN0aW9uIChfQ2FsbEJ1aWxkZXIpIHtcbiAgZnVuY3Rpb24gVHJhbnNhY3Rpb25DYWxsQnVpbGRlcihzZXJ2ZXJVcmwsIGh0dHBDbGllbnQpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zYWN0aW9uQ2FsbEJ1aWxkZXIpO1xuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBUcmFuc2FjdGlvbkNhbGxCdWlsZGVyLCBbc2VydmVyVXJsLCBodHRwQ2xpZW50LCBcInRyYW5zYWN0aW9uc1wiXSk7XG4gICAgX3RoaXMudXJsLnNlZ21lbnQoXCJ0cmFuc2FjdGlvbnNcIik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9pbmhlcml0cyhUcmFuc2FjdGlvbkNhbGxCdWlsZGVyLCBfQ2FsbEJ1aWxkZXIpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFRyYW5zYWN0aW9uQ2FsbEJ1aWxkZXIsIFt7XG4gICAga2V5OiBcInRyYW5zYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uSWQpIHtcbiAgICAgIHZhciBidWlsZGVyID0gbmV3IF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIodGhpcy51cmwuY2xvbmUoKSwgdGhpcy5odHRwQ2xpZW50KTtcbiAgICAgIGJ1aWxkZXIuZmlsdGVyLnB1c2goW3RyYW5zYWN0aW9uSWRdKTtcbiAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JBY2NvdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvckFjY291bnQoYWNjb3VudElkKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JFbmRwb2ludChcImFjY291bnRzXCIsIGFjY291bnRJZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvckNsYWltYWJsZUJhbGFuY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yQ2xhaW1hYmxlQmFsYW5jZShjbGFpbWFibGVCYWxhbmNlSWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvckVuZHBvaW50KFwiY2xhaW1hYmxlX2JhbGFuY2VzXCIsIGNsYWltYWJsZUJhbGFuY2VJZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvckxlZGdlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JMZWRnZXIoc2VxdWVuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvckVuZHBvaW50KFwibGVkZ2Vyc1wiLCBzZXF1ZW5jZS50b1N0cmluZygpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yTGlxdWlkaXR5UG9vbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JMaXF1aWRpdHlQb29sKHBvb2xJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9yRW5kcG9pbnQoXCJsaXF1aWRpdHlfcG9vbHNcIiwgcG9vbElkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5jbHVkZUZhaWxlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbmNsdWRlRmFpbGVkKHZhbHVlKSB7XG4gICAgICB0aGlzLnVybC5zZXRRdWVyeShcImluY2x1ZGVfZmFpbGVkXCIsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG59KF9jYWxsX2J1aWxkZXIuQ2FsbEJ1aWxkZXIpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/transaction_call_builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/types/effects.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/types/effects.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.EffectType = void 0;\nvar EffectType = exports.EffectType = function (EffectType) {\n  EffectType[EffectType[\"account_created\"] = 0] = \"account_created\";\n  EffectType[EffectType[\"account_removed\"] = 1] = \"account_removed\";\n  EffectType[EffectType[\"account_credited\"] = 2] = \"account_credited\";\n  EffectType[EffectType[\"account_debited\"] = 3] = \"account_debited\";\n  EffectType[EffectType[\"account_thresholds_updated\"] = 4] = \"account_thresholds_updated\";\n  EffectType[EffectType[\"account_home_domain_updated\"] = 5] = \"account_home_domain_updated\";\n  EffectType[EffectType[\"account_flags_updated\"] = 6] = \"account_flags_updated\";\n  EffectType[EffectType[\"account_inflation_destination_updated\"] = 7] = \"account_inflation_destination_updated\";\n  EffectType[EffectType[\"signer_created\"] = 10] = \"signer_created\";\n  EffectType[EffectType[\"signer_removed\"] = 11] = \"signer_removed\";\n  EffectType[EffectType[\"signer_updated\"] = 12] = \"signer_updated\";\n  EffectType[EffectType[\"trustline_created\"] = 20] = \"trustline_created\";\n  EffectType[EffectType[\"trustline_removed\"] = 21] = \"trustline_removed\";\n  EffectType[EffectType[\"trustline_updated\"] = 22] = \"trustline_updated\";\n  EffectType[EffectType[\"trustline_authorized\"] = 23] = \"trustline_authorized\";\n  EffectType[EffectType[\"trustline_deauthorized\"] = 24] = \"trustline_deauthorized\";\n  EffectType[EffectType[\"trustline_authorized_to_maintain_liabilities\"] = 25] = \"trustline_authorized_to_maintain_liabilities\";\n  EffectType[EffectType[\"trustline_flags_updated\"] = 26] = \"trustline_flags_updated\";\n  EffectType[EffectType[\"offer_created\"] = 30] = \"offer_created\";\n  EffectType[EffectType[\"offer_removed\"] = 31] = \"offer_removed\";\n  EffectType[EffectType[\"offer_updated\"] = 32] = \"offer_updated\";\n  EffectType[EffectType[\"trade\"] = 33] = \"trade\";\n  EffectType[EffectType[\"data_created\"] = 40] = \"data_created\";\n  EffectType[EffectType[\"data_removed\"] = 41] = \"data_removed\";\n  EffectType[EffectType[\"data_updated\"] = 42] = \"data_updated\";\n  EffectType[EffectType[\"sequence_bumped\"] = 43] = \"sequence_bumped\";\n  EffectType[EffectType[\"claimable_balance_created\"] = 50] = \"claimable_balance_created\";\n  EffectType[EffectType[\"claimable_balance_claimant_created\"] = 51] = \"claimable_balance_claimant_created\";\n  EffectType[EffectType[\"claimable_balance_claimed\"] = 52] = \"claimable_balance_claimed\";\n  EffectType[EffectType[\"account_sponsorship_created\"] = 60] = \"account_sponsorship_created\";\n  EffectType[EffectType[\"account_sponsorship_updated\"] = 61] = \"account_sponsorship_updated\";\n  EffectType[EffectType[\"account_sponsorship_removed\"] = 62] = \"account_sponsorship_removed\";\n  EffectType[EffectType[\"trustline_sponsorship_created\"] = 63] = \"trustline_sponsorship_created\";\n  EffectType[EffectType[\"trustline_sponsorship_updated\"] = 64] = \"trustline_sponsorship_updated\";\n  EffectType[EffectType[\"trustline_sponsorship_removed\"] = 65] = \"trustline_sponsorship_removed\";\n  EffectType[EffectType[\"data_sponsorship_created\"] = 66] = \"data_sponsorship_created\";\n  EffectType[EffectType[\"data_sponsorship_updated\"] = 67] = \"data_sponsorship_updated\";\n  EffectType[EffectType[\"data_sponsorship_removed\"] = 68] = \"data_sponsorship_removed\";\n  EffectType[EffectType[\"claimable_balance_sponsorship_created\"] = 69] = \"claimable_balance_sponsorship_created\";\n  EffectType[EffectType[\"claimable_balance_sponsorship_updated\"] = 70] = \"claimable_balance_sponsorship_updated\";\n  EffectType[EffectType[\"claimable_balance_sponsorship_removed\"] = 71] = \"claimable_balance_sponsorship_removed\";\n  EffectType[EffectType[\"signer_sponsorship_created\"] = 72] = \"signer_sponsorship_created\";\n  EffectType[EffectType[\"signer_sponsorship_updated\"] = 73] = \"signer_sponsorship_updated\";\n  EffectType[EffectType[\"signer_sponsorship_removed\"] = 74] = \"signer_sponsorship_removed\";\n  EffectType[EffectType[\"claimable_balance_clawed_back\"] = 80] = \"claimable_balance_clawed_back\";\n  EffectType[EffectType[\"liquidity_pool_deposited\"] = 90] = \"liquidity_pool_deposited\";\n  EffectType[EffectType[\"liquidity_pool_withdrew\"] = 91] = \"liquidity_pool_withdrew\";\n  EffectType[EffectType[\"liquidity_pool_trade\"] = 92] = \"liquidity_pool_trade\";\n  EffectType[EffectType[\"liquidity_pool_created\"] = 93] = \"liquidity_pool_created\";\n  EffectType[EffectType[\"liquidity_pool_removed\"] = 94] = \"liquidity_pool_removed\";\n  EffectType[EffectType[\"liquidity_pool_revoked\"] = 95] = \"liquidity_pool_revoked\";\n  EffectType[EffectType[\"contract_credited\"] = 96] = \"contract_credited\";\n  EffectType[EffectType[\"contract_debited\"] = 97] = \"contract_debited\";\n  return EffectType;\n}({});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3R5cGVzL2VmZmVjdHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWtCO0FBQ2xCLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ob3Jpem9uL3R5cGVzL2VmZmVjdHMuanM/ZGJmMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuRWZmZWN0VHlwZSA9IHZvaWQgMDtcbnZhciBFZmZlY3RUeXBlID0gZXhwb3J0cy5FZmZlY3RUeXBlID0gZnVuY3Rpb24gKEVmZmVjdFR5cGUpIHtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiYWNjb3VudF9jcmVhdGVkXCJdID0gMF0gPSBcImFjY291bnRfY3JlYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJhY2NvdW50X3JlbW92ZWRcIl0gPSAxXSA9IFwiYWNjb3VudF9yZW1vdmVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImFjY291bnRfY3JlZGl0ZWRcIl0gPSAyXSA9IFwiYWNjb3VudF9jcmVkaXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJhY2NvdW50X2RlYml0ZWRcIl0gPSAzXSA9IFwiYWNjb3VudF9kZWJpdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImFjY291bnRfdGhyZXNob2xkc191cGRhdGVkXCJdID0gNF0gPSBcImFjY291bnRfdGhyZXNob2xkc191cGRhdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImFjY291bnRfaG9tZV9kb21haW5fdXBkYXRlZFwiXSA9IDVdID0gXCJhY2NvdW50X2hvbWVfZG9tYWluX3VwZGF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiYWNjb3VudF9mbGFnc191cGRhdGVkXCJdID0gNl0gPSBcImFjY291bnRfZmxhZ3NfdXBkYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJhY2NvdW50X2luZmxhdGlvbl9kZXN0aW5hdGlvbl91cGRhdGVkXCJdID0gN10gPSBcImFjY291bnRfaW5mbGF0aW9uX2Rlc3RpbmF0aW9uX3VwZGF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wic2lnbmVyX2NyZWF0ZWRcIl0gPSAxMF0gPSBcInNpZ25lcl9jcmVhdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcInNpZ25lcl9yZW1vdmVkXCJdID0gMTFdID0gXCJzaWduZXJfcmVtb3ZlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJzaWduZXJfdXBkYXRlZFwiXSA9IDEyXSA9IFwic2lnbmVyX3VwZGF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1widHJ1c3RsaW5lX2NyZWF0ZWRcIl0gPSAyMF0gPSBcInRydXN0bGluZV9jcmVhdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcInRydXN0bGluZV9yZW1vdmVkXCJdID0gMjFdID0gXCJ0cnVzdGxpbmVfcmVtb3ZlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJ0cnVzdGxpbmVfdXBkYXRlZFwiXSA9IDIyXSA9IFwidHJ1c3RsaW5lX3VwZGF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1widHJ1c3RsaW5lX2F1dGhvcml6ZWRcIl0gPSAyM10gPSBcInRydXN0bGluZV9hdXRob3JpemVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcInRydXN0bGluZV9kZWF1dGhvcml6ZWRcIl0gPSAyNF0gPSBcInRydXN0bGluZV9kZWF1dGhvcml6ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1widHJ1c3RsaW5lX2F1dGhvcml6ZWRfdG9fbWFpbnRhaW5fbGlhYmlsaXRpZXNcIl0gPSAyNV0gPSBcInRydXN0bGluZV9hdXRob3JpemVkX3RvX21haW50YWluX2xpYWJpbGl0aWVzXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcInRydXN0bGluZV9mbGFnc191cGRhdGVkXCJdID0gMjZdID0gXCJ0cnVzdGxpbmVfZmxhZ3NfdXBkYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJvZmZlcl9jcmVhdGVkXCJdID0gMzBdID0gXCJvZmZlcl9jcmVhdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcIm9mZmVyX3JlbW92ZWRcIl0gPSAzMV0gPSBcIm9mZmVyX3JlbW92ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wib2ZmZXJfdXBkYXRlZFwiXSA9IDMyXSA9IFwib2ZmZXJfdXBkYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJ0cmFkZVwiXSA9IDMzXSA9IFwidHJhZGVcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiZGF0YV9jcmVhdGVkXCJdID0gNDBdID0gXCJkYXRhX2NyZWF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiZGF0YV9yZW1vdmVkXCJdID0gNDFdID0gXCJkYXRhX3JlbW92ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiZGF0YV91cGRhdGVkXCJdID0gNDJdID0gXCJkYXRhX3VwZGF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wic2VxdWVuY2VfYnVtcGVkXCJdID0gNDNdID0gXCJzZXF1ZW5jZV9idW1wZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiY2xhaW1hYmxlX2JhbGFuY2VfY3JlYXRlZFwiXSA9IDUwXSA9IFwiY2xhaW1hYmxlX2JhbGFuY2VfY3JlYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJjbGFpbWFibGVfYmFsYW5jZV9jbGFpbWFudF9jcmVhdGVkXCJdID0gNTFdID0gXCJjbGFpbWFibGVfYmFsYW5jZV9jbGFpbWFudF9jcmVhdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImNsYWltYWJsZV9iYWxhbmNlX2NsYWltZWRcIl0gPSA1Ml0gPSBcImNsYWltYWJsZV9iYWxhbmNlX2NsYWltZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiYWNjb3VudF9zcG9uc29yc2hpcF9jcmVhdGVkXCJdID0gNjBdID0gXCJhY2NvdW50X3Nwb25zb3JzaGlwX2NyZWF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiYWNjb3VudF9zcG9uc29yc2hpcF91cGRhdGVkXCJdID0gNjFdID0gXCJhY2NvdW50X3Nwb25zb3JzaGlwX3VwZGF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiYWNjb3VudF9zcG9uc29yc2hpcF9yZW1vdmVkXCJdID0gNjJdID0gXCJhY2NvdW50X3Nwb25zb3JzaGlwX3JlbW92ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1widHJ1c3RsaW5lX3Nwb25zb3JzaGlwX2NyZWF0ZWRcIl0gPSA2M10gPSBcInRydXN0bGluZV9zcG9uc29yc2hpcF9jcmVhdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcInRydXN0bGluZV9zcG9uc29yc2hpcF91cGRhdGVkXCJdID0gNjRdID0gXCJ0cnVzdGxpbmVfc3BvbnNvcnNoaXBfdXBkYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJ0cnVzdGxpbmVfc3BvbnNvcnNoaXBfcmVtb3ZlZFwiXSA9IDY1XSA9IFwidHJ1c3RsaW5lX3Nwb25zb3JzaGlwX3JlbW92ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiZGF0YV9zcG9uc29yc2hpcF9jcmVhdGVkXCJdID0gNjZdID0gXCJkYXRhX3Nwb25zb3JzaGlwX2NyZWF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiZGF0YV9zcG9uc29yc2hpcF91cGRhdGVkXCJdID0gNjddID0gXCJkYXRhX3Nwb25zb3JzaGlwX3VwZGF0ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiZGF0YV9zcG9uc29yc2hpcF9yZW1vdmVkXCJdID0gNjhdID0gXCJkYXRhX3Nwb25zb3JzaGlwX3JlbW92ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiY2xhaW1hYmxlX2JhbGFuY2Vfc3BvbnNvcnNoaXBfY3JlYXRlZFwiXSA9IDY5XSA9IFwiY2xhaW1hYmxlX2JhbGFuY2Vfc3BvbnNvcnNoaXBfY3JlYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJjbGFpbWFibGVfYmFsYW5jZV9zcG9uc29yc2hpcF91cGRhdGVkXCJdID0gNzBdID0gXCJjbGFpbWFibGVfYmFsYW5jZV9zcG9uc29yc2hpcF91cGRhdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImNsYWltYWJsZV9iYWxhbmNlX3Nwb25zb3JzaGlwX3JlbW92ZWRcIl0gPSA3MV0gPSBcImNsYWltYWJsZV9iYWxhbmNlX3Nwb25zb3JzaGlwX3JlbW92ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wic2lnbmVyX3Nwb25zb3JzaGlwX2NyZWF0ZWRcIl0gPSA3Ml0gPSBcInNpZ25lcl9zcG9uc29yc2hpcF9jcmVhdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcInNpZ25lcl9zcG9uc29yc2hpcF91cGRhdGVkXCJdID0gNzNdID0gXCJzaWduZXJfc3BvbnNvcnNoaXBfdXBkYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJzaWduZXJfc3BvbnNvcnNoaXBfcmVtb3ZlZFwiXSA9IDc0XSA9IFwic2lnbmVyX3Nwb25zb3JzaGlwX3JlbW92ZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiY2xhaW1hYmxlX2JhbGFuY2VfY2xhd2VkX2JhY2tcIl0gPSA4MF0gPSBcImNsYWltYWJsZV9iYWxhbmNlX2NsYXdlZF9iYWNrXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImxpcXVpZGl0eV9wb29sX2RlcG9zaXRlZFwiXSA9IDkwXSA9IFwibGlxdWlkaXR5X3Bvb2xfZGVwb3NpdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImxpcXVpZGl0eV9wb29sX3dpdGhkcmV3XCJdID0gOTFdID0gXCJsaXF1aWRpdHlfcG9vbF93aXRoZHJld1wiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJsaXF1aWRpdHlfcG9vbF90cmFkZVwiXSA9IDkyXSA9IFwibGlxdWlkaXR5X3Bvb2xfdHJhZGVcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wibGlxdWlkaXR5X3Bvb2xfY3JlYXRlZFwiXSA9IDkzXSA9IFwibGlxdWlkaXR5X3Bvb2xfY3JlYXRlZFwiO1xuICBFZmZlY3RUeXBlW0VmZmVjdFR5cGVbXCJsaXF1aWRpdHlfcG9vbF9yZW1vdmVkXCJdID0gOTRdID0gXCJsaXF1aWRpdHlfcG9vbF9yZW1vdmVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImxpcXVpZGl0eV9wb29sX3Jldm9rZWRcIl0gPSA5NV0gPSBcImxpcXVpZGl0eV9wb29sX3Jldm9rZWRcIjtcbiAgRWZmZWN0VHlwZVtFZmZlY3RUeXBlW1wiY29udHJhY3RfY3JlZGl0ZWRcIl0gPSA5Nl0gPSBcImNvbnRyYWN0X2NyZWRpdGVkXCI7XG4gIEVmZmVjdFR5cGVbRWZmZWN0VHlwZVtcImNvbnRyYWN0X2RlYml0ZWRcIl0gPSA5N10gPSBcImNvbnRyYWN0X2RlYml0ZWRcIjtcbiAgcmV0dXJuIEVmZmVjdFR5cGU7XG59KHt9KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/types/effects.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/axios-client.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/axios-client.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.create = exports.axiosClient = void 0;\nvar _axios = _interopRequireDefault(__webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/dist/node/axios.cjs\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar axiosClient = exports.axiosClient = _axios.default;\nvar create = exports.create = _axios.default.create;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9odHRwLWNsaWVudC9heGlvcy1jbGllbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsY0FBYyxHQUFHLG1CQUFtQjtBQUNwQyxvQ0FBb0MsbUJBQU8sQ0FBQyw2REFBTztBQUNuRCxxQ0FBcUMsaUNBQWlDO0FBQ3RFLGtCQUFrQixtQkFBbUI7QUFDckMsYUFBYSxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9odHRwLWNsaWVudC9heGlvcy1jbGllbnQuanM/ZDc0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlID0gZXhwb3J0cy5heGlvc0NsaWVudCA9IHZvaWQgMDtcbnZhciBfYXhpb3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJheGlvc1wiKSk7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9OyB9XG52YXIgYXhpb3NDbGllbnQgPSBleHBvcnRzLmF4aW9zQ2xpZW50ID0gX2F4aW9zLmRlZmF1bHQ7XG52YXIgY3JlYXRlID0gZXhwb3J0cy5jcmVhdGUgPSBfYXhpb3MuZGVmYXVsdC5jcmVhdGU7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/axios-client.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/index.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/index.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _exportNames = {\n  httpClient: true,\n  create: true\n};\nexports.httpClient = exports.create = void 0;\nvar _types = __webpack_require__(/*! ./types */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/types.js\");\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _types[key];\n    }\n  });\n});\nvar httpClient;\nvar create;\nif (true) {\n  var axiosModule = __webpack_require__(/*! ./axios-client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/axios-client.js\");\n  exports.httpClient = httpClient = axiosModule.axiosClient;\n  exports.create = create = axiosModule.create;\n} else { var fetchModule; }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9odHRwLWNsaWVudC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixHQUFHLGNBQWM7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLGtIQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSLG9CQUFvQixtQkFBTyxDQUFDLGdJQUFnQjtBQUM1QyxFQUFFLGtCQUFrQjtBQUNwQixFQUFFLGNBQWM7QUFDaEIsRUFBRSxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9odHRwLWNsaWVudC9pbmRleC5qcz9jMmU1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIF9leHBvcnROYW1lcyA9IHtcbiAgaHR0cENsaWVudDogdHJ1ZSxcbiAgY3JlYXRlOiB0cnVlXG59O1xuZXhwb3J0cy5odHRwQ2xpZW50ID0gZXhwb3J0cy5jcmVhdGUgPSB2b2lkIDA7XG52YXIgX3R5cGVzID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG5PYmplY3Qua2V5cyhfdHlwZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2V4cG9ydE5hbWVzLCBrZXkpKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF90eXBlc1trZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF90eXBlc1trZXldO1xuICAgIH1cbiAgfSk7XG59KTtcbnZhciBodHRwQ2xpZW50O1xudmFyIGNyZWF0ZTtcbmlmICh0cnVlKSB7XG4gIHZhciBheGlvc01vZHVsZSA9IHJlcXVpcmUoXCIuL2F4aW9zLWNsaWVudFwiKTtcbiAgZXhwb3J0cy5odHRwQ2xpZW50ID0gaHR0cENsaWVudCA9IGF4aW9zTW9kdWxlLmF4aW9zQ2xpZW50O1xuICBleHBvcnRzLmNyZWF0ZSA9IGNyZWF0ZSA9IGF4aW9zTW9kdWxlLmNyZWF0ZTtcbn0gZWxzZSB7XG4gIHZhciBmZXRjaE1vZHVsZSA9IHJlcXVpcmUoXCIuL2ZldGNoLWNsaWVudFwiKTtcbiAgZXhwb3J0cy5odHRwQ2xpZW50ID0gaHR0cENsaWVudCA9IGZldGNoTW9kdWxlLmZldGNoQ2xpZW50O1xuICBleHBvcnRzLmNyZWF0ZSA9IGNyZWF0ZSA9IGZldGNoTW9kdWxlLmNyZWF0ZTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/types.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/types.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CancelToken = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar CancelToken = exports.CancelToken = function () {\n  function CancelToken(executor) {\n    var _this = this;\n    _classCallCheck(this, CancelToken);\n    var resolvePromise;\n    this.promise = new Promise(function (resolve) {\n      resolvePromise = resolve;\n    });\n    executor(function (reason) {\n      _this.reason = reason;\n      resolvePromise();\n    });\n  }\n  return _createClass(CancelToken, [{\n    key: \"throwIfRequested\",\n    value: function throwIfRequested() {\n      if (this.reason) {\n        throw new Error(this.reason);\n      }\n    }\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9odHRwLWNsaWVudC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixtQkFBbUI7QUFDbkIsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL2h0dHAtY2xpZW50L3R5cGVzLmpzPzhmNDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkNhbmNlbFRva2VuID0gdm9pZCAwO1xuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxudmFyIENhbmNlbFRva2VuID0gZXhwb3J0cy5DYW5jZWxUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW5jZWxUb2tlbik7XG4gICAgdmFyIHJlc29sdmVQcm9taXNlO1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgfSk7XG4gICAgZXhlY3V0b3IoZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgX3RoaXMucmVhc29uID0gcmVhc29uO1xuICAgICAgcmVzb2x2ZVByb21pc2UoKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKENhbmNlbFRva2VuLCBbe1xuICAgIGtleTogXCJ0aHJvd0lmUmVxdWVzdGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gICAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMucmVhc29uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js ***!
  \***************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _exportNames = {\n  Config: true,\n  Utils: true,\n  StellarToml: true,\n  Federation: true,\n  WebAuth: true,\n  Friendbot: true,\n  Horizon: true,\n  rpc: true,\n  contract: true\n};\nObject.defineProperty(exports, \"Config\", ({\n  enumerable: true,\n  get: function get() {\n    return _config.Config;\n  }\n}));\nexports.StellarToml = exports.Horizon = exports.Friendbot = exports.Federation = void 0;\nObject.defineProperty(exports, \"Utils\", ({\n  enumerable: true,\n  get: function get() {\n    return _utils.Utils;\n  }\n}));\nexports.rpc = exports[\"default\"] = exports.contract = exports.WebAuth = void 0;\nvar _errors = __webpack_require__(/*! ./errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/errors/index.js\");\nObject.keys(_errors).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _errors[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _errors[key];\n    }\n  });\n});\nvar _config = __webpack_require__(/*! ./config */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/config.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/utils.js\");\nvar _StellarToml = _interopRequireWildcard(__webpack_require__(/*! ./stellartoml */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/stellartoml/index.js\"));\nexports.StellarToml = _StellarToml;\nvar _Federation = _interopRequireWildcard(__webpack_require__(/*! ./federation */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/federation/index.js\"));\nexports.Federation = _Federation;\nvar _WebAuth = _interopRequireWildcard(__webpack_require__(/*! ./webauth */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/index.js\"));\nexports.WebAuth = _WebAuth;\nvar _Friendbot = _interopRequireWildcard(__webpack_require__(/*! ./friendbot */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/friendbot/index.js\"));\nexports.Friendbot = _Friendbot;\nvar _Horizon = _interopRequireWildcard(__webpack_require__(/*! ./horizon */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/horizon/index.js\"));\nexports.Horizon = _Horizon;\nvar _rpc = _interopRequireWildcard(__webpack_require__(/*! ./rpc */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/index.js\"));\nexports.rpc = _rpc;\nvar _contract = _interopRequireWildcard(__webpack_require__(/*! ./contract */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/contract/index.js\"));\nexports.contract = _contract;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nObject.keys(_stellarBase).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _stellarBase[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _stellarBase[key];\n    }\n  });\n});\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nvar _default = exports[\"default\"] = module.exports;\nif (typeof global.__USE_AXIOS__ === \"undefined\") {\n  global.__USE_AXIOS__ = true;\n}\nif (typeof global.__USE_EVENTSOURCE__ === \"undefined\") {\n  global.__USE_EVENTSOURCE__ = false;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsbUJBQW1CLEdBQUcsZUFBZSxHQUFHLGlCQUFpQixHQUFHLGtCQUFrQjtBQUM5RSx5Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRixXQUFXLEdBQUcsa0JBQWUsR0FBRyxnQkFBZ0IsR0FBRyxlQUFlO0FBQ2xFLGNBQWMsbUJBQU8sQ0FBQyw4R0FBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELGNBQWMsbUJBQU8sQ0FBQyx3R0FBVTtBQUNoQyxhQUFhLG1CQUFPLENBQUMsc0dBQVM7QUFDOUIsMkNBQTJDLG1CQUFPLENBQUMsd0hBQWU7QUFDbEUsbUJBQW1CO0FBQ25CLDBDQUEwQyxtQkFBTyxDQUFDLHNIQUFjO0FBQ2hFLGtCQUFrQjtBQUNsQix1Q0FBdUMsbUJBQU8sQ0FBQyxnSEFBVztBQUMxRCxlQUFlO0FBQ2YseUNBQXlDLG1CQUFPLENBQUMsb0hBQWE7QUFDOUQsaUJBQWlCO0FBQ2pCLHVDQUF1QyxtQkFBTyxDQUFDLGdIQUFXO0FBQzFELGVBQWU7QUFDZixtQ0FBbUMsbUJBQU8sQ0FBQyx3R0FBTztBQUNsRCxXQUFXO0FBQ1gsd0NBQXdDLG1CQUFPLENBQUMsa0hBQVk7QUFDNUQsZ0JBQWdCO0FBQ2hCLG1CQUFtQixtQkFBTyxDQUFDLHNGQUF1QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELHlDQUF5Qyw0RUFBNEUsMkVBQTJFLHVDQUF1QyxnQkFBZ0IsK0JBQStCLDhFQUE4RSxxQkFBcUIsK0JBQStCLGVBQWUsd0NBQXdDLGdLQUFnSyxXQUFXO0FBQzFuQixlQUFlLGtCQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvaW5kZXguanM/Njg5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBfZXhwb3J0TmFtZXMgPSB7XG4gIENvbmZpZzogdHJ1ZSxcbiAgVXRpbHM6IHRydWUsXG4gIFN0ZWxsYXJUb21sOiB0cnVlLFxuICBGZWRlcmF0aW9uOiB0cnVlLFxuICBXZWJBdXRoOiB0cnVlLFxuICBGcmllbmRib3Q6IHRydWUsXG4gIEhvcml6b246IHRydWUsXG4gIHJwYzogdHJ1ZSxcbiAgY29udHJhY3Q6IHRydWVcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDb25maWdcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2NvbmZpZy5Db25maWc7XG4gIH1cbn0pO1xuZXhwb3J0cy5TdGVsbGFyVG9tbCA9IGV4cG9ydHMuSG9yaXpvbiA9IGV4cG9ydHMuRnJpZW5kYm90ID0gZXhwb3J0cy5GZWRlcmF0aW9uID0gdm9pZCAwO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVXRpbHNcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX3V0aWxzLlV0aWxzO1xuICB9XG59KTtcbmV4cG9ydHMucnBjID0gZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5jb250cmFjdCA9IGV4cG9ydHMuV2ViQXV0aCA9IHZvaWQgMDtcbnZhciBfZXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuT2JqZWN0LmtleXMoX2Vycm9ycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfZXhwb3J0TmFtZXMsIGtleSkpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX2Vycm9yc1trZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9lcnJvcnNba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgX2NvbmZpZyA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBfU3RlbGxhclRvbWwgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwiLi9zdGVsbGFydG9tbFwiKSk7XG5leHBvcnRzLlN0ZWxsYXJUb21sID0gX1N0ZWxsYXJUb21sO1xudmFyIF9GZWRlcmF0aW9uID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcIi4vZmVkZXJhdGlvblwiKSk7XG5leHBvcnRzLkZlZGVyYXRpb24gPSBfRmVkZXJhdGlvbjtcbnZhciBfV2ViQXV0aCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL3dlYmF1dGhcIikpO1xuZXhwb3J0cy5XZWJBdXRoID0gX1dlYkF1dGg7XG52YXIgX0ZyaWVuZGJvdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL2ZyaWVuZGJvdFwiKSk7XG5leHBvcnRzLkZyaWVuZGJvdCA9IF9GcmllbmRib3Q7XG52YXIgX0hvcml6b24gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwiLi9ob3Jpem9uXCIpKTtcbmV4cG9ydHMuSG9yaXpvbiA9IF9Ib3Jpem9uO1xudmFyIF9ycGMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwiLi9ycGNcIikpO1xuZXhwb3J0cy5ycGMgPSBfcnBjO1xudmFyIF9jb250cmFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL2NvbnRyYWN0XCIpKTtcbmV4cG9ydHMuY29udHJhY3QgPSBfY29udHJhY3Q7XG52YXIgX3N0ZWxsYXJCYXNlID0gcmVxdWlyZShcIkBzdGVsbGFyL3N0ZWxsYXItYmFzZVwiKTtcbk9iamVjdC5rZXlzKF9zdGVsbGFyQmFzZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfZXhwb3J0TmFtZXMsIGtleSkpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX3N0ZWxsYXJCYXNlW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSwgdCkgeyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBXZWFrTWFwKSB2YXIgciA9IG5ldyBXZWFrTWFwKCksIG4gPSBuZXcgV2Vha01hcCgpOyByZXR1cm4gKF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSwgdCkgeyBpZiAoIXQgJiYgZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlOyB2YXIgbywgaSwgZiA9IHsgX19wcm90b19fOiBudWxsLCBkZWZhdWx0OiBlIH07IGlmIChudWxsID09PSBlIHx8IFwib2JqZWN0XCIgIT0gX3R5cGVvZihlKSAmJiBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUpIHJldHVybiBmOyBpZiAobyA9IHQgPyBuIDogcikgeyBpZiAoby5oYXMoZSkpIHJldHVybiBvLmdldChlKTsgby5zZXQoZSwgZik7IH0gZm9yICh2YXIgX3QgaW4gZSkgXCJkZWZhdWx0XCIgIT09IF90ICYmIHt9Lmhhc093blByb3BlcnR5LmNhbGwoZSwgX3QpICYmICgoaSA9IChvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIF90KSkgJiYgKGkuZ2V0IHx8IGkuc2V0KSA/IG8oZiwgX3QsIGkpIDogZltfdF0gPSBlW190XSk7IHJldHVybiBmOyB9KShlLCB0KTsgfVxudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG5pZiAodHlwZW9mIGdsb2JhbC5fX1VTRV9BWElPU19fID09PSBcInVuZGVmaW5lZFwiKSB7XG4gIGdsb2JhbC5fX1VTRV9BWElPU19fID0gdHJ1ZTtcbn1cbmlmICh0eXBlb2YgZ2xvYmFsLl9fVVNFX0VWRU5UU09VUkNFX18gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgZ2xvYmFsLl9fVVNFX0VWRU5UU09VUkNFX18gPSBmYWxzZTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Api = void 0;\nvar Api;\n(function (_Api) {\n  var GetTransactionStatus = function (GetTransactionStatus) {\n    GetTransactionStatus[\"SUCCESS\"] = \"SUCCESS\";\n    GetTransactionStatus[\"NOT_FOUND\"] = \"NOT_FOUND\";\n    GetTransactionStatus[\"FAILED\"] = \"FAILED\";\n    return GetTransactionStatus;\n  }({});\n  _Api.GetTransactionStatus = GetTransactionStatus;\n  function isSimulationError(sim) {\n    return \"error\" in sim;\n  }\n  _Api.isSimulationError = isSimulationError;\n  function isSimulationSuccess(sim) {\n    return \"transactionData\" in sim;\n  }\n  _Api.isSimulationSuccess = isSimulationSuccess;\n  function isSimulationRestore(sim) {\n    return isSimulationSuccess(sim) && \"restorePreamble\" in sim && !!sim.restorePreamble.transactionData;\n  }\n  _Api.isSimulationRestore = isSimulationRestore;\n  function isSimulationRaw(sim) {\n    return !sim._parsed;\n  }\n  _Api.isSimulationRaw = isSimulationRaw;\n})(Api || (exports.Api = Api = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvYXBpLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLFVBQVUsV0FBVyxXQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvYXBpLmpzPzAyOTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkFwaSA9IHZvaWQgMDtcbnZhciBBcGk7XG4oZnVuY3Rpb24gKF9BcGkpIHtcbiAgdmFyIEdldFRyYW5zYWN0aW9uU3RhdHVzID0gZnVuY3Rpb24gKEdldFRyYW5zYWN0aW9uU3RhdHVzKSB7XG4gICAgR2V0VHJhbnNhY3Rpb25TdGF0dXNbXCJTVUNDRVNTXCJdID0gXCJTVUNDRVNTXCI7XG4gICAgR2V0VHJhbnNhY3Rpb25TdGF0dXNbXCJOT1RfRk9VTkRcIl0gPSBcIk5PVF9GT1VORFwiO1xuICAgIEdldFRyYW5zYWN0aW9uU3RhdHVzW1wiRkFJTEVEXCJdID0gXCJGQUlMRURcIjtcbiAgICByZXR1cm4gR2V0VHJhbnNhY3Rpb25TdGF0dXM7XG4gIH0oe30pO1xuICBfQXBpLkdldFRyYW5zYWN0aW9uU3RhdHVzID0gR2V0VHJhbnNhY3Rpb25TdGF0dXM7XG4gIGZ1bmN0aW9uIGlzU2ltdWxhdGlvbkVycm9yKHNpbSkge1xuICAgIHJldHVybiBcImVycm9yXCIgaW4gc2ltO1xuICB9XG4gIF9BcGkuaXNTaW11bGF0aW9uRXJyb3IgPSBpc1NpbXVsYXRpb25FcnJvcjtcbiAgZnVuY3Rpb24gaXNTaW11bGF0aW9uU3VjY2VzcyhzaW0pIHtcbiAgICByZXR1cm4gXCJ0cmFuc2FjdGlvbkRhdGFcIiBpbiBzaW07XG4gIH1cbiAgX0FwaS5pc1NpbXVsYXRpb25TdWNjZXNzID0gaXNTaW11bGF0aW9uU3VjY2VzcztcbiAgZnVuY3Rpb24gaXNTaW11bGF0aW9uUmVzdG9yZShzaW0pIHtcbiAgICByZXR1cm4gaXNTaW11bGF0aW9uU3VjY2VzcyhzaW0pICYmIFwicmVzdG9yZVByZWFtYmxlXCIgaW4gc2ltICYmICEhc2ltLnJlc3RvcmVQcmVhbWJsZS50cmFuc2FjdGlvbkRhdGE7XG4gIH1cbiAgX0FwaS5pc1NpbXVsYXRpb25SZXN0b3JlID0gaXNTaW11bGF0aW9uUmVzdG9yZTtcbiAgZnVuY3Rpb24gaXNTaW11bGF0aW9uUmF3KHNpbSkge1xuICAgIHJldHVybiAhc2ltLl9wYXJzZWQ7XG4gIH1cbiAgX0FwaS5pc1NpbXVsYXRpb25SYXcgPSBpc1NpbXVsYXRpb25SYXc7XG59KShBcGkgfHwgKGV4cG9ydHMuQXBpID0gQXBpID0ge30pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/axios.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/axios.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.createHttpClient = createHttpClient;\nexports.version = void 0;\nvar _httpClient = __webpack_require__(/*! ../http-client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/index.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar version = exports.version = \"14.4.3\";\nfunction createHttpClient(headers) {\n  return (0, _httpClient.create)({\n    headers: _objectSpread(_objectSpread({}, headers), {}, {\n      \"X-Client-Name\": \"js-stellar-sdk\",\n      \"X-Client-Version\": version\n    })\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvYXhpb3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysd0JBQXdCO0FBQ3hCLGVBQWU7QUFDZixrQkFBa0IsbUJBQU8sQ0FBQyx5SEFBZ0I7QUFDMUMsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLGNBQWMsZUFBZTtBQUM3QjtBQUNBO0FBQ0EsMkNBQTJDLGNBQWM7QUFDekQ7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL3JwYy9heGlvcy5qcz83OTZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jcmVhdGVIdHRwQ2xpZW50ID0gY3JlYXRlSHR0cENsaWVudDtcbmV4cG9ydHMudmVyc2lvbiA9IHZvaWQgMDtcbnZhciBfaHR0cENsaWVudCA9IHJlcXVpcmUoXCIuLi9odHRwLWNsaWVudFwiKTtcbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxudmFyIHZlcnNpb24gPSBleHBvcnRzLnZlcnNpb24gPSBcIjE0LjQuM1wiO1xuZnVuY3Rpb24gY3JlYXRlSHR0cENsaWVudChoZWFkZXJzKSB7XG4gIHJldHVybiAoMCwgX2h0dHBDbGllbnQuY3JlYXRlKSh7XG4gICAgaGVhZGVyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBoZWFkZXJzKSwge30sIHtcbiAgICAgIFwiWC1DbGllbnQtTmFtZVwiOiBcImpzLXN0ZWxsYXItc2RrXCIsXG4gICAgICBcIlgtQ2xpZW50LVZlcnNpb25cIjogdmVyc2lvblxuICAgIH0pXG4gIH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/axios.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/index.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/index.js ***!
  \*******************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _exportNames = {\n  Server: true,\n  BasicSleepStrategy: true,\n  LinearSleepStrategy: true,\n  Durability: true,\n  parseRawSimulation: true,\n  parseRawEvents: true\n};\nObject.defineProperty(exports, \"BasicSleepStrategy\", ({\n  enumerable: true,\n  get: function get() {\n    return _server.BasicSleepStrategy;\n  }\n}));\nObject.defineProperty(exports, \"Durability\", ({\n  enumerable: true,\n  get: function get() {\n    return _server.Durability;\n  }\n}));\nObject.defineProperty(exports, \"LinearSleepStrategy\", ({\n  enumerable: true,\n  get: function get() {\n    return _server.LinearSleepStrategy;\n  }\n}));\nObject.defineProperty(exports, \"Server\", ({\n  enumerable: true,\n  get: function get() {\n    return _server.RpcServer;\n  }\n}));\nexports[\"default\"] = void 0;\nObject.defineProperty(exports, \"parseRawEvents\", ({\n  enumerable: true,\n  get: function get() {\n    return _parsers.parseRawEvents;\n  }\n}));\nObject.defineProperty(exports, \"parseRawSimulation\", ({\n  enumerable: true,\n  get: function get() {\n    return _parsers.parseRawSimulation;\n  }\n}));\nvar _api = __webpack_require__(/*! ./api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js\");\nObject.keys(_api).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _api[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _api[key];\n    }\n  });\n});\nvar _server = __webpack_require__(/*! ./server */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/server.js\");\nvar _parsers = __webpack_require__(/*! ./parsers */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/parsers.js\");\nvar _transaction = __webpack_require__(/*! ./transaction */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/transaction.js\");\nObject.keys(_transaction).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _transaction[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _transaction[key];\n    }\n  });\n});\nvar _default = exports[\"default\"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLDhDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLHVEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLDBDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFlO0FBQ2Ysa0RBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysc0RBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsV0FBVyxtQkFBTyxDQUFDLHNHQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsY0FBYyxtQkFBTyxDQUFDLDRHQUFVO0FBQ2hDLGVBQWUsbUJBQU8sQ0FBQyw4R0FBVztBQUNsQyxtQkFBbUIsbUJBQU8sQ0FBQyxzSEFBZTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELGVBQWUsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL3JwYy9pbmRleC5qcz8zNzkwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIF9leHBvcnROYW1lcyA9IHtcbiAgU2VydmVyOiB0cnVlLFxuICBCYXNpY1NsZWVwU3RyYXRlZ3k6IHRydWUsXG4gIExpbmVhclNsZWVwU3RyYXRlZ3k6IHRydWUsXG4gIER1cmFiaWxpdHk6IHRydWUsXG4gIHBhcnNlUmF3U2ltdWxhdGlvbjogdHJ1ZSxcbiAgcGFyc2VSYXdFdmVudHM6IHRydWVcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCYXNpY1NsZWVwU3RyYXRlZ3lcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX3NlcnZlci5CYXNpY1NsZWVwU3RyYXRlZ3k7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRHVyYWJpbGl0eVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfc2VydmVyLkR1cmFiaWxpdHk7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTGluZWFyU2xlZXBTdHJhdGVneVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfc2VydmVyLkxpbmVhclNsZWVwU3RyYXRlZ3k7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VydmVyXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9zZXJ2ZXIuUnBjU2VydmVyO1xuICB9XG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhcnNlUmF3RXZlbnRzXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9wYXJzZXJzLnBhcnNlUmF3RXZlbnRzO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhcnNlUmF3U2ltdWxhdGlvblwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfcGFyc2Vycy5wYXJzZVJhd1NpbXVsYXRpb247XG4gIH1cbn0pO1xudmFyIF9hcGkgPSByZXF1aXJlKFwiLi9hcGlcIik7XG5PYmplY3Qua2V5cyhfYXBpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9leHBvcnROYW1lcywga2V5KSkgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfYXBpW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2FwaVtrZXldO1xuICAgIH1cbiAgfSk7XG59KTtcbnZhciBfc2VydmVyID0gcmVxdWlyZShcIi4vc2VydmVyXCIpO1xudmFyIF9wYXJzZXJzID0gcmVxdWlyZShcIi4vcGFyc2Vyc1wiKTtcbnZhciBfdHJhbnNhY3Rpb24gPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvblwiKTtcbk9iamVjdC5rZXlzKF90cmFuc2FjdGlvbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfZXhwb3J0TmFtZXMsIGtleSkpIHJldHVybjtcbiAgaWYgKGtleSBpbiBleHBvcnRzICYmIGV4cG9ydHNba2V5XSA9PT0gX3RyYW5zYWN0aW9uW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX3RyYW5zYWN0aW9uW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/jsonrpc.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/jsonrpc.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.postObject = postObject;\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nfunction postObject(_x, _x2, _x3) {\n  return _postObject.apply(this, arguments);\n}\nfunction _postObject() {\n  _postObject = _asyncToGenerator(_regenerator().m(function _callee(client, url, method) {\n    var param,\n      response,\n      _response$data,\n      _args = arguments;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          param = _args.length > 3 && _args[3] !== undefined ? _args[3] : null;\n          _context.n = 1;\n          return client.post(url, {\n            jsonrpc: \"2.0\",\n            id: 1,\n            method: method,\n            params: param\n          });\n        case 1:\n          response = _context.v;\n          if (!hasOwnProperty(response.data, \"error\")) {\n            _context.n = 2;\n            break;\n          }\n          throw response.data.error;\n        case 2:\n          return _context.a(2, (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.result);\n        case 3:\n          return _context.a(2);\n      }\n    }, _callee);\n  }));\n  return _postObject.apply(this, arguments);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvanNvbnJwYy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBa0I7QUFDbEIsMEJBQTBCLHVEQUF1RCx3RUFBd0UseUJBQXlCLCtGQUErRiw4REFBOEQsK0NBQStDLCtEQUErRCw2Q0FBNkMsbUJBQW1CLDBCQUEwQiwrQkFBK0IsT0FBTyxvQ0FBb0MsOE9BQThPLDBCQUEwQixtQkFBbUIsNEJBQTRCLDREQUE0RCw0Q0FBNEMsMEJBQTBCLElBQUksdUVBQXVFLE1BQU0sZ0JBQWdCLG1DQUFtQyw4RUFBOEUsdUJBQXVCLGlDQUFpQyxvSUFBb0ksU0FBUyxnRUFBZ0UsWUFBWSx1QkFBdUIsVUFBVSxXQUFXLFNBQVMseUJBQXlCLHFCQUFxQixZQUFZLHdCQUF3QixnQ0FBZ0MseUNBQXlDLDJCQUEyQiwyREFBMkQsbUJBQW1CLGNBQWMsMEZBQTBGLGdCQUFnQix1TkFBdU4sNmJBQTZiLGNBQWMsb0RBQW9ELDhCQUE4Qiw2Q0FBNkMsU0FBUyxlQUFlO0FBQ3Z1RiwyQ0FBMkMsK0JBQStCLE1BQU0sSUFBSSxRQUFRLEtBQUssWUFBWSxTQUFTLGdFQUFnRSxtQkFBbUIseUNBQXlDLCtCQUErQixLQUFLLGtCQUFrQiwwREFBMEQsK0RBQStEO0FBQ2phLG1EQUFtRCxNQUFNLGdDQUFnQyxZQUFZLG9CQUFvQjtBQUN6SCxnQ0FBZ0MscUJBQXFCLDZCQUE2QixxQ0FBcUMsdUJBQXVCLG9CQUFvQix5REFBeUQscUJBQXFCLDBEQUEwRCxnQkFBZ0I7QUFDMVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvanNvbnJwYy5qcz81YWI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wb3N0T2JqZWN0ID0gcG9zdE9iamVjdDtcbmZ1bmN0aW9uIF9yZWdlbmVyYXRvcigpIHsgdmFyIGUsIHQsIHIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LCBuID0gci5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIiwgbyA9IHIudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGkociwgbiwgbywgaSkgeyB2YXIgYyA9IG4gJiYgbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBuIDogR2VuZXJhdG9yLCB1ID0gT2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSk7IHJldHVybiBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwiX2ludm9rZVwiLCBmdW5jdGlvbiAociwgbiwgbykgeyB2YXIgaSwgYywgdSwgZiA9IDAsIHAgPSBvIHx8IFtdLCB5ID0gITEsIEcgPSB7IHA6IDAsIG46IDAsIHY6IGUsIGE6IGQsIGY6IGQuYmluZChlLCA0KSwgZDogZnVuY3Rpb24gZCh0LCByKSB7IHJldHVybiBpID0gdCwgYyA9IDAsIHUgPSBlLCBHLm4gPSByLCBhOyB9IH07IGZ1bmN0aW9uIGQociwgbikgeyBmb3IgKGMgPSByLCB1ID0gbiwgdCA9IDA7ICF5ICYmIGYgJiYgIW8gJiYgdCA8IHAubGVuZ3RoOyB0KyspIHsgdmFyIG8sIGkgPSBwW3RdLCBkID0gRy5wLCBsID0gaVsyXTsgciA+IDMgPyAobyA9IGwgPT09IG4pICYmICh1ID0gaVsoYyA9IGlbNF0pID8gNSA6IChjID0gMywgMyldLCBpWzRdID0gaVs1XSA9IGUpIDogaVswXSA8PSBkICYmICgobyA9IHIgPCAyICYmIGQgPCBpWzFdKSA/IChjID0gMCwgRy52ID0gbiwgRy5uID0gaVsxXSkgOiBkIDwgbCAmJiAobyA9IHIgPCAzIHx8IGlbMF0gPiBuIHx8IG4gPiBsKSAmJiAoaVs0XSA9IHIsIGlbNV0gPSBuLCBHLm4gPSBsLCBjID0gMCkpOyB9IGlmIChvIHx8IHIgPiAxKSByZXR1cm4gYTsgdGhyb3cgeSA9ICEwLCBuOyB9IHJldHVybiBmdW5jdGlvbiAobywgcCwgbCkgeyBpZiAoZiA+IDEpIHRocm93IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7IGZvciAoeSAmJiAxID09PSBwICYmIGQocCwgbCksIGMgPSBwLCB1ID0gbDsgKHQgPSBjIDwgMiA/IGUgOiB1KSB8fCAheTspIHsgaSB8fCAoYyA/IGMgPCAzID8gKGMgPiAxICYmIChHLm4gPSAtMSksIGQoYywgdSkpIDogRy5uID0gdSA6IEcudiA9IHUpOyB0cnkgeyBpZiAoZiA9IDIsIGkpIHsgaWYgKGMgfHwgKG8gPSBcIm5leHRcIiksIHQgPSBpW29dKSB7IGlmICghKHQgPSB0LmNhbGwoaSwgdSkpKSB0aHJvdyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTsgaWYgKCF0LmRvbmUpIHJldHVybiB0OyB1ID0gdC52YWx1ZSwgYyA8IDIgJiYgKGMgPSAwKTsgfSBlbHNlIDEgPT09IGMgJiYgKHQgPSBpLnJldHVybikgJiYgdC5jYWxsKGkpLCBjIDwgMiAmJiAodSA9IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbyArIFwiJyBtZXRob2RcIiksIGMgPSAxKTsgaSA9IGU7IH0gZWxzZSBpZiAoKHQgPSAoeSA9IEcubiA8IDApID8gdSA6IHIuY2FsbChuLCBHKSkgIT09IGEpIGJyZWFrOyB9IGNhdGNoICh0KSB7IGkgPSBlLCBjID0gMSwgdSA9IHQ7IH0gZmluYWxseSB7IGYgPSAxOyB9IH0gcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6IHkgfTsgfTsgfShyLCBvLCBpKSwgITApLCB1OyB9IHZhciBhID0ge307IGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSB0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mOyB2YXIgYyA9IFtdW25dID8gdCh0KFtdW25dKCkpKSA6IChfcmVnZW5lcmF0b3JEZWZpbmUyKHQgPSB7fSwgbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIHQpLCB1ID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYyk7IGZ1bmN0aW9uIGYoZSkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6IChlLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIG8sIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodSksIGU7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uKSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCIsIF9yZWdlbmVyYXRvckRlZmluZTIoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIG8sIFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksIF9yZWdlbmVyYXRvckRlZmluZTIodSksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgbywgXCJHZW5lcmF0b3JcIiksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgKF9yZWdlbmVyYXRvciA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvcigpIHsgcmV0dXJuIHsgdzogaSwgbTogZiB9OyB9KSgpOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIG4sIHQpIHsgdmFyIGkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7IHRyeSB7IGkoe30sIFwiXCIsIHt9KTsgfSBjYXRjaCAoZSkgeyBpID0gMDsgfSBfcmVnZW5lcmF0b3JEZWZpbmUyID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yRGVmaW5lKGUsIHIsIG4sIHQpIHsgZnVuY3Rpb24gbyhyLCBuKSB7IF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShyLCBuLCBlKTsgfSk7IH0gciA/IGkgPyBpKGUsIHIsIHsgdmFsdWU6IG4sIGVudW1lcmFibGU6ICF0LCBjb25maWd1cmFibGU6ICF0LCB3cml0YWJsZTogIXQgfSkgOiBlW3JdID0gbiA6IChvKFwibmV4dFwiLCAwKSwgbyhcInRocm93XCIsIDEpLCBvKFwicmV0dXJuXCIsIDIpKTsgfSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBuLCB0KTsgfVxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKG4sIHQsIGUsIHIsIG8sIGEsIGMpIHsgdHJ5IHsgdmFyIGkgPSBuW2FdKGMpLCB1ID0gaS52YWx1ZTsgfSBjYXRjaCAobikgeyByZXR1cm4gdm9pZCBlKG4pOyB9IGkuZG9uZSA/IHQodSkgOiBQcm9taXNlLnJlc29sdmUodSkudGhlbihyLCBvKTsgfVxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IobikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHRoaXMsIGUgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAociwgbykgeyB2YXIgYSA9IG4uYXBwbHkodCwgZSk7IGZ1bmN0aW9uIF9uZXh0KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCBuKTsgfSBmdW5jdGlvbiBfdGhyb3cobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBuKTsgfSBfbmV4dCh2b2lkIDApOyB9KTsgfTsgfVxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbmZ1bmN0aW9uIHBvc3RPYmplY3QoX3gsIF94MiwgX3gzKSB7XG4gIHJldHVybiBfcG9zdE9iamVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gX3Bvc3RPYmplY3QoKSB7XG4gIF9wb3N0T2JqZWN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlKGNsaWVudCwgdXJsLCBtZXRob2QpIHtcbiAgICB2YXIgcGFyYW0sXG4gICAgICByZXNwb25zZSxcbiAgICAgIF9yZXNwb25zZSRkYXRhLFxuICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBwYXJhbSA9IF9hcmdzLmxlbmd0aCA+IDMgJiYgX2FyZ3NbM10gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzNdIDogbnVsbDtcbiAgICAgICAgICBfY29udGV4dC5uID0gMTtcbiAgICAgICAgICByZXR1cm4gY2xpZW50LnBvc3QodXJsLCB7XG4gICAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1cbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQudjtcbiAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5KHJlc3BvbnNlLmRhdGEsIFwiZXJyb3JcIikpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IHJlc3BvbnNlLmRhdGEuZXJyb3I7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCAoX3Jlc3BvbnNlJGRhdGEgPSByZXNwb25zZS5kYXRhKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jlc3BvbnNlJGRhdGEucmVzdWx0KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5hKDIpO1xuICAgICAgfVxuICAgIH0sIF9jYWxsZWUpO1xuICB9KSk7XG4gIHJldHVybiBfcG9zdE9iamVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/jsonrpc.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/parsers.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/parsers.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.parseRawEvents = parseRawEvents;\nexports.parseRawLedger = parseRawLedger;\nexports.parseRawLedgerEntries = parseRawLedgerEntries;\nexports.parseRawSendTransaction = parseRawSendTransaction;\nexports.parseRawSimulation = parseRawSimulation;\nexports.parseRawTransactions = parseRawTransactions;\nexports.parseTransactionInfo = parseTransactionInfo;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _api = __webpack_require__(/*! ./api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction parseRawSendTransaction(raw) {\n  var errorResultXdr = raw.errorResultXdr,\n    diagnosticEventsXdr = raw.diagnosticEventsXdr;\n  delete raw.errorResultXdr;\n  delete raw.diagnosticEventsXdr;\n  if (errorResultXdr) {\n    return _objectSpread(_objectSpread(_objectSpread({}, raw), diagnosticEventsXdr !== undefined && diagnosticEventsXdr.length > 0 && {\n      diagnosticEvents: diagnosticEventsXdr.map(function (evt) {\n        return _stellarBase.xdr.DiagnosticEvent.fromXDR(evt, \"base64\");\n      })\n    }), {}, {\n      errorResult: _stellarBase.xdr.TransactionResult.fromXDR(errorResultXdr, \"base64\")\n    });\n  }\n  return _objectSpread({}, raw);\n}\nfunction parseTransactionInfo(raw) {\n  var _raw$events$contractE, _raw$events, _raw$events$transacti, _raw$events2;\n  var meta = _stellarBase.xdr.TransactionMeta.fromXDR(raw.resultMetaXdr, \"base64\");\n  var info = {\n    ledger: raw.ledger,\n    createdAt: raw.createdAt,\n    applicationOrder: raw.applicationOrder,\n    feeBump: raw.feeBump,\n    envelopeXdr: _stellarBase.xdr.TransactionEnvelope.fromXDR(raw.envelopeXdr, \"base64\"),\n    resultXdr: _stellarBase.xdr.TransactionResult.fromXDR(raw.resultXdr, \"base64\"),\n    resultMetaXdr: meta,\n    events: {\n      contractEventsXdr: ((_raw$events$contractE = (_raw$events = raw.events) === null || _raw$events === void 0 ? void 0 : _raw$events.contractEventsXdr) !== null && _raw$events$contractE !== void 0 ? _raw$events$contractE : []).map(function (lst) {\n        return lst.map(function (e) {\n          return _stellarBase.xdr.ContractEvent.fromXDR(e, \"base64\");\n        });\n      }),\n      transactionEventsXdr: ((_raw$events$transacti = (_raw$events2 = raw.events) === null || _raw$events2 === void 0 ? void 0 : _raw$events2.transactionEventsXdr) !== null && _raw$events$transacti !== void 0 ? _raw$events$transacti : []).map(function (e) {\n        return _stellarBase.xdr.TransactionEvent.fromXDR(e, \"base64\");\n      })\n    }\n  };\n  switch (meta.switch()) {\n    case 3:\n    case 4:\n      {\n        var metaV = meta.value();\n        if (metaV.sorobanMeta() !== null) {\n          var _metaV$sorobanMeta$re, _metaV$sorobanMeta;\n          info.returnValue = (_metaV$sorobanMeta$re = (_metaV$sorobanMeta = metaV.sorobanMeta()) === null || _metaV$sorobanMeta === void 0 ? void 0 : _metaV$sorobanMeta.returnValue()) !== null && _metaV$sorobanMeta$re !== void 0 ? _metaV$sorobanMeta$re : undefined;\n        }\n      }\n  }\n  if (raw.diagnosticEventsXdr) {\n    info.diagnosticEventsXdr = raw.diagnosticEventsXdr.map(function (e) {\n      return _stellarBase.xdr.DiagnosticEvent.fromXDR(e, \"base64\");\n    });\n  }\n  return info;\n}\nfunction parseRawTransactions(r) {\n  return _objectSpread({\n    status: r.status,\n    txHash: r.txHash\n  }, parseTransactionInfo(r));\n}\nfunction parseRawEvents(raw) {\n  var _raw$events3;\n  return {\n    latestLedger: raw.latestLedger,\n    oldestLedger: raw.oldestLedger,\n    latestLedgerCloseTime: raw.latestLedgerCloseTime,\n    oldestLedgerCloseTime: raw.oldestLedgerCloseTime,\n    cursor: raw.cursor,\n    events: ((_raw$events3 = raw.events) !== null && _raw$events3 !== void 0 ? _raw$events3 : []).map(function (evt) {\n      var _evt$topic;\n      var clone = _objectSpread({}, evt);\n      delete clone.contractId;\n      return _objectSpread(_objectSpread(_objectSpread({}, clone), evt.contractId !== \"\" && {\n        contractId: new _stellarBase.Contract(evt.contractId)\n      }), {}, {\n        topic: ((_evt$topic = evt.topic) !== null && _evt$topic !== void 0 ? _evt$topic : []).map(function (topic) {\n          return _stellarBase.xdr.ScVal.fromXDR(topic, \"base64\");\n        }),\n        value: _stellarBase.xdr.ScVal.fromXDR(evt.value, \"base64\")\n      });\n    })\n  };\n}\nfunction parseRawLedgerEntries(raw) {\n  var _raw$entries;\n  return {\n    latestLedger: raw.latestLedger,\n    entries: ((_raw$entries = raw.entries) !== null && _raw$entries !== void 0 ? _raw$entries : []).map(function (rawEntry) {\n      if (!rawEntry.key || !rawEntry.xdr) {\n        throw new TypeError(\"invalid ledger entry: \".concat(JSON.stringify(rawEntry)));\n      }\n      return _objectSpread({\n        lastModifiedLedgerSeq: rawEntry.lastModifiedLedgerSeq,\n        key: _stellarBase.xdr.LedgerKey.fromXDR(rawEntry.key, \"base64\"),\n        val: _stellarBase.xdr.LedgerEntryData.fromXDR(rawEntry.xdr, \"base64\")\n      }, rawEntry.liveUntilLedgerSeq !== undefined && {\n        liveUntilLedgerSeq: rawEntry.liveUntilLedgerSeq\n      });\n    })\n  };\n}\nfunction parseSuccessful(sim, partial) {\n  var _sim$results$length, _sim$results, _sim$stateChanges$len, _sim$stateChanges, _sim$stateChanges2;\n  var success = _objectSpread(_objectSpread(_objectSpread({}, partial), {}, {\n    transactionData: new _stellarBase.SorobanDataBuilder(sim.transactionData),\n    minResourceFee: sim.minResourceFee\n  }, ((_sim$results$length = (_sim$results = sim.results) === null || _sim$results === void 0 ? void 0 : _sim$results.length) !== null && _sim$results$length !== void 0 ? _sim$results$length : 0 > 0) && {\n    result: sim.results.map(function (row) {\n      var _row$auth;\n      return {\n        auth: ((_row$auth = row.auth) !== null && _row$auth !== void 0 ? _row$auth : []).map(function (entry) {\n          return _stellarBase.xdr.SorobanAuthorizationEntry.fromXDR(entry, \"base64\");\n        }),\n        retval: row.xdr ? _stellarBase.xdr.ScVal.fromXDR(row.xdr, \"base64\") : _stellarBase.xdr.ScVal.scvVoid()\n      };\n    })[0]\n  }), ((_sim$stateChanges$len = (_sim$stateChanges = sim.stateChanges) === null || _sim$stateChanges === void 0 ? void 0 : _sim$stateChanges.length) !== null && _sim$stateChanges$len !== void 0 ? _sim$stateChanges$len : 0 > 0) && {\n    stateChanges: (_sim$stateChanges2 = sim.stateChanges) === null || _sim$stateChanges2 === void 0 ? void 0 : _sim$stateChanges2.map(function (entryChange) {\n      return {\n        type: entryChange.type,\n        key: _stellarBase.xdr.LedgerKey.fromXDR(entryChange.key, \"base64\"),\n        before: entryChange.before ? _stellarBase.xdr.LedgerEntry.fromXDR(entryChange.before, \"base64\") : null,\n        after: entryChange.after ? _stellarBase.xdr.LedgerEntry.fromXDR(entryChange.after, \"base64\") : null\n      };\n    })\n  });\n  if (!sim.restorePreamble || sim.restorePreamble.transactionData === \"\") {\n    return success;\n  }\n  return _objectSpread(_objectSpread({}, success), {}, {\n    restorePreamble: {\n      minResourceFee: sim.restorePreamble.minResourceFee,\n      transactionData: new _stellarBase.SorobanDataBuilder(sim.restorePreamble.transactionData)\n    }\n  });\n}\nfunction parseRawSimulation(sim) {\n  var _sim$events$map, _sim$events;\n  var looksRaw = _api.Api.isSimulationRaw(sim);\n  if (!looksRaw) {\n    return sim;\n  }\n  var base = {\n    _parsed: true,\n    id: sim.id,\n    latestLedger: sim.latestLedger,\n    events: (_sim$events$map = (_sim$events = sim.events) === null || _sim$events === void 0 ? void 0 : _sim$events.map(function (evt) {\n      return _stellarBase.xdr.DiagnosticEvent.fromXDR(evt, \"base64\");\n    })) !== null && _sim$events$map !== void 0 ? _sim$events$map : []\n  };\n  if (typeof sim.error === \"string\") {\n    return _objectSpread(_objectSpread({}, base), {}, {\n      error: sim.error\n    });\n  }\n  return parseSuccessful(sim, base);\n}\nfunction parseRawLedger(raw) {\n  if (!raw.metadataXdr || !raw.headerXdr) {\n    var missingFields;\n    if (!raw.metadataXdr && !raw.headerXdr) {\n      missingFields = \"metadataXdr and headerXdr\";\n    } else if (!raw.metadataXdr) {\n      missingFields = \"metadataXdr\";\n    } else {\n      missingFields = \"headerXdr\";\n    }\n    throw new TypeError(\"invalid ledger missing fields: \".concat(missingFields));\n  }\n  var metadataXdr = _stellarBase.xdr.LedgerCloseMeta.fromXDR(raw.metadataXdr, \"base64\");\n  var headerXdr = _stellarBase.xdr.LedgerHeaderHistoryEntry.fromXDR(raw.headerXdr, \"base64\");\n  return {\n    hash: raw.hash,\n    sequence: raw.sequence,\n    ledgerCloseTime: raw.ledgerCloseTime,\n    metadataXdr: metadataXdr,\n    headerXdr: headerXdr\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvcGFyc2Vycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixzQkFBc0I7QUFDdEIsc0JBQXNCO0FBQ3RCLDZCQUE2QjtBQUM3QiwrQkFBK0I7QUFDL0IsMEJBQTBCO0FBQzFCLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUIsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQXVCO0FBQ2xELFdBQVcsbUJBQU8sQ0FBQyxzR0FBTztBQUMxQixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSyxLQUFLO0FBQ1Y7QUFDQSxLQUFLO0FBQ0w7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBLHlEQUF5RDtBQUN6RDtBQUNBLE9BQU8sS0FBSztBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsY0FBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUNBQXlDLFdBQVc7QUFDcEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvcGFyc2Vycy5qcz9lYWVhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wYXJzZVJhd0V2ZW50cyA9IHBhcnNlUmF3RXZlbnRzO1xuZXhwb3J0cy5wYXJzZVJhd0xlZGdlciA9IHBhcnNlUmF3TGVkZ2VyO1xuZXhwb3J0cy5wYXJzZVJhd0xlZGdlckVudHJpZXMgPSBwYXJzZVJhd0xlZGdlckVudHJpZXM7XG5leHBvcnRzLnBhcnNlUmF3U2VuZFRyYW5zYWN0aW9uID0gcGFyc2VSYXdTZW5kVHJhbnNhY3Rpb247XG5leHBvcnRzLnBhcnNlUmF3U2ltdWxhdGlvbiA9IHBhcnNlUmF3U2ltdWxhdGlvbjtcbmV4cG9ydHMucGFyc2VSYXdUcmFuc2FjdGlvbnMgPSBwYXJzZVJhd1RyYW5zYWN0aW9ucztcbmV4cG9ydHMucGFyc2VUcmFuc2FjdGlvbkluZm8gPSBwYXJzZVRyYW5zYWN0aW9uSW5mbztcbnZhciBfc3RlbGxhckJhc2UgPSByZXF1aXJlKFwiQHN0ZWxsYXIvc3RlbGxhci1iYXNlXCIpO1xudmFyIF9hcGkgPSByZXF1aXJlKFwiLi9hcGlcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIHBhcnNlUmF3U2VuZFRyYW5zYWN0aW9uKHJhdykge1xuICB2YXIgZXJyb3JSZXN1bHRYZHIgPSByYXcuZXJyb3JSZXN1bHRYZHIsXG4gICAgZGlhZ25vc3RpY0V2ZW50c1hkciA9IHJhdy5kaWFnbm9zdGljRXZlbnRzWGRyO1xuICBkZWxldGUgcmF3LmVycm9yUmVzdWx0WGRyO1xuICBkZWxldGUgcmF3LmRpYWdub3N0aWNFdmVudHNYZHI7XG4gIGlmIChlcnJvclJlc3VsdFhkcikge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmF3KSwgZGlhZ25vc3RpY0V2ZW50c1hkciAhPT0gdW5kZWZpbmVkICYmIGRpYWdub3N0aWNFdmVudHNYZHIubGVuZ3RoID4gMCAmJiB7XG4gICAgICBkaWFnbm9zdGljRXZlbnRzOiBkaWFnbm9zdGljRXZlbnRzWGRyLm1hcChmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHJldHVybiBfc3RlbGxhckJhc2UueGRyLkRpYWdub3N0aWNFdmVudC5mcm9tWERSKGV2dCwgXCJiYXNlNjRcIik7XG4gICAgICB9KVxuICAgIH0pLCB7fSwge1xuICAgICAgZXJyb3JSZXN1bHQ6IF9zdGVsbGFyQmFzZS54ZHIuVHJhbnNhY3Rpb25SZXN1bHQuZnJvbVhEUihlcnJvclJlc3VsdFhkciwgXCJiYXNlNjRcIilcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgcmF3KTtcbn1cbmZ1bmN0aW9uIHBhcnNlVHJhbnNhY3Rpb25JbmZvKHJhdykge1xuICB2YXIgX3JhdyRldmVudHMkY29udHJhY3RFLCBfcmF3JGV2ZW50cywgX3JhdyRldmVudHMkdHJhbnNhY3RpLCBfcmF3JGV2ZW50czI7XG4gIHZhciBtZXRhID0gX3N0ZWxsYXJCYXNlLnhkci5UcmFuc2FjdGlvbk1ldGEuZnJvbVhEUihyYXcucmVzdWx0TWV0YVhkciwgXCJiYXNlNjRcIik7XG4gIHZhciBpbmZvID0ge1xuICAgIGxlZGdlcjogcmF3LmxlZGdlcixcbiAgICBjcmVhdGVkQXQ6IHJhdy5jcmVhdGVkQXQsXG4gICAgYXBwbGljYXRpb25PcmRlcjogcmF3LmFwcGxpY2F0aW9uT3JkZXIsXG4gICAgZmVlQnVtcDogcmF3LmZlZUJ1bXAsXG4gICAgZW52ZWxvcGVYZHI6IF9zdGVsbGFyQmFzZS54ZHIuVHJhbnNhY3Rpb25FbnZlbG9wZS5mcm9tWERSKHJhdy5lbnZlbG9wZVhkciwgXCJiYXNlNjRcIiksXG4gICAgcmVzdWx0WGRyOiBfc3RlbGxhckJhc2UueGRyLlRyYW5zYWN0aW9uUmVzdWx0LmZyb21YRFIocmF3LnJlc3VsdFhkciwgXCJiYXNlNjRcIiksXG4gICAgcmVzdWx0TWV0YVhkcjogbWV0YSxcbiAgICBldmVudHM6IHtcbiAgICAgIGNvbnRyYWN0RXZlbnRzWGRyOiAoKF9yYXckZXZlbnRzJGNvbnRyYWN0RSA9IChfcmF3JGV2ZW50cyA9IHJhdy5ldmVudHMpID09PSBudWxsIHx8IF9yYXckZXZlbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmF3JGV2ZW50cy5jb250cmFjdEV2ZW50c1hkcikgIT09IG51bGwgJiYgX3JhdyRldmVudHMkY29udHJhY3RFICE9PSB2b2lkIDAgPyBfcmF3JGV2ZW50cyRjb250cmFjdEUgOiBbXSkubWFwKGZ1bmN0aW9uIChsc3QpIHtcbiAgICAgICAgcmV0dXJuIGxzdC5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5Db250cmFjdEV2ZW50LmZyb21YRFIoZSwgXCJiYXNlNjRcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSksXG4gICAgICB0cmFuc2FjdGlvbkV2ZW50c1hkcjogKChfcmF3JGV2ZW50cyR0cmFuc2FjdGkgPSAoX3JhdyRldmVudHMyID0gcmF3LmV2ZW50cykgPT09IG51bGwgfHwgX3JhdyRldmVudHMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmF3JGV2ZW50czIudHJhbnNhY3Rpb25FdmVudHNYZHIpICE9PSBudWxsICYmIF9yYXckZXZlbnRzJHRyYW5zYWN0aSAhPT0gdm9pZCAwID8gX3JhdyRldmVudHMkdHJhbnNhY3RpIDogW10pLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5UcmFuc2FjdGlvbkV2ZW50LmZyb21YRFIoZSwgXCJiYXNlNjRcIik7XG4gICAgICB9KVxuICAgIH1cbiAgfTtcbiAgc3dpdGNoIChtZXRhLnN3aXRjaCgpKSB7XG4gICAgY2FzZSAzOlxuICAgIGNhc2UgNDpcbiAgICAgIHtcbiAgICAgICAgdmFyIG1ldGFWID0gbWV0YS52YWx1ZSgpO1xuICAgICAgICBpZiAobWV0YVYuc29yb2Jhbk1ldGEoKSAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBfbWV0YVYkc29yb2Jhbk1ldGEkcmUsIF9tZXRhViRzb3JvYmFuTWV0YTtcbiAgICAgICAgICBpbmZvLnJldHVyblZhbHVlID0gKF9tZXRhViRzb3JvYmFuTWV0YSRyZSA9IChfbWV0YVYkc29yb2Jhbk1ldGEgPSBtZXRhVi5zb3JvYmFuTWV0YSgpKSA9PT0gbnVsbCB8fCBfbWV0YVYkc29yb2Jhbk1ldGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tZXRhViRzb3JvYmFuTWV0YS5yZXR1cm5WYWx1ZSgpKSAhPT0gbnVsbCAmJiBfbWV0YVYkc29yb2Jhbk1ldGEkcmUgIT09IHZvaWQgMCA/IF9tZXRhViRzb3JvYmFuTWV0YSRyZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIGlmIChyYXcuZGlhZ25vc3RpY0V2ZW50c1hkcikge1xuICAgIGluZm8uZGlhZ25vc3RpY0V2ZW50c1hkciA9IHJhdy5kaWFnbm9zdGljRXZlbnRzWGRyLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIF9zdGVsbGFyQmFzZS54ZHIuRGlhZ25vc3RpY0V2ZW50LmZyb21YRFIoZSwgXCJiYXNlNjRcIik7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGluZm87XG59XG5mdW5jdGlvbiBwYXJzZVJhd1RyYW5zYWN0aW9ucyhyKSB7XG4gIHJldHVybiBfb2JqZWN0U3ByZWFkKHtcbiAgICBzdGF0dXM6IHIuc3RhdHVzLFxuICAgIHR4SGFzaDogci50eEhhc2hcbiAgfSwgcGFyc2VUcmFuc2FjdGlvbkluZm8ocikpO1xufVxuZnVuY3Rpb24gcGFyc2VSYXdFdmVudHMocmF3KSB7XG4gIHZhciBfcmF3JGV2ZW50czM7XG4gIHJldHVybiB7XG4gICAgbGF0ZXN0TGVkZ2VyOiByYXcubGF0ZXN0TGVkZ2VyLFxuICAgIG9sZGVzdExlZGdlcjogcmF3Lm9sZGVzdExlZGdlcixcbiAgICBsYXRlc3RMZWRnZXJDbG9zZVRpbWU6IHJhdy5sYXRlc3RMZWRnZXJDbG9zZVRpbWUsXG4gICAgb2xkZXN0TGVkZ2VyQ2xvc2VUaW1lOiByYXcub2xkZXN0TGVkZ2VyQ2xvc2VUaW1lLFxuICAgIGN1cnNvcjogcmF3LmN1cnNvcixcbiAgICBldmVudHM6ICgoX3JhdyRldmVudHMzID0gcmF3LmV2ZW50cykgIT09IG51bGwgJiYgX3JhdyRldmVudHMzICE9PSB2b2lkIDAgPyBfcmF3JGV2ZW50czMgOiBbXSkubWFwKGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIHZhciBfZXZ0JHRvcGljO1xuICAgICAgdmFyIGNsb25lID0gX29iamVjdFNwcmVhZCh7fSwgZXZ0KTtcbiAgICAgIGRlbGV0ZSBjbG9uZS5jb250cmFjdElkO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjbG9uZSksIGV2dC5jb250cmFjdElkICE9PSBcIlwiICYmIHtcbiAgICAgICAgY29udHJhY3RJZDogbmV3IF9zdGVsbGFyQmFzZS5Db250cmFjdChldnQuY29udHJhY3RJZClcbiAgICAgIH0pLCB7fSwge1xuICAgICAgICB0b3BpYzogKChfZXZ0JHRvcGljID0gZXZ0LnRvcGljKSAhPT0gbnVsbCAmJiBfZXZ0JHRvcGljICE9PSB2b2lkIDAgPyBfZXZ0JHRvcGljIDogW10pLm1hcChmdW5jdGlvbiAodG9waWMpIHtcbiAgICAgICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5TY1ZhbC5mcm9tWERSKHRvcGljLCBcImJhc2U2NFwiKTtcbiAgICAgICAgfSksXG4gICAgICAgIHZhbHVlOiBfc3RlbGxhckJhc2UueGRyLlNjVmFsLmZyb21YRFIoZXZ0LnZhbHVlLCBcImJhc2U2NFwiKVxuICAgICAgfSk7XG4gICAgfSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUmF3TGVkZ2VyRW50cmllcyhyYXcpIHtcbiAgdmFyIF9yYXckZW50cmllcztcbiAgcmV0dXJuIHtcbiAgICBsYXRlc3RMZWRnZXI6IHJhdy5sYXRlc3RMZWRnZXIsXG4gICAgZW50cmllczogKChfcmF3JGVudHJpZXMgPSByYXcuZW50cmllcykgIT09IG51bGwgJiYgX3JhdyRlbnRyaWVzICE9PSB2b2lkIDAgPyBfcmF3JGVudHJpZXMgOiBbXSkubWFwKGZ1bmN0aW9uIChyYXdFbnRyeSkge1xuICAgICAgaWYgKCFyYXdFbnRyeS5rZXkgfHwgIXJhd0VudHJ5Lnhkcikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiaW52YWxpZCBsZWRnZXIgZW50cnk6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShyYXdFbnRyeSkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgbGFzdE1vZGlmaWVkTGVkZ2VyU2VxOiByYXdFbnRyeS5sYXN0TW9kaWZpZWRMZWRnZXJTZXEsXG4gICAgICAgIGtleTogX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJLZXkuZnJvbVhEUihyYXdFbnRyeS5rZXksIFwiYmFzZTY0XCIpLFxuICAgICAgICB2YWw6IF9zdGVsbGFyQmFzZS54ZHIuTGVkZ2VyRW50cnlEYXRhLmZyb21YRFIocmF3RW50cnkueGRyLCBcImJhc2U2NFwiKVxuICAgICAgfSwgcmF3RW50cnkubGl2ZVVudGlsTGVkZ2VyU2VxICE9PSB1bmRlZmluZWQgJiYge1xuICAgICAgICBsaXZlVW50aWxMZWRnZXJTZXE6IHJhd0VudHJ5LmxpdmVVbnRpbExlZGdlclNlcVxuICAgICAgfSk7XG4gICAgfSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlU3VjY2Vzc2Z1bChzaW0sIHBhcnRpYWwpIHtcbiAgdmFyIF9zaW0kcmVzdWx0cyRsZW5ndGgsIF9zaW0kcmVzdWx0cywgX3NpbSRzdGF0ZUNoYW5nZXMkbGVuLCBfc2ltJHN0YXRlQ2hhbmdlcywgX3NpbSRzdGF0ZUNoYW5nZXMyO1xuICB2YXIgc3VjY2VzcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJ0aWFsKSwge30sIHtcbiAgICB0cmFuc2FjdGlvbkRhdGE6IG5ldyBfc3RlbGxhckJhc2UuU29yb2JhbkRhdGFCdWlsZGVyKHNpbS50cmFuc2FjdGlvbkRhdGEpLFxuICAgIG1pblJlc291cmNlRmVlOiBzaW0ubWluUmVzb3VyY2VGZWVcbiAgfSwgKChfc2ltJHJlc3VsdHMkbGVuZ3RoID0gKF9zaW0kcmVzdWx0cyA9IHNpbS5yZXN1bHRzKSA9PT0gbnVsbCB8fCBfc2ltJHJlc3VsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zaW0kcmVzdWx0cy5sZW5ndGgpICE9PSBudWxsICYmIF9zaW0kcmVzdWx0cyRsZW5ndGggIT09IHZvaWQgMCA/IF9zaW0kcmVzdWx0cyRsZW5ndGggOiAwID4gMCkgJiYge1xuICAgIHJlc3VsdDogc2ltLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHZhciBfcm93JGF1dGg7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdXRoOiAoKF9yb3ckYXV0aCA9IHJvdy5hdXRoKSAhPT0gbnVsbCAmJiBfcm93JGF1dGggIT09IHZvaWQgMCA/IF9yb3ckYXV0aCA6IFtdKS5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgcmV0dXJuIF9zdGVsbGFyQmFzZS54ZHIuU29yb2JhbkF1dGhvcml6YXRpb25FbnRyeS5mcm9tWERSKGVudHJ5LCBcImJhc2U2NFwiKTtcbiAgICAgICAgfSksXG4gICAgICAgIHJldHZhbDogcm93LnhkciA/IF9zdGVsbGFyQmFzZS54ZHIuU2NWYWwuZnJvbVhEUihyb3cueGRyLCBcImJhc2U2NFwiKSA6IF9zdGVsbGFyQmFzZS54ZHIuU2NWYWwuc2N2Vm9pZCgpXG4gICAgICB9O1xuICAgIH0pWzBdXG4gIH0pLCAoKF9zaW0kc3RhdGVDaGFuZ2VzJGxlbiA9IChfc2ltJHN0YXRlQ2hhbmdlcyA9IHNpbS5zdGF0ZUNoYW5nZXMpID09PSBudWxsIHx8IF9zaW0kc3RhdGVDaGFuZ2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2ltJHN0YXRlQ2hhbmdlcy5sZW5ndGgpICE9PSBudWxsICYmIF9zaW0kc3RhdGVDaGFuZ2VzJGxlbiAhPT0gdm9pZCAwID8gX3NpbSRzdGF0ZUNoYW5nZXMkbGVuIDogMCA+IDApICYmIHtcbiAgICBzdGF0ZUNoYW5nZXM6IChfc2ltJHN0YXRlQ2hhbmdlczIgPSBzaW0uc3RhdGVDaGFuZ2VzKSA9PT0gbnVsbCB8fCBfc2ltJHN0YXRlQ2hhbmdlczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zaW0kc3RhdGVDaGFuZ2VzMi5tYXAoZnVuY3Rpb24gKGVudHJ5Q2hhbmdlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBlbnRyeUNoYW5nZS50eXBlLFxuICAgICAgICBrZXk6IF9zdGVsbGFyQmFzZS54ZHIuTGVkZ2VyS2V5LmZyb21YRFIoZW50cnlDaGFuZ2Uua2V5LCBcImJhc2U2NFwiKSxcbiAgICAgICAgYmVmb3JlOiBlbnRyeUNoYW5nZS5iZWZvcmUgPyBfc3RlbGxhckJhc2UueGRyLkxlZGdlckVudHJ5LmZyb21YRFIoZW50cnlDaGFuZ2UuYmVmb3JlLCBcImJhc2U2NFwiKSA6IG51bGwsXG4gICAgICAgIGFmdGVyOiBlbnRyeUNoYW5nZS5hZnRlciA/IF9zdGVsbGFyQmFzZS54ZHIuTGVkZ2VyRW50cnkuZnJvbVhEUihlbnRyeUNoYW5nZS5hZnRlciwgXCJiYXNlNjRcIikgOiBudWxsXG4gICAgICB9O1xuICAgIH0pXG4gIH0pO1xuICBpZiAoIXNpbS5yZXN0b3JlUHJlYW1ibGUgfHwgc2ltLnJlc3RvcmVQcmVhbWJsZS50cmFuc2FjdGlvbkRhdGEgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gc3VjY2VzcztcbiAgfVxuICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdWNjZXNzKSwge30sIHtcbiAgICByZXN0b3JlUHJlYW1ibGU6IHtcbiAgICAgIG1pblJlc291cmNlRmVlOiBzaW0ucmVzdG9yZVByZWFtYmxlLm1pblJlc291cmNlRmVlLFxuICAgICAgdHJhbnNhY3Rpb25EYXRhOiBuZXcgX3N0ZWxsYXJCYXNlLlNvcm9iYW5EYXRhQnVpbGRlcihzaW0ucmVzdG9yZVByZWFtYmxlLnRyYW5zYWN0aW9uRGF0YSlcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VSYXdTaW11bGF0aW9uKHNpbSkge1xuICB2YXIgX3NpbSRldmVudHMkbWFwLCBfc2ltJGV2ZW50cztcbiAgdmFyIGxvb2tzUmF3ID0gX2FwaS5BcGkuaXNTaW11bGF0aW9uUmF3KHNpbSk7XG4gIGlmICghbG9va3NSYXcpIHtcbiAgICByZXR1cm4gc2ltO1xuICB9XG4gIHZhciBiYXNlID0ge1xuICAgIF9wYXJzZWQ6IHRydWUsXG4gICAgaWQ6IHNpbS5pZCxcbiAgICBsYXRlc3RMZWRnZXI6IHNpbS5sYXRlc3RMZWRnZXIsXG4gICAgZXZlbnRzOiAoX3NpbSRldmVudHMkbWFwID0gKF9zaW0kZXZlbnRzID0gc2ltLmV2ZW50cykgPT09IG51bGwgfHwgX3NpbSRldmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zaW0kZXZlbnRzLm1hcChmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICByZXR1cm4gX3N0ZWxsYXJCYXNlLnhkci5EaWFnbm9zdGljRXZlbnQuZnJvbVhEUihldnQsIFwiYmFzZTY0XCIpO1xuICAgIH0pKSAhPT0gbnVsbCAmJiBfc2ltJGV2ZW50cyRtYXAgIT09IHZvaWQgMCA/IF9zaW0kZXZlbnRzJG1hcCA6IFtdXG4gIH07XG4gIGlmICh0eXBlb2Ygc2ltLmVycm9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYmFzZSksIHt9LCB7XG4gICAgICBlcnJvcjogc2ltLmVycm9yXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhcnNlU3VjY2Vzc2Z1bChzaW0sIGJhc2UpO1xufVxuZnVuY3Rpb24gcGFyc2VSYXdMZWRnZXIocmF3KSB7XG4gIGlmICghcmF3Lm1ldGFkYXRhWGRyIHx8ICFyYXcuaGVhZGVyWGRyKSB7XG4gICAgdmFyIG1pc3NpbmdGaWVsZHM7XG4gICAgaWYgKCFyYXcubWV0YWRhdGFYZHIgJiYgIXJhdy5oZWFkZXJYZHIpIHtcbiAgICAgIG1pc3NpbmdGaWVsZHMgPSBcIm1ldGFkYXRhWGRyIGFuZCBoZWFkZXJYZHJcIjtcbiAgICB9IGVsc2UgaWYgKCFyYXcubWV0YWRhdGFYZHIpIHtcbiAgICAgIG1pc3NpbmdGaWVsZHMgPSBcIm1ldGFkYXRhWGRyXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pc3NpbmdGaWVsZHMgPSBcImhlYWRlclhkclwiO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiaW52YWxpZCBsZWRnZXIgbWlzc2luZyBmaWVsZHM6IFwiLmNvbmNhdChtaXNzaW5nRmllbGRzKSk7XG4gIH1cbiAgdmFyIG1ldGFkYXRhWGRyID0gX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJDbG9zZU1ldGEuZnJvbVhEUihyYXcubWV0YWRhdGFYZHIsIFwiYmFzZTY0XCIpO1xuICB2YXIgaGVhZGVyWGRyID0gX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJIZWFkZXJIaXN0b3J5RW50cnkuZnJvbVhEUihyYXcuaGVhZGVyWGRyLCBcImJhc2U2NFwiKTtcbiAgcmV0dXJuIHtcbiAgICBoYXNoOiByYXcuaGFzaCxcbiAgICBzZXF1ZW5jZTogcmF3LnNlcXVlbmNlLFxuICAgIGxlZGdlckNsb3NlVGltZTogcmF3LmxlZGdlckNsb3NlVGltZSxcbiAgICBtZXRhZGF0YVhkcjogbWV0YWRhdGFYZHIsXG4gICAgaGVhZGVyWGRyOiBoZWFkZXJYZHJcbiAgfTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/parsers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/server.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/server.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SUBMIT_TRANSACTION_TIMEOUT = exports.RpcServer = exports.LinearSleepStrategy = exports.Durability = exports.BasicSleepStrategy = void 0;\nvar _urijs = _interopRequireDefault(__webpack_require__(/*! urijs */ \"(rsc)/./node_modules/urijs/src/URI.js\"));\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _axios = __webpack_require__(/*! ./axios */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/axios.js\");\nvar jsonrpc = _interopRequireWildcard(__webpack_require__(/*! ./jsonrpc */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/jsonrpc.js\"));\nvar _api = __webpack_require__(/*! ./api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js\");\nvar _transaction = __webpack_require__(/*! ./transaction */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/transaction.js\");\nvar _parsers = __webpack_require__(/*! ./parsers */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/parsers.js\");\nvar _utils = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/utils.js\");\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t9 in e) \"default\" !== _t9 && {}.hasOwnProperty.call(e, _t9) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t9)) && (i.get || i.set) ? o(f, _t9, i) : f[_t9] = e[_t9]); return f; })(e, t); }\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar SUBMIT_TRANSACTION_TIMEOUT = exports.SUBMIT_TRANSACTION_TIMEOUT = 60 * 1000;\nvar Durability = exports.Durability = function (Durability) {\n  Durability[\"Temporary\"] = \"temporary\";\n  Durability[\"Persistent\"] = \"persistent\";\n  return Durability;\n}({});\nvar DEFAULT_GET_TRANSACTION_TIMEOUT = 30;\nvar BasicSleepStrategy = exports.BasicSleepStrategy = function BasicSleepStrategy(_iter) {\n  return 1000;\n};\nvar LinearSleepStrategy = exports.LinearSleepStrategy = function LinearSleepStrategy(iter) {\n  return 1000 * iter;\n};\nfunction findCreatedAccountSequenceInTransactionMeta(meta) {\n  var _operations$flatMap$f;\n  var operations = [];\n  switch (meta.switch()) {\n    case 0:\n      operations = meta.operations();\n      break;\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n      operations = meta.value().operations();\n      break;\n    default:\n      throw new Error(\"Unexpected transaction meta switch value\");\n  }\n  var sequenceNumber = (_operations$flatMap$f = operations.flatMap(function (op) {\n    return op.changes();\n  }).find(function (c) {\n    return c.switch() === _stellarBase.xdr.LedgerEntryChangeType.ledgerEntryCreated() && c.created().data().switch() === _stellarBase.xdr.LedgerEntryType.account();\n  })) === null || _operations$flatMap$f === void 0 || (_operations$flatMap$f = _operations$flatMap$f.created()) === null || _operations$flatMap$f === void 0 || (_operations$flatMap$f = _operations$flatMap$f.data()) === null || _operations$flatMap$f === void 0 || (_operations$flatMap$f = _operations$flatMap$f.account()) === null || _operations$flatMap$f === void 0 || (_operations$flatMap$f = _operations$flatMap$f.seqNum()) === null || _operations$flatMap$f === void 0 ? void 0 : _operations$flatMap$f.toString();\n  if (sequenceNumber) {\n    return sequenceNumber;\n  }\n  throw new Error(\"No account created in transaction\");\n}\nvar RpcServer = exports.RpcServer = function () {\n  function RpcServer(serverURL) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, RpcServer);\n    this.serverURL = (0, _urijs.default)(serverURL);\n    this.httpClient = (0, _axios.createHttpClient)(opts.headers);\n    if (this.serverURL.protocol() !== \"https\" && !opts.allowHttp) {\n      throw new Error(\"Cannot connect to insecure Soroban RPC server if `allowHttp` isn't set\");\n    }\n  }\n  return _createClass(RpcServer, [{\n    key: \"getAccount\",\n    value: (function () {\n      var _getAccount = _asyncToGenerator(_regenerator().m(function _callee(address) {\n        var entry;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              _context.n = 1;\n              return this.getAccountEntry(address);\n            case 1:\n              entry = _context.v;\n              return _context.a(2, new _stellarBase.Account(address, entry.seqNum().toString()));\n          }\n        }, _callee, this);\n      }));\n      function getAccount(_x) {\n        return _getAccount.apply(this, arguments);\n      }\n      return getAccount;\n    }())\n  }, {\n    key: \"getAccountEntry\",\n    value: (function () {\n      var _getAccountEntry = _asyncToGenerator(_regenerator().m(function _callee2(address) {\n        var ledgerKey, resp, _t;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              ledgerKey = _stellarBase.xdr.LedgerKey.account(new _stellarBase.xdr.LedgerKeyAccount({\n                accountId: _stellarBase.Keypair.fromPublicKey(address).xdrPublicKey()\n              }));\n              _context2.p = 1;\n              _context2.n = 2;\n              return this.getLedgerEntry(ledgerKey);\n            case 2:\n              resp = _context2.v;\n              return _context2.a(2, resp.val.account());\n            case 3:\n              _context2.p = 3;\n              _t = _context2.v;\n              throw new Error(\"Account not found: \".concat(address));\n            case 4:\n              return _context2.a(2);\n          }\n        }, _callee2, this, [[1, 3]]);\n      }));\n      function getAccountEntry(_x2) {\n        return _getAccountEntry.apply(this, arguments);\n      }\n      return getAccountEntry;\n    }())\n  }, {\n    key: \"getTrustline\",\n    value: (function () {\n      var _getTrustline = _asyncToGenerator(_regenerator().m(function _callee3(account, asset) {\n        var trustlineLedgerKey, entry, _t2;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.p = _context3.n) {\n            case 0:\n              trustlineLedgerKey = _stellarBase.xdr.LedgerKey.trustline(new _stellarBase.xdr.LedgerKeyTrustLine({\n                accountId: _stellarBase.Keypair.fromPublicKey(account).xdrAccountId(),\n                asset: asset.toTrustLineXDRObject()\n              }));\n              _context3.p = 1;\n              _context3.n = 2;\n              return this.getLedgerEntry(trustlineLedgerKey);\n            case 2:\n              entry = _context3.v;\n              return _context3.a(2, entry.val.trustLine());\n            case 3:\n              _context3.p = 3;\n              _t2 = _context3.v;\n              throw new Error(\"Trustline for \".concat(asset.getCode(), \":\").concat(asset.getIssuer(), \" not found for \").concat(account));\n            case 4:\n              return _context3.a(2);\n          }\n        }, _callee3, this, [[1, 3]]);\n      }));\n      function getTrustline(_x3, _x4) {\n        return _getTrustline.apply(this, arguments);\n      }\n      return getTrustline;\n    }())\n  }, {\n    key: \"getClaimableBalance\",\n    value: (function () {\n      var _getClaimableBalance = _asyncToGenerator(_regenerator().m(function _callee4(id) {\n        var balanceId, buffer, v, trustlineLedgerKey, entry, _t3;\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.p = _context4.n) {\n            case 0:\n              if (!_stellarBase.StrKey.isValidClaimableBalance(id)) {\n                _context4.n = 1;\n                break;\n              }\n              buffer = _stellarBase.StrKey.decodeClaimableBalance(id);\n              v = Buffer.concat([Buffer.from(\"\\x00\\x00\\x00\"), buffer.subarray(0, 1)]);\n              balanceId = _stellarBase.xdr.ClaimableBalanceId.fromXDR(Buffer.concat([v, buffer.subarray(1)]));\n              _context4.n = 4;\n              break;\n            case 1:\n              if (!id.match(/[a-f0-9]{72}/i)) {\n                _context4.n = 2;\n                break;\n              }\n              balanceId = _stellarBase.xdr.ClaimableBalanceId.fromXDR(id, \"hex\");\n              _context4.n = 4;\n              break;\n            case 2:\n              if (!id.match(/[a-f0-9]{64}/i)) {\n                _context4.n = 3;\n                break;\n              }\n              balanceId = _stellarBase.xdr.ClaimableBalanceId.fromXDR(id.padStart(72, \"0\"), \"hex\");\n              _context4.n = 4;\n              break;\n            case 3:\n              throw new TypeError(\"expected 72-char hex ID or strkey, not \".concat(id));\n            case 4:\n              trustlineLedgerKey = _stellarBase.xdr.LedgerKey.claimableBalance(new _stellarBase.xdr.LedgerKeyClaimableBalance({\n                balanceId: balanceId\n              }));\n              _context4.p = 5;\n              _context4.n = 6;\n              return this.getLedgerEntry(trustlineLedgerKey);\n            case 6:\n              entry = _context4.v;\n              return _context4.a(2, entry.val.claimableBalance());\n            case 7:\n              _context4.p = 7;\n              _t3 = _context4.v;\n              throw new Error(\"Claimable balance \".concat(id, \" not found\"));\n            case 8:\n              return _context4.a(2);\n          }\n        }, _callee4, this, [[5, 7]]);\n      }));\n      function getClaimableBalance(_x5) {\n        return _getClaimableBalance.apply(this, arguments);\n      }\n      return getClaimableBalance;\n    }())\n  }, {\n    key: \"getAssetBalance\",\n    value: (function () {\n      var _getAssetBalance = _asyncToGenerator(_regenerator().m(function _callee5(address, asset, networkPassphrase) {\n        var addr, _yield$Promise$all, _yield$Promise$all2, tl, ll;\n        return _regenerator().w(function (_context5) {\n          while (1) switch (_context5.n) {\n            case 0:\n              addr = address;\n              if (!(typeof address === \"string\")) {\n                _context5.n = 1;\n                break;\n              }\n              addr = address;\n              _context5.n = 4;\n              break;\n            case 1:\n              if (!(address instanceof _stellarBase.Address)) {\n                _context5.n = 2;\n                break;\n              }\n              addr = address.toString();\n              _context5.n = 4;\n              break;\n            case 2:\n              if (!(address instanceof _stellarBase.Contract)) {\n                _context5.n = 3;\n                break;\n              }\n              addr = address.toString();\n              _context5.n = 4;\n              break;\n            case 3:\n              throw new TypeError(\"invalid address: \".concat(address));\n            case 4:\n              if (!_stellarBase.StrKey.isValidEd25519PublicKey(addr)) {\n                _context5.n = 6;\n                break;\n              }\n              _context5.n = 5;\n              return Promise.all([this.getTrustline(addr, asset), this.getLatestLedger()]);\n            case 5:\n              _yield$Promise$all = _context5.v;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              tl = _yield$Promise$all2[0];\n              ll = _yield$Promise$all2[1];\n              return _context5.a(2, {\n                latestLedger: ll.sequence,\n                balanceEntry: {\n                  amount: tl.balance().toString(),\n                  authorized: Boolean(tl.flags() & _stellarBase.AuthRequiredFlag),\n                  clawback: Boolean(tl.flags() & _stellarBase.AuthClawbackEnabledFlag),\n                  revocable: Boolean(tl.flags() & _stellarBase.AuthRevocableFlag)\n                }\n              });\n            case 6:\n              if (!_stellarBase.StrKey.isValidContract(addr)) {\n                _context5.n = 7;\n                break;\n              }\n              return _context5.a(2, this.getSACBalance(addr, asset, networkPassphrase));\n            case 7:\n              throw new Error(\"invalid address: \".concat(address));\n            case 8:\n              return _context5.a(2);\n          }\n        }, _callee5, this);\n      }));\n      function getAssetBalance(_x6, _x7, _x8) {\n        return _getAssetBalance.apply(this, arguments);\n      }\n      return getAssetBalance;\n    }())\n  }, {\n    key: \"getHealth\",\n    value: (function () {\n      var _getHealth = _asyncToGenerator(_regenerator().m(function _callee6() {\n        return _regenerator().w(function (_context6) {\n          while (1) switch (_context6.n) {\n            case 0:\n              return _context6.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getHealth\"));\n          }\n        }, _callee6, this);\n      }));\n      function getHealth() {\n        return _getHealth.apply(this, arguments);\n      }\n      return getHealth;\n    }())\n  }, {\n    key: \"getContractData\",\n    value: (function () {\n      var _getContractData = _asyncToGenerator(_regenerator().m(function _callee7(contract, key) {\n        var durability,\n          scAddress,\n          xdrDurability,\n          contractKey,\n          _args7 = arguments,\n          _t4,\n          _t5;\n        return _regenerator().w(function (_context7) {\n          while (1) switch (_context7.p = _context7.n) {\n            case 0:\n              durability = _args7.length > 2 && _args7[2] !== undefined ? _args7[2] : Durability.Persistent;\n              if (!(typeof contract === \"string\")) {\n                _context7.n = 1;\n                break;\n              }\n              scAddress = new _stellarBase.Contract(contract).address().toScAddress();\n              _context7.n = 4;\n              break;\n            case 1:\n              if (!(contract instanceof _stellarBase.Address)) {\n                _context7.n = 2;\n                break;\n              }\n              scAddress = contract.toScAddress();\n              _context7.n = 4;\n              break;\n            case 2:\n              if (!(contract instanceof _stellarBase.Contract)) {\n                _context7.n = 3;\n                break;\n              }\n              scAddress = contract.address().toScAddress();\n              _context7.n = 4;\n              break;\n            case 3:\n              throw new TypeError(\"unknown contract type: \".concat(contract));\n            case 4:\n              _t4 = durability;\n              _context7.n = _t4 === Durability.Temporary ? 5 : _t4 === Durability.Persistent ? 6 : 7;\n              break;\n            case 5:\n              xdrDurability = _stellarBase.xdr.ContractDataDurability.temporary();\n              return _context7.a(3, 8);\n            case 6:\n              xdrDurability = _stellarBase.xdr.ContractDataDurability.persistent();\n              return _context7.a(3, 8);\n            case 7:\n              throw new TypeError(\"invalid durability: \".concat(durability));\n            case 8:\n              contractKey = _stellarBase.xdr.LedgerKey.contractData(new _stellarBase.xdr.LedgerKeyContractData({\n                key: key,\n                contract: scAddress,\n                durability: xdrDurability\n              }));\n              _context7.p = 9;\n              _context7.n = 10;\n              return this.getLedgerEntry(contractKey);\n            case 10:\n              return _context7.a(2, _context7.v);\n            case 11:\n              _context7.p = 11;\n              _t5 = _context7.v;\n              throw {\n                code: 404,\n                message: \"Contract data not found for \".concat(_stellarBase.Address.fromScAddress(scAddress).toString(), \" with key \").concat(key.toXDR(\"base64\"), \" and durability: \").concat(durability)\n              };\n            case 12:\n              return _context7.a(2);\n          }\n        }, _callee7, this, [[9, 11]]);\n      }));\n      function getContractData(_x9, _x0) {\n        return _getContractData.apply(this, arguments);\n      }\n      return getContractData;\n    }())\n  }, {\n    key: \"getContractWasmByContractId\",\n    value: (function () {\n      var _getContractWasmByContractId = _asyncToGenerator(_regenerator().m(function _callee8(contractId) {\n        var _response$entries$;\n        var contractLedgerKey, response, wasmHash;\n        return _regenerator().w(function (_context8) {\n          while (1) switch (_context8.n) {\n            case 0:\n              contractLedgerKey = new _stellarBase.Contract(contractId).getFootprint();\n              _context8.n = 1;\n              return this.getLedgerEntries(contractLedgerKey);\n            case 1:\n              response = _context8.v;\n              if (!(!response.entries.length || !((_response$entries$ = response.entries[0]) !== null && _response$entries$ !== void 0 && _response$entries$.val))) {\n                _context8.n = 2;\n                break;\n              }\n              return _context8.a(2, Promise.reject({\n                code: 404,\n                message: \"Could not obtain contract hash from server\"\n              }));\n            case 2:\n              wasmHash = response.entries[0].val.contractData().val().instance().executable().wasmHash();\n              return _context8.a(2, this.getContractWasmByHash(wasmHash));\n          }\n        }, _callee8, this);\n      }));\n      function getContractWasmByContractId(_x1) {\n        return _getContractWasmByContractId.apply(this, arguments);\n      }\n      return getContractWasmByContractId;\n    }())\n  }, {\n    key: \"getContractWasmByHash\",\n    value: (function () {\n      var _getContractWasmByHash = _asyncToGenerator(_regenerator().m(function _callee9(wasmHash) {\n        var _responseWasm$entries;\n        var format,\n          wasmHashBuffer,\n          ledgerKeyWasmHash,\n          responseWasm,\n          wasmBuffer,\n          _args9 = arguments;\n        return _regenerator().w(function (_context9) {\n          while (1) switch (_context9.n) {\n            case 0:\n              format = _args9.length > 1 && _args9[1] !== undefined ? _args9[1] : undefined;\n              wasmHashBuffer = typeof wasmHash === \"string\" ? Buffer.from(wasmHash, format) : wasmHash;\n              ledgerKeyWasmHash = _stellarBase.xdr.LedgerKey.contractCode(new _stellarBase.xdr.LedgerKeyContractCode({\n                hash: wasmHashBuffer\n              }));\n              _context9.n = 1;\n              return this.getLedgerEntries(ledgerKeyWasmHash);\n            case 1:\n              responseWasm = _context9.v;\n              if (!(!responseWasm.entries.length || !((_responseWasm$entries = responseWasm.entries[0]) !== null && _responseWasm$entries !== void 0 && _responseWasm$entries.val))) {\n                _context9.n = 2;\n                break;\n              }\n              return _context9.a(2, Promise.reject({\n                code: 404,\n                message: \"Could not obtain contract wasm from server\"\n              }));\n            case 2:\n              wasmBuffer = responseWasm.entries[0].val.contractCode().code();\n              return _context9.a(2, wasmBuffer);\n          }\n        }, _callee9, this);\n      }));\n      function getContractWasmByHash(_x10) {\n        return _getContractWasmByHash.apply(this, arguments);\n      }\n      return getContractWasmByHash;\n    }())\n  }, {\n    key: \"getLedgerEntries\",\n    value: function getLedgerEntries() {\n      return this._getLedgerEntries.apply(this, arguments).then(_parsers.parseRawLedgerEntries);\n    }\n  }, {\n    key: \"_getLedgerEntries\",\n    value: function _getLedgerEntries() {\n      for (var _len = arguments.length, keys = new Array(_len), _key = 0; _key < _len; _key++) {\n        keys[_key] = arguments[_key];\n      }\n      return jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getLedgerEntries\", {\n        keys: keys.map(function (k) {\n          return k.toXDR(\"base64\");\n        })\n      });\n    }\n  }, {\n    key: \"getLedgerEntry\",\n    value: function () {\n      var _getLedgerEntry = _asyncToGenerator(_regenerator().m(function _callee0(key) {\n        var results;\n        return _regenerator().w(function (_context0) {\n          while (1) switch (_context0.n) {\n            case 0:\n              _context0.n = 1;\n              return this._getLedgerEntries(key).then(_parsers.parseRawLedgerEntries);\n            case 1:\n              results = _context0.v;\n              if (!(results.entries.length !== 1)) {\n                _context0.n = 2;\n                break;\n              }\n              throw new Error(\"failed to find an entry for key \".concat(key.toXDR(\"base64\")));\n            case 2:\n              return _context0.a(2, results.entries[0]);\n          }\n        }, _callee0, this);\n      }));\n      function getLedgerEntry(_x11) {\n        return _getLedgerEntry.apply(this, arguments);\n      }\n      return getLedgerEntry;\n    }()\n  }, {\n    key: \"pollTransaction\",\n    value: (function () {\n      var _pollTransaction = _asyncToGenerator(_regenerator().m(function _callee1(hash, opts) {\n        var _opts$attempts, _opts$attempts2;\n        var maxAttempts, foundInfo, attempt, _opts$sleepStrategy;\n        return _regenerator().w(function (_context1) {\n          while (1) switch (_context1.n) {\n            case 0:\n              maxAttempts = ((_opts$attempts = opts === null || opts === void 0 ? void 0 : opts.attempts) !== null && _opts$attempts !== void 0 ? _opts$attempts : 0) < 1 ? DEFAULT_GET_TRANSACTION_TIMEOUT : (_opts$attempts2 = opts === null || opts === void 0 ? void 0 : opts.attempts) !== null && _opts$attempts2 !== void 0 ? _opts$attempts2 : DEFAULT_GET_TRANSACTION_TIMEOUT;\n              attempt = 1;\n            case 1:\n              if (!(attempt < maxAttempts)) {\n                _context1.n = 5;\n                break;\n              }\n              _context1.n = 2;\n              return this.getTransaction(hash);\n            case 2:\n              foundInfo = _context1.v;\n              if (!(foundInfo.status !== _api.Api.GetTransactionStatus.NOT_FOUND)) {\n                _context1.n = 3;\n                break;\n              }\n              return _context1.a(2, foundInfo);\n            case 3:\n              _context1.n = 4;\n              return _utils.Utils.sleep(((_opts$sleepStrategy = opts === null || opts === void 0 ? void 0 : opts.sleepStrategy) !== null && _opts$sleepStrategy !== void 0 ? _opts$sleepStrategy : BasicSleepStrategy)(attempt));\n            case 4:\n              attempt++;\n              _context1.n = 1;\n              break;\n            case 5:\n              return _context1.a(2, foundInfo);\n          }\n        }, _callee1, this);\n      }));\n      function pollTransaction(_x12, _x13) {\n        return _pollTransaction.apply(this, arguments);\n      }\n      return pollTransaction;\n    }())\n  }, {\n    key: \"getTransaction\",\n    value: (function () {\n      var _getTransaction2 = _asyncToGenerator(_regenerator().m(function _callee10(hash) {\n        return _regenerator().w(function (_context10) {\n          while (1) switch (_context10.n) {\n            case 0:\n              return _context10.a(2, this._getTransaction(hash).then(function (raw) {\n                var foundInfo = {};\n                if (raw.status !== _api.Api.GetTransactionStatus.NOT_FOUND) {\n                  Object.assign(foundInfo, (0, _parsers.parseTransactionInfo)(raw));\n                }\n                var result = _objectSpread({\n                  status: raw.status,\n                  txHash: hash,\n                  latestLedger: raw.latestLedger,\n                  latestLedgerCloseTime: raw.latestLedgerCloseTime,\n                  oldestLedger: raw.oldestLedger,\n                  oldestLedgerCloseTime: raw.oldestLedgerCloseTime\n                }, foundInfo);\n                return result;\n              }));\n          }\n        }, _callee10, this);\n      }));\n      function getTransaction(_x14) {\n        return _getTransaction2.apply(this, arguments);\n      }\n      return getTransaction;\n    }())\n  }, {\n    key: \"_getTransaction\",\n    value: function () {\n      var _getTransaction3 = _asyncToGenerator(_regenerator().m(function _callee11(hash) {\n        return _regenerator().w(function (_context11) {\n          while (1) switch (_context11.n) {\n            case 0:\n              return _context11.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getTransaction\", {\n                hash: hash\n              }));\n          }\n        }, _callee11, this);\n      }));\n      function _getTransaction(_x15) {\n        return _getTransaction3.apply(this, arguments);\n      }\n      return _getTransaction;\n    }()\n  }, {\n    key: \"getTransactions\",\n    value: (function () {\n      var _getTransactions2 = _asyncToGenerator(_regenerator().m(function _callee12(request) {\n        return _regenerator().w(function (_context12) {\n          while (1) switch (_context12.n) {\n            case 0:\n              return _context12.a(2, this._getTransactions(request).then(function (raw) {\n                var result = {\n                  transactions: (raw.transactions || []).map(_parsers.parseRawTransactions),\n                  latestLedger: raw.latestLedger,\n                  latestLedgerCloseTimestamp: raw.latestLedgerCloseTimestamp,\n                  oldestLedger: raw.oldestLedger,\n                  oldestLedgerCloseTimestamp: raw.oldestLedgerCloseTimestamp,\n                  cursor: raw.cursor\n                };\n                return result;\n              }));\n          }\n        }, _callee12, this);\n      }));\n      function getTransactions(_x16) {\n        return _getTransactions2.apply(this, arguments);\n      }\n      return getTransactions;\n    }())\n  }, {\n    key: \"_getTransactions\",\n    value: function () {\n      var _getTransactions3 = _asyncToGenerator(_regenerator().m(function _callee13(request) {\n        return _regenerator().w(function (_context13) {\n          while (1) switch (_context13.n) {\n            case 0:\n              return _context13.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getTransactions\", request));\n          }\n        }, _callee13, this);\n      }));\n      function _getTransactions(_x17) {\n        return _getTransactions3.apply(this, arguments);\n      }\n      return _getTransactions;\n    }()\n  }, {\n    key: \"getEvents\",\n    value: (function () {\n      var _getEvents2 = _asyncToGenerator(_regenerator().m(function _callee14(request) {\n        return _regenerator().w(function (_context14) {\n          while (1) switch (_context14.n) {\n            case 0:\n              return _context14.a(2, this._getEvents(request).then(_parsers.parseRawEvents));\n          }\n        }, _callee14, this);\n      }));\n      function getEvents(_x18) {\n        return _getEvents2.apply(this, arguments);\n      }\n      return getEvents;\n    }())\n  }, {\n    key: \"_getEvents\",\n    value: function () {\n      var _getEvents3 = _asyncToGenerator(_regenerator().m(function _callee15(request) {\n        var _request$filters;\n        return _regenerator().w(function (_context15) {\n          while (1) switch (_context15.n) {\n            case 0:\n              return _context15.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getEvents\", _objectSpread(_objectSpread({\n                filters: (_request$filters = request.filters) !== null && _request$filters !== void 0 ? _request$filters : [],\n                pagination: _objectSpread(_objectSpread({}, request.cursor && {\n                  cursor: request.cursor\n                }), request.limit && {\n                  limit: request.limit\n                })\n              }, request.startLedger && {\n                startLedger: request.startLedger\n              }), request.endLedger && {\n                endLedger: request.endLedger\n              })));\n          }\n        }, _callee15, this);\n      }));\n      function _getEvents(_x19) {\n        return _getEvents3.apply(this, arguments);\n      }\n      return _getEvents;\n    }()\n  }, {\n    key: \"getNetwork\",\n    value: (function () {\n      var _getNetwork = _asyncToGenerator(_regenerator().m(function _callee16() {\n        return _regenerator().w(function (_context16) {\n          while (1) switch (_context16.n) {\n            case 0:\n              return _context16.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getNetwork\"));\n          }\n        }, _callee16, this);\n      }));\n      function getNetwork() {\n        return _getNetwork.apply(this, arguments);\n      }\n      return getNetwork;\n    }())\n  }, {\n    key: \"getLatestLedger\",\n    value: (function () {\n      var _getLatestLedger = _asyncToGenerator(_regenerator().m(function _callee17() {\n        return _regenerator().w(function (_context17) {\n          while (1) switch (_context17.n) {\n            case 0:\n              return _context17.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getLatestLedger\"));\n          }\n        }, _callee17, this);\n      }));\n      function getLatestLedger() {\n        return _getLatestLedger.apply(this, arguments);\n      }\n      return getLatestLedger;\n    }())\n  }, {\n    key: \"simulateTransaction\",\n    value: (function () {\n      var _simulateTransaction2 = _asyncToGenerator(_regenerator().m(function _callee18(tx, addlResources, authMode) {\n        return _regenerator().w(function (_context18) {\n          while (1) switch (_context18.n) {\n            case 0:\n              return _context18.a(2, this._simulateTransaction(tx, addlResources, authMode).then(_parsers.parseRawSimulation));\n          }\n        }, _callee18, this);\n      }));\n      function simulateTransaction(_x20, _x21, _x22) {\n        return _simulateTransaction2.apply(this, arguments);\n      }\n      return simulateTransaction;\n    }())\n  }, {\n    key: \"_simulateTransaction\",\n    value: function () {\n      var _simulateTransaction3 = _asyncToGenerator(_regenerator().m(function _callee19(transaction, addlResources, authMode) {\n        return _regenerator().w(function (_context19) {\n          while (1) switch (_context19.n) {\n            case 0:\n              return _context19.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"simulateTransaction\", _objectSpread({\n                transaction: transaction.toXDR(),\n                authMode: authMode\n              }, addlResources !== undefined && {\n                resourceConfig: {\n                  instructionLeeway: addlResources.cpuInstructions\n                }\n              })));\n          }\n        }, _callee19, this);\n      }));\n      function _simulateTransaction(_x23, _x24, _x25) {\n        return _simulateTransaction3.apply(this, arguments);\n      }\n      return _simulateTransaction;\n    }()\n  }, {\n    key: \"prepareTransaction\",\n    value: (function () {\n      var _prepareTransaction = _asyncToGenerator(_regenerator().m(function _callee20(tx) {\n        var simResponse;\n        return _regenerator().w(function (_context20) {\n          while (1) switch (_context20.n) {\n            case 0:\n              _context20.n = 1;\n              return this.simulateTransaction(tx);\n            case 1:\n              simResponse = _context20.v;\n              if (!_api.Api.isSimulationError(simResponse)) {\n                _context20.n = 2;\n                break;\n              }\n              throw new Error(simResponse.error);\n            case 2:\n              return _context20.a(2, (0, _transaction.assembleTransaction)(tx, simResponse).build());\n          }\n        }, _callee20, this);\n      }));\n      function prepareTransaction(_x26) {\n        return _prepareTransaction.apply(this, arguments);\n      }\n      return prepareTransaction;\n    }())\n  }, {\n    key: \"sendTransaction\",\n    value: (function () {\n      var _sendTransaction2 = _asyncToGenerator(_regenerator().m(function _callee21(transaction) {\n        return _regenerator().w(function (_context21) {\n          while (1) switch (_context21.n) {\n            case 0:\n              return _context21.a(2, this._sendTransaction(transaction).then(_parsers.parseRawSendTransaction));\n          }\n        }, _callee21, this);\n      }));\n      function sendTransaction(_x27) {\n        return _sendTransaction2.apply(this, arguments);\n      }\n      return sendTransaction;\n    }())\n  }, {\n    key: \"_sendTransaction\",\n    value: function () {\n      var _sendTransaction3 = _asyncToGenerator(_regenerator().m(function _callee22(transaction) {\n        return _regenerator().w(function (_context22) {\n          while (1) switch (_context22.n) {\n            case 0:\n              return _context22.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"sendTransaction\", {\n                transaction: transaction.toXDR()\n              }));\n          }\n        }, _callee22, this);\n      }));\n      function _sendTransaction(_x28) {\n        return _sendTransaction3.apply(this, arguments);\n      }\n      return _sendTransaction;\n    }()\n  }, {\n    key: \"requestAirdrop\",\n    value: (function () {\n      var _requestAirdrop = _asyncToGenerator(_regenerator().m(function _callee23(address, friendbotUrl) {\n        var account, response, meta, txMeta, sequence, _error$response, _error$response$detai, _t6, _t7;\n        return _regenerator().w(function (_context23) {\n          while (1) switch (_context23.p = _context23.n) {\n            case 0:\n              account = typeof address === \"string\" ? address : address.accountId();\n              _t6 = friendbotUrl;\n              if (_t6) {\n                _context23.n = 2;\n                break;\n              }\n              _context23.n = 1;\n              return this.getNetwork();\n            case 1:\n              _t6 = _context23.v.friendbotUrl;\n            case 2:\n              friendbotUrl = _t6;\n              if (friendbotUrl) {\n                _context23.n = 3;\n                break;\n              }\n              throw new Error(\"No friendbot URL configured for current network\");\n            case 3:\n              _context23.p = 3;\n              _context23.n = 4;\n              return this.httpClient.post(\"\".concat(friendbotUrl, \"?addr=\").concat(encodeURIComponent(account)));\n            case 4:\n              response = _context23.v;\n              if (response.data.result_meta_xdr) {\n                _context23.n = 7;\n                break;\n              }\n              _context23.n = 5;\n              return this.getTransaction(response.data.hash);\n            case 5:\n              txMeta = _context23.v;\n              if (!(txMeta.status !== _api.Api.GetTransactionStatus.SUCCESS)) {\n                _context23.n = 6;\n                break;\n              }\n              throw new Error(\"Funding account \".concat(address, \" failed\"));\n            case 6:\n              meta = txMeta.resultMetaXdr;\n              _context23.n = 8;\n              break;\n            case 7:\n              meta = _stellarBase.xdr.TransactionMeta.fromXDR(response.data.result_meta_xdr, \"base64\");\n            case 8:\n              sequence = findCreatedAccountSequenceInTransactionMeta(meta);\n              return _context23.a(2, new _stellarBase.Account(account, sequence));\n            case 9:\n              _context23.p = 9;\n              _t7 = _context23.v;\n              if (!(((_error$response = _t7.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 400)) {\n                _context23.n = 10;\n                break;\n              }\n              if (!((_error$response$detai = _t7.response.detail) !== null && _error$response$detai !== void 0 && _error$response$detai.includes(\"createAccountAlreadyExist\"))) {\n                _context23.n = 10;\n                break;\n              }\n              return _context23.a(2, this.getAccount(account));\n            case 10:\n              throw _t7;\n            case 11:\n              return _context23.a(2);\n          }\n        }, _callee23, this, [[3, 9]]);\n      }));\n      function requestAirdrop(_x29, _x30) {\n        return _requestAirdrop.apply(this, arguments);\n      }\n      return requestAirdrop;\n    }())\n  }, {\n    key: \"getFeeStats\",\n    value: (function () {\n      var _getFeeStats = _asyncToGenerator(_regenerator().m(function _callee24() {\n        return _regenerator().w(function (_context24) {\n          while (1) switch (_context24.n) {\n            case 0:\n              return _context24.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getFeeStats\"));\n          }\n        }, _callee24, this);\n      }));\n      function getFeeStats() {\n        return _getFeeStats.apply(this, arguments);\n      }\n      return getFeeStats;\n    }())\n  }, {\n    key: \"getVersionInfo\",\n    value: (function () {\n      var _getVersionInfo = _asyncToGenerator(_regenerator().m(function _callee25() {\n        return _regenerator().w(function (_context25) {\n          while (1) switch (_context25.n) {\n            case 0:\n              return _context25.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getVersionInfo\"));\n          }\n        }, _callee25, this);\n      }));\n      function getVersionInfo() {\n        return _getVersionInfo.apply(this, arguments);\n      }\n      return getVersionInfo;\n    }())\n  }, {\n    key: \"getSACBalance\",\n    value: (function () {\n      var _getSACBalance = _asyncToGenerator(_regenerator().m(function _callee26(address, sac, networkPassphrase) {\n        var addressString, passphrase, sacId, key, ledgerKey, response, _response$entries$2, lastModifiedLedgerSeq, liveUntilLedgerSeq, val, entry, _t8;\n        return _regenerator().w(function (_context26) {\n          while (1) switch (_context26.n) {\n            case 0:\n              addressString = address instanceof _stellarBase.Address ? address.toString() : address;\n              if (_stellarBase.StrKey.isValidContract(addressString)) {\n                _context26.n = 1;\n                break;\n              }\n              throw new TypeError(\"expected contract ID, got \".concat(addressString));\n            case 1:\n              if (!(networkPassphrase !== null && networkPassphrase !== void 0)) {\n                _context26.n = 2;\n                break;\n              }\n              _t8 = networkPassphrase;\n              _context26.n = 4;\n              break;\n            case 2:\n              _context26.n = 3;\n              return this.getNetwork().then(function (n) {\n                return n.passphrase;\n              });\n            case 3:\n              _t8 = _context26.v;\n            case 4:\n              passphrase = _t8;\n              sacId = sac.contractId(passphrase);\n              key = (0, _stellarBase.nativeToScVal)([\"Balance\", addressString], {\n                type: [\"symbol\", \"address\"]\n              });\n              ledgerKey = _stellarBase.xdr.LedgerKey.contractData(new _stellarBase.xdr.LedgerKeyContractData({\n                contract: new _stellarBase.Address(sacId).toScAddress(),\n                durability: _stellarBase.xdr.ContractDataDurability.persistent(),\n                key: key\n              }));\n              _context26.n = 5;\n              return this.getLedgerEntries(ledgerKey);\n            case 5:\n              response = _context26.v;\n              if (!(response.entries.length === 0)) {\n                _context26.n = 6;\n                break;\n              }\n              return _context26.a(2, {\n                latestLedger: response.latestLedger\n              });\n            case 6:\n              _response$entries$2 = response.entries[0], lastModifiedLedgerSeq = _response$entries$2.lastModifiedLedgerSeq, liveUntilLedgerSeq = _response$entries$2.liveUntilLedgerSeq, val = _response$entries$2.val;\n              if (!(val.switch().value !== _stellarBase.xdr.LedgerEntryType.contractData().value)) {\n                _context26.n = 7;\n                break;\n              }\n              return _context26.a(2, {\n                latestLedger: response.latestLedger\n              });\n            case 7:\n              entry = (0, _stellarBase.scValToNative)(val.contractData().val());\n              return _context26.a(2, {\n                latestLedger: response.latestLedger,\n                balanceEntry: {\n                  liveUntilLedgerSeq: liveUntilLedgerSeq,\n                  lastModifiedLedgerSeq: lastModifiedLedgerSeq,\n                  amount: entry.amount.toString(),\n                  authorized: entry.authorized,\n                  clawback: entry.clawback\n                }\n              });\n          }\n        }, _callee26, this);\n      }));\n      function getSACBalance(_x31, _x32, _x33) {\n        return _getSACBalance.apply(this, arguments);\n      }\n      return getSACBalance;\n    }())\n  }, {\n    key: \"getLedgers\",\n    value: (function () {\n      var _getLedgers2 = _asyncToGenerator(_regenerator().m(function _callee27(request) {\n        return _regenerator().w(function (_context27) {\n          while (1) switch (_context27.n) {\n            case 0:\n              return _context27.a(2, this._getLedgers(request).then(function (raw) {\n                var result = {\n                  ledgers: (raw.ledgers || []).map(_parsers.parseRawLedger),\n                  latestLedger: raw.latestLedger,\n                  latestLedgerCloseTime: raw.latestLedgerCloseTime,\n                  oldestLedger: raw.oldestLedger,\n                  oldestLedgerCloseTime: raw.oldestLedgerCloseTime,\n                  cursor: raw.cursor\n                };\n                return result;\n              }));\n          }\n        }, _callee27, this);\n      }));\n      function getLedgers(_x34) {\n        return _getLedgers2.apply(this, arguments);\n      }\n      return getLedgers;\n    }())\n  }, {\n    key: \"_getLedgers\",\n    value: function () {\n      var _getLedgers3 = _asyncToGenerator(_regenerator().m(function _callee28(request) {\n        return _regenerator().w(function (_context28) {\n          while (1) switch (_context28.n) {\n            case 0:\n              return _context28.a(2, jsonrpc.postObject(this.httpClient, this.serverURL.toString(), \"getLedgers\", request));\n          }\n        }, _callee28, this);\n      }));\n      function _getLedgers(_x35) {\n        return _getLedgers3.apply(this, arguments);\n      }\n      return _getLedgers;\n    }()\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvc2VydmVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtDQUFrQyxHQUFHLGlCQUFpQixHQUFHLDJCQUEyQixHQUFHLGtCQUFrQixHQUFHLDBCQUEwQjtBQUN0SSxvQ0FBb0MsbUJBQU8sQ0FBQyxvREFBTztBQUNuRCxtQkFBbUIsbUJBQU8sQ0FBQyxzRkFBdUI7QUFDbEQsYUFBYSxtQkFBTyxDQUFDLDBHQUFTO0FBQzlCLHNDQUFzQyxtQkFBTyxDQUFDLDhHQUFXO0FBQ3pELFdBQVcsbUJBQU8sQ0FBQyxzR0FBTztBQUMxQixtQkFBbUIsbUJBQU8sQ0FBQyxzSEFBZTtBQUMxQyxlQUFlLG1CQUFPLENBQUMsOEdBQVc7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLHVHQUFVO0FBQy9CLHlDQUF5Qyw0RUFBNEUsMkVBQTJFLHVDQUF1QyxnQkFBZ0IsK0JBQStCLDhFQUE4RSxxQkFBcUIsK0JBQStCLGVBQWUsMENBQTBDLHFLQUFxSyxXQUFXO0FBQ2pvQixxQ0FBcUMsaUNBQWlDO0FBQ3RFLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLHlCQUF5Qix3QkFBd0Isb0NBQW9DLHlDQUF5QyxrQ0FBa0MsMERBQTBELDBCQUEwQjtBQUNwUCw0QkFBNEIsZ0JBQWdCLHNCQUFzQixPQUFPLGtEQUFrRCxzREFBc0QsOEJBQThCLG1KQUFtSixxRUFBcUUsS0FBSztBQUM1YSxvQ0FBb0Msb0VBQW9FLDBEQUEwRDtBQUNsSyxnQ0FBZ0M7QUFDaEMsOEJBQThCO0FBQzlCLDZDQUE2QyxTQUFTLDBEQUEwRCxVQUFVLGdDQUFnQztBQUMxSixtQ0FBbUMsK0NBQStDLDhCQUE4QixPQUFPLGtCQUFrQjtBQUN6SSx1Q0FBdUMsa0dBQWtHLGlCQUFpQix3Q0FBd0MsTUFBTSx5Q0FBeUMsNkJBQTZCLFVBQVUsWUFBWSxrRUFBa0UsV0FBVyxZQUFZLGlCQUFpQixVQUFVLE1BQU0sMkVBQTJFLFVBQVUsb0JBQW9CO0FBQ3ZnQiw4QkFBOEI7QUFDOUIsMEJBQTBCLHVEQUF1RCx3RUFBd0UseUJBQXlCLCtGQUErRiw4REFBOEQsK0NBQStDLCtEQUErRCw2Q0FBNkMsbUJBQW1CLDBCQUEwQiwrQkFBK0IsT0FBTyxvQ0FBb0MsOE9BQThPLDBCQUEwQixtQkFBbUIsNEJBQTRCLDREQUE0RCw0Q0FBNEMsMEJBQTBCLElBQUksdUVBQXVFLE1BQU0sZ0JBQWdCLG1DQUFtQyw4RUFBOEUsdUJBQXVCLGlDQUFpQyxvSUFBb0ksU0FBUyxnRUFBZ0UsWUFBWSx1QkFBdUIsVUFBVSxXQUFXLFNBQVMseUJBQXlCLHFCQUFxQixZQUFZLHdCQUF3QixnQ0FBZ0MseUNBQXlDLDJCQUEyQiwyREFBMkQsbUJBQW1CLGNBQWMsMEZBQTBGLGdCQUFnQix1TkFBdU4sNmJBQTZiLGNBQWMsb0RBQW9ELDhCQUE4Qiw2Q0FBNkMsU0FBUyxlQUFlO0FBQ3Z1RiwyQ0FBMkMsK0JBQStCLE1BQU0sSUFBSSxRQUFRLEtBQUssWUFBWSxTQUFTLGdFQUFnRSxtQkFBbUIseUNBQXlDLCtCQUErQixLQUFLLGtCQUFrQiwwREFBMEQsK0RBQStEO0FBQ2phLG1EQUFtRCxNQUFNLGdDQUFnQyxZQUFZLG9CQUFvQjtBQUN6SCxnQ0FBZ0MscUJBQXFCLDZCQUE2QixxQ0FBcUMsdUJBQXVCLG9CQUFvQix5REFBeUQscUJBQXFCLDBEQUEwRCxnQkFBZ0I7QUFDMVQsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLGlDQUFpQyxrQ0FBa0M7QUFDbkUsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7QUFDSjtBQUNBLHlCQUF5QiwwQkFBMEI7QUFDbkQ7QUFDQTtBQUNBLDBCQUEwQiwyQkFBMkI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLEdBQUc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsR0FBRztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwwRUFBMEUsYUFBYTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakIsZUFBZTtBQUNmO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL3JwYy9zZXJ2ZXIuanM/NmI4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU1VCTUlUX1RSQU5TQUNUSU9OX1RJTUVPVVQgPSBleHBvcnRzLlJwY1NlcnZlciA9IGV4cG9ydHMuTGluZWFyU2xlZXBTdHJhdGVneSA9IGV4cG9ydHMuRHVyYWJpbGl0eSA9IGV4cG9ydHMuQmFzaWNTbGVlcFN0cmF0ZWd5ID0gdm9pZCAwO1xudmFyIF91cmlqcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInVyaWpzXCIpKTtcbnZhciBfc3RlbGxhckJhc2UgPSByZXF1aXJlKFwiQHN0ZWxsYXIvc3RlbGxhci1iYXNlXCIpO1xudmFyIF9heGlvcyA9IHJlcXVpcmUoXCIuL2F4aW9zXCIpO1xudmFyIGpzb25ycGMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwiLi9qc29ucnBjXCIpKTtcbnZhciBfYXBpID0gcmVxdWlyZShcIi4vYXBpXCIpO1xudmFyIF90cmFuc2FjdGlvbiA9IHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uXCIpO1xudmFyIF9wYXJzZXJzID0gcmVxdWlyZShcIi4vcGFyc2Vyc1wiKTtcbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChlLCB0KSB7IGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFdlYWtNYXApIHZhciByID0gbmV3IFdlYWtNYXAoKSwgbiA9IG5ldyBXZWFrTWFwKCk7IHJldHVybiAoX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChlLCB0KSB7IGlmICghdCAmJiBlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7IHZhciBvLCBpLCBmID0geyBfX3Byb3RvX186IG51bGwsIGRlZmF1bHQ6IGUgfTsgaWYgKG51bGwgPT09IGUgfHwgXCJvYmplY3RcIiAhPSBfdHlwZW9mKGUpICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSkgcmV0dXJuIGY7IGlmIChvID0gdCA/IG4gOiByKSB7IGlmIChvLmhhcyhlKSkgcmV0dXJuIG8uZ2V0KGUpOyBvLnNldChlLCBmKTsgfSBmb3IgKHZhciBfdDkgaW4gZSkgXCJkZWZhdWx0XCIgIT09IF90OSAmJiB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIF90OSkgJiYgKChpID0gKG8gPSBPYmplY3QuZGVmaW5lUHJvcGVydHkpICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgX3Q5KSkgJiYgKGkuZ2V0IHx8IGkuc2V0KSA/IG8oZiwgX3Q5LCBpKSA6IGZbX3Q5XSA9IGVbX3Q5XSk7IHJldHVybiBmOyB9KShlLCB0KTsgfVxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyB2YXIgZSwgdCwgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIG4gPSByLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBvID0gci50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjsgZnVuY3Rpb24gaShyLCBuLCBvLCBpKSB7IHZhciBjID0gbiAmJiBuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG4gOiBHZW5lcmF0b3IsIHUgPSBPYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKTsgcmV0dXJuIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJfaW52b2tlXCIsIGZ1bmN0aW9uIChyLCBuLCBvKSB7IHZhciBpLCBjLCB1LCBmID0gMCwgcCA9IG8gfHwgW10sIHkgPSAhMSwgRyA9IHsgcDogMCwgbjogMCwgdjogZSwgYTogZCwgZjogZC5iaW5kKGUsIDQpLCBkOiBmdW5jdGlvbiBkKHQsIHIpIHsgcmV0dXJuIGkgPSB0LCBjID0gMCwgdSA9IGUsIEcubiA9IHIsIGE7IH0gfTsgZnVuY3Rpb24gZChyLCBuKSB7IGZvciAoYyA9IHIsIHUgPSBuLCB0ID0gMDsgIXkgJiYgZiAmJiAhbyAmJiB0IDwgcC5sZW5ndGg7IHQrKykgeyB2YXIgbywgaSA9IHBbdF0sIGQgPSBHLnAsIGwgPSBpWzJdOyByID4gMyA/IChvID0gbCA9PT0gbikgJiYgKHUgPSBpWyhjID0gaVs0XSkgPyA1IDogKGMgPSAzLCAzKV0sIGlbNF0gPSBpWzVdID0gZSkgOiBpWzBdIDw9IGQgJiYgKChvID0gciA8IDIgJiYgZCA8IGlbMV0pID8gKGMgPSAwLCBHLnYgPSBuLCBHLm4gPSBpWzFdKSA6IGQgPCBsICYmIChvID0gciA8IDMgfHwgaVswXSA+IG4gfHwgbiA+IGwpICYmIChpWzRdID0gciwgaVs1XSA9IG4sIEcubiA9IGwsIGMgPSAwKSk7IH0gaWYgKG8gfHwgciA+IDEpIHJldHVybiBhOyB0aHJvdyB5ID0gITAsIG47IH0gcmV0dXJuIGZ1bmN0aW9uIChvLCBwLCBsKSB7IGlmIChmID4gMSkgdGhyb3cgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgZm9yICh5ICYmIDEgPT09IHAgJiYgZChwLCBsKSwgYyA9IHAsIHUgPSBsOyAodCA9IGMgPCAyID8gZSA6IHUpIHx8ICF5OykgeyBpIHx8IChjID8gYyA8IDMgPyAoYyA+IDEgJiYgKEcubiA9IC0xKSwgZChjLCB1KSkgOiBHLm4gPSB1IDogRy52ID0gdSk7IHRyeSB7IGlmIChmID0gMiwgaSkgeyBpZiAoYyB8fCAobyA9IFwibmV4dFwiKSwgdCA9IGlbb10pIHsgaWYgKCEodCA9IHQuY2FsbChpLCB1KSkpIHRocm93IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpOyBpZiAoIXQuZG9uZSkgcmV0dXJuIHQ7IHUgPSB0LnZhbHVlLCBjIDwgMiAmJiAoYyA9IDApOyB9IGVsc2UgMSA9PT0gYyAmJiAodCA9IGkucmV0dXJuKSAmJiB0LmNhbGwoaSksIGMgPCAyICYmICh1ID0gVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBvICsgXCInIG1ldGhvZFwiKSwgYyA9IDEpOyBpID0gZTsgfSBlbHNlIGlmICgodCA9ICh5ID0gRy5uIDwgMCkgPyB1IDogci5jYWxsKG4sIEcpKSAhPT0gYSkgYnJlYWs7IH0gY2F0Y2ggKHQpIHsgaSA9IGUsIGMgPSAxLCB1ID0gdDsgfSBmaW5hbGx5IHsgZiA9IDE7IH0gfSByZXR1cm4geyB2YWx1ZTogdCwgZG9uZTogeSB9OyB9OyB9KHIsIG8sIGkpLCAhMCksIHU7IH0gdmFyIGEgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7IHZhciBjID0gW11bbl0gPyB0KHQoW11bbl0oKSkpIDogKF9yZWdlbmVyYXRvckRlZmluZTIodCA9IHt9LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgdCksIHUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjKTsgZnVuY3Rpb24gZihlKSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGUuX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh1KSwgZTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIF9yZWdlbmVyYXRvckRlZmluZTIodSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSksIF9yZWdlbmVyYXRvckRlZmluZTIoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiwgX3JlZ2VuZXJhdG9yRGVmaW5lMihHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbywgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBvLCBcIkdlbmVyYXRvclwiKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCAoX3JlZ2VuZXJhdG9yID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yKCkgeyByZXR1cm4geyB3OiBpLCBtOiBmIH07IH0pKCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgbiwgdCkgeyB2YXIgaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsgdHJ5IHsgaSh7fSwgXCJcIiwge30pOyB9IGNhdGNoIChlKSB7IGkgPSAwOyB9IF9yZWdlbmVyYXRvckRlZmluZTIgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JEZWZpbmUoZSwgciwgbiwgdCkgeyBmdW5jdGlvbiBvKHIsIG4pIHsgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcy5faW52b2tlKHIsIG4sIGUpOyB9KTsgfSByID8gaSA/IGkoZSwgciwgeyB2YWx1ZTogbiwgZW51bWVyYWJsZTogIXQsIGNvbmZpZ3VyYWJsZTogIXQsIHdyaXRhYmxlOiAhdCB9KSA6IGVbcl0gPSBuIDogKG8oXCJuZXh0XCIsIDApLCBvKFwidGhyb3dcIiwgMSksIG8oXCJyZXR1cm5cIiwgMikpOyB9LCBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIG4sIHQpOyB9XG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAobiwgdCwgZSwgciwgbywgYSwgYykgeyB0cnkgeyB2YXIgaSA9IG5bYV0oYyksIHUgPSBpLnZhbHVlOyB9IGNhdGNoIChuKSB7IHJldHVybiB2b2lkIGUobik7IH0gaS5kb25lID8gdCh1KSA6IFByb21pc2UucmVzb2x2ZSh1KS50aGVuKHIsIG8pOyB9XG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gdGhpcywgZSA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyLCBvKSB7IHZhciBhID0gbi5hcHBseSh0LCBlKTsgZnVuY3Rpb24gX25leHQobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIG4pOyB9IGZ1bmN0aW9uIF90aHJvdyhuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIG4pOyB9IF9uZXh0KHZvaWQgMCk7IH0pOyB9OyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG52YXIgU1VCTUlUX1RSQU5TQUNUSU9OX1RJTUVPVVQgPSBleHBvcnRzLlNVQk1JVF9UUkFOU0FDVElPTl9USU1FT1VUID0gNjAgKiAxMDAwO1xudmFyIER1cmFiaWxpdHkgPSBleHBvcnRzLkR1cmFiaWxpdHkgPSBmdW5jdGlvbiAoRHVyYWJpbGl0eSkge1xuICBEdXJhYmlsaXR5W1wiVGVtcG9yYXJ5XCJdID0gXCJ0ZW1wb3JhcnlcIjtcbiAgRHVyYWJpbGl0eVtcIlBlcnNpc3RlbnRcIl0gPSBcInBlcnNpc3RlbnRcIjtcbiAgcmV0dXJuIER1cmFiaWxpdHk7XG59KHt9KTtcbnZhciBERUZBVUxUX0dFVF9UUkFOU0FDVElPTl9USU1FT1VUID0gMzA7XG52YXIgQmFzaWNTbGVlcFN0cmF0ZWd5ID0gZXhwb3J0cy5CYXNpY1NsZWVwU3RyYXRlZ3kgPSBmdW5jdGlvbiBCYXNpY1NsZWVwU3RyYXRlZ3koX2l0ZXIpIHtcbiAgcmV0dXJuIDEwMDA7XG59O1xudmFyIExpbmVhclNsZWVwU3RyYXRlZ3kgPSBleHBvcnRzLkxpbmVhclNsZWVwU3RyYXRlZ3kgPSBmdW5jdGlvbiBMaW5lYXJTbGVlcFN0cmF0ZWd5KGl0ZXIpIHtcbiAgcmV0dXJuIDEwMDAgKiBpdGVyO1xufTtcbmZ1bmN0aW9uIGZpbmRDcmVhdGVkQWNjb3VudFNlcXVlbmNlSW5UcmFuc2FjdGlvbk1ldGEobWV0YSkge1xuICB2YXIgX29wZXJhdGlvbnMkZmxhdE1hcCRmO1xuICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICBzd2l0Y2ggKG1ldGEuc3dpdGNoKCkpIHtcbiAgICBjYXNlIDA6XG4gICAgICBvcGVyYXRpb25zID0gbWV0YS5vcGVyYXRpb25zKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDE6XG4gICAgY2FzZSAyOlxuICAgIGNhc2UgMzpcbiAgICBjYXNlIDQ6XG4gICAgICBvcGVyYXRpb25zID0gbWV0YS52YWx1ZSgpLm9wZXJhdGlvbnMoKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHRyYW5zYWN0aW9uIG1ldGEgc3dpdGNoIHZhbHVlXCIpO1xuICB9XG4gIHZhciBzZXF1ZW5jZU51bWJlciA9IChfb3BlcmF0aW9ucyRmbGF0TWFwJGYgPSBvcGVyYXRpb25zLmZsYXRNYXAoZnVuY3Rpb24gKG9wKSB7XG4gICAgcmV0dXJuIG9wLmNoYW5nZXMoKTtcbiAgfSkuZmluZChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjLnN3aXRjaCgpID09PSBfc3RlbGxhckJhc2UueGRyLkxlZGdlckVudHJ5Q2hhbmdlVHlwZS5sZWRnZXJFbnRyeUNyZWF0ZWQoKSAmJiBjLmNyZWF0ZWQoKS5kYXRhKCkuc3dpdGNoKCkgPT09IF9zdGVsbGFyQmFzZS54ZHIuTGVkZ2VyRW50cnlUeXBlLmFjY291bnQoKTtcbiAgfSkpID09PSBudWxsIHx8IF9vcGVyYXRpb25zJGZsYXRNYXAkZiA9PT0gdm9pZCAwIHx8IChfb3BlcmF0aW9ucyRmbGF0TWFwJGYgPSBfb3BlcmF0aW9ucyRmbGF0TWFwJGYuY3JlYXRlZCgpKSA9PT0gbnVsbCB8fCBfb3BlcmF0aW9ucyRmbGF0TWFwJGYgPT09IHZvaWQgMCB8fCAoX29wZXJhdGlvbnMkZmxhdE1hcCRmID0gX29wZXJhdGlvbnMkZmxhdE1hcCRmLmRhdGEoKSkgPT09IG51bGwgfHwgX29wZXJhdGlvbnMkZmxhdE1hcCRmID09PSB2b2lkIDAgfHwgKF9vcGVyYXRpb25zJGZsYXRNYXAkZiA9IF9vcGVyYXRpb25zJGZsYXRNYXAkZi5hY2NvdW50KCkpID09PSBudWxsIHx8IF9vcGVyYXRpb25zJGZsYXRNYXAkZiA9PT0gdm9pZCAwIHx8IChfb3BlcmF0aW9ucyRmbGF0TWFwJGYgPSBfb3BlcmF0aW9ucyRmbGF0TWFwJGYuc2VxTnVtKCkpID09PSBudWxsIHx8IF9vcGVyYXRpb25zJGZsYXRNYXAkZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wZXJhdGlvbnMkZmxhdE1hcCRmLnRvU3RyaW5nKCk7XG4gIGlmIChzZXF1ZW5jZU51bWJlcikge1xuICAgIHJldHVybiBzZXF1ZW5jZU51bWJlcjtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhY2NvdW50IGNyZWF0ZWQgaW4gdHJhbnNhY3Rpb25cIik7XG59XG52YXIgUnBjU2VydmVyID0gZXhwb3J0cy5ScGNTZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJwY1NlcnZlcihzZXJ2ZXJVUkwpIHtcbiAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJwY1NlcnZlcik7XG4gICAgdGhpcy5zZXJ2ZXJVUkwgPSAoMCwgX3VyaWpzLmRlZmF1bHQpKHNlcnZlclVSTCk7XG4gICAgdGhpcy5odHRwQ2xpZW50ID0gKDAsIF9heGlvcy5jcmVhdGVIdHRwQ2xpZW50KShvcHRzLmhlYWRlcnMpO1xuICAgIGlmICh0aGlzLnNlcnZlclVSTC5wcm90b2NvbCgpICE9PSBcImh0dHBzXCIgJiYgIW9wdHMuYWxsb3dIdHRwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29ubmVjdCB0byBpbnNlY3VyZSBTb3JvYmFuIFJQQyBzZXJ2ZXIgaWYgYGFsbG93SHR0cGAgaXNuJ3Qgc2V0XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFJwY1NlcnZlciwgW3tcbiAgICBrZXk6IFwiZ2V0QWNjb3VudFwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRBY2NvdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlKGFkZHJlc3MpIHtcbiAgICAgICAgdmFyIGVudHJ5O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAxO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBY2NvdW50RW50cnkoYWRkcmVzcyk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGVudHJ5ID0gX2NvbnRleHQudjtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmEoMiwgbmV3IF9zdGVsbGFyQmFzZS5BY2NvdW50KGFkZHJlc3MsIGVudHJ5LnNlcU51bSgpLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZ2V0QWNjb3VudChfeCkge1xuICAgICAgICByZXR1cm4gX2dldEFjY291bnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRBY2NvdW50O1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJnZXRBY2NvdW50RW50cnlcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0QWNjb3VudEVudHJ5ID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMihhZGRyZXNzKSB7XG4gICAgICAgIHZhciBsZWRnZXJLZXksIHJlc3AsIF90O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnAgPSBfY29udGV4dDIubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBsZWRnZXJLZXkgPSBfc3RlbGxhckJhc2UueGRyLkxlZGdlcktleS5hY2NvdW50KG5ldyBfc3RlbGxhckJhc2UueGRyLkxlZGdlcktleUFjY291bnQoe1xuICAgICAgICAgICAgICAgIGFjY291bnRJZDogX3N0ZWxsYXJCYXNlLktleXBhaXIuZnJvbVB1YmxpY0tleShhZGRyZXNzKS54ZHJQdWJsaWNLZXkoKVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5wID0gMTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSAyO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRMZWRnZXJFbnRyeShsZWRnZXJLZXkpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQyLnY7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyLCByZXNwLnZhbC5hY2NvdW50KCkpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBfY29udGV4dDIucCA9IDM7XG4gICAgICAgICAgICAgIF90ID0gX2NvbnRleHQyLnY7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFjY291bnQgbm90IGZvdW5kOiBcIi5jb25jYXQoYWRkcmVzcykpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmEoMik7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcywgW1sxLCAzXV0pO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZ2V0QWNjb3VudEVudHJ5KF94Mikge1xuICAgICAgICByZXR1cm4gX2dldEFjY291bnRFbnRyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEFjY291bnRFbnRyeTtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VHJ1c3RsaW5lXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldFRydXN0bGluZSA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTMoYWNjb3VudCwgYXNzZXQpIHtcbiAgICAgICAgdmFyIHRydXN0bGluZUxlZGdlcktleSwgZW50cnksIF90MjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wID0gX2NvbnRleHQzLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdHJ1c3RsaW5lTGVkZ2VyS2V5ID0gX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJLZXkudHJ1c3RsaW5lKG5ldyBfc3RlbGxhckJhc2UueGRyLkxlZGdlcktleVRydXN0TGluZSh7XG4gICAgICAgICAgICAgICAgYWNjb3VudElkOiBfc3RlbGxhckJhc2UuS2V5cGFpci5mcm9tUHVibGljS2V5KGFjY291bnQpLnhkckFjY291bnRJZCgpLFxuICAgICAgICAgICAgICAgIGFzc2V0OiBhc3NldC50b1RydXN0TGluZVhEUk9iamVjdCgpXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnAgPSAxO1xuICAgICAgICAgICAgICBfY29udGV4dDMubiA9IDI7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldExlZGdlckVudHJ5KHRydXN0bGluZUxlZGdlcktleSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGVudHJ5ID0gX2NvbnRleHQzLnY7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYSgyLCBlbnRyeS52YWwudHJ1c3RMaW5lKCkpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBfY29udGV4dDMucCA9IDM7XG4gICAgICAgICAgICAgIF90MiA9IF9jb250ZXh0My52O1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnVzdGxpbmUgZm9yIFwiLmNvbmNhdChhc3NldC5nZXRDb2RlKCksIFwiOlwiKS5jb25jYXQoYXNzZXQuZ2V0SXNzdWVyKCksIFwiIG5vdCBmb3VuZCBmb3IgXCIpLmNvbmNhdChhY2NvdW50KSk7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYSgyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzEsIDNdXSk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRUcnVzdGxpbmUoX3gzLCBfeDQpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRUcnVzdGxpbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRUcnVzdGxpbmU7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcImdldENsYWltYWJsZUJhbGFuY2VcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0Q2xhaW1hYmxlQmFsYW5jZSA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTQoaWQpIHtcbiAgICAgICAgdmFyIGJhbGFuY2VJZCwgYnVmZmVyLCB2LCB0cnVzdGxpbmVMZWRnZXJLZXksIGVudHJ5LCBfdDM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucCA9IF9jb250ZXh0NC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGlmICghX3N0ZWxsYXJCYXNlLlN0cktleS5pc1ZhbGlkQ2xhaW1hYmxlQmFsYW5jZShpZCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubiA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnVmZmVyID0gX3N0ZWxsYXJCYXNlLlN0cktleS5kZWNvZGVDbGFpbWFibGVCYWxhbmNlKGlkKTtcbiAgICAgICAgICAgICAgdiA9IEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKFwiXFx4MDBcXHgwMFxceDAwXCIpLCBidWZmZXIuc3ViYXJyYXkoMCwgMSldKTtcbiAgICAgICAgICAgICAgYmFsYW5jZUlkID0gX3N0ZWxsYXJCYXNlLnhkci5DbGFpbWFibGVCYWxhbmNlSWQuZnJvbVhEUihCdWZmZXIuY29uY2F0KFt2LCBidWZmZXIuc3ViYXJyYXkoMSldKSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5uID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGlmICghaWQubWF0Y2goL1thLWYwLTldezcyfS9pKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBiYWxhbmNlSWQgPSBfc3RlbGxhckJhc2UueGRyLkNsYWltYWJsZUJhbGFuY2VJZC5mcm9tWERSKGlkLCBcImhleFwiKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm4gPSA0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgaWYgKCFpZC5tYXRjaCgvW2EtZjAtOV17NjR9L2kpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm4gPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJhbGFuY2VJZCA9IF9zdGVsbGFyQmFzZS54ZHIuQ2xhaW1hYmxlQmFsYW5jZUlkLmZyb21YRFIoaWQucGFkU3RhcnQoNzIsIFwiMFwiKSwgXCJoZXhcIik7XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5uID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RlZCA3Mi1jaGFyIGhleCBJRCBvciBzdHJrZXksIG5vdCBcIi5jb25jYXQoaWQpKTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgdHJ1c3RsaW5lTGVkZ2VyS2V5ID0gX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJLZXkuY2xhaW1hYmxlQmFsYW5jZShuZXcgX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJLZXlDbGFpbWFibGVCYWxhbmNlKHtcbiAgICAgICAgICAgICAgICBiYWxhbmNlSWQ6IGJhbGFuY2VJZFxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5wID0gNTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm4gPSA2O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRMZWRnZXJFbnRyeSh0cnVzdGxpbmVMZWRnZXJLZXkpO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBlbnRyeSA9IF9jb250ZXh0NC52O1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmEoMiwgZW50cnkudmFsLmNsYWltYWJsZUJhbGFuY2UoKSk7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5wID0gNztcbiAgICAgICAgICAgICAgX3QzID0gX2NvbnRleHQ0LnY7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNsYWltYWJsZSBiYWxhbmNlIFwiLmNvbmNhdChpZCwgXCIgbm90IGZvdW5kXCIpKTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hKDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMsIFtbNSwgN11dKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIGdldENsYWltYWJsZUJhbGFuY2UoX3g1KSB7XG4gICAgICAgIHJldHVybiBfZ2V0Q2xhaW1hYmxlQmFsYW5jZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldENsYWltYWJsZUJhbGFuY2U7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcImdldEFzc2V0QmFsYW5jZVwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRBc3NldEJhbGFuY2UgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWU1KGFkZHJlc3MsIGFzc2V0LCBuZXR3b3JrUGFzc3BocmFzZSkge1xuICAgICAgICB2YXIgYWRkciwgX3lpZWxkJFByb21pc2UkYWxsLCBfeWllbGQkUHJvbWlzZSRhbGwyLCB0bCwgbGw7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBhZGRyID0gYWRkcmVzcztcbiAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIGFkZHJlc3MgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFkZHIgPSBhZGRyZXNzO1xuICAgICAgICAgICAgICBfY29udGV4dDUubiA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBpZiAoIShhZGRyZXNzIGluc3RhbmNlb2YgX3N0ZWxsYXJCYXNlLkFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm4gPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFkZHIgPSBhZGRyZXNzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgIF9jb250ZXh0NS5uID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGlmICghKGFkZHJlc3MgaW5zdGFuY2VvZiBfc3RlbGxhckJhc2UuQ29udHJhY3QpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm4gPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFkZHIgPSBhZGRyZXNzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgIF9jb250ZXh0NS5uID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIGFkZHJlc3M6IFwiLmNvbmNhdChhZGRyZXNzKSk7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGlmICghX3N0ZWxsYXJCYXNlLlN0cktleS5pc1ZhbGlkRWQyNTUxOVB1YmxpY0tleShhZGRyKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uID0gNjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY29udGV4dDUubiA9IDU7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRUcnVzdGxpbmUoYWRkciwgYXNzZXQpLCB0aGlzLmdldExhdGVzdExlZGdlcigpXSk7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIF95aWVsZCRQcm9taXNlJGFsbCA9IF9jb250ZXh0NS52O1xuICAgICAgICAgICAgICBfeWllbGQkUHJvbWlzZSRhbGwyID0gX3NsaWNlZFRvQXJyYXkoX3lpZWxkJFByb21pc2UkYWxsLCAyKTtcbiAgICAgICAgICAgICAgdGwgPSBfeWllbGQkUHJvbWlzZSRhbGwyWzBdO1xuICAgICAgICAgICAgICBsbCA9IF95aWVsZCRQcm9taXNlJGFsbDJbMV07XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYSgyLCB7XG4gICAgICAgICAgICAgICAgbGF0ZXN0TGVkZ2VyOiBsbC5zZXF1ZW5jZSxcbiAgICAgICAgICAgICAgICBiYWxhbmNlRW50cnk6IHtcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogdGwuYmFsYW5jZSgpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBhdXRob3JpemVkOiBCb29sZWFuKHRsLmZsYWdzKCkgJiBfc3RlbGxhckJhc2UuQXV0aFJlcXVpcmVkRmxhZyksXG4gICAgICAgICAgICAgICAgICBjbGF3YmFjazogQm9vbGVhbih0bC5mbGFncygpICYgX3N0ZWxsYXJCYXNlLkF1dGhDbGF3YmFja0VuYWJsZWRGbGFnKSxcbiAgICAgICAgICAgICAgICAgIHJldm9jYWJsZTogQm9vbGVhbih0bC5mbGFncygpICYgX3N0ZWxsYXJCYXNlLkF1dGhSZXZvY2FibGVGbGFnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGlmICghX3N0ZWxsYXJCYXNlLlN0cktleS5pc1ZhbGlkQ29udHJhY3QoYWRkcikpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubiA9IDc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hKDIsIHRoaXMuZ2V0U0FDQmFsYW5jZShhZGRyLCBhc3NldCwgbmV0d29ya1Bhc3NwaHJhc2UpKTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBhZGRyZXNzOiBcIi5jb25jYXQoYWRkcmVzcykpO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmEoMik7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRBc3NldEJhbGFuY2UoX3g2LCBfeDcsIF94OCkge1xuICAgICAgICByZXR1cm4gX2dldEFzc2V0QmFsYW5jZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEFzc2V0QmFsYW5jZTtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0SGVhbHRoXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldEhlYWx0aCA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTYoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmEoMiwganNvbnJwYy5wb3N0T2JqZWN0KHRoaXMuaHR0cENsaWVudCwgdGhpcy5zZXJ2ZXJVUkwudG9TdHJpbmcoKSwgXCJnZXRIZWFsdGhcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZ2V0SGVhbHRoKCkge1xuICAgICAgICByZXR1cm4gX2dldEhlYWx0aC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEhlYWx0aDtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q29udHJhY3REYXRhXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldENvbnRyYWN0RGF0YSA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTcoY29udHJhY3QsIGtleSkge1xuICAgICAgICB2YXIgZHVyYWJpbGl0eSxcbiAgICAgICAgICBzY0FkZHJlc3MsXG4gICAgICAgICAgeGRyRHVyYWJpbGl0eSxcbiAgICAgICAgICBjb250cmFjdEtleSxcbiAgICAgICAgICBfYXJnczcgPSBhcmd1bWVudHMsXG4gICAgICAgICAgX3Q0LFxuICAgICAgICAgIF90NTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0Nykge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ny5wID0gX2NvbnRleHQ3Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgZHVyYWJpbGl0eSA9IF9hcmdzNy5sZW5ndGggPiAyICYmIF9hcmdzN1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3WzJdIDogRHVyYWJpbGl0eS5QZXJzaXN0ZW50O1xuICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgY29udHJhY3QgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNjQWRkcmVzcyA9IG5ldyBfc3RlbGxhckJhc2UuQ29udHJhY3QoY29udHJhY3QpLmFkZHJlc3MoKS50b1NjQWRkcmVzcygpO1xuICAgICAgICAgICAgICBfY29udGV4dDcubiA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBpZiAoIShjb250cmFjdCBpbnN0YW5jZW9mIF9zdGVsbGFyQmFzZS5BZGRyZXNzKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzY0FkZHJlc3MgPSBjb250cmFjdC50b1NjQWRkcmVzcygpO1xuICAgICAgICAgICAgICBfY29udGV4dDcubiA9IDQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBpZiAoIShjb250cmFjdCBpbnN0YW5jZW9mIF9zdGVsbGFyQmFzZS5Db250cmFjdCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDcubiA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2NBZGRyZXNzID0gY29udHJhY3QuYWRkcmVzcygpLnRvU2NBZGRyZXNzKCk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Ny5uID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ1bmtub3duIGNvbnRyYWN0IHR5cGU6IFwiLmNvbmNhdChjb250cmFjdCkpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBfdDQgPSBkdXJhYmlsaXR5O1xuICAgICAgICAgICAgICBfY29udGV4dDcubiA9IF90NCA9PT0gRHVyYWJpbGl0eS5UZW1wb3JhcnkgPyA1IDogX3Q0ID09PSBEdXJhYmlsaXR5LlBlcnNpc3RlbnQgPyA2IDogNztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIHhkckR1cmFiaWxpdHkgPSBfc3RlbGxhckJhc2UueGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkudGVtcG9yYXJ5KCk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYSgzLCA4KTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgeGRyRHVyYWJpbGl0eSA9IF9zdGVsbGFyQmFzZS54ZHIuQ29udHJhY3REYXRhRHVyYWJpbGl0eS5wZXJzaXN0ZW50KCk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYSgzLCA4KTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImludmFsaWQgZHVyYWJpbGl0eTogXCIuY29uY2F0KGR1cmFiaWxpdHkpKTtcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgY29udHJhY3RLZXkgPSBfc3RlbGxhckJhc2UueGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IF9zdGVsbGFyQmFzZS54ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICBjb250cmFjdDogc2NBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkckR1cmFiaWxpdHlcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBfY29udGV4dDcucCA9IDk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Ny5uID0gMTA7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldExlZGdlckVudHJ5KGNvbnRyYWN0S2V5KTtcbiAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYSgyLCBfY29udGV4dDcudik7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBfY29udGV4dDcucCA9IDExO1xuICAgICAgICAgICAgICBfdDUgPSBfY29udGV4dDcudjtcbiAgICAgICAgICAgICAgdGhyb3cge1xuICAgICAgICAgICAgICAgIGNvZGU6IDQwNCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNvbnRyYWN0IGRhdGEgbm90IGZvdW5kIGZvciBcIi5jb25jYXQoX3N0ZWxsYXJCYXNlLkFkZHJlc3MuZnJvbVNjQWRkcmVzcyhzY0FkZHJlc3MpLnRvU3RyaW5nKCksIFwiIHdpdGgga2V5IFwiKS5jb25jYXQoa2V5LnRvWERSKFwiYmFzZTY0XCIpLCBcIiBhbmQgZHVyYWJpbGl0eTogXCIpLmNvbmNhdChkdXJhYmlsaXR5KVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hKDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMsIFtbOSwgMTFdXSk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRDb250cmFjdERhdGEoX3g5LCBfeDApIHtcbiAgICAgICAgcmV0dXJuIF9nZXRDb250cmFjdERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRDb250cmFjdERhdGE7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcImdldENvbnRyYWN0V2FzbUJ5Q29udHJhY3RJZFwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRDb250cmFjdFdhc21CeUNvbnRyYWN0SWQgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWU4KGNvbnRyYWN0SWQpIHtcbiAgICAgICAgdmFyIF9yZXNwb25zZSRlbnRyaWVzJDtcbiAgICAgICAgdmFyIGNvbnRyYWN0TGVkZ2VyS2V5LCByZXNwb25zZSwgd2FzbUhhc2g7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBjb250cmFjdExlZGdlcktleSA9IG5ldyBfc3RlbGxhckJhc2UuQ29udHJhY3QoY29udHJhY3RJZCkuZ2V0Rm9vdHByaW50KCk7XG4gICAgICAgICAgICAgIF9jb250ZXh0OC5uID0gMTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVkZ2VyRW50cmllcyhjb250cmFjdExlZGdlcktleSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ4LnY7XG4gICAgICAgICAgICAgIGlmICghKCFyZXNwb25zZS5lbnRyaWVzLmxlbmd0aCB8fCAhKChfcmVzcG9uc2UkZW50cmllcyQgPSByZXNwb25zZS5lbnRyaWVzWzBdKSAhPT0gbnVsbCAmJiBfcmVzcG9uc2UkZW50cmllcyQgIT09IHZvaWQgMCAmJiBfcmVzcG9uc2UkZW50cmllcyQudmFsKSkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDgubiA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hKDIsIFByb21pc2UucmVqZWN0KHtcbiAgICAgICAgICAgICAgICBjb2RlOiA0MDQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb3VsZCBub3Qgb2J0YWluIGNvbnRyYWN0IGhhc2ggZnJvbSBzZXJ2ZXJcIlxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHdhc21IYXNoID0gcmVzcG9uc2UuZW50cmllc1swXS52YWwuY29udHJhY3REYXRhKCkudmFsKCkuaW5zdGFuY2UoKS5leGVjdXRhYmxlKCkud2FzbUhhc2goKTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hKDIsIHRoaXMuZ2V0Q29udHJhY3RXYXNtQnlIYXNoKHdhc21IYXNoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRDb250cmFjdFdhc21CeUNvbnRyYWN0SWQoX3gxKSB7XG4gICAgICAgIHJldHVybiBfZ2V0Q29udHJhY3RXYXNtQnlDb250cmFjdElkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0Q29udHJhY3RXYXNtQnlDb250cmFjdElkO1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJnZXRDb250cmFjdFdhc21CeUhhc2hcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0Q29udHJhY3RXYXNtQnlIYXNoID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlOSh3YXNtSGFzaCkge1xuICAgICAgICB2YXIgX3Jlc3BvbnNlV2FzbSRlbnRyaWVzO1xuICAgICAgICB2YXIgZm9ybWF0LFxuICAgICAgICAgIHdhc21IYXNoQnVmZmVyLFxuICAgICAgICAgIGxlZGdlcktleVdhc21IYXNoLFxuICAgICAgICAgIHJlc3BvbnNlV2FzbSxcbiAgICAgICAgICB3YXNtQnVmZmVyLFxuICAgICAgICAgIF9hcmdzOSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0OSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0OS5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGZvcm1hdCA9IF9hcmdzOS5sZW5ndGggPiAxICYmIF9hcmdzOVsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M5WzFdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB3YXNtSGFzaEJ1ZmZlciA9IHR5cGVvZiB3YXNtSGFzaCA9PT0gXCJzdHJpbmdcIiA/IEJ1ZmZlci5mcm9tKHdhc21IYXNoLCBmb3JtYXQpIDogd2FzbUhhc2g7XG4gICAgICAgICAgICAgIGxlZGdlcktleVdhc21IYXNoID0gX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJLZXkuY29udHJhY3RDb2RlKG5ldyBfc3RlbGxhckJhc2UueGRyLkxlZGdlcktleUNvbnRyYWN0Q29kZSh7XG4gICAgICAgICAgICAgICAgaGFzaDogd2FzbUhhc2hCdWZmZXJcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBfY29udGV4dDkubiA9IDE7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldExlZGdlckVudHJpZXMobGVkZ2VyS2V5V2FzbUhhc2gpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICByZXNwb25zZVdhc20gPSBfY29udGV4dDkudjtcbiAgICAgICAgICAgICAgaWYgKCEoIXJlc3BvbnNlV2FzbS5lbnRyaWVzLmxlbmd0aCB8fCAhKChfcmVzcG9uc2VXYXNtJGVudHJpZXMgPSByZXNwb25zZVdhc20uZW50cmllc1swXSkgIT09IG51bGwgJiYgX3Jlc3BvbnNlV2FzbSRlbnRyaWVzICE9PSB2b2lkIDAgJiYgX3Jlc3BvbnNlV2FzbSRlbnRyaWVzLnZhbCkpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm4gPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYSgyLCBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgICAgICAgICAgY29kZTogNDA0LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ291bGQgbm90IG9idGFpbiBjb250cmFjdCB3YXNtIGZyb20gc2VydmVyXCJcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICB3YXNtQnVmZmVyID0gcmVzcG9uc2VXYXNtLmVudHJpZXNbMF0udmFsLmNvbnRyYWN0Q29kZSgpLmNvZGUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hKDIsIHdhc21CdWZmZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTksIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZ2V0Q29udHJhY3RXYXNtQnlIYXNoKF94MTApIHtcbiAgICAgICAgcmV0dXJuIF9nZXRDb250cmFjdFdhc21CeUhhc2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRDb250cmFjdFdhc21CeUhhc2g7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcImdldExlZGdlckVudHJpZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGVkZ2VyRW50cmllcygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRMZWRnZXJFbnRyaWVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykudGhlbihfcGFyc2Vycy5wYXJzZVJhd0xlZGdlckVudHJpZXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0TGVkZ2VyRW50cmllc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TGVkZ2VyRW50cmllcygpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBrZXlzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBrZXlzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGpzb25ycGMucG9zdE9iamVjdCh0aGlzLmh0dHBDbGllbnQsIHRoaXMuc2VydmVyVVJMLnRvU3RyaW5nKCksIFwiZ2V0TGVkZ2VyRW50cmllc1wiLCB7XG4gICAgICAgIGtleXM6IGtleXMubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIGsudG9YRFIoXCJiYXNlNjRcIik7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TGVkZ2VyRW50cnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRMZWRnZXJFbnRyeSA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTAoa2V5KSB7XG4gICAgICAgIHZhciByZXN1bHRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQwLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgX2NvbnRleHQwLm4gPSAxO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TGVkZ2VyRW50cmllcyhrZXkpLnRoZW4oX3BhcnNlcnMucGFyc2VSYXdMZWRnZXJFbnRyaWVzKTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgcmVzdWx0cyA9IF9jb250ZXh0MC52O1xuICAgICAgICAgICAgICBpZiAoIShyZXN1bHRzLmVudHJpZXMubGVuZ3RoICE9PSAxKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MC5uID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gZmluZCBhbiBlbnRyeSBmb3Iga2V5IFwiLmNvbmNhdChrZXkudG9YRFIoXCJiYXNlNjRcIikpKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MC5hKDIsIHJlc3VsdHMuZW50cmllc1swXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRMZWRnZXJFbnRyeShfeDExKSB7XG4gICAgICAgIHJldHVybiBfZ2V0TGVkZ2VyRW50cnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRMZWRnZXJFbnRyeTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJwb2xsVHJhbnNhY3Rpb25cIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcG9sbFRyYW5zYWN0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMShoYXNoLCBvcHRzKSB7XG4gICAgICAgIHZhciBfb3B0cyRhdHRlbXB0cywgX29wdHMkYXR0ZW1wdHMyO1xuICAgICAgICB2YXIgbWF4QXR0ZW1wdHMsIGZvdW5kSW5mbywgYXR0ZW1wdCwgX29wdHMkc2xlZXBTdHJhdGVneTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MS5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIG1heEF0dGVtcHRzID0gKChfb3B0cyRhdHRlbXB0cyA9IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5hdHRlbXB0cykgIT09IG51bGwgJiYgX29wdHMkYXR0ZW1wdHMgIT09IHZvaWQgMCA/IF9vcHRzJGF0dGVtcHRzIDogMCkgPCAxID8gREVGQVVMVF9HRVRfVFJBTlNBQ1RJT05fVElNRU9VVCA6IChfb3B0cyRhdHRlbXB0czIgPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuYXR0ZW1wdHMpICE9PSBudWxsICYmIF9vcHRzJGF0dGVtcHRzMiAhPT0gdm9pZCAwID8gX29wdHMkYXR0ZW1wdHMyIDogREVGQVVMVF9HRVRfVFJBTlNBQ1RJT05fVElNRU9VVDtcbiAgICAgICAgICAgICAgYXR0ZW1wdCA9IDE7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGlmICghKGF0dGVtcHQgPCBtYXhBdHRlbXB0cykpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEubiA9IDU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQxLm4gPSAyO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUcmFuc2FjdGlvbihoYXNoKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgZm91bmRJbmZvID0gX2NvbnRleHQxLnY7XG4gICAgICAgICAgICAgIGlmICghKGZvdW5kSW5mby5zdGF0dXMgIT09IF9hcGkuQXBpLkdldFRyYW5zYWN0aW9uU3RhdHVzLk5PVF9GT1VORCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEubiA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MS5hKDIsIGZvdW5kSW5mbyk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF9jb250ZXh0MS5uID0gNDtcbiAgICAgICAgICAgICAgcmV0dXJuIF91dGlscy5VdGlscy5zbGVlcCgoKF9vcHRzJHNsZWVwU3RyYXRlZ3kgPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuc2xlZXBTdHJhdGVneSkgIT09IG51bGwgJiYgX29wdHMkc2xlZXBTdHJhdGVneSAhPT0gdm9pZCAwID8gX29wdHMkc2xlZXBTdHJhdGVneSA6IEJhc2ljU2xlZXBTdHJhdGVneSkoYXR0ZW1wdCkpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBhdHRlbXB0Kys7XG4gICAgICAgICAgICAgIF9jb250ZXh0MS5uID0gMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEuYSgyLCBmb3VuZEluZm8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gcG9sbFRyYW5zYWN0aW9uKF94MTIsIF94MTMpIHtcbiAgICAgICAgcmV0dXJuIF9wb2xsVHJhbnNhY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwb2xsVHJhbnNhY3Rpb247XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcImdldFRyYW5zYWN0aW9uXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldFRyYW5zYWN0aW9uMiA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTEwKGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MTApIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEwLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYSgyLCB0aGlzLl9nZXRUcmFuc2FjdGlvbihoYXNoKS50aGVuKGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmRJbmZvID0ge307XG4gICAgICAgICAgICAgICAgaWYgKHJhdy5zdGF0dXMgIT09IF9hcGkuQXBpLkdldFRyYW5zYWN0aW9uU3RhdHVzLk5PVF9GT1VORCkge1xuICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihmb3VuZEluZm8sICgwLCBfcGFyc2Vycy5wYXJzZVRyYW5zYWN0aW9uSW5mbykocmF3KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogcmF3LnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgIHR4SGFzaDogaGFzaCxcbiAgICAgICAgICAgICAgICAgIGxhdGVzdExlZGdlcjogcmF3LmxhdGVzdExlZGdlcixcbiAgICAgICAgICAgICAgICAgIGxhdGVzdExlZGdlckNsb3NlVGltZTogcmF3LmxhdGVzdExlZGdlckNsb3NlVGltZSxcbiAgICAgICAgICAgICAgICAgIG9sZGVzdExlZGdlcjogcmF3Lm9sZGVzdExlZGdlcixcbiAgICAgICAgICAgICAgICAgIG9sZGVzdExlZGdlckNsb3NlVGltZTogcmF3Lm9sZGVzdExlZGdlckNsb3NlVGltZVxuICAgICAgICAgICAgICAgIH0sIGZvdW5kSW5mbyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEwLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uKF94MTQpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRUcmFuc2FjdGlvbjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRUcmFuc2FjdGlvbjtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFRyYW5zYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0VHJhbnNhY3Rpb24zID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMTEoaGFzaCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQxMSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTEubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hKDIsIGpzb25ycGMucG9zdE9iamVjdCh0aGlzLmh0dHBDbGllbnQsIHRoaXMuc2VydmVyVVJMLnRvU3RyaW5nKCksIFwiZ2V0VHJhbnNhY3Rpb25cIiwge1xuICAgICAgICAgICAgICAgIGhhc2g6IGhhc2hcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIF9nZXRUcmFuc2FjdGlvbihfeDE1KSB7XG4gICAgICAgIHJldHVybiBfZ2V0VHJhbnNhY3Rpb24zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2dldFRyYW5zYWN0aW9uO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldFRyYW5zYWN0aW9uc1wiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRUcmFuc2FjdGlvbnMyID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMTIocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQxMikge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTIubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hKDIsIHRoaXMuX2dldFRyYW5zYWN0aW9ucyhyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiAocmF3LnRyYW5zYWN0aW9ucyB8fCBbXSkubWFwKF9wYXJzZXJzLnBhcnNlUmF3VHJhbnNhY3Rpb25zKSxcbiAgICAgICAgICAgICAgICAgIGxhdGVzdExlZGdlcjogcmF3LmxhdGVzdExlZGdlcixcbiAgICAgICAgICAgICAgICAgIGxhdGVzdExlZGdlckNsb3NlVGltZXN0YW1wOiByYXcubGF0ZXN0TGVkZ2VyQ2xvc2VUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICBvbGRlc3RMZWRnZXI6IHJhdy5vbGRlc3RMZWRnZXIsXG4gICAgICAgICAgICAgICAgICBvbGRlc3RMZWRnZXJDbG9zZVRpbWVzdGFtcDogcmF3Lm9sZGVzdExlZGdlckNsb3NlVGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiByYXcuY3Vyc29yXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTIsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25zKF94MTYpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRUcmFuc2FjdGlvbnMyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0VHJhbnNhY3Rpb25zO1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJfZ2V0VHJhbnNhY3Rpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0VHJhbnNhY3Rpb25zMyA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTEzKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDEzLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYSgyLCBqc29ucnBjLnBvc3RPYmplY3QodGhpcy5odHRwQ2xpZW50LCB0aGlzLnNlcnZlclVSTC50b1N0cmluZygpLCBcImdldFRyYW5zYWN0aW9uc1wiLCByZXF1ZXN0KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTMsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gX2dldFRyYW5zYWN0aW9ucyhfeDE3KSB7XG4gICAgICAgIHJldHVybiBfZ2V0VHJhbnNhY3Rpb25zMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9nZXRUcmFuc2FjdGlvbnM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RXZlbnRzXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldEV2ZW50czIgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUxNChyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDE0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxNC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmEoMiwgdGhpcy5fZ2V0RXZlbnRzKHJlcXVlc3QpLnRoZW4oX3BhcnNlcnMucGFyc2VSYXdFdmVudHMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRFdmVudHMoX3gxOCkge1xuICAgICAgICByZXR1cm4gX2dldEV2ZW50czIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRFdmVudHM7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRFdmVudHMzID0gX2FzeW5jVG9HZW5lcmF0b3IoX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMTUocmVxdWVzdCkge1xuICAgICAgICB2YXIgX3JlcXVlc3QkZmlsdGVycztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MTUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE1Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYSgyLCBqc29ucnBjLnBvc3RPYmplY3QodGhpcy5odHRwQ2xpZW50LCB0aGlzLnNlcnZlclVSTC50b1N0cmluZygpLCBcImdldEV2ZW50c1wiLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgIGZpbHRlcnM6IChfcmVxdWVzdCRmaWx0ZXJzID0gcmVxdWVzdC5maWx0ZXJzKSAhPT0gbnVsbCAmJiBfcmVxdWVzdCRmaWx0ZXJzICE9PSB2b2lkIDAgPyBfcmVxdWVzdCRmaWx0ZXJzIDogW10sXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXF1ZXN0LmN1cnNvciAmJiB7XG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IHJlcXVlc3QuY3Vyc29yXG4gICAgICAgICAgICAgICAgfSksIHJlcXVlc3QubGltaXQgJiYge1xuICAgICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QubGltaXRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9LCByZXF1ZXN0LnN0YXJ0TGVkZ2VyICYmIHtcbiAgICAgICAgICAgICAgICBzdGFydExlZGdlcjogcmVxdWVzdC5zdGFydExlZGdlclxuICAgICAgICAgICAgICB9KSwgcmVxdWVzdC5lbmRMZWRnZXIgJiYge1xuICAgICAgICAgICAgICAgIGVuZExlZGdlcjogcmVxdWVzdC5lbmRMZWRnZXJcbiAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNSwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBfZ2V0RXZlbnRzKF94MTkpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRFdmVudHMzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2dldEV2ZW50cztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJnZXROZXR3b3JrXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldE5ldHdvcmsgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MTYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE2Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYSgyLCBqc29ucnBjLnBvc3RPYmplY3QodGhpcy5odHRwQ2xpZW50LCB0aGlzLnNlcnZlclVSTC50b1N0cmluZygpLCBcImdldE5ldHdvcmtcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE2LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIGdldE5ldHdvcmsoKSB7XG4gICAgICAgIHJldHVybiBfZ2V0TmV0d29yay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldE5ldHdvcms7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcImdldExhdGVzdExlZGdlclwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRMYXRlc3RMZWRnZXIgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MTcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE3Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYSgyLCBqc29ucnBjLnBvc3RPYmplY3QodGhpcy5odHRwQ2xpZW50LCB0aGlzLnNlcnZlclVSTC50b1N0cmluZygpLCBcImdldExhdGVzdExlZGdlclwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTcsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gZ2V0TGF0ZXN0TGVkZ2VyKCkge1xuICAgICAgICByZXR1cm4gX2dldExhdGVzdExlZGdlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldExhdGVzdExlZGdlcjtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwic2ltdWxhdGVUcmFuc2FjdGlvblwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zaW11bGF0ZVRyYW5zYWN0aW9uMiA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTE4KHR4LCBhZGRsUmVzb3VyY2VzLCBhdXRoTW9kZSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQxOCkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTgubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hKDIsIHRoaXMuX3NpbXVsYXRlVHJhbnNhY3Rpb24odHgsIGFkZGxSZXNvdXJjZXMsIGF1dGhNb2RlKS50aGVuKF9wYXJzZXJzLnBhcnNlUmF3U2ltdWxhdGlvbikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE4LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIHNpbXVsYXRlVHJhbnNhY3Rpb24oX3gyMCwgX3gyMSwgX3gyMikge1xuICAgICAgICByZXR1cm4gX3NpbXVsYXRlVHJhbnNhY3Rpb24yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2ltdWxhdGVUcmFuc2FjdGlvbjtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiX3NpbXVsYXRlVHJhbnNhY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zaW11bGF0ZVRyYW5zYWN0aW9uMyA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTE5KHRyYW5zYWN0aW9uLCBhZGRsUmVzb3VyY2VzLCBhdXRoTW9kZSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQxOSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTkubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5hKDIsIGpzb25ycGMucG9zdE9iamVjdCh0aGlzLmh0dHBDbGllbnQsIHRoaXMuc2VydmVyVVJMLnRvU3RyaW5nKCksIFwic2ltdWxhdGVUcmFuc2FjdGlvblwiLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbjogdHJhbnNhY3Rpb24udG9YRFIoKSxcbiAgICAgICAgICAgICAgICBhdXRoTW9kZTogYXV0aE1vZGVcbiAgICAgICAgICAgICAgfSwgYWRkbFJlc291cmNlcyAhPT0gdW5kZWZpbmVkICYmIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZUNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25MZWV3YXk6IGFkZGxSZXNvdXJjZXMuY3B1SW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE5LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIF9zaW11bGF0ZVRyYW5zYWN0aW9uKF94MjMsIF94MjQsIF94MjUpIHtcbiAgICAgICAgcmV0dXJuIF9zaW11bGF0ZVRyYW5zYWN0aW9uMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9zaW11bGF0ZVRyYW5zYWN0aW9uO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInByZXBhcmVUcmFuc2FjdGlvblwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9wcmVwYXJlVHJhbnNhY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUyMCh0eCkge1xuICAgICAgICB2YXIgc2ltUmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyMC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF9jb250ZXh0MjAubiA9IDE7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnNpbXVsYXRlVHJhbnNhY3Rpb24odHgpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBzaW1SZXNwb25zZSA9IF9jb250ZXh0MjAudjtcbiAgICAgICAgICAgICAgaWYgKCFfYXBpLkFwaS5pc1NpbXVsYXRpb25FcnJvcihzaW1SZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm4gPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzaW1SZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmEoMiwgKDAsIF90cmFuc2FjdGlvbi5hc3NlbWJsZVRyYW5zYWN0aW9uKSh0eCwgc2ltUmVzcG9uc2UpLmJ1aWxkKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIwLCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVUcmFuc2FjdGlvbihfeDI2KSB7XG4gICAgICAgIHJldHVybiBfcHJlcGFyZVRyYW5zYWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJlcGFyZVRyYW5zYWN0aW9uO1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJzZW5kVHJhbnNhY3Rpb25cIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2VuZFRyYW5zYWN0aW9uMiA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTIxKHRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyMS5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLmEoMiwgdGhpcy5fc2VuZFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKS50aGVuKF9wYXJzZXJzLnBhcnNlUmF3U2VuZFRyYW5zYWN0aW9uKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjEsIHRoaXMpO1xuICAgICAgfSkpO1xuICAgICAgZnVuY3Rpb24gc2VuZFRyYW5zYWN0aW9uKF94MjcpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kVHJhbnNhY3Rpb24yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VuZFRyYW5zYWN0aW9uO1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJfc2VuZFRyYW5zYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2VuZFRyYW5zYWN0aW9uMyA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTIyKHRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyMi5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLmEoMiwganNvbnJwYy5wb3N0T2JqZWN0KHRoaXMuaHR0cENsaWVudCwgdGhpcy5zZXJ2ZXJVUkwudG9TdHJpbmcoKSwgXCJzZW5kVHJhbnNhY3Rpb25cIiwge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uOiB0cmFuc2FjdGlvbi50b1hEUigpXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMiwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBfc2VuZFRyYW5zYWN0aW9uKF94MjgpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kVHJhbnNhY3Rpb24zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3NlbmRUcmFuc2FjdGlvbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJyZXF1ZXN0QWlyZHJvcFwiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXF1ZXN0QWlyZHJvcCA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTIzKGFkZHJlc3MsIGZyaWVuZGJvdFVybCkge1xuICAgICAgICB2YXIgYWNjb3VudCwgcmVzcG9uc2UsIG1ldGEsIHR4TWV0YSwgc2VxdWVuY2UsIF9lcnJvciRyZXNwb25zZSwgX2Vycm9yJHJlc3BvbnNlJGRldGFpLCBfdDYsIF90NztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MjMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIzLnAgPSBfY29udGV4dDIzLm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgYWNjb3VudCA9IHR5cGVvZiBhZGRyZXNzID09PSBcInN0cmluZ1wiID8gYWRkcmVzcyA6IGFkZHJlc3MuYWNjb3VudElkKCk7XG4gICAgICAgICAgICAgIF90NiA9IGZyaWVuZGJvdFVybDtcbiAgICAgICAgICAgICAgaWYgKF90Nikge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubiA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NvbnRleHQyMy5uID0gMTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmV0d29yaygpO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBfdDYgPSBfY29udGV4dDIzLnYuZnJpZW5kYm90VXJsO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBmcmllbmRib3RVcmwgPSBfdDY7XG4gICAgICAgICAgICAgIGlmIChmcmllbmRib3RVcmwpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm4gPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZyaWVuZGJvdCBVUkwgY29uZmlndXJlZCBmb3IgY3VycmVudCBuZXR3b3JrXCIpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBfY29udGV4dDIzLnAgPSAzO1xuICAgICAgICAgICAgICBfY29udGV4dDIzLm4gPSA0O1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LnBvc3QoXCJcIi5jb25jYXQoZnJpZW5kYm90VXJsLCBcIj9hZGRyPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGFjY291bnQpKSk7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyMy52O1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHRfbWV0YV94ZHIpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm4gPSA3O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jb250ZXh0MjMubiA9IDU7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRyYW5zYWN0aW9uKHJlc3BvbnNlLmRhdGEuaGFzaCk7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIHR4TWV0YSA9IF9jb250ZXh0MjMudjtcbiAgICAgICAgICAgICAgaWYgKCEodHhNZXRhLnN0YXR1cyAhPT0gX2FwaS5BcGkuR2V0VHJhbnNhY3Rpb25TdGF0dXMuU1VDQ0VTUykpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm4gPSA2O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZ1bmRpbmcgYWNjb3VudCBcIi5jb25jYXQoYWRkcmVzcywgXCIgZmFpbGVkXCIpKTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgbWV0YSA9IHR4TWV0YS5yZXN1bHRNZXRhWGRyO1xuICAgICAgICAgICAgICBfY29udGV4dDIzLm4gPSA4O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgbWV0YSA9IF9zdGVsbGFyQmFzZS54ZHIuVHJhbnNhY3Rpb25NZXRhLmZyb21YRFIocmVzcG9uc2UuZGF0YS5yZXN1bHRfbWV0YV94ZHIsIFwiYmFzZTY0XCIpO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBzZXF1ZW5jZSA9IGZpbmRDcmVhdGVkQWNjb3VudFNlcXVlbmNlSW5UcmFuc2FjdGlvbk1ldGEobWV0YSk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLmEoMiwgbmV3IF9zdGVsbGFyQmFzZS5BY2NvdW50KGFjY291bnQsIHNlcXVlbmNlKSk7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIF9jb250ZXh0MjMucCA9IDk7XG4gICAgICAgICAgICAgIF90NyA9IF9jb250ZXh0MjMudjtcbiAgICAgICAgICAgICAgaWYgKCEoKChfZXJyb3IkcmVzcG9uc2UgPSBfdDcucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlLnN0YXR1cykgPT09IDQwMCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm4gPSAxMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoISgoX2Vycm9yJHJlc3BvbnNlJGRldGFpID0gX3Q3LnJlc3BvbnNlLmRldGFpbCkgIT09IG51bGwgJiYgX2Vycm9yJHJlc3BvbnNlJGRldGFpICE9PSB2b2lkIDAgJiYgX2Vycm9yJHJlc3BvbnNlJGRldGFpLmluY2x1ZGVzKFwiY3JlYXRlQWNjb3VudEFscmVhZHlFeGlzdFwiKSkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm4gPSAxMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5hKDIsIHRoaXMuZ2V0QWNjb3VudChhY2NvdW50KSk7XG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICB0aHJvdyBfdDc7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5hKDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIzLCB0aGlzLCBbWzMsIDldXSk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiByZXF1ZXN0QWlyZHJvcChfeDI5LCBfeDMwKSB7XG4gICAgICAgIHJldHVybiBfcmVxdWVzdEFpcmRyb3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXF1ZXN0QWlyZHJvcDtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RmVlU3RhdHNcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0RmVlU3RhdHMgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MjQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDI0Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuYSgyLCBqc29ucnBjLnBvc3RPYmplY3QodGhpcy5odHRwQ2xpZW50LCB0aGlzLnNlcnZlclVSTC50b1N0cmluZygpLCBcImdldEZlZVN0YXRzXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRGZWVTdGF0cygpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRGZWVTdGF0cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEZlZVN0YXRzO1xuICAgIH0oKSlcbiAgfSwge1xuICAgIGtleTogXCJnZXRWZXJzaW9uSW5mb1wiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRWZXJzaW9uSW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTI1KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQyNSkge1xuICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MjUubikge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5hKDIsIGpzb25ycGMucG9zdE9iamVjdCh0aGlzLmh0dHBDbGllbnQsIHRoaXMuc2VydmVyVVJMLnRvU3RyaW5nKCksIFwiZ2V0VmVyc2lvbkluZm9cIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI1LCB0aGlzKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIGdldFZlcnNpb25JbmZvKCkge1xuICAgICAgICByZXR1cm4gX2dldFZlcnNpb25JbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0VmVyc2lvbkluZm87XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcImdldFNBQ0JhbGFuY2VcIixcbiAgICB2YWx1ZTogKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0U0FDQmFsYW5jZSA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTI2KGFkZHJlc3MsIHNhYywgbmV0d29ya1Bhc3NwaHJhc2UpIHtcbiAgICAgICAgdmFyIGFkZHJlc3NTdHJpbmcsIHBhc3NwaHJhc2UsIHNhY0lkLCBrZXksIGxlZGdlcktleSwgcmVzcG9uc2UsIF9yZXNwb25zZSRlbnRyaWVzJDIsIGxhc3RNb2RpZmllZExlZGdlclNlcSwgbGl2ZVVudGlsTGVkZ2VyU2VxLCB2YWwsIGVudHJ5LCBfdDg7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDI2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyNi5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGFkZHJlc3NTdHJpbmcgPSBhZGRyZXNzIGluc3RhbmNlb2YgX3N0ZWxsYXJCYXNlLkFkZHJlc3MgPyBhZGRyZXNzLnRvU3RyaW5nKCkgOiBhZGRyZXNzO1xuICAgICAgICAgICAgICBpZiAoX3N0ZWxsYXJCYXNlLlN0cktleS5pc1ZhbGlkQ29udHJhY3QoYWRkcmVzc1N0cmluZykpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm4gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RlZCBjb250cmFjdCBJRCwgZ290IFwiLmNvbmNhdChhZGRyZXNzU3RyaW5nKSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGlmICghKG5ldHdvcmtQYXNzcGhyYXNlICE9PSBudWxsICYmIG5ldHdvcmtQYXNzcGhyYXNlICE9PSB2b2lkIDApKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdDggPSBuZXR3b3JrUGFzc3BocmFzZTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyNi5uID0gNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIF9jb250ZXh0MjYubiA9IDM7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE5ldHdvcmsoKS50aGVuKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ucGFzc3BocmFzZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIF90OCA9IF9jb250ZXh0MjYudjtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgcGFzc3BocmFzZSA9IF90ODtcbiAgICAgICAgICAgICAgc2FjSWQgPSBzYWMuY29udHJhY3RJZChwYXNzcGhyYXNlKTtcbiAgICAgICAgICAgICAga2V5ID0gKDAsIF9zdGVsbGFyQmFzZS5uYXRpdmVUb1NjVmFsKShbXCJCYWxhbmNlXCIsIGFkZHJlc3NTdHJpbmddLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogW1wic3ltYm9sXCIsIFwiYWRkcmVzc1wiXVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbGVkZ2VyS2V5ID0gX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyBfc3RlbGxhckJhc2UueGRyLkxlZGdlcktleUNvbnRyYWN0RGF0YSh7XG4gICAgICAgICAgICAgICAgY29udHJhY3Q6IG5ldyBfc3RlbGxhckJhc2UuQWRkcmVzcyhzYWNJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgICAgICBkdXJhYmlsaXR5OiBfc3RlbGxhckJhc2UueGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICAgICAgICAgIGtleToga2V5XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyNi5uID0gNTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVkZ2VyRW50cmllcyhsZWRnZXJLZXkpO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MjYudjtcbiAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2UuZW50cmllcy5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uID0gNjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hKDIsIHtcbiAgICAgICAgICAgICAgICBsYXRlc3RMZWRnZXI6IHJlc3BvbnNlLmxhdGVzdExlZGdlclxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgX3Jlc3BvbnNlJGVudHJpZXMkMiA9IHJlc3BvbnNlLmVudHJpZXNbMF0sIGxhc3RNb2RpZmllZExlZGdlclNlcSA9IF9yZXNwb25zZSRlbnRyaWVzJDIubGFzdE1vZGlmaWVkTGVkZ2VyU2VxLCBsaXZlVW50aWxMZWRnZXJTZXEgPSBfcmVzcG9uc2UkZW50cmllcyQyLmxpdmVVbnRpbExlZGdlclNlcSwgdmFsID0gX3Jlc3BvbnNlJGVudHJpZXMkMi52YWw7XG4gICAgICAgICAgICAgIGlmICghKHZhbC5zd2l0Y2goKS52YWx1ZSAhPT0gX3N0ZWxsYXJCYXNlLnhkci5MZWRnZXJFbnRyeVR5cGUuY29udHJhY3REYXRhKCkudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uID0gNztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hKDIsIHtcbiAgICAgICAgICAgICAgICBsYXRlc3RMZWRnZXI6IHJlc3BvbnNlLmxhdGVzdExlZGdlclxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgZW50cnkgPSAoMCwgX3N0ZWxsYXJCYXNlLnNjVmFsVG9OYXRpdmUpKHZhbC5jb250cmFjdERhdGEoKS52YWwoKSk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LmEoMiwge1xuICAgICAgICAgICAgICAgIGxhdGVzdExlZGdlcjogcmVzcG9uc2UubGF0ZXN0TGVkZ2VyLFxuICAgICAgICAgICAgICAgIGJhbGFuY2VFbnRyeToge1xuICAgICAgICAgICAgICAgICAgbGl2ZVVudGlsTGVkZ2VyU2VxOiBsaXZlVW50aWxMZWRnZXJTZXEsXG4gICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWRMZWRnZXJTZXE6IGxhc3RNb2RpZmllZExlZGdlclNlcSxcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogZW50cnkuYW1vdW50LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBhdXRob3JpemVkOiBlbnRyeS5hdXRob3JpemVkLFxuICAgICAgICAgICAgICAgICAgY2xhd2JhY2s6IGVudHJ5LmNsYXdiYWNrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNiwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRTQUNCYWxhbmNlKF94MzEsIF94MzIsIF94MzMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRTQUNCYWxhbmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0U0FDQmFsYW5jZTtcbiAgICB9KCkpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TGVkZ2Vyc1wiLFxuICAgIHZhbHVlOiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRMZWRnZXJzMiA9IF9hc3luY1RvR2VuZXJhdG9yKF9yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTI3KHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0MjcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDI3Lm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjcuYSgyLCB0aGlzLl9nZXRMZWRnZXJzKHJlcXVlc3QpLnRoZW4oZnVuY3Rpb24gKHJhdykge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICBsZWRnZXJzOiAocmF3LmxlZGdlcnMgfHwgW10pLm1hcChfcGFyc2Vycy5wYXJzZVJhd0xlZGdlciksXG4gICAgICAgICAgICAgICAgICBsYXRlc3RMZWRnZXI6IHJhdy5sYXRlc3RMZWRnZXIsXG4gICAgICAgICAgICAgICAgICBsYXRlc3RMZWRnZXJDbG9zZVRpbWU6IHJhdy5sYXRlc3RMZWRnZXJDbG9zZVRpbWUsXG4gICAgICAgICAgICAgICAgICBvbGRlc3RMZWRnZXI6IHJhdy5vbGRlc3RMZWRnZXIsXG4gICAgICAgICAgICAgICAgICBvbGRlc3RMZWRnZXJDbG9zZVRpbWU6IHJhdy5vbGRlc3RMZWRnZXJDbG9zZVRpbWUsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IHJhdy5jdXJzb3JcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNywgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBnZXRMZWRnZXJzKF94MzQpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRMZWRnZXJzMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldExlZGdlcnM7XG4gICAgfSgpKVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRMZWRnZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0TGVkZ2VyczMgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUyOChyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDI4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyOC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LmEoMiwganNvbnJwYy5wb3N0T2JqZWN0KHRoaXMuaHR0cENsaWVudCwgdGhpcy5zZXJ2ZXJVUkwudG9TdHJpbmcoKSwgXCJnZXRMZWRnZXJzXCIsIHJlcXVlc3QpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyOCwgdGhpcyk7XG4gICAgICB9KSk7XG4gICAgICBmdW5jdGlvbiBfZ2V0TGVkZ2VycyhfeDM1KSB7XG4gICAgICAgIHJldHVybiBfZ2V0TGVkZ2VyczMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfZ2V0TGVkZ2VycztcbiAgICB9KClcbiAgfV0pO1xufSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/server.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/transaction.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/transaction.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.assembleTransaction = assembleTransaction;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _api = __webpack_require__(/*! ./api */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/api.js\");\nvar _parsers = __webpack_require__(/*! ./parsers */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/parsers.js\");\nfunction isSorobanTransaction(tx) {\n  if (tx.operations.length !== 1) {\n    return false;\n  }\n  switch (tx.operations[0].type) {\n    case \"invokeHostFunction\":\n    case \"extendFootprintTtl\":\n    case \"restoreFootprint\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction assembleTransaction(raw, simulation) {\n  if (\"innerTransaction\" in raw) {\n    return assembleTransaction(raw.innerTransaction, simulation);\n  }\n  if (!isSorobanTransaction(raw)) {\n    throw new TypeError(\"unsupported transaction: must contain exactly one \" + \"invokeHostFunction, extendFootprintTtl, or restoreFootprint \" + \"operation\");\n  }\n  var success = (0, _parsers.parseRawSimulation)(simulation);\n  if (!_api.Api.isSimulationSuccess(success)) {\n    throw new Error(\"simulation incorrect: \".concat(JSON.stringify(success)));\n  }\n  var classicFeeNum = parseInt(raw.fee) || 0;\n  var minResourceFeeNum = parseInt(success.minResourceFee) || 0;\n  var txnBuilder = _stellarBase.TransactionBuilder.cloneFrom(raw, {\n    fee: (classicFeeNum + minResourceFeeNum).toString(),\n    sorobanData: success.transactionData.build(),\n    networkPassphrase: raw.networkPassphrase\n  });\n  if (raw.operations[0].type === \"invokeHostFunction\") {\n    var _invokeOp$auth;\n    txnBuilder.clearOperations();\n    var invokeOp = raw.operations[0];\n    var existingAuth = (_invokeOp$auth = invokeOp.auth) !== null && _invokeOp$auth !== void 0 ? _invokeOp$auth : [];\n    txnBuilder.addOperation(_stellarBase.Operation.invokeHostFunction({\n      source: invokeOp.source,\n      func: invokeOp.func,\n      auth: existingAuth.length > 0 ? existingAuth : success.result.auth\n    }));\n  }\n  return txnBuilder;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvdHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsMkJBQTJCO0FBQzNCLG1CQUFtQixtQkFBTyxDQUFDLHNGQUF1QjtBQUNsRCxXQUFXLG1CQUFPLENBQUMsc0dBQU87QUFDMUIsZUFBZSxtQkFBTyxDQUFDLDhHQUFXO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9ycGMvdHJhbnNhY3Rpb24uanM/NTEzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYXNzZW1ibGVUcmFuc2FjdGlvbiA9IGFzc2VtYmxlVHJhbnNhY3Rpb247XG52YXIgX3N0ZWxsYXJCYXNlID0gcmVxdWlyZShcIkBzdGVsbGFyL3N0ZWxsYXItYmFzZVwiKTtcbnZhciBfYXBpID0gcmVxdWlyZShcIi4vYXBpXCIpO1xudmFyIF9wYXJzZXJzID0gcmVxdWlyZShcIi4vcGFyc2Vyc1wiKTtcbmZ1bmN0aW9uIGlzU29yb2JhblRyYW5zYWN0aW9uKHR4KSB7XG4gIGlmICh0eC5vcGVyYXRpb25zLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzd2l0Y2ggKHR4Lm9wZXJhdGlvbnNbMF0udHlwZSkge1xuICAgIGNhc2UgXCJpbnZva2VIb3N0RnVuY3Rpb25cIjpcbiAgICBjYXNlIFwiZXh0ZW5kRm9vdHByaW50VHRsXCI6XG4gICAgY2FzZSBcInJlc3RvcmVGb290cHJpbnRcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VtYmxlVHJhbnNhY3Rpb24ocmF3LCBzaW11bGF0aW9uKSB7XG4gIGlmIChcImlubmVyVHJhbnNhY3Rpb25cIiBpbiByYXcpIHtcbiAgICByZXR1cm4gYXNzZW1ibGVUcmFuc2FjdGlvbihyYXcuaW5uZXJUcmFuc2FjdGlvbiwgc2ltdWxhdGlvbik7XG4gIH1cbiAgaWYgKCFpc1Nvcm9iYW5UcmFuc2FjdGlvbihyYXcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInVuc3VwcG9ydGVkIHRyYW5zYWN0aW9uOiBtdXN0IGNvbnRhaW4gZXhhY3RseSBvbmUgXCIgKyBcImludm9rZUhvc3RGdW5jdGlvbiwgZXh0ZW5kRm9vdHByaW50VHRsLCBvciByZXN0b3JlRm9vdHByaW50IFwiICsgXCJvcGVyYXRpb25cIik7XG4gIH1cbiAgdmFyIHN1Y2Nlc3MgPSAoMCwgX3BhcnNlcnMucGFyc2VSYXdTaW11bGF0aW9uKShzaW11bGF0aW9uKTtcbiAgaWYgKCFfYXBpLkFwaS5pc1NpbXVsYXRpb25TdWNjZXNzKHN1Y2Nlc3MpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwic2ltdWxhdGlvbiBpbmNvcnJlY3Q6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzdWNjZXNzKSkpO1xuICB9XG4gIHZhciBjbGFzc2ljRmVlTnVtID0gcGFyc2VJbnQocmF3LmZlZSkgfHwgMDtcbiAgdmFyIG1pblJlc291cmNlRmVlTnVtID0gcGFyc2VJbnQoc3VjY2Vzcy5taW5SZXNvdXJjZUZlZSkgfHwgMDtcbiAgdmFyIHR4bkJ1aWxkZXIgPSBfc3RlbGxhckJhc2UuVHJhbnNhY3Rpb25CdWlsZGVyLmNsb25lRnJvbShyYXcsIHtcbiAgICBmZWU6IChjbGFzc2ljRmVlTnVtICsgbWluUmVzb3VyY2VGZWVOdW0pLnRvU3RyaW5nKCksXG4gICAgc29yb2JhbkRhdGE6IHN1Y2Nlc3MudHJhbnNhY3Rpb25EYXRhLmJ1aWxkKCksXG4gICAgbmV0d29ya1Bhc3NwaHJhc2U6IHJhdy5uZXR3b3JrUGFzc3BocmFzZVxuICB9KTtcbiAgaWYgKHJhdy5vcGVyYXRpb25zWzBdLnR5cGUgPT09IFwiaW52b2tlSG9zdEZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgX2ludm9rZU9wJGF1dGg7XG4gICAgdHhuQnVpbGRlci5jbGVhck9wZXJhdGlvbnMoKTtcbiAgICB2YXIgaW52b2tlT3AgPSByYXcub3BlcmF0aW9uc1swXTtcbiAgICB2YXIgZXhpc3RpbmdBdXRoID0gKF9pbnZva2VPcCRhdXRoID0gaW52b2tlT3AuYXV0aCkgIT09IG51bGwgJiYgX2ludm9rZU9wJGF1dGggIT09IHZvaWQgMCA/IF9pbnZva2VPcCRhdXRoIDogW107XG4gICAgdHhuQnVpbGRlci5hZGRPcGVyYXRpb24oX3N0ZWxsYXJCYXNlLk9wZXJhdGlvbi5pbnZva2VIb3N0RnVuY3Rpb24oe1xuICAgICAgc291cmNlOiBpbnZva2VPcC5zb3VyY2UsXG4gICAgICBmdW5jOiBpbnZva2VPcC5mdW5jLFxuICAgICAgYXV0aDogZXhpc3RpbmdBdXRoLmxlbmd0aCA+IDAgPyBleGlzdGluZ0F1dGggOiBzdWNjZXNzLnJlc3VsdC5hdXRoXG4gICAgfSkpO1xuICB9XG4gIHJldHVybiB0eG5CdWlsZGVyO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/rpc/transaction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/stellartoml/index.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/stellartoml/index.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.STELLAR_TOML_MAX_SIZE = exports.Resolver = exports.Api = void 0;\nvar _toml = _interopRequireDefault(__webpack_require__(/*! toml */ \"(rsc)/./node_modules/toml/index.js\"));\nvar _httpClient = __webpack_require__(/*! ../http-client */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/http-client/index.js\");\nvar _config = __webpack_require__(/*! ../config */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/config.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regenerator() { var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar STELLAR_TOML_MAX_SIZE = exports.STELLAR_TOML_MAX_SIZE = 100 * 1024;\nvar CancelToken = _httpClient.httpClient.CancelToken;\nvar Resolver = exports.Resolver = function () {\n  function Resolver() {\n    _classCallCheck(this, Resolver);\n  }\n  return _createClass(Resolver, null, [{\n    key: \"resolve\",\n    value: (function () {\n      var _resolve = _asyncToGenerator(_regenerator().m(function _callee(domain) {\n        var _opts$allowedRedirect;\n        var opts,\n          allowHttp,\n          timeout,\n          protocol,\n          _args = arguments;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n              allowHttp = typeof opts.allowHttp === \"undefined\" ? _config.Config.isAllowHttp() : opts.allowHttp;\n              timeout = typeof opts.timeout === \"undefined\" ? _config.Config.getTimeout() : opts.timeout;\n              protocol = allowHttp ? \"http\" : \"https\";\n              return _context.a(2, _httpClient.httpClient.get(\"\".concat(protocol, \"://\").concat(domain, \"/.well-known/stellar.toml\"), {\n                maxRedirects: (_opts$allowedRedirect = opts.allowedRedirects) !== null && _opts$allowedRedirect !== void 0 ? _opts$allowedRedirect : 0,\n                maxContentLength: STELLAR_TOML_MAX_SIZE,\n                cancelToken: timeout ? new CancelToken(function (cancel) {\n                  return setTimeout(function () {\n                    return cancel(\"timeout of \".concat(timeout, \"ms exceeded\"));\n                  }, timeout);\n                }) : undefined,\n                timeout: timeout\n              }).then(function (response) {\n                try {\n                  var tomlObject = _toml.default.parse(response.data);\n                  return Promise.resolve(tomlObject);\n                } catch (e) {\n                  return Promise.reject(new Error(\"stellar.toml is invalid - Parsing error on line \".concat(e.line, \", column \").concat(e.column, \": \").concat(e.message)));\n                }\n              }).catch(function (err) {\n                if (err.message.match(/^maxContentLength size/)) {\n                  throw new Error(\"stellar.toml file exceeds allowed size of \".concat(STELLAR_TOML_MAX_SIZE));\n                } else {\n                  throw err;\n                }\n              }));\n          }\n        }, _callee);\n      }));\n      function resolve(_x) {\n        return _resolve.apply(this, arguments);\n      }\n      return resolve;\n    }())\n  }]);\n}();\nvar Api;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi9zdGVsbGFydG9tbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRiw2QkFBNkIsR0FBRyxnQkFBZ0IsR0FBRyxXQUFXO0FBQzlELG1DQUFtQyxtQkFBTyxDQUFDLGdEQUFNO0FBQ2pELGtCQUFrQixtQkFBTyxDQUFDLHlIQUFnQjtBQUMxQyxjQUFjLG1CQUFPLENBQUMseUdBQVc7QUFDakMscUNBQXFDLGlDQUFpQztBQUN0RSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUywwQkFBMEIsdURBQXVELHdFQUF3RSx5QkFBeUIsK0ZBQStGLDhEQUE4RCwrQ0FBK0MsK0RBQStELDZDQUE2QyxtQkFBbUIsMEJBQTBCLCtCQUErQixPQUFPLG9DQUFvQyw4T0FBOE8sMEJBQTBCLG1CQUFtQiw0QkFBNEIsNERBQTRELDRDQUE0QywwQkFBMEIsSUFBSSx1RUFBdUUsTUFBTSxnQkFBZ0IsbUNBQW1DLDhFQUE4RSx1QkFBdUIsaUNBQWlDLG9JQUFvSSxTQUFTLGdFQUFnRSxZQUFZLHVCQUF1QixVQUFVLFdBQVcsU0FBUyx5QkFBeUIscUJBQXFCLFlBQVksd0JBQXdCLGdDQUFnQyx5Q0FBeUMsMkJBQTJCLDJEQUEyRCxtQkFBbUIsY0FBYywwRkFBMEYsZ0JBQWdCLHVOQUF1Tiw2YkFBNmIsY0FBYyxvREFBb0QsOEJBQThCLDZDQUE2QyxTQUFTLGVBQWU7QUFDdnVGLDJDQUEyQywrQkFBK0IsTUFBTSxJQUFJLFFBQVEsS0FBSyxZQUFZLFNBQVMsZ0VBQWdFLG1CQUFtQix5Q0FBeUMsK0JBQStCLEtBQUssa0JBQWtCLDBEQUEwRCwrREFBK0Q7QUFDamEsbURBQW1ELE1BQU0sZ0NBQWdDLFlBQVksb0JBQW9CO0FBQ3pILGdDQUFnQyxxQkFBcUIsNkJBQTZCLHFDQUFxQyx1QkFBdUIsb0JBQW9CLHlEQUF5RCxxQkFBcUIsMERBQTBELGdCQUFnQjtBQUMxVCxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsaUJBQWlCO0FBQ2pCO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvc3RlbGxhcnRvbWwvaW5kZXguanM/NGMyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU1RFTExBUl9UT01MX01BWF9TSVpFID0gZXhwb3J0cy5SZXNvbHZlciA9IGV4cG9ydHMuQXBpID0gdm9pZCAwO1xudmFyIF90b21sID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwidG9tbFwiKSk7XG52YXIgX2h0dHBDbGllbnQgPSByZXF1aXJlKFwiLi4vaHR0cC1jbGllbnRcIik7XG52YXIgX2NvbmZpZyA9IHJlcXVpcmUoXCIuLi9jb25maWdcIik7XG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9OyB9XG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3IoKSB7IHZhciBlLCB0LCByID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgbiA9IHIuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIG8gPSByLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBpKHIsIG4sIG8sIGkpIHsgdmFyIGMgPSBuICYmIG4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gbiA6IEdlbmVyYXRvciwgdSA9IE9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpOyByZXR1cm4gX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcIl9pbnZva2VcIiwgZnVuY3Rpb24gKHIsIG4sIG8pIHsgdmFyIGksIGMsIHUsIGYgPSAwLCBwID0gbyB8fCBbXSwgeSA9ICExLCBHID0geyBwOiAwLCBuOiAwLCB2OiBlLCBhOiBkLCBmOiBkLmJpbmQoZSwgNCksIGQ6IGZ1bmN0aW9uIGQodCwgcikgeyByZXR1cm4gaSA9IHQsIGMgPSAwLCB1ID0gZSwgRy5uID0gciwgYTsgfSB9OyBmdW5jdGlvbiBkKHIsIG4pIHsgZm9yIChjID0gciwgdSA9IG4sIHQgPSAwOyAheSAmJiBmICYmICFvICYmIHQgPCBwLmxlbmd0aDsgdCsrKSB7IHZhciBvLCBpID0gcFt0XSwgZCA9IEcucCwgbCA9IGlbMl07IHIgPiAzID8gKG8gPSBsID09PSBuKSAmJiAodSA9IGlbKGMgPSBpWzRdKSA/IDUgOiAoYyA9IDMsIDMpXSwgaVs0XSA9IGlbNV0gPSBlKSA6IGlbMF0gPD0gZCAmJiAoKG8gPSByIDwgMiAmJiBkIDwgaVsxXSkgPyAoYyA9IDAsIEcudiA9IG4sIEcubiA9IGlbMV0pIDogZCA8IGwgJiYgKG8gPSByIDwgMyB8fCBpWzBdID4gbiB8fCBuID4gbCkgJiYgKGlbNF0gPSByLCBpWzVdID0gbiwgRy5uID0gbCwgYyA9IDApKTsgfSBpZiAobyB8fCByID4gMSkgcmV0dXJuIGE7IHRocm93IHkgPSAhMCwgbjsgfSByZXR1cm4gZnVuY3Rpb24gKG8sIHAsIGwpIHsgaWYgKGYgPiAxKSB0aHJvdyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpOyBmb3IgKHkgJiYgMSA9PT0gcCAmJiBkKHAsIGwpLCBjID0gcCwgdSA9IGw7ICh0ID0gYyA8IDIgPyBlIDogdSkgfHwgIXk7KSB7IGkgfHwgKGMgPyBjIDwgMyA/IChjID4gMSAmJiAoRy5uID0gLTEpLCBkKGMsIHUpKSA6IEcubiA9IHUgOiBHLnYgPSB1KTsgdHJ5IHsgaWYgKGYgPSAyLCBpKSB7IGlmIChjIHx8IChvID0gXCJuZXh0XCIpLCB0ID0gaVtvXSkgeyBpZiAoISh0ID0gdC5jYWxsKGksIHUpKSkgdGhyb3cgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7IGlmICghdC5kb25lKSByZXR1cm4gdDsgdSA9IHQudmFsdWUsIGMgPCAyICYmIChjID0gMCk7IH0gZWxzZSAxID09PSBjICYmICh0ID0gaS5yZXR1cm4pICYmIHQuY2FsbChpKSwgYyA8IDIgJiYgKHUgPSBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIiArIG8gKyBcIicgbWV0aG9kXCIpLCBjID0gMSk7IGkgPSBlOyB9IGVsc2UgaWYgKCh0ID0gKHkgPSBHLm4gPCAwKSA/IHUgOiByLmNhbGwobiwgRykpICE9PSBhKSBicmVhazsgfSBjYXRjaCAodCkgeyBpID0gZSwgYyA9IDEsIHUgPSB0OyB9IGZpbmFsbHkgeyBmID0gMTsgfSB9IHJldHVybiB7IHZhbHVlOiB0LCBkb25lOiB5IH07IH07IH0ociwgbywgaSksICEwKSwgdTsgfSB2YXIgYSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjsgdmFyIGMgPSBbXVtuXSA/IHQodChbXVtuXSgpKSkgOiAoX3JlZ2VuZXJhdG9yRGVmaW5lMih0ID0ge30sIG4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCB0KSwgdSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGMpOyBmdW5jdGlvbiBmKGUpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihlLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAoZS5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCBvLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSwgZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHUpLCBlOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgX3JlZ2VuZXJhdG9yRGVmaW5lMih1LCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSwgX3JlZ2VuZXJhdG9yRGVmaW5lMihHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBHZW5lcmF0b3JGdW5jdGlvbiksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiLCBfcmVnZW5lcmF0b3JEZWZpbmUyKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIG8sIFwiR2VuZXJhdG9yXCIpLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIG4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBfcmVnZW5lcmF0b3JEZWZpbmUyKHUsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjsgfSksIChfcmVnZW5lcmF0b3IgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3IoKSB7IHJldHVybiB7IHc6IGksIG06IGYgfTsgfSkoKTsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yRGVmaW5lMihlLCByLCBuLCB0KSB7IHZhciBpID0gT2JqZWN0LmRlZmluZVByb3BlcnR5OyB0cnkgeyBpKHt9LCBcIlwiLCB7fSk7IH0gY2F0Y2ggKGUpIHsgaSA9IDA7IH0gX3JlZ2VuZXJhdG9yRGVmaW5lMiA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvckRlZmluZShlLCByLCBuLCB0KSB7IGZ1bmN0aW9uIG8ociwgbikgeyBfcmVnZW5lcmF0b3JEZWZpbmUyKGUsIHIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiB0aGlzLl9pbnZva2UociwgbiwgZSk7IH0pOyB9IHIgPyBpID8gaShlLCByLCB7IHZhbHVlOiBuLCBlbnVtZXJhYmxlOiAhdCwgY29uZmlndXJhYmxlOiAhdCwgd3JpdGFibGU6ICF0IH0pIDogZVtyXSA9IG4gOiAobyhcIm5leHRcIiwgMCksIG8oXCJ0aHJvd1wiLCAxKSwgbyhcInJldHVyblwiLCAyKSk7IH0sIF9yZWdlbmVyYXRvckRlZmluZTIoZSwgciwgbiwgdCk7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbnZhciBTVEVMTEFSX1RPTUxfTUFYX1NJWkUgPSBleHBvcnRzLlNURUxMQVJfVE9NTF9NQVhfU0laRSA9IDEwMCAqIDEwMjQ7XG52YXIgQ2FuY2VsVG9rZW4gPSBfaHR0cENsaWVudC5odHRwQ2xpZW50LkNhbmNlbFRva2VuO1xudmFyIFJlc29sdmVyID0gZXhwb3J0cy5SZXNvbHZlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUmVzb2x2ZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc29sdmVyKTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFJlc29sdmVyLCBudWxsLCBbe1xuICAgIGtleTogXCJyZXNvbHZlXCIsXG4gICAgdmFsdWU6IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jlc29sdmUgPSBfYXN5bmNUb0dlbmVyYXRvcihfcmVnZW5lcmF0b3IoKS5tKGZ1bmN0aW9uIF9jYWxsZWUoZG9tYWluKSB7XG4gICAgICAgIHZhciBfb3B0cyRhbGxvd2VkUmVkaXJlY3Q7XG4gICAgICAgIHZhciBvcHRzLFxuICAgICAgICAgIGFsbG93SHR0cCxcbiAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgIHByb3RvY29sLFxuICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5uKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIG9wdHMgPSBfYXJncy5sZW5ndGggPiAxICYmIF9hcmdzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnc1sxXSA6IHt9O1xuICAgICAgICAgICAgICBhbGxvd0h0dHAgPSB0eXBlb2Ygb3B0cy5hbGxvd0h0dHAgPT09IFwidW5kZWZpbmVkXCIgPyBfY29uZmlnLkNvbmZpZy5pc0FsbG93SHR0cCgpIDogb3B0cy5hbGxvd0h0dHA7XG4gICAgICAgICAgICAgIHRpbWVvdXQgPSB0eXBlb2Ygb3B0cy50aW1lb3V0ID09PSBcInVuZGVmaW5lZFwiID8gX2NvbmZpZy5Db25maWcuZ2V0VGltZW91dCgpIDogb3B0cy50aW1lb3V0O1xuICAgICAgICAgICAgICBwcm90b2NvbCA9IGFsbG93SHR0cCA/IFwiaHR0cFwiIDogXCJodHRwc1wiO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyLCBfaHR0cENsaWVudC5odHRwQ2xpZW50LmdldChcIlwiLmNvbmNhdChwcm90b2NvbCwgXCI6Ly9cIikuY29uY2F0KGRvbWFpbiwgXCIvLndlbGwta25vd24vc3RlbGxhci50b21sXCIpLCB7XG4gICAgICAgICAgICAgICAgbWF4UmVkaXJlY3RzOiAoX29wdHMkYWxsb3dlZFJlZGlyZWN0ID0gb3B0cy5hbGxvd2VkUmVkaXJlY3RzKSAhPT0gbnVsbCAmJiBfb3B0cyRhbGxvd2VkUmVkaXJlY3QgIT09IHZvaWQgMCA/IF9vcHRzJGFsbG93ZWRSZWRpcmVjdCA6IDAsXG4gICAgICAgICAgICAgICAgbWF4Q29udGVudExlbmd0aDogU1RFTExBUl9UT01MX01BWF9TSVpFLFxuICAgICAgICAgICAgICAgIGNhbmNlbFRva2VuOiB0aW1lb3V0ID8gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIChjYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbmNlbChcInRpbWVvdXQgb2YgXCIuY29uY2F0KHRpbWVvdXQsIFwibXMgZXhjZWVkZWRcIikpO1xuICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICAgICAgfSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdGltZW91dDogdGltZW91dFxuICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB2YXIgdG9tbE9iamVjdCA9IF90b21sLmRlZmF1bHQucGFyc2UocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRvbWxPYmplY3QpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJzdGVsbGFyLnRvbWwgaXMgaW52YWxpZCAtIFBhcnNpbmcgZXJyb3Igb24gbGluZSBcIi5jb25jYXQoZS5saW5lLCBcIiwgY29sdW1uIFwiKS5jb25jYXQoZS5jb2x1bW4sIFwiOiBcIikuY29uY2F0KGUubWVzc2FnZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UubWF0Y2goL15tYXhDb250ZW50TGVuZ3RoIHNpemUvKSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic3RlbGxhci50b21sIGZpbGUgZXhjZWVkcyBhbGxvd2VkIHNpemUgb2YgXCIuY29uY2F0KFNURUxMQVJfVE9NTF9NQVhfU0laRSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlKTtcbiAgICAgIH0pKTtcbiAgICAgIGZ1bmN0aW9uIHJlc29sdmUoX3gpIHtcbiAgICAgICAgcmV0dXJuIF9yZXNvbHZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzb2x2ZTtcbiAgICB9KCkpXG4gIH1dKTtcbn0oKTtcbnZhciBBcGk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/stellartoml/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/utils.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/utils.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Utils = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Utils = exports.Utils = function () {\n  function Utils() {\n    _classCallCheck(this, Utils);\n  }\n  return _createClass(Utils, null, [{\n    key: \"validateTimebounds\",\n    value: function validateTimebounds(transaction) {\n      var gracePeriod = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      if (!transaction.timeBounds) {\n        return false;\n      }\n      var now = Math.floor(Date.now() / 1000);\n      var _transaction$timeBoun = transaction.timeBounds,\n        minTime = _transaction$timeBoun.minTime,\n        maxTime = _transaction$timeBoun.maxTime;\n      return now >= Number.parseInt(minTime, 10) - gracePeriod && now <= Number.parseInt(maxTime, 10) + gracePeriod;\n    }\n  }, {\n    key: \"sleep\",\n    value: function sleep(ms) {\n      return new Promise(function (resolve) {\n        return setTimeout(resolve, ms);\n      });\n    }\n  }]);\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi91dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixhQUFhO0FBQ2Isc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi91dGlscy5qcz80NmMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5VdGlscyA9IHZvaWQgMDtcbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbnZhciBVdGlscyA9IGV4cG9ydHMuVXRpbHMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFV0aWxzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVdGlscyk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhVdGlscywgbnVsbCwgW3tcbiAgICBrZXk6IFwidmFsaWRhdGVUaW1lYm91bmRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlVGltZWJvdW5kcyh0cmFuc2FjdGlvbikge1xuICAgICAgdmFyIGdyYWNlUGVyaW9kID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgaWYgKCF0cmFuc2FjdGlvbi50aW1lQm91bmRzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICAgIHZhciBfdHJhbnNhY3Rpb24kdGltZUJvdW4gPSB0cmFuc2FjdGlvbi50aW1lQm91bmRzLFxuICAgICAgICBtaW5UaW1lID0gX3RyYW5zYWN0aW9uJHRpbWVCb3VuLm1pblRpbWUsXG4gICAgICAgIG1heFRpbWUgPSBfdHJhbnNhY3Rpb24kdGltZUJvdW4ubWF4VGltZTtcbiAgICAgIHJldHVybiBub3cgPj0gTnVtYmVyLnBhcnNlSW50KG1pblRpbWUsIDEwKSAtIGdyYWNlUGVyaW9kICYmIG5vdyA8PSBOdW1iZXIucGFyc2VJbnQobWF4VGltZSwgMTApICsgZ3JhY2VQZXJpb2Q7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNsZWVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNsZWVwKG1zKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG59KCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/challenge_transaction.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/challenge_transaction.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildChallengeTx = buildChallengeTx;\nexports.readChallengeTx = readChallengeTx;\nexports.verifyChallengeTxSigners = verifyChallengeTxSigners;\nexports.verifyChallengeTxThreshold = verifyChallengeTxThreshold;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _randombytes = _interopRequireDefault(__webpack_require__(/*! randombytes */ \"(rsc)/./node_modules/randombytes/index.js\"));\nvar _errors = __webpack_require__(/*! ./errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/errors.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/utils.js\");\nvar _utils2 = __webpack_require__(/*! ../utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/utils.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toArray(r) { return _arrayWithHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction buildChallengeTx(serverKeypair, clientAccountID, homeDomain) {\n  var timeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 300;\n  var networkPassphrase = arguments.length > 4 ? arguments[4] : undefined;\n  var webAuthDomain = arguments.length > 5 ? arguments[5] : undefined;\n  var memo = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;\n  var clientDomain = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : null;\n  var clientSigningKey = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : null;\n  if (clientAccountID.startsWith(\"M\") && memo) {\n    throw Error(\"memo cannot be used if clientAccountID is a muxed account\");\n  }\n  var account = new _stellarBase.Account(serverKeypair.publicKey(), \"-1\");\n  var now = Math.floor(Date.now() / 1000);\n  var value = (0, _randombytes.default)(48).toString(\"base64\");\n  var builder = new _stellarBase.TransactionBuilder(account, {\n    fee: _stellarBase.BASE_FEE,\n    networkPassphrase: networkPassphrase,\n    timebounds: {\n      minTime: now,\n      maxTime: now + timeout\n    }\n  }).addOperation(_stellarBase.Operation.manageData({\n    name: \"\".concat(homeDomain, \" auth\"),\n    value: value,\n    source: clientAccountID\n  })).addOperation(_stellarBase.Operation.manageData({\n    name: \"web_auth_domain\",\n    value: webAuthDomain,\n    source: account.accountId()\n  }));\n  if (clientDomain) {\n    if (!clientSigningKey) {\n      throw Error(\"clientSigningKey is required if clientDomain is provided\");\n    }\n    builder.addOperation(_stellarBase.Operation.manageData({\n      name: \"client_domain\",\n      value: clientDomain,\n      source: clientSigningKey\n    }));\n  }\n  if (memo) {\n    builder.addMemo(_stellarBase.Memo.id(memo));\n  }\n  var transaction = builder.build();\n  transaction.sign(serverKeypair);\n  return transaction.toEnvelope().toXDR(\"base64\").toString();\n}\nfunction readChallengeTx(challengeTx, serverAccountID, networkPassphrase, homeDomains, webAuthDomain) {\n  var _transaction$timeBoun;\n  if (serverAccountID.startsWith(\"M\")) {\n    throw Error(\"Invalid serverAccountID: multiplexed accounts are not supported.\");\n  }\n  var transaction;\n  try {\n    transaction = new _stellarBase.Transaction(challengeTx, networkPassphrase);\n  } catch (_unused) {\n    try {\n      transaction = new _stellarBase.FeeBumpTransaction(challengeTx, networkPassphrase);\n    } catch (_unused2) {\n      throw new _errors.InvalidChallengeError(\"Invalid challenge: unable to deserialize challengeTx transaction string\");\n    }\n    throw new _errors.InvalidChallengeError(\"Invalid challenge: expected a Transaction but received a FeeBumpTransaction\");\n  }\n  var sequence = Number.parseInt(transaction.sequence, 10);\n  if (sequence !== 0) {\n    throw new _errors.InvalidChallengeError(\"The transaction sequence number should be zero\");\n  }\n  if (transaction.source !== serverAccountID) {\n    throw new _errors.InvalidChallengeError(\"The transaction source account is not equal to the server's account\");\n  }\n  if (transaction.operations.length < 1) {\n    throw new _errors.InvalidChallengeError(\"The transaction should contain at least one operation\");\n  }\n  var _transaction$operatio = _toArray(transaction.operations),\n    operation = _transaction$operatio[0],\n    subsequentOperations = _transaction$operatio.slice(1);\n  if (!operation.source) {\n    throw new _errors.InvalidChallengeError(\"The transaction's operation should contain a source account\");\n  }\n  var clientAccountID = operation.source;\n  var memo = null;\n  if (transaction.memo.type !== _stellarBase.MemoNone) {\n    if (clientAccountID.startsWith(\"M\")) {\n      throw new _errors.InvalidChallengeError(\"The transaction has a memo but the client account ID is a muxed account\");\n    }\n    if (transaction.memo.type !== _stellarBase.MemoID) {\n      throw new _errors.InvalidChallengeError(\"The transaction's memo must be of type `id`\");\n    }\n    memo = transaction.memo.value;\n  }\n  if (operation.type !== \"manageData\") {\n    throw new _errors.InvalidChallengeError(\"The transaction's operation type should be 'manageData'\");\n  }\n  if (transaction.timeBounds && Number.parseInt((_transaction$timeBoun = transaction.timeBounds) === null || _transaction$timeBoun === void 0 ? void 0 : _transaction$timeBoun.maxTime, 10) === _stellarBase.TimeoutInfinite) {\n    throw new _errors.InvalidChallengeError(\"The transaction requires non-infinite timebounds\");\n  }\n  if (!_utils2.Utils.validateTimebounds(transaction, 60 * 5)) {\n    throw new _errors.InvalidChallengeError(\"The transaction has expired\");\n  }\n  if (operation.value === undefined) {\n    throw new _errors.InvalidChallengeError(\"The transaction's operation values should not be null\");\n  }\n  if (!operation.value) {\n    throw new _errors.InvalidChallengeError(\"The transaction's operation value should not be null\");\n  }\n  if (Buffer.from(operation.value.toString(), \"base64\").length !== 48) {\n    throw new _errors.InvalidChallengeError(\"The transaction's operation value should be a 64 bytes base64 random string\");\n  }\n  if (!homeDomains) {\n    throw new _errors.InvalidChallengeError(\"Invalid homeDomains: a home domain must be provided for verification\");\n  }\n  var matchedHomeDomain;\n  if (typeof homeDomains === \"string\") {\n    if (\"\".concat(homeDomains, \" auth\") === operation.name) {\n      matchedHomeDomain = homeDomains;\n    }\n  } else if (Array.isArray(homeDomains)) {\n    matchedHomeDomain = homeDomains.find(function (domain) {\n      return \"\".concat(domain, \" auth\") === operation.name;\n    });\n  } else {\n    throw new _errors.InvalidChallengeError(\"Invalid homeDomains: homeDomains type is \".concat(_typeof(homeDomains), \" but should be a string or an array\"));\n  }\n  if (!matchedHomeDomain) {\n    throw new _errors.InvalidChallengeError(\"Invalid homeDomains: the transaction's operation key name does not match the expected home domain\");\n  }\n  var _iterator = _createForOfIteratorHelper(subsequentOperations),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var op = _step.value;\n      if (op.type !== \"manageData\") {\n        throw new _errors.InvalidChallengeError(\"The transaction has operations that are not of type 'manageData'\");\n      }\n      if (op.source !== serverAccountID && op.name !== \"client_domain\") {\n        throw new _errors.InvalidChallengeError(\"The transaction has operations that are unrecognized\");\n      }\n      if (op.name === \"web_auth_domain\") {\n        if (op.value === undefined) {\n          throw new _errors.InvalidChallengeError(\"'web_auth_domain' operation value should not be null\");\n        }\n        if (op.value.compare(Buffer.from(webAuthDomain))) {\n          throw new _errors.InvalidChallengeError(\"'web_auth_domain' operation value does not match \".concat(webAuthDomain));\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  if (!(0, _utils.verifyTxSignedBy)(transaction, serverAccountID)) {\n    throw new _errors.InvalidChallengeError(\"Transaction not signed by server: '\".concat(serverAccountID, \"'\"));\n  }\n  return {\n    tx: transaction,\n    clientAccountID: clientAccountID,\n    matchedHomeDomain: matchedHomeDomain,\n    memo: memo\n  };\n}\nfunction verifyChallengeTxSigners(challengeTx, serverAccountID, networkPassphrase, signers, homeDomains, webAuthDomain) {\n  var _readChallengeTx = readChallengeTx(challengeTx, serverAccountID, networkPassphrase, homeDomains, webAuthDomain),\n    tx = _readChallengeTx.tx;\n  var serverKP;\n  try {\n    serverKP = _stellarBase.Keypair.fromPublicKey(serverAccountID);\n  } catch (err) {\n    throw new Error(\"Couldn't infer keypair from the provided 'serverAccountID': \".concat(err.message));\n  }\n  var clientSigners = new Set();\n  var _iterator2 = _createForOfIteratorHelper(signers),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var signer = _step2.value;\n      if (signer === serverKP.publicKey()) {\n        continue;\n      }\n      if (signer.charAt(0) !== \"G\") {\n        continue;\n      }\n      clientSigners.add(signer);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  if (clientSigners.size === 0) {\n    throw new _errors.InvalidChallengeError(\"No verifiable client signers provided, at least one G... address must be provided\");\n  }\n  var clientSigningKey;\n  var _iterator3 = _createForOfIteratorHelper(tx.operations),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var op = _step3.value;\n      if (op.type === \"manageData\" && op.name === \"client_domain\") {\n        if (clientSigningKey) {\n          throw new _errors.InvalidChallengeError(\"Found more than one client_domain operation\");\n        }\n        clientSigningKey = op.source;\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n  var allSigners = [serverKP.publicKey()].concat(_toConsumableArray(Array.from(clientSigners)));\n  if (clientSigningKey) {\n    allSigners.push(clientSigningKey);\n  }\n  var signersFound = (0, _utils.gatherTxSigners)(tx, allSigners);\n  var serverSignatureFound = false;\n  var clientSigningKeySignatureFound = false;\n  var _iterator4 = _createForOfIteratorHelper(signersFound),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var _signer = _step4.value;\n      if (_signer === serverKP.publicKey()) {\n        serverSignatureFound = true;\n      }\n      if (_signer === clientSigningKey) {\n        clientSigningKeySignatureFound = true;\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  if (!serverSignatureFound) {\n    throw new _errors.InvalidChallengeError(\"Transaction not signed by server: '\".concat(serverKP.publicKey(), \"'\"));\n  }\n  if (clientSigningKey && !clientSigningKeySignatureFound) {\n    throw new _errors.InvalidChallengeError(\"Transaction not signed by the source account of the 'client_domain' \" + \"ManageData operation\");\n  }\n  if (signersFound.length === 1) {\n    throw new _errors.InvalidChallengeError(\"None of the given signers match the transaction signatures\");\n  }\n  if (signersFound.length !== tx.signatures.length) {\n    throw new _errors.InvalidChallengeError(\"Transaction has unrecognized signatures\");\n  }\n  signersFound.splice(signersFound.indexOf(serverKP.publicKey()), 1);\n  if (clientSigningKey) {\n    signersFound.splice(signersFound.indexOf(clientSigningKey), 1);\n  }\n  return signersFound;\n}\nfunction verifyChallengeTxThreshold(challengeTx, serverAccountID, networkPassphrase, threshold, signerSummary, homeDomains, webAuthDomain) {\n  var signers = signerSummary.map(function (signer) {\n    return signer.key;\n  });\n  var signersFound = verifyChallengeTxSigners(challengeTx, serverAccountID, networkPassphrase, signers, homeDomains, webAuthDomain);\n  var weight = 0;\n  var _iterator5 = _createForOfIteratorHelper(signersFound),\n    _step5;\n  try {\n    var _loop = function _loop() {\n      var _signerSummary$find;\n      var signer = _step5.value;\n      var sigWeight = ((_signerSummary$find = signerSummary.find(function (s) {\n        return s.key === signer;\n      })) === null || _signerSummary$find === void 0 ? void 0 : _signerSummary$find.weight) || 0;\n      weight += sigWeight;\n    };\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  if (weight < threshold) {\n    throw new _errors.InvalidChallengeError(\"signers with weight \".concat(weight, \" do not meet threshold \").concat(threshold, \"\\\"\"));\n  }\n  return signersFound;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi93ZWJhdXRoL2NoYWxsZW5nZV90cmFuc2FjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRix3QkFBd0I7QUFDeEIsdUJBQXVCO0FBQ3ZCLGdDQUFnQztBQUNoQyxrQ0FBa0M7QUFDbEMsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQXVCO0FBQ2xELDBDQUEwQyxtQkFBTyxDQUFDLDhEQUFhO0FBQy9ELGNBQWMsbUJBQU8sQ0FBQyxnSEFBVTtBQUNoQyxhQUFhLG1CQUFPLENBQUMsOEdBQVM7QUFDOUIsY0FBYyxtQkFBTyxDQUFDLHVHQUFVO0FBQ2hDLHFDQUFxQyxpQ0FBaUM7QUFDdEUsaUNBQWlDO0FBQ2pDLGdDQUFnQztBQUNoQyxpQ0FBaUM7QUFDakMsNENBQTRDLCtFQUErRSxVQUFVLHlHQUF5RyxjQUFjLGlDQUFpQyxTQUFTLHdCQUF3QiwwQkFBMEIsV0FBVyxJQUFJLDZCQUE2QixxQkFBcUIsVUFBVSxZQUFZLGdLQUFnSyx1QkFBdUIsU0FBUyxrQkFBa0IsZ0JBQWdCLG9CQUFvQixrQkFBa0IsdUJBQXVCLHFCQUFxQixnQkFBZ0Isb0JBQW9CLE1BQU0sdUNBQXVDLFVBQVU7QUFDOXpCLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLHVCQUF1QjtBQUN2Qiw4QkFBOEI7QUFDOUIsNkNBQTZDLFNBQVMsMERBQTBELFVBQVUsZ0NBQWdDO0FBQzFKLG1DQUFtQywrQ0FBK0MsOEJBQThCLE9BQU8sa0JBQWtCO0FBQ3pJLCtCQUErQjtBQUMvQiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4QkFBOEI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnQ0FBZ0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnQ0FBZ0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0NBQWdDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EseUJBQXlCLGdDQUFnQztBQUN6RDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi93ZWJhdXRoL2NoYWxsZW5nZV90cmFuc2FjdGlvbi5qcz81MWY1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5idWlsZENoYWxsZW5nZVR4ID0gYnVpbGRDaGFsbGVuZ2VUeDtcbmV4cG9ydHMucmVhZENoYWxsZW5nZVR4ID0gcmVhZENoYWxsZW5nZVR4O1xuZXhwb3J0cy52ZXJpZnlDaGFsbGVuZ2VUeFNpZ25lcnMgPSB2ZXJpZnlDaGFsbGVuZ2VUeFNpZ25lcnM7XG5leHBvcnRzLnZlcmlmeUNoYWxsZW5nZVR4VGhyZXNob2xkID0gdmVyaWZ5Q2hhbGxlbmdlVHhUaHJlc2hvbGQ7XG52YXIgX3N0ZWxsYXJCYXNlID0gcmVxdWlyZShcIkBzdGVsbGFyL3N0ZWxsYXItYmFzZVwiKTtcbnZhciBfcmFuZG9tYnl0ZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyYW5kb21ieXRlc1wiKSk7XG52YXIgX2Vycm9ycyA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBfdXRpbHMyID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChlKSB7IHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTsgfVxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KHIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5KHIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIociwgZSkgeyB2YXIgdCA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmICghdCkgeyBpZiAoQXJyYXkuaXNBcnJheShyKSB8fCAodCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSkgfHwgZSAmJiByICYmIFwibnVtYmVyXCIgPT0gdHlwZW9mIHIubGVuZ3RoKSB7IHQgJiYgKHIgPSB0KTsgdmFyIF9uID0gMCwgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgcmV0dXJuIF9uID49IHIubGVuZ3RoID8geyBkb25lOiAhMCB9IDogeyBkb25lOiAhMSwgdmFsdWU6IHJbX24rK10gfTsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHRocm93IHI7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG8sIGEgPSAhMCwgdSA9ICExOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyB0ID0gdC5jYWxsKHIpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgciA9IHQubmV4dCgpOyByZXR1cm4gYSA9IHIuZG9uZSwgcjsgfSwgZTogZnVuY3Rpb24gZShyKSB7IHUgPSAhMCwgbyA9IHI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGEgfHwgbnVsbCA9PSB0LnJldHVybiB8fCB0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAodSkgdGhyb3cgbzsgfSB9IH07IH1cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF90b0FycmF5KHIpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5KHIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikgeyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbmZ1bmN0aW9uIGJ1aWxkQ2hhbGxlbmdlVHgoc2VydmVyS2V5cGFpciwgY2xpZW50QWNjb3VudElELCBob21lRG9tYWluKSB7XG4gIHZhciB0aW1lb3V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAzMDA7XG4gIHZhciBuZXR3b3JrUGFzc3BocmFzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkO1xuICB2YXIgd2ViQXV0aERvbWFpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ID8gYXJndW1lbnRzWzVdIDogdW5kZWZpbmVkO1xuICB2YXIgbWVtbyA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogbnVsbDtcbiAgdmFyIGNsaWVudERvbWFpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiA3ICYmIGFyZ3VtZW50c1s3XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzddIDogbnVsbDtcbiAgdmFyIGNsaWVudFNpZ25pbmdLZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gOCAmJiBhcmd1bWVudHNbOF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s4XSA6IG51bGw7XG4gIGlmIChjbGllbnRBY2NvdW50SUQuc3RhcnRzV2l0aChcIk1cIikgJiYgbWVtbykge1xuICAgIHRocm93IEVycm9yKFwibWVtbyBjYW5ub3QgYmUgdXNlZCBpZiBjbGllbnRBY2NvdW50SUQgaXMgYSBtdXhlZCBhY2NvdW50XCIpO1xuICB9XG4gIHZhciBhY2NvdW50ID0gbmV3IF9zdGVsbGFyQmFzZS5BY2NvdW50KHNlcnZlcktleXBhaXIucHVibGljS2V5KCksIFwiLTFcIik7XG4gIHZhciBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgdmFyIHZhbHVlID0gKDAsIF9yYW5kb21ieXRlcy5kZWZhdWx0KSg0OCkudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gIHZhciBidWlsZGVyID0gbmV3IF9zdGVsbGFyQmFzZS5UcmFuc2FjdGlvbkJ1aWxkZXIoYWNjb3VudCwge1xuICAgIGZlZTogX3N0ZWxsYXJCYXNlLkJBU0VfRkVFLFxuICAgIG5ldHdvcmtQYXNzcGhyYXNlOiBuZXR3b3JrUGFzc3BocmFzZSxcbiAgICB0aW1lYm91bmRzOiB7XG4gICAgICBtaW5UaW1lOiBub3csXG4gICAgICBtYXhUaW1lOiBub3cgKyB0aW1lb3V0XG4gICAgfVxuICB9KS5hZGRPcGVyYXRpb24oX3N0ZWxsYXJCYXNlLk9wZXJhdGlvbi5tYW5hZ2VEYXRhKHtcbiAgICBuYW1lOiBcIlwiLmNvbmNhdChob21lRG9tYWluLCBcIiBhdXRoXCIpLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBzb3VyY2U6IGNsaWVudEFjY291bnRJRFxuICB9KSkuYWRkT3BlcmF0aW9uKF9zdGVsbGFyQmFzZS5PcGVyYXRpb24ubWFuYWdlRGF0YSh7XG4gICAgbmFtZTogXCJ3ZWJfYXV0aF9kb21haW5cIixcbiAgICB2YWx1ZTogd2ViQXV0aERvbWFpbixcbiAgICBzb3VyY2U6IGFjY291bnQuYWNjb3VudElkKClcbiAgfSkpO1xuICBpZiAoY2xpZW50RG9tYWluKSB7XG4gICAgaWYgKCFjbGllbnRTaWduaW5nS2V5KSB7XG4gICAgICB0aHJvdyBFcnJvcihcImNsaWVudFNpZ25pbmdLZXkgaXMgcmVxdWlyZWQgaWYgY2xpZW50RG9tYWluIGlzIHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICBidWlsZGVyLmFkZE9wZXJhdGlvbihfc3RlbGxhckJhc2UuT3BlcmF0aW9uLm1hbmFnZURhdGEoe1xuICAgICAgbmFtZTogXCJjbGllbnRfZG9tYWluXCIsXG4gICAgICB2YWx1ZTogY2xpZW50RG9tYWluLFxuICAgICAgc291cmNlOiBjbGllbnRTaWduaW5nS2V5XG4gICAgfSkpO1xuICB9XG4gIGlmIChtZW1vKSB7XG4gICAgYnVpbGRlci5hZGRNZW1vKF9zdGVsbGFyQmFzZS5NZW1vLmlkKG1lbW8pKTtcbiAgfVxuICB2YXIgdHJhbnNhY3Rpb24gPSBidWlsZGVyLmJ1aWxkKCk7XG4gIHRyYW5zYWN0aW9uLnNpZ24oc2VydmVyS2V5cGFpcik7XG4gIHJldHVybiB0cmFuc2FjdGlvbi50b0VudmVsb3BlKCkudG9YRFIoXCJiYXNlNjRcIikudG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIHJlYWRDaGFsbGVuZ2VUeChjaGFsbGVuZ2VUeCwgc2VydmVyQWNjb3VudElELCBuZXR3b3JrUGFzc3BocmFzZSwgaG9tZURvbWFpbnMsIHdlYkF1dGhEb21haW4pIHtcbiAgdmFyIF90cmFuc2FjdGlvbiR0aW1lQm91bjtcbiAgaWYgKHNlcnZlckFjY291bnRJRC5zdGFydHNXaXRoKFwiTVwiKSkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBzZXJ2ZXJBY2NvdW50SUQ6IG11bHRpcGxleGVkIGFjY291bnRzIGFyZSBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgfVxuICB2YXIgdHJhbnNhY3Rpb247XG4gIHRyeSB7XG4gICAgdHJhbnNhY3Rpb24gPSBuZXcgX3N0ZWxsYXJCYXNlLlRyYW5zYWN0aW9uKGNoYWxsZW5nZVR4LCBuZXR3b3JrUGFzc3BocmFzZSk7XG4gIH0gY2F0Y2ggKF91bnVzZWQpIHtcbiAgICB0cnkge1xuICAgICAgdHJhbnNhY3Rpb24gPSBuZXcgX3N0ZWxsYXJCYXNlLkZlZUJ1bXBUcmFuc2FjdGlvbihjaGFsbGVuZ2VUeCwgbmV0d29ya1Bhc3NwaHJhc2UpO1xuICAgIH0gY2F0Y2ggKF91bnVzZWQyKSB7XG4gICAgICB0aHJvdyBuZXcgX2Vycm9ycy5JbnZhbGlkQ2hhbGxlbmdlRXJyb3IoXCJJbnZhbGlkIGNoYWxsZW5nZTogdW5hYmxlIHRvIGRlc2VyaWFsaXplIGNoYWxsZW5nZVR4IHRyYW5zYWN0aW9uIHN0cmluZ1wiKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IF9lcnJvcnMuSW52YWxpZENoYWxsZW5nZUVycm9yKFwiSW52YWxpZCBjaGFsbGVuZ2U6IGV4cGVjdGVkIGEgVHJhbnNhY3Rpb24gYnV0IHJlY2VpdmVkIGEgRmVlQnVtcFRyYW5zYWN0aW9uXCIpO1xuICB9XG4gIHZhciBzZXF1ZW5jZSA9IE51bWJlci5wYXJzZUludCh0cmFuc2FjdGlvbi5zZXF1ZW5jZSwgMTApO1xuICBpZiAoc2VxdWVuY2UgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgX2Vycm9ycy5JbnZhbGlkQ2hhbGxlbmdlRXJyb3IoXCJUaGUgdHJhbnNhY3Rpb24gc2VxdWVuY2UgbnVtYmVyIHNob3VsZCBiZSB6ZXJvXCIpO1xuICB9XG4gIGlmICh0cmFuc2FjdGlvbi5zb3VyY2UgIT09IHNlcnZlckFjY291bnRJRCkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlRoZSB0cmFuc2FjdGlvbiBzb3VyY2UgYWNjb3VudCBpcyBub3QgZXF1YWwgdG8gdGhlIHNlcnZlcidzIGFjY291bnRcIik7XG4gIH1cbiAgaWYgKHRyYW5zYWN0aW9uLm9wZXJhdGlvbnMubGVuZ3RoIDwgMSkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlRoZSB0cmFuc2FjdGlvbiBzaG91bGQgY29udGFpbiBhdCBsZWFzdCBvbmUgb3BlcmF0aW9uXCIpO1xuICB9XG4gIHZhciBfdHJhbnNhY3Rpb24kb3BlcmF0aW8gPSBfdG9BcnJheSh0cmFuc2FjdGlvbi5vcGVyYXRpb25zKSxcbiAgICBvcGVyYXRpb24gPSBfdHJhbnNhY3Rpb24kb3BlcmF0aW9bMF0sXG4gICAgc3Vic2VxdWVudE9wZXJhdGlvbnMgPSBfdHJhbnNhY3Rpb24kb3BlcmF0aW8uc2xpY2UoMSk7XG4gIGlmICghb3BlcmF0aW9uLnNvdXJjZSkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlRoZSB0cmFuc2FjdGlvbidzIG9wZXJhdGlvbiBzaG91bGQgY29udGFpbiBhIHNvdXJjZSBhY2NvdW50XCIpO1xuICB9XG4gIHZhciBjbGllbnRBY2NvdW50SUQgPSBvcGVyYXRpb24uc291cmNlO1xuICB2YXIgbWVtbyA9IG51bGw7XG4gIGlmICh0cmFuc2FjdGlvbi5tZW1vLnR5cGUgIT09IF9zdGVsbGFyQmFzZS5NZW1vTm9uZSkge1xuICAgIGlmIChjbGllbnRBY2NvdW50SUQuc3RhcnRzV2l0aChcIk1cIikpIHtcbiAgICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlRoZSB0cmFuc2FjdGlvbiBoYXMgYSBtZW1vIGJ1dCB0aGUgY2xpZW50IGFjY291bnQgSUQgaXMgYSBtdXhlZCBhY2NvdW50XCIpO1xuICAgIH1cbiAgICBpZiAodHJhbnNhY3Rpb24ubWVtby50eXBlICE9PSBfc3RlbGxhckJhc2UuTWVtb0lEKSB7XG4gICAgICB0aHJvdyBuZXcgX2Vycm9ycy5JbnZhbGlkQ2hhbGxlbmdlRXJyb3IoXCJUaGUgdHJhbnNhY3Rpb24ncyBtZW1vIG11c3QgYmUgb2YgdHlwZSBgaWRgXCIpO1xuICAgIH1cbiAgICBtZW1vID0gdHJhbnNhY3Rpb24ubWVtby52YWx1ZTtcbiAgfVxuICBpZiAob3BlcmF0aW9uLnR5cGUgIT09IFwibWFuYWdlRGF0YVwiKSB7XG4gICAgdGhyb3cgbmV3IF9lcnJvcnMuSW52YWxpZENoYWxsZW5nZUVycm9yKFwiVGhlIHRyYW5zYWN0aW9uJ3Mgb3BlcmF0aW9uIHR5cGUgc2hvdWxkIGJlICdtYW5hZ2VEYXRhJ1wiKTtcbiAgfVxuICBpZiAodHJhbnNhY3Rpb24udGltZUJvdW5kcyAmJiBOdW1iZXIucGFyc2VJbnQoKF90cmFuc2FjdGlvbiR0aW1lQm91biA9IHRyYW5zYWN0aW9uLnRpbWVCb3VuZHMpID09PSBudWxsIHx8IF90cmFuc2FjdGlvbiR0aW1lQm91biA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RyYW5zYWN0aW9uJHRpbWVCb3VuLm1heFRpbWUsIDEwKSA9PT0gX3N0ZWxsYXJCYXNlLlRpbWVvdXRJbmZpbml0ZSkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlRoZSB0cmFuc2FjdGlvbiByZXF1aXJlcyBub24taW5maW5pdGUgdGltZWJvdW5kc1wiKTtcbiAgfVxuICBpZiAoIV91dGlsczIuVXRpbHMudmFsaWRhdGVUaW1lYm91bmRzKHRyYW5zYWN0aW9uLCA2MCAqIDUpKSB7XG4gICAgdGhyb3cgbmV3IF9lcnJvcnMuSW52YWxpZENoYWxsZW5nZUVycm9yKFwiVGhlIHRyYW5zYWN0aW9uIGhhcyBleHBpcmVkXCIpO1xuICB9XG4gIGlmIChvcGVyYXRpb24udmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlRoZSB0cmFuc2FjdGlvbidzIG9wZXJhdGlvbiB2YWx1ZXMgc2hvdWxkIG5vdCBiZSBudWxsXCIpO1xuICB9XG4gIGlmICghb3BlcmF0aW9uLnZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IF9lcnJvcnMuSW52YWxpZENoYWxsZW5nZUVycm9yKFwiVGhlIHRyYW5zYWN0aW9uJ3Mgb3BlcmF0aW9uIHZhbHVlIHNob3VsZCBub3QgYmUgbnVsbFwiKTtcbiAgfVxuICBpZiAoQnVmZmVyLmZyb20ob3BlcmF0aW9uLnZhbHVlLnRvU3RyaW5nKCksIFwiYmFzZTY0XCIpLmxlbmd0aCAhPT0gNDgpIHtcbiAgICB0aHJvdyBuZXcgX2Vycm9ycy5JbnZhbGlkQ2hhbGxlbmdlRXJyb3IoXCJUaGUgdHJhbnNhY3Rpb24ncyBvcGVyYXRpb24gdmFsdWUgc2hvdWxkIGJlIGEgNjQgYnl0ZXMgYmFzZTY0IHJhbmRvbSBzdHJpbmdcIik7XG4gIH1cbiAgaWYgKCFob21lRG9tYWlucykge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIkludmFsaWQgaG9tZURvbWFpbnM6IGEgaG9tZSBkb21haW4gbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVyaWZpY2F0aW9uXCIpO1xuICB9XG4gIHZhciBtYXRjaGVkSG9tZURvbWFpbjtcbiAgaWYgKHR5cGVvZiBob21lRG9tYWlucyA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChcIlwiLmNvbmNhdChob21lRG9tYWlucywgXCIgYXV0aFwiKSA9PT0gb3BlcmF0aW9uLm5hbWUpIHtcbiAgICAgIG1hdGNoZWRIb21lRG9tYWluID0gaG9tZURvbWFpbnM7XG4gICAgfVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaG9tZURvbWFpbnMpKSB7XG4gICAgbWF0Y2hlZEhvbWVEb21haW4gPSBob21lRG9tYWlucy5maW5kKGZ1bmN0aW9uIChkb21haW4pIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChkb21haW4sIFwiIGF1dGhcIikgPT09IG9wZXJhdGlvbi5uYW1lO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIkludmFsaWQgaG9tZURvbWFpbnM6IGhvbWVEb21haW5zIHR5cGUgaXMgXCIuY29uY2F0KF90eXBlb2YoaG9tZURvbWFpbnMpLCBcIiBidXQgc2hvdWxkIGJlIGEgc3RyaW5nIG9yIGFuIGFycmF5XCIpKTtcbiAgfVxuICBpZiAoIW1hdGNoZWRIb21lRG9tYWluKSB7XG4gICAgdGhyb3cgbmV3IF9lcnJvcnMuSW52YWxpZENoYWxsZW5nZUVycm9yKFwiSW52YWxpZCBob21lRG9tYWluczogdGhlIHRyYW5zYWN0aW9uJ3Mgb3BlcmF0aW9uIGtleSBuYW1lIGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCBob21lIGRvbWFpblwiKTtcbiAgfVxuICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3Vic2VxdWVudE9wZXJhdGlvbnMpLFxuICAgIF9zdGVwO1xuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgb3AgPSBfc3RlcC52YWx1ZTtcbiAgICAgIGlmIChvcC50eXBlICE9PSBcIm1hbmFnZURhdGFcIikge1xuICAgICAgICB0aHJvdyBuZXcgX2Vycm9ycy5JbnZhbGlkQ2hhbGxlbmdlRXJyb3IoXCJUaGUgdHJhbnNhY3Rpb24gaGFzIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm90IG9mIHR5cGUgJ21hbmFnZURhdGEnXCIpO1xuICAgICAgfVxuICAgICAgaWYgKG9wLnNvdXJjZSAhPT0gc2VydmVyQWNjb3VudElEICYmIG9wLm5hbWUgIT09IFwiY2xpZW50X2RvbWFpblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlRoZSB0cmFuc2FjdGlvbiBoYXMgb3BlcmF0aW9ucyB0aGF0IGFyZSB1bnJlY29nbml6ZWRcIik7XG4gICAgICB9XG4gICAgICBpZiAob3AubmFtZSA9PT0gXCJ3ZWJfYXV0aF9kb21haW5cIikge1xuICAgICAgICBpZiAob3AudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIid3ZWJfYXV0aF9kb21haW4nIG9wZXJhdGlvbiB2YWx1ZSBzaG91bGQgbm90IGJlIG51bGxcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wLnZhbHVlLmNvbXBhcmUoQnVmZmVyLmZyb20od2ViQXV0aERvbWFpbikpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IF9lcnJvcnMuSW52YWxpZENoYWxsZW5nZUVycm9yKFwiJ3dlYl9hdXRoX2RvbWFpbicgb3BlcmF0aW9uIHZhbHVlIGRvZXMgbm90IG1hdGNoIFwiLmNvbmNhdCh3ZWJBdXRoRG9tYWluKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvci5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yLmYoKTtcbiAgfVxuICBpZiAoISgwLCBfdXRpbHMudmVyaWZ5VHhTaWduZWRCeSkodHJhbnNhY3Rpb24sIHNlcnZlckFjY291bnRJRCkpIHtcbiAgICB0aHJvdyBuZXcgX2Vycm9ycy5JbnZhbGlkQ2hhbGxlbmdlRXJyb3IoXCJUcmFuc2FjdGlvbiBub3Qgc2lnbmVkIGJ5IHNlcnZlcjogJ1wiLmNvbmNhdChzZXJ2ZXJBY2NvdW50SUQsIFwiJ1wiKSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0eDogdHJhbnNhY3Rpb24sXG4gICAgY2xpZW50QWNjb3VudElEOiBjbGllbnRBY2NvdW50SUQsXG4gICAgbWF0Y2hlZEhvbWVEb21haW46IG1hdGNoZWRIb21lRG9tYWluLFxuICAgIG1lbW86IG1lbW9cbiAgfTtcbn1cbmZ1bmN0aW9uIHZlcmlmeUNoYWxsZW5nZVR4U2lnbmVycyhjaGFsbGVuZ2VUeCwgc2VydmVyQWNjb3VudElELCBuZXR3b3JrUGFzc3BocmFzZSwgc2lnbmVycywgaG9tZURvbWFpbnMsIHdlYkF1dGhEb21haW4pIHtcbiAgdmFyIF9yZWFkQ2hhbGxlbmdlVHggPSByZWFkQ2hhbGxlbmdlVHgoY2hhbGxlbmdlVHgsIHNlcnZlckFjY291bnRJRCwgbmV0d29ya1Bhc3NwaHJhc2UsIGhvbWVEb21haW5zLCB3ZWJBdXRoRG9tYWluKSxcbiAgICB0eCA9IF9yZWFkQ2hhbGxlbmdlVHgudHg7XG4gIHZhciBzZXJ2ZXJLUDtcbiAgdHJ5IHtcbiAgICBzZXJ2ZXJLUCA9IF9zdGVsbGFyQmFzZS5LZXlwYWlyLmZyb21QdWJsaWNLZXkoc2VydmVyQWNjb3VudElEKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgaW5mZXIga2V5cGFpciBmcm9tIHRoZSBwcm92aWRlZCAnc2VydmVyQWNjb3VudElEJzogXCIuY29uY2F0KGVyci5tZXNzYWdlKSk7XG4gIH1cbiAgdmFyIGNsaWVudFNpZ25lcnMgPSBuZXcgU2V0KCk7XG4gIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2lnbmVycyksXG4gICAgX3N0ZXAyO1xuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgc2lnbmVyID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgaWYgKHNpZ25lciA9PT0gc2VydmVyS1AucHVibGljS2V5KCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoc2lnbmVyLmNoYXJBdCgwKSAhPT0gXCJHXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjbGllbnRTaWduZXJzLmFkZChzaWduZXIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yMi5mKCk7XG4gIH1cbiAgaWYgKGNsaWVudFNpZ25lcnMuc2l6ZSA9PT0gMCkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIk5vIHZlcmlmaWFibGUgY2xpZW50IHNpZ25lcnMgcHJvdmlkZWQsIGF0IGxlYXN0IG9uZSBHLi4uIGFkZHJlc3MgbXVzdCBiZSBwcm92aWRlZFwiKTtcbiAgfVxuICB2YXIgY2xpZW50U2lnbmluZ0tleTtcbiAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0eC5vcGVyYXRpb25zKSxcbiAgICBfc3RlcDM7XG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBvcCA9IF9zdGVwMy52YWx1ZTtcbiAgICAgIGlmIChvcC50eXBlID09PSBcIm1hbmFnZURhdGFcIiAmJiBvcC5uYW1lID09PSBcImNsaWVudF9kb21haW5cIikge1xuICAgICAgICBpZiAoY2xpZW50U2lnbmluZ0tleSkge1xuICAgICAgICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIkZvdW5kIG1vcmUgdGhhbiBvbmUgY2xpZW50X2RvbWFpbiBvcGVyYXRpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgY2xpZW50U2lnbmluZ0tleSA9IG9wLnNvdXJjZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvcjMuZigpO1xuICB9XG4gIHZhciBhbGxTaWduZXJzID0gW3NlcnZlcktQLnB1YmxpY0tleSgpXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5LmZyb20oY2xpZW50U2lnbmVycykpKTtcbiAgaWYgKGNsaWVudFNpZ25pbmdLZXkpIHtcbiAgICBhbGxTaWduZXJzLnB1c2goY2xpZW50U2lnbmluZ0tleSk7XG4gIH1cbiAgdmFyIHNpZ25lcnNGb3VuZCA9ICgwLCBfdXRpbHMuZ2F0aGVyVHhTaWduZXJzKSh0eCwgYWxsU2lnbmVycyk7XG4gIHZhciBzZXJ2ZXJTaWduYXR1cmVGb3VuZCA9IGZhbHNlO1xuICB2YXIgY2xpZW50U2lnbmluZ0tleVNpZ25hdHVyZUZvdW5kID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2lnbmVyc0ZvdW5kKSxcbiAgICBfc3RlcDQ7XG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBfc2lnbmVyID0gX3N0ZXA0LnZhbHVlO1xuICAgICAgaWYgKF9zaWduZXIgPT09IHNlcnZlcktQLnB1YmxpY0tleSgpKSB7XG4gICAgICAgIHNlcnZlclNpZ25hdHVyZUZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChfc2lnbmVyID09PSBjbGllbnRTaWduaW5nS2V5KSB7XG4gICAgICAgIGNsaWVudFNpZ25pbmdLZXlTaWduYXR1cmVGb3VuZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfaXRlcmF0b3I0LmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3I0LmYoKTtcbiAgfVxuICBpZiAoIXNlcnZlclNpZ25hdHVyZUZvdW5kKSB7XG4gICAgdGhyb3cgbmV3IF9lcnJvcnMuSW52YWxpZENoYWxsZW5nZUVycm9yKFwiVHJhbnNhY3Rpb24gbm90IHNpZ25lZCBieSBzZXJ2ZXI6ICdcIi5jb25jYXQoc2VydmVyS1AucHVibGljS2V5KCksIFwiJ1wiKSk7XG4gIH1cbiAgaWYgKGNsaWVudFNpZ25pbmdLZXkgJiYgIWNsaWVudFNpZ25pbmdLZXlTaWduYXR1cmVGb3VuZCkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBzaWduZWQgYnkgdGhlIHNvdXJjZSBhY2NvdW50IG9mIHRoZSAnY2xpZW50X2RvbWFpbicgXCIgKyBcIk1hbmFnZURhdGEgb3BlcmF0aW9uXCIpO1xuICB9XG4gIGlmIChzaWduZXJzRm91bmQubGVuZ3RoID09PSAxKSB7XG4gICAgdGhyb3cgbmV3IF9lcnJvcnMuSW52YWxpZENoYWxsZW5nZUVycm9yKFwiTm9uZSBvZiB0aGUgZ2l2ZW4gc2lnbmVycyBtYXRjaCB0aGUgdHJhbnNhY3Rpb24gc2lnbmF0dXJlc1wiKTtcbiAgfVxuICBpZiAoc2lnbmVyc0ZvdW5kLmxlbmd0aCAhPT0gdHguc2lnbmF0dXJlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgX2Vycm9ycy5JbnZhbGlkQ2hhbGxlbmdlRXJyb3IoXCJUcmFuc2FjdGlvbiBoYXMgdW5yZWNvZ25pemVkIHNpZ25hdHVyZXNcIik7XG4gIH1cbiAgc2lnbmVyc0ZvdW5kLnNwbGljZShzaWduZXJzRm91bmQuaW5kZXhPZihzZXJ2ZXJLUC5wdWJsaWNLZXkoKSksIDEpO1xuICBpZiAoY2xpZW50U2lnbmluZ0tleSkge1xuICAgIHNpZ25lcnNGb3VuZC5zcGxpY2Uoc2lnbmVyc0ZvdW5kLmluZGV4T2YoY2xpZW50U2lnbmluZ0tleSksIDEpO1xuICB9XG4gIHJldHVybiBzaWduZXJzRm91bmQ7XG59XG5mdW5jdGlvbiB2ZXJpZnlDaGFsbGVuZ2VUeFRocmVzaG9sZChjaGFsbGVuZ2VUeCwgc2VydmVyQWNjb3VudElELCBuZXR3b3JrUGFzc3BocmFzZSwgdGhyZXNob2xkLCBzaWduZXJTdW1tYXJ5LCBob21lRG9tYWlucywgd2ViQXV0aERvbWFpbikge1xuICB2YXIgc2lnbmVycyA9IHNpZ25lclN1bW1hcnkubWFwKGZ1bmN0aW9uIChzaWduZXIpIHtcbiAgICByZXR1cm4gc2lnbmVyLmtleTtcbiAgfSk7XG4gIHZhciBzaWduZXJzRm91bmQgPSB2ZXJpZnlDaGFsbGVuZ2VUeFNpZ25lcnMoY2hhbGxlbmdlVHgsIHNlcnZlckFjY291bnRJRCwgbmV0d29ya1Bhc3NwaHJhc2UsIHNpZ25lcnMsIGhvbWVEb21haW5zLCB3ZWJBdXRoRG9tYWluKTtcbiAgdmFyIHdlaWdodCA9IDA7XG4gIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2lnbmVyc0ZvdW5kKSxcbiAgICBfc3RlcDU7XG4gIHRyeSB7XG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7XG4gICAgICB2YXIgX3NpZ25lclN1bW1hcnkkZmluZDtcbiAgICAgIHZhciBzaWduZXIgPSBfc3RlcDUudmFsdWU7XG4gICAgICB2YXIgc2lnV2VpZ2h0ID0gKChfc2lnbmVyU3VtbWFyeSRmaW5kID0gc2lnbmVyU3VtbWFyeS5maW5kKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzLmtleSA9PT0gc2lnbmVyO1xuICAgICAgfSkpID09PSBudWxsIHx8IF9zaWduZXJTdW1tYXJ5JGZpbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zaWduZXJTdW1tYXJ5JGZpbmQud2VpZ2h0KSB8fCAwO1xuICAgICAgd2VpZ2h0ICs9IHNpZ1dlaWdodDtcbiAgICB9O1xuICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7XG4gICAgICBfbG9vcCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2l0ZXJhdG9yNS5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yNS5mKCk7XG4gIH1cbiAgaWYgKHdlaWdodCA8IHRocmVzaG9sZCkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcInNpZ25lcnMgd2l0aCB3ZWlnaHQgXCIuY29uY2F0KHdlaWdodCwgXCIgZG8gbm90IG1lZXQgdGhyZXNob2xkIFwiKS5jb25jYXQodGhyZXNob2xkLCBcIlxcXCJcIikpO1xuICB9XG4gIHJldHVybiBzaWduZXJzRm91bmQ7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/challenge_transaction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/errors.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/errors.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.InvalidChallengeError = void 0;\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _wrapNativeSuper(t) { var r = \"function\" == typeof Map ? new Map() : void 0; return _wrapNativeSuper = function _wrapNativeSuper(t) { if (null === t || !_isNativeFunction(t)) return t; if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\"); if (void 0 !== r) { if (r.has(t)) return r.get(t); r.set(t, Wrapper); } function Wrapper() { return _construct(t, arguments, _getPrototypeOf(this).constructor); } return Wrapper.prototype = Object.create(t.prototype, { constructor: { value: Wrapper, enumerable: !1, writable: !0, configurable: !0 } }), _setPrototypeOf(Wrapper, t); }, _wrapNativeSuper(t); }\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _isNativeFunction(t) { try { return -1 !== Function.toString.call(t).indexOf(\"[native code]\"); } catch (n) { return \"function\" == typeof t; } }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nvar InvalidChallengeError = exports.InvalidChallengeError = function (_Error) {\n  function InvalidChallengeError() {\n    _classCallCheck(this, InvalidChallengeError);\n    return _callSuper(this, InvalidChallengeError, arguments);\n  }\n  _inherits(InvalidChallengeError, _Error);\n  return _createClass(InvalidChallengeError);\n}(_wrapNativeSuper(Error));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi93ZWJhdXRoL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRiw2QkFBNkI7QUFDN0IsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsaUNBQWlDO0FBQ2pDLCtCQUErQjtBQUMvQiw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLDJCQUEyQixxSEFBcUgsZ0RBQWdELGVBQWUsNENBQTRDLDJDQUEyQyxjQUFjO0FBQ3BULCtCQUErQix1REFBdUQseURBQXlELG1EQUFtRCx1R0FBdUcsb0JBQW9CLCtCQUErQixxQkFBcUIscUJBQXFCLHNFQUFzRSx3REFBd0QsZUFBZSxrRUFBa0UsaUNBQWlDO0FBQ3RuQiwrQkFBK0Isa0ZBQWtGLGdCQUFnQixvQkFBb0Isb0NBQW9DO0FBQ3pMLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sZ0NBQWdDLE1BQU0sb0VBQW9FLFlBQVk7QUFDdEgsaUNBQWlDLGtHQUFrRyw0QkFBNEI7QUFDL0osOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi93ZWJhdXRoL2Vycm9ycy5qcz9lYzJkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5JbnZhbGlkQ2hhbGxlbmdlRXJyb3IgPSB2b2lkIDA7XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgeyB2YXIgbyA9IHJbdF07IG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIG8gJiYgKG8ud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBfdG9Qcm9wZXJ0eUtleShvLmtleSksIG8pOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7IHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9XG5mdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odCwgZSkgeyBpZiAoZSAmJiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKGUpIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOyBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHQpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGUpIHsgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcih0KSB7IHZhciByID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBNYXAgPyBuZXcgTWFwKCkgOiB2b2lkIDA7IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcih0KSB7IGlmIChudWxsID09PSB0IHx8ICFfaXNOYXRpdmVGdW5jdGlvbih0KSkgcmV0dXJuIHQ7IGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgaWYgKHZvaWQgMCAhPT0gcikgeyBpZiAoci5oYXModCkpIHJldHVybiByLmdldCh0KTsgci5zZXQodCwgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QodCwgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IHJldHVybiBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6ICExLCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIHQpOyB9LCBfd3JhcE5hdGl2ZVN1cGVyKHQpOyB9XG5mdW5jdGlvbiBfY29uc3RydWN0KHQsIGUsIHIpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IHZhciBvID0gW251bGxdOyBvLnB1c2guYXBwbHkobywgZSk7IHZhciBwID0gbmV3ICh0LmJpbmQuYXBwbHkodCwgbykpKCk7IHJldHVybiByICYmIF9zZXRQcm90b3R5cGVPZihwLCByLnByb3RvdHlwZSksIHA7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24odCkgeyB0cnkgeyByZXR1cm4gLTEgIT09IEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwodCkuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIik7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdDsgfSB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YodCwgZSkgeyByZXR1cm4gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0LCBlKSB7IHJldHVybiB0Ll9fcHJvdG9fXyA9IGUsIHQ7IH0sIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbnZhciBJbnZhbGlkQ2hhbGxlbmdlRXJyb3IgPSBleHBvcnRzLkludmFsaWRDaGFsbGVuZ2VFcnJvciA9IGZ1bmN0aW9uIChfRXJyb3IpIHtcbiAgZnVuY3Rpb24gSW52YWxpZENoYWxsZW5nZUVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnZhbGlkQ2hhbGxlbmdlRXJyb3IpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEludmFsaWRDaGFsbGVuZ2VFcnJvciwgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoSW52YWxpZENoYWxsZW5nZUVycm9yLCBfRXJyb3IpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEludmFsaWRDaGFsbGVuZ2VFcnJvcik7XG59KF93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/index.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/index.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _exportNames = {\n  InvalidChallengeError: true\n};\nObject.defineProperty(exports, \"InvalidChallengeError\", ({\n  enumerable: true,\n  get: function get() {\n    return _errors.InvalidChallengeError;\n  }\n}));\nvar _utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/utils.js\");\nObject.keys(_utils).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _utils[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _utils[key];\n    }\n  });\n});\nvar _errors = __webpack_require__(/*! ./errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/errors.js\");\nvar _challenge_transaction = __webpack_require__(/*! ./challenge_transaction */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/challenge_transaction.js\");\nObject.keys(_challenge_transaction).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _challenge_transaction[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _challenge_transaction[key];\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi93ZWJhdXRoL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGO0FBQ0E7QUFDQTtBQUNBLHlEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLGFBQWEsbUJBQU8sQ0FBQyw4R0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELGNBQWMsbUJBQU8sQ0FBQyxnSEFBVTtBQUNoQyw2QkFBNkIsbUJBQU8sQ0FBQyw4SUFBeUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQHN0ZWxsYXIvc3RlbGxhci1zZGsvbGliL3dlYmF1dGgvaW5kZXguanM/MWQ5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBfZXhwb3J0TmFtZXMgPSB7XG4gIEludmFsaWRDaGFsbGVuZ2VFcnJvcjogdHJ1ZVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkludmFsaWRDaGFsbGVuZ2VFcnJvclwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcjtcbiAgfVxufSk7XG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5PYmplY3Qua2V5cyhfdXRpbHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2V4cG9ydE5hbWVzLCBrZXkpKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF91dGlsc1trZXldKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF91dGlsc1trZXldO1xuICAgIH1cbiAgfSk7XG59KTtcbnZhciBfZXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xudmFyIF9jaGFsbGVuZ2VfdHJhbnNhY3Rpb24gPSByZXF1aXJlKFwiLi9jaGFsbGVuZ2VfdHJhbnNhY3Rpb25cIik7XG5PYmplY3Qua2V5cyhfY2hhbGxlbmdlX3RyYW5zYWN0aW9uKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9leHBvcnROYW1lcywga2V5KSkgcmV0dXJuO1xuICBpZiAoa2V5IGluIGV4cG9ydHMgJiYgZXhwb3J0c1trZXldID09PSBfY2hhbGxlbmdlX3RyYW5zYWN0aW9uW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2NoYWxsZW5nZV90cmFuc2FjdGlvbltrZXldO1xuICAgIH1cbiAgfSk7XG59KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/utils.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/utils.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.gatherTxSigners = gatherTxSigners;\nexports.verifyTxSignedBy = verifyTxSignedBy;\nvar _stellarBase = __webpack_require__(/*! @stellar/stellar-base */ \"(rsc)/./node_modules/@stellar/stellar-base/lib/index.js\");\nvar _errors = __webpack_require__(/*! ./errors */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/errors.js\");\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction gatherTxSigners(transaction, signers) {\n  var hashedSignatureBase = transaction.hash();\n  var txSignatures = _toConsumableArray(transaction.signatures);\n  var signersFound = new Set();\n  var _iterator = _createForOfIteratorHelper(signers),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var signer = _step.value;\n      if (txSignatures.length === 0) {\n        break;\n      }\n      var keypair = void 0;\n      try {\n        keypair = _stellarBase.Keypair.fromPublicKey(signer);\n      } catch (err) {\n        throw new _errors.InvalidChallengeError(\"Signer is not a valid address: \".concat(err.message));\n      }\n      for (var i = 0; i < txSignatures.length; i++) {\n        var decSig = txSignatures[i];\n        if (!decSig.hint().equals(keypair.signatureHint())) {\n          continue;\n        }\n        if (keypair.verify(hashedSignatureBase, decSig.signature())) {\n          signersFound.add(signer);\n          txSignatures.splice(i, 1);\n          break;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return Array.from(signersFound);\n}\nfunction verifyTxSignedBy(transaction, accountID) {\n  return gatherTxSigners(transaction, [accountID]).length !== 0;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BzdGVsbGFyL3N0ZWxsYXItc2RrL2xpYi93ZWJhdXRoL3V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLHVCQUF1QjtBQUN2Qix3QkFBd0I7QUFDeEIsbUJBQW1CLG1CQUFPLENBQUMsc0ZBQXVCO0FBQ2xELGNBQWMsbUJBQU8sQ0FBQyxnSEFBVTtBQUNoQyw0Q0FBNEMsK0VBQStFLFVBQVUseUdBQXlHLGNBQWMsaUNBQWlDLFNBQVMsd0JBQXdCLDBCQUEwQixXQUFXLElBQUksNkJBQTZCLHFCQUFxQixVQUFVLFlBQVksZ0tBQWdLLHVCQUF1QixTQUFTLGtCQUFrQixnQkFBZ0Isb0JBQW9CLGtCQUFrQix1QkFBdUIscUJBQXFCLGdCQUFnQixvQkFBb0IsTUFBTSx1Q0FBdUMsVUFBVTtBQUM5ekIsaUNBQWlDO0FBQ2pDLGdDQUFnQztBQUNoQyw2Q0FBNkMsU0FBUywwREFBMEQsVUFBVSxnQ0FBZ0M7QUFDMUosK0JBQStCO0FBQy9CLGlDQUFpQztBQUNqQyxtQ0FBbUMsK0NBQStDLDhCQUE4QixPQUFPLGtCQUFrQjtBQUN6STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4QkFBOEI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLHNCQUFzQix5QkFBeUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9Ac3RlbGxhci9zdGVsbGFyLXNkay9saWIvd2ViYXV0aC91dGlscy5qcz8wYTQ0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5nYXRoZXJUeFNpZ25lcnMgPSBnYXRoZXJUeFNpZ25lcnM7XG5leHBvcnRzLnZlcmlmeVR4U2lnbmVkQnkgPSB2ZXJpZnlUeFNpZ25lZEJ5O1xudmFyIF9zdGVsbGFyQmFzZSA9IHJlcXVpcmUoXCJAc3RlbGxhci9zdGVsbGFyLWJhc2VcIik7XG52YXIgX2Vycm9ycyA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHIsIGUpIHsgdmFyIHQgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIXQpIHsgaWYgKEFycmF5LmlzQXJyYXkocikgfHwgKHQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikpIHx8IGUgJiYgciAmJiBcIm51bWJlclwiID09IHR5cGVvZiByLmxlbmd0aCkgeyB0ICYmIChyID0gdCk7IHZhciBfbiA9IDAsIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IHJldHVybiBfbiA+PSByLmxlbmd0aCA/IHsgZG9uZTogITAgfSA6IHsgZG9uZTogITEsIHZhbHVlOiByW19uKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB0aHJvdyByOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBvLCBhID0gITAsIHUgPSAhMTsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgdCA9IHQuY2FsbChyKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHIgPSB0Lm5leHQoKTsgcmV0dXJuIGEgPSByLmRvbmUsIHI7IH0sIGU6IGZ1bmN0aW9uIGUocikgeyB1ID0gITAsIG8gPSByOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBhIHx8IG51bGwgPT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKHUpIHRocm93IG87IH0gfSB9OyB9XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gZ2F0aGVyVHhTaWduZXJzKHRyYW5zYWN0aW9uLCBzaWduZXJzKSB7XG4gIHZhciBoYXNoZWRTaWduYXR1cmVCYXNlID0gdHJhbnNhY3Rpb24uaGFzaCgpO1xuICB2YXIgdHhTaWduYXR1cmVzID0gX3RvQ29uc3VtYWJsZUFycmF5KHRyYW5zYWN0aW9uLnNpZ25hdHVyZXMpO1xuICB2YXIgc2lnbmVyc0ZvdW5kID0gbmV3IFNldCgpO1xuICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2lnbmVycyksXG4gICAgX3N0ZXA7XG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBzaWduZXIgPSBfc3RlcC52YWx1ZTtcbiAgICAgIGlmICh0eFNpZ25hdHVyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdmFyIGtleXBhaXIgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICBrZXlwYWlyID0gX3N0ZWxsYXJCYXNlLktleXBhaXIuZnJvbVB1YmxpY0tleShzaWduZXIpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBfZXJyb3JzLkludmFsaWRDaGFsbGVuZ2VFcnJvcihcIlNpZ25lciBpcyBub3QgYSB2YWxpZCBhZGRyZXNzOiBcIi5jb25jYXQoZXJyLm1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHhTaWduYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkZWNTaWcgPSB0eFNpZ25hdHVyZXNbaV07XG4gICAgICAgIGlmICghZGVjU2lnLmhpbnQoKS5lcXVhbHMoa2V5cGFpci5zaWduYXR1cmVIaW50KCkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleXBhaXIudmVyaWZ5KGhhc2hlZFNpZ25hdHVyZUJhc2UsIGRlY1NpZy5zaWduYXR1cmUoKSkpIHtcbiAgICAgICAgICBzaWduZXJzRm91bmQuYWRkKHNpZ25lcik7XG4gICAgICAgICAgdHhTaWduYXR1cmVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3IuZigpO1xuICB9XG4gIHJldHVybiBBcnJheS5mcm9tKHNpZ25lcnNGb3VuZCk7XG59XG5mdW5jdGlvbiB2ZXJpZnlUeFNpZ25lZEJ5KHRyYW5zYWN0aW9uLCBhY2NvdW50SUQpIHtcbiAgcmV0dXJuIGdhdGhlclR4U2lnbmVycyh0cmFuc2FjdGlvbiwgW2FjY291bnRJRF0pLmxlbmd0aCAhPT0gMDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/webauth/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/dist/index.js":
/*!******************************************************!*\
  !*** ./node_modules/stellar-agent-kit/dist/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BAND_ORACLE: () => (/* binding */ BAND_ORACLE),\n/* harmony export */   BLEND_POOLS: () => (/* binding */ BLEND_POOLS),\n/* harmony export */   BLEND_POOLS_MAINNET: () => (/* binding */ BLEND_POOLS_MAINNET),\n/* harmony export */   MAINNET_ASSETS: () => (/* binding */ MAINNET_ASSETS),\n/* harmony export */   REFLECTOR_ORACLE: () => (/* binding */ REFLECTOR_ORACLE),\n/* harmony export */   SOROSWAP_AGGREGATOR: () => (/* binding */ SOROSWAP_AGGREGATOR),\n/* harmony export */   StellarAgentKit: () => (/* binding */ StellarAgentKit),\n/* harmony export */   createDexClient: () => (/* binding */ createDexClient),\n/* harmony export */   createReflectorOracle: () => (/* binding */ createReflectorOracle),\n/* harmony export */   getNetworkConfig: () => (/* binding */ getNetworkConfig),\n/* harmony export */   lendingBorrow: () => (/* binding */ lendingBorrow),\n/* harmony export */   lendingSupply: () => (/* binding */ lendingSupply),\n/* harmony export */   networks: () => (/* binding */ networks)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _blend_capital_blend_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blend-capital/blend-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js\");\n// src/agent.ts\n\n\n// src/config/networks.ts\n\nvar NetworkConfigSchema = zod__WEBPACK_IMPORTED_MODULE_1__.object({\n  horizonUrl: zod__WEBPACK_IMPORTED_MODULE_1__.string().url(),\n  sorobanRpcUrl: zod__WEBPACK_IMPORTED_MODULE_1__.string().url(),\n  friendbotUrl: zod__WEBPACK_IMPORTED_MODULE_1__.string().url().optional()\n});\nvar mainnet = {\n  horizonUrl: \"https://horizon.stellar.org\",\n  sorobanRpcUrl: \"https://soroban-rpc.mainnet.stellar.gateway.fm\"\n};\nvar networks = { mainnet };\nfunction getNetworkConfig(name) {\n  if (name && name !== \"mainnet\") {\n    throw new Error(\"This project is mainnet-only. Use network: 'mainnet'.\");\n  }\n  return mainnet;\n}\n\n// src/dex/soroSwap.ts\n\n\nvar SOROSWAP_API_BASE = \"https://api.soroswap.finance\";\nfunction assetToApiString(asset) {\n  if (asset.contractId) return asset.contractId;\n  if (asset.code && asset.issuer) return `${asset.code}:${asset.issuer}`;\n  throw new Error(\"Asset must have contractId or code+issuer\");\n}\nfunction parseApiQuote(data) {\n  const o = data;\n  return {\n    expectedIn: String(o?.expectedIn ?? o?.amountIn ?? \"0\"),\n    expectedOut: String(o?.expectedOut ?? o?.amountOut ?? \"0\"),\n    minOut: String(o?.minOut ?? o?.minimumAmountOut ?? o?.expectedOut ?? \"0\"),\n    route: Array.isArray(o?.route) ? o.route : Array.isArray(o?.path) ? o.path : [],\n    rawData: data\n  };\n}\nfunction createSoroSwapDexClient(networkConfig, apiKey) {\n  const key = apiKey ?? process.env.SOROSWAP_API_KEY;\n  async function getQuote(from, to, amount) {\n    const url = `${SOROSWAP_API_BASE}/quote?network=mainnet`;\n    const body = {\n      assetIn: assetToApiString(from),\n      assetOut: assetToApiString(to),\n      amount: String(amount).trim(),\n      tradeType: \"EXACT_IN\",\n      protocols: [\"soroswap\", \"phoenix\", \"aqua\"]\n    };\n    const headers = { \"Content-Type\": \"application/json\" };\n    if (key) headers[\"Authorization\"] = `Bearer ${key}`;\n    const res = await fetch(url, { method: \"POST\", headers, body: JSON.stringify(body) });\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`SoroSwap quote failed ${res.status}: ${text}`);\n    }\n    return parseApiQuote(await res.json());\n  }\n  async function executeSwap(secretKey, quote) {\n    if (!key) throw new Error(\"executeSwap requires SOROSWAP_API_KEY\");\n    const keypair = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Keypair.fromSecret(secretKey.trim());\n    const fromAddress = keypair.publicKey();\n    const buildUrl = `${SOROSWAP_API_BASE}/quote/build?network=mainnet`;\n    const buildRes = await fetch(buildUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${key}` },\n      body: JSON.stringify({ quote: quote.rawData ?? quote, from: fromAddress, to: fromAddress })\n    });\n    if (!buildRes.ok) throw new Error(`SoroSwap build failed ${buildRes.status}: ${await buildRes.text()}`);\n    const buildData = await buildRes.json();\n    const xdrBase64 = buildData?.xdr;\n    if (!xdrBase64 || typeof xdrBase64 !== \"string\") throw new Error(\"SoroSwap build response missing xdr\");\n    const config = getNetworkConfig(\"mainnet\");\n    const networkPassphrase = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Networks.PUBLIC;\n    const tx = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder.fromXDR(xdrBase64, networkPassphrase);\n    tx.sign(keypair);\n    const server = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(config.sorobanRpcUrl, { allowHttp: config.sorobanRpcUrl.startsWith(\"http:\") });\n    const sendResult = await server.sendTransaction(tx);\n    if (sendResult.errorResult) throw new Error(`Soroban sendTransaction failed: ${String(sendResult.errorResult)}`);\n    return { hash: sendResult.hash, status: sendResult.status ?? \"PENDING\" };\n  }\n  return { getQuote, executeSwap };\n}\n\n// src/dex/index.ts\nfunction createDexClient(networkConfig, apiKey) {\n  return createSoroSwapDexClient(networkConfig, apiKey);\n}\n\n// src/oracle/reflector.ts\n\n\n// src/config/oracles.ts\nvar REFLECTOR_ORACLE = {\n  /** Stellar Mainnet DEX prices */\n  dex: \"CALI2BYU2JE6WVRUFYTS6MSBNEHGJ35P4AVCZYF3B6QOE3QKOB2PLE6M\",\n  /** External CEX & DEX rates */\n  cexDex: \"CAFJZQWSED6YAWZU3GWRTOCNPPCGBN32L7QV43XX5LZLFTK6JLN34DLN\",\n  /** Fiat exchange rates */\n  fiat: \"CBKGPWGKSKZF52CFHMTRR23TBWTPMRDIYZ4O2P5VS65BMHYH4DXMCJZC\"\n};\nvar BAND_ORACLE = \"CCQXWMZVM3KRTXTUPTN53YHL272QGKF32L7XEDNZ2S6OSUFK3NFBGG5M\";\n\n// src/oracle/reflector.ts\nvar SIMULATION_SOURCE_MAINNET = \"GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN\";\nfunction assetToScVal(asset) {\n  if (\"contractId\" in asset && asset.contractId) {\n    const addr = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address(asset.contractId);\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n      _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(\"Stellar\"),\n      _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvAddress(addr.toScAddress())\n    ]);\n  }\n  if (\"symbol\" in asset && asset.symbol) {\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n      _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(\"Other\"),\n      _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(asset.symbol)\n    ]);\n  }\n  throw new Error(\"Oracle asset must be { contractId } or { symbol }\");\n}\nfunction parseLastPriceRetval(retvalInput, decimals) {\n  const retval = typeof retvalInput === \"string\" ? _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(retvalInput, \"base64\") : retvalInput;\n  const vec = retval.vec();\n  if (!vec || vec.length === 0) {\n    throw new Error(\"Oracle returned no price (None) for this asset\");\n  }\n  const inner = vec[0];\n  const dataVec = inner.vec();\n  if (dataVec && dataVec.length >= 2) {\n    const price = scValToI128(dataVec[0]);\n    const timestamp = Number(dataVec[1].u64()?.toString() ?? 0);\n    return { price, timestamp, decimals };\n  }\n  const m = inner.map();\n  if (m) {\n    for (const entry of m) {\n      const k = entry.key();\n      const v = entry.val();\n      if (k.sym && k.sym().toString() === \"price\" && v) {\n        const price = scValToI128(v);\n        let timestamp = 0;\n        for (const e2 of m) {\n          if (e2.key().sym && e2.key().sym().toString() === \"timestamp\") {\n            timestamp = Number(e2.val().u64()?.toString() ?? 0);\n            break;\n          }\n        }\n        return { price, timestamp, decimals };\n      }\n    }\n  }\n  throw new Error(\"Oracle price data format unexpected\");\n}\nfunction scValToI128(val) {\n  const i128 = val.i128();\n  if (!i128) throw new Error(\"Expected i128 price\");\n  const lo = i128.lo();\n  const hi = i128.hi();\n  if (!lo || hi === void 0) return \"0\";\n  const loNum = Number(lo);\n  const hiNum = Number(hi);\n  const negative = hiNum < 0;\n  const absLo = loNum < 0 ? 4294967296 + loNum : loNum;\n  const absHi = hiNum < 0 ? 4294967296 + hiNum : hiNum;\n  let n = BigInt(absLo) + (BigInt(absHi) << 32n);\n  if (negative) n = -n;\n  return String(n);\n}\nfunction createReflectorOracle(config) {\n  const feed = config.feed ?? \"dex\";\n  const contractId = REFLECTOR_ORACLE[feed];\n  const server = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(config.networkConfig.sorobanRpcUrl, {\n    allowHttp: config.networkConfig.sorobanRpcUrl.startsWith(\"http:\")\n  });\n  const networkPassphrase = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Networks.PUBLIC;\n  async function decimals() {\n    const contract = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract(contractId);\n    const op = contract.call(\"decimals\");\n    const acc = await server.getAccount(SIMULATION_SOURCE_MAINNET);\n    const tx = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder(acc, {\n      fee: \"10000\",\n      networkPassphrase\n    }).addOperation(op).setTimeout(30).build();\n    const sim = await server.simulateTransaction(tx);\n    if (\"error\" in sim && sim.error) throw new Error(String(sim.error));\n    const ret = sim?.result?.retval;\n    if (ret == null) throw new Error(\"No decimals retval\");\n    const val = typeof ret === \"string\" ? _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(ret, \"base64\") : ret;\n    const u = val.u32();\n    return u ?? 7;\n  }\n  async function lastprice(asset) {\n    const contract = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract(contractId);\n    const assetScVal = assetToScVal(asset);\n    const op = contract.call(\"lastprice\", assetScVal);\n    const acc = await server.getAccount(SIMULATION_SOURCE_MAINNET);\n    const tx = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder(acc, {\n      fee: \"10000\",\n      networkPassphrase\n    }).addOperation(op).setTimeout(30).build();\n    const sim = await server.simulateTransaction(tx);\n    if (\"error\" in sim && sim.error) throw new Error(String(sim.error));\n    const ret = sim?.result?.retval;\n    if (ret == null) throw new Error(\"Oracle lastprice: no retval\");\n    const dec = await decimals();\n    return parseLastPriceRetval(ret, dec);\n  }\n  return { lastprice, decimals, contractId };\n}\n\n// src/lending/blend.ts\n\n\nvar BLEND_POOLS_MAINNET = \"CCCCIQSDILITHMM7PBSLVDT5MISSY7R26MNZXCX4H7J5JQ5FPIYOGYFS\";\nvar BLEND_POOLS = { mainnet: BLEND_POOLS_MAINNET };\nasync function buildSubmitTx(networkConfig, secretKey, poolId, requests) {\n  const keypair = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Keypair.fromSecret(secretKey.trim());\n  const user = keypair.publicKey();\n  const pool = new _blend_capital_blend_sdk__WEBPACK_IMPORTED_MODULE_2__.PoolContractV2(poolId);\n  const submitOpXdr = pool.submit({\n    from: user,\n    spender: user,\n    to: user,\n    requests\n  });\n  const op = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.Operation.fromXDR(submitOpXdr, \"base64\");\n  const networkPassphrase = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Networks.PUBLIC;\n  const horizon = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Horizon.Server(networkConfig.horizonUrl);\n  const sourceAccount = await horizon.loadAccount(user);\n  const tx = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder(sourceAccount, {\n    fee: \"10000\",\n    networkPassphrase\n  }).addOperation(op).setTimeout(180).build();\n  return { tx, keypair };\n}\nasync function lendingSupply(networkConfig, secretKey, args) {\n  const amountBigInt = BigInt(args.amount);\n  const requests = [\n    {\n      request_type: _blend_capital_blend_sdk__WEBPACK_IMPORTED_MODULE_2__.RequestType.SupplyCollateral,\n      address: args.assetContractId,\n      amount: amountBigInt\n    }\n  ];\n  const { tx, keypair } = await buildSubmitTx(\n    networkConfig,\n    secretKey,\n    args.poolId,\n    requests\n  );\n  const server = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(networkConfig.sorobanRpcUrl, {\n    allowHttp: networkConfig.sorobanRpcUrl.startsWith(\"http:\")\n  });\n  const prepared = await server.prepareTransaction(tx);\n  prepared.sign(keypair);\n  const sendResult = await server.sendTransaction(prepared);\n  if (sendResult.errorResult) {\n    throw new Error(`Blend supply failed: ${String(sendResult.errorResult)}`);\n  }\n  return { hash: sendResult.hash, status: sendResult.status ?? \"PENDING\" };\n}\nasync function lendingBorrow(networkConfig, secretKey, args) {\n  const amountBigInt = BigInt(args.amount);\n  const requests = [\n    {\n      request_type: _blend_capital_blend_sdk__WEBPACK_IMPORTED_MODULE_2__.RequestType.Borrow,\n      address: args.assetContractId,\n      amount: amountBigInt\n    }\n  ];\n  const { tx, keypair } = await buildSubmitTx(\n    networkConfig,\n    secretKey,\n    args.poolId,\n    requests\n  );\n  const server = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(networkConfig.sorobanRpcUrl, {\n    allowHttp: networkConfig.sorobanRpcUrl.startsWith(\"http:\")\n  });\n  const prepared = await server.prepareTransaction(tx);\n  prepared.sign(keypair);\n  const sendResult = await server.sendTransaction(prepared);\n  if (sendResult.errorResult) {\n    throw new Error(`Blend borrow failed: ${String(sendResult.errorResult)}`);\n  }\n  return { hash: sendResult.hash, status: sendResult.status ?? \"PENDING\" };\n}\n\n// src/agent.ts\nvar StellarAgentKit = class {\n  keypair;\n  network;\n  config;\n  _initialized = false;\n  _dex = null;\n  _horizon = null;\n  _oracle = null;\n  constructor(secretKey, network = \"mainnet\") {\n    if (network !== \"mainnet\") {\n      throw new Error(\"This project is mainnet-only. Use network: 'mainnet'.\");\n    }\n    this.keypair = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Keypair.fromSecret(secretKey.trim());\n    this.network = \"mainnet\";\n    this.config = getNetworkConfig();\n  }\n  /**\n   * Initialize clients (Horizon, Soroban RPC, protocol wrappers).\n   * Call after construction before using protocol methods.\n   */\n  async initialize() {\n    this._horizon = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Horizon.Server(this.config.horizonUrl);\n    this._dex = createDexClient(this.config, process.env.SOROSWAP_API_KEY);\n    this._oracle = createReflectorOracle({ networkConfig: this.config });\n    this._initialized = true;\n    return this;\n  }\n  ensureInitialized() {\n    if (!this._initialized || !this._dex) {\n      throw new Error(\"StellarAgentKit not initialized. Call await agent.initialize() first.\");\n    }\n  }\n  //  DEX Operations (mirror Mantle agniSwap / executeSwap) \n  /**\n   * Get a swap quote (exact-in). Uses SoroSwap aggregator (SoroSwap, Phoenix, Aqua).\n   */\n  async dexGetQuote(fromAsset, toAsset, amount) {\n    this.ensureInitialized();\n    return this._dex.getQuote(fromAsset, toAsset, amount);\n  }\n  /**\n   * Execute a swap using a prior quote.\n   */\n  async dexSwap(quote) {\n    this.ensureInitialized();\n    return this._dex.executeSwap(this.keypair.secret(), quote);\n  }\n  /**\n   * One-shot: get quote and execute swap (convenience).\n   */\n  async dexSwapExactIn(fromAsset, toAsset, amount) {\n    const quote = await this.dexGetQuote(fromAsset, toAsset, amount);\n    return this.dexSwap(quote);\n  }\n  //  Payments (Horizon) \n  /**\n   * Send a native or custom-asset payment (Horizon).\n   * @param to - Destination account (G...)\n   * @param amount - Amount in display units (e.g. \"10\" for 10 XLM)\n   * @param assetCode - Optional; omit for native XLM\n   * @param assetIssuer - Optional; required if assetCode is set\n   */\n  async sendPayment(to, amount, assetCode, assetIssuer) {\n    this.ensureInitialized();\n    if (!this._horizon) throw new Error(\"Horizon not initialized\");\n    const networkPassphrase = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Networks.PUBLIC;\n    const sourceAccount = await this._horizon.loadAccount(this.keypair.publicKey());\n    const asset = assetCode && assetIssuer ? new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Asset(assetCode, assetIssuer) : _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Asset.native();\n    const tx = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder(sourceAccount, {\n      fee: \"100\",\n      networkPassphrase\n    }).addOperation(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Operation.payment({ destination: to, asset, amount })).setTimeout(180).build();\n    tx.sign(this.keypair);\n    const result = await this._horizon.submitTransaction(tx);\n    return { hash: result.hash };\n  }\n  //  Oracle (Reflector SEP-40) \n  /**\n   * Get latest price for an asset from Reflector oracle.\n   * @param asset - { contractId: \"C...\" } for on-chain token or { symbol: \"XLM\" } for ticker\n   */\n  async getPrice(asset) {\n    this.ensureInitialized();\n    if (!this._oracle) throw new Error(\"Oracle not initialized\");\n    return this._oracle.lastprice(asset);\n  }\n  //  Lending (Blend) \n  /**\n   * Supply (deposit) an asset to a Blend pool.\n   */\n  async lendingSupply(args) {\n    this.ensureInitialized();\n    return lendingSupply(this.config, this.keypair.secret(), args);\n  }\n  /**\n   * Borrow an asset from a Blend pool.\n   */\n  async lendingBorrow(args) {\n    this.ensureInitialized();\n    return lendingBorrow(this.config, this.keypair.secret(), args);\n  }\n};\n\n// src/config/assets.ts\nvar MAINNET_ASSETS = {\n  XLM: { contractId: \"CAS3J7GYLGXMF6TDJBBYYSE3HQ6BBSMLNUQ34T6TZMYMW2EVH34XOWMA\" },\n  USDC: { contractId: \"CCW67TSZV3SSS2HXMBQ5JFGCKJNXKZM7UQUWUZPUTHXSTZLEO7SJMI75\" }\n};\nvar SOROSWAP_AGGREGATOR = \"CAG5LRYQ5JVEUI5TEID72EYOVX44TTUJT5BQR2J6J77FH65PCCFAJDDH\";\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDb0s7O0FBRXBLO0FBQ3dCO0FBQ3hCLDBCQUEwQix1Q0FBUTtBQUNsQyxjQUFjLHVDQUFRO0FBQ3RCLGlCQUFpQix1Q0FBUTtBQUN6QixnQkFBZ0IsdUNBQVE7QUFDeEIsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2RTtBQUNsQztBQUMzQztBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsV0FBVyxHQUFHLGFBQWE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixrREFBa0QsSUFBSTtBQUN0RCxtQ0FBbUMscURBQXFEO0FBQ3hGO0FBQ0E7QUFDQSwrQ0FBK0MsV0FBVyxJQUFJLEtBQUs7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5REFBTztBQUMzQjtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBLGlCQUFpQiw2REFBNkQsSUFBSSxHQUFHO0FBQ3JGLDZCQUE2QixtRUFBbUU7QUFDaEcsS0FBSztBQUNMLCtEQUErRCxnQkFBZ0IsSUFBSSxzQkFBc0I7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMERBQVE7QUFDdEMsZUFBZSxvRUFBa0I7QUFDakM7QUFDQSx1QkFBdUIscURBQUcsZ0NBQWdDLHFEQUFxRDtBQUMvRztBQUNBLG1GQUFtRiwrQkFBK0I7QUFDbEgsYUFBYTtBQUNiO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBUThCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBTztBQUM1QixXQUFXLHFEQUFHO0FBQ2QsTUFBTSxxREFBRztBQUNULE1BQU0scURBQUc7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFEQUFHO0FBQ2QsTUFBTSxxREFBRztBQUNULE1BQU0scURBQUc7QUFDVDtBQUNBO0FBQ0EsMENBQTBDLGFBQWEsS0FBSyxRQUFRO0FBQ3BFO0FBQ0E7QUFDQSxtREFBbUQscURBQUc7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFEQUFJO0FBQ3pCO0FBQ0EsR0FBRztBQUNILDRCQUE0QiwwREFBUztBQUNyQztBQUNBLHlCQUF5QiwwREFBUTtBQUNqQztBQUNBO0FBQ0EsbUJBQW1CLG9FQUFtQjtBQUN0QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFEQUFHO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvRUFBbUI7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQVE4QjtBQUN5QztBQUN2RTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBLGtCQUFrQix5REFBUTtBQUMxQjtBQUNBLG1CQUFtQixvRUFBYztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEscURBQUk7QUFDakIsNEJBQTRCLDBEQUFTO0FBQ3JDLHNCQUFzQix5REFBTztBQUM3QjtBQUNBLGlCQUFpQixvRUFBbUI7QUFDcEM7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpRUFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsY0FBYztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFEQUFJO0FBQ3pCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtCQUErQjtBQUMzRTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlFQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQUk7QUFDekI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsK0JBQStCO0FBQzNFO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseURBQVE7QUFDaEM7QUFDQSwyQ0FBMkMsNEJBQTRCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDBEQUFTO0FBQ3ZDO0FBQ0EsaURBQWlELHVEQUFLLDJCQUEyQix1REFBSztBQUN0RixtQkFBbUIsb0VBQW1CO0FBQ3RDO0FBQ0E7QUFDQSxLQUFLLGVBQWUsMkRBQVMsV0FBVyxnQ0FBZ0M7QUFDeEU7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxQkFBcUIsd0JBQXdCLGdCQUFnQjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyx3RUFBd0U7QUFDakYsVUFBVTtBQUNWO0FBQ0E7QUFlRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvZGlzdC9pbmRleC5qcz9iNDc1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hZ2VudC50c1xuaW1wb3J0IHsgS2V5cGFpciBhcyBLZXlwYWlyMywgQXNzZXQsIFRyYW5zYWN0aW9uQnVpbGRlciBhcyBUcmFuc2FjdGlvbkJ1aWxkZXI0LCBPcGVyYXRpb24sIE5ldHdvcmtzIGFzIE5ldHdvcmtzNCwgSG9yaXpvbiBhcyBIb3Jpem9uMiB9IGZyb20gXCJAc3RlbGxhci9zdGVsbGFyLXNka1wiO1xuXG4vLyBzcmMvY29uZmlnL25ldHdvcmtzLnRzXG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xudmFyIE5ldHdvcmtDb25maWdTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGhvcml6b25Vcmw6IHouc3RyaW5nKCkudXJsKCksXG4gIHNvcm9iYW5ScGNVcmw6IHouc3RyaW5nKCkudXJsKCksXG4gIGZyaWVuZGJvdFVybDogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpXG59KTtcbnZhciBtYWlubmV0ID0ge1xuICBob3Jpem9uVXJsOiBcImh0dHBzOi8vaG9yaXpvbi5zdGVsbGFyLm9yZ1wiLFxuICBzb3JvYmFuUnBjVXJsOiBcImh0dHBzOi8vc29yb2Jhbi1ycGMubWFpbm5ldC5zdGVsbGFyLmdhdGV3YXkuZm1cIlxufTtcbnZhciBuZXR3b3JrcyA9IHsgbWFpbm5ldCB9O1xuZnVuY3Rpb24gZ2V0TmV0d29ya0NvbmZpZyhuYW1lKSB7XG4gIGlmIChuYW1lICYmIG5hbWUgIT09IFwibWFpbm5ldFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBwcm9qZWN0IGlzIG1haW5uZXQtb25seS4gVXNlIG5ldHdvcms6ICdtYWlubmV0Jy5cIik7XG4gIH1cbiAgcmV0dXJuIG1haW5uZXQ7XG59XG5cbi8vIHNyYy9kZXgvc29yb1N3YXAudHNcbmltcG9ydCB7IEtleXBhaXIsIFRyYW5zYWN0aW9uQnVpbGRlciwgTmV0d29ya3MgfSBmcm9tIFwiQHN0ZWxsYXIvc3RlbGxhci1zZGtcIjtcbmltcG9ydCB7IHJwYyB9IGZyb20gXCJAc3RlbGxhci9zdGVsbGFyLXNka1wiO1xudmFyIFNPUk9TV0FQX0FQSV9CQVNFID0gXCJodHRwczovL2FwaS5zb3Jvc3dhcC5maW5hbmNlXCI7XG5mdW5jdGlvbiBhc3NldFRvQXBpU3RyaW5nKGFzc2V0KSB7XG4gIGlmIChhc3NldC5jb250cmFjdElkKSByZXR1cm4gYXNzZXQuY29udHJhY3RJZDtcbiAgaWYgKGFzc2V0LmNvZGUgJiYgYXNzZXQuaXNzdWVyKSByZXR1cm4gYCR7YXNzZXQuY29kZX06JHthc3NldC5pc3N1ZXJ9YDtcbiAgdGhyb3cgbmV3IEVycm9yKFwiQXNzZXQgbXVzdCBoYXZlIGNvbnRyYWN0SWQgb3IgY29kZStpc3N1ZXJcIik7XG59XG5mdW5jdGlvbiBwYXJzZUFwaVF1b3RlKGRhdGEpIHtcbiAgY29uc3QgbyA9IGRhdGE7XG4gIHJldHVybiB7XG4gICAgZXhwZWN0ZWRJbjogU3RyaW5nKG8/LmV4cGVjdGVkSW4gPz8gbz8uYW1vdW50SW4gPz8gXCIwXCIpLFxuICAgIGV4cGVjdGVkT3V0OiBTdHJpbmcobz8uZXhwZWN0ZWRPdXQgPz8gbz8uYW1vdW50T3V0ID8/IFwiMFwiKSxcbiAgICBtaW5PdXQ6IFN0cmluZyhvPy5taW5PdXQgPz8gbz8ubWluaW11bUFtb3VudE91dCA/PyBvPy5leHBlY3RlZE91dCA/PyBcIjBcIiksXG4gICAgcm91dGU6IEFycmF5LmlzQXJyYXkobz8ucm91dGUpID8gby5yb3V0ZSA6IEFycmF5LmlzQXJyYXkobz8ucGF0aCkgPyBvLnBhdGggOiBbXSxcbiAgICByYXdEYXRhOiBkYXRhXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTb3JvU3dhcERleENsaWVudChuZXR3b3JrQ29uZmlnLCBhcGlLZXkpIHtcbiAgY29uc3Qga2V5ID0gYXBpS2V5ID8/IHByb2Nlc3MuZW52LlNPUk9TV0FQX0FQSV9LRVk7XG4gIGFzeW5jIGZ1bmN0aW9uIGdldFF1b3RlKGZyb20sIHRvLCBhbW91bnQpIHtcbiAgICBjb25zdCB1cmwgPSBgJHtTT1JPU1dBUF9BUElfQkFTRX0vcXVvdGU/bmV0d29yaz1tYWlubmV0YDtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgYXNzZXRJbjogYXNzZXRUb0FwaVN0cmluZyhmcm9tKSxcbiAgICAgIGFzc2V0T3V0OiBhc3NldFRvQXBpU3RyaW5nKHRvKSxcbiAgICAgIGFtb3VudDogU3RyaW5nKGFtb3VudCkudHJpbSgpLFxuICAgICAgdHJhZGVUeXBlOiBcIkVYQUNUX0lOXCIsXG4gICAgICBwcm90b2NvbHM6IFtcInNvcm9zd2FwXCIsIFwicGhvZW5peFwiLCBcImFxdWFcIl1cbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH07XG4gICAgaWYgKGtleSkgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7a2V5fWA7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7IG1ldGhvZDogXCJQT1NUXCIsIGhlYWRlcnMsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpIH0pO1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU29yb1N3YXAgcXVvdGUgZmFpbGVkICR7cmVzLnN0YXR1c306ICR7dGV4dH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlQXBpUXVvdGUoYXdhaXQgcmVzLmpzb24oKSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVN3YXAoc2VjcmV0S2V5LCBxdW90ZSkge1xuICAgIGlmICgha2V5KSB0aHJvdyBuZXcgRXJyb3IoXCJleGVjdXRlU3dhcCByZXF1aXJlcyBTT1JPU1dBUF9BUElfS0VZXCIpO1xuICAgIGNvbnN0IGtleXBhaXIgPSBLZXlwYWlyLmZyb21TZWNyZXQoc2VjcmV0S2V5LnRyaW0oKSk7XG4gICAgY29uc3QgZnJvbUFkZHJlc3MgPSBrZXlwYWlyLnB1YmxpY0tleSgpO1xuICAgIGNvbnN0IGJ1aWxkVXJsID0gYCR7U09ST1NXQVBfQVBJX0JBU0V9L3F1b3RlL2J1aWxkP25ldHdvcms9bWFpbm5ldGA7XG4gICAgY29uc3QgYnVpbGRSZXMgPSBhd2FpdCBmZXRjaChidWlsZFVybCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtrZXl9YCB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBxdW90ZTogcXVvdGUucmF3RGF0YSA/PyBxdW90ZSwgZnJvbTogZnJvbUFkZHJlc3MsIHRvOiBmcm9tQWRkcmVzcyB9KVxuICAgIH0pO1xuICAgIGlmICghYnVpbGRSZXMub2spIHRocm93IG5ldyBFcnJvcihgU29yb1N3YXAgYnVpbGQgZmFpbGVkICR7YnVpbGRSZXMuc3RhdHVzfTogJHthd2FpdCBidWlsZFJlcy50ZXh0KCl9YCk7XG4gICAgY29uc3QgYnVpbGREYXRhID0gYXdhaXQgYnVpbGRSZXMuanNvbigpO1xuICAgIGNvbnN0IHhkckJhc2U2NCA9IGJ1aWxkRGF0YT8ueGRyO1xuICAgIGlmICgheGRyQmFzZTY0IHx8IHR5cGVvZiB4ZHJCYXNlNjQgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcIlNvcm9Td2FwIGJ1aWxkIHJlc3BvbnNlIG1pc3NpbmcgeGRyXCIpO1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldE5ldHdvcmtDb25maWcoXCJtYWlubmV0XCIpO1xuICAgIGNvbnN0IG5ldHdvcmtQYXNzcGhyYXNlID0gTmV0d29ya3MuUFVCTElDO1xuICAgIGNvbnN0IHR4ID0gVHJhbnNhY3Rpb25CdWlsZGVyLmZyb21YRFIoeGRyQmFzZTY0LCBuZXR3b3JrUGFzc3BocmFzZSk7XG4gICAgdHguc2lnbihrZXlwYWlyKTtcbiAgICBjb25zdCBzZXJ2ZXIgPSBuZXcgcnBjLlNlcnZlcihjb25maWcuc29yb2JhblJwY1VybCwgeyBhbGxvd0h0dHA6IGNvbmZpZy5zb3JvYmFuUnBjVXJsLnN0YXJ0c1dpdGgoXCJodHRwOlwiKSB9KTtcbiAgICBjb25zdCBzZW5kUmVzdWx0ID0gYXdhaXQgc2VydmVyLnNlbmRUcmFuc2FjdGlvbih0eCk7XG4gICAgaWYgKHNlbmRSZXN1bHQuZXJyb3JSZXN1bHQpIHRocm93IG5ldyBFcnJvcihgU29yb2JhbiBzZW5kVHJhbnNhY3Rpb24gZmFpbGVkOiAke1N0cmluZyhzZW5kUmVzdWx0LmVycm9yUmVzdWx0KX1gKTtcbiAgICByZXR1cm4geyBoYXNoOiBzZW5kUmVzdWx0Lmhhc2gsIHN0YXR1czogc2VuZFJlc3VsdC5zdGF0dXMgPz8gXCJQRU5ESU5HXCIgfTtcbiAgfVxuICByZXR1cm4geyBnZXRRdW90ZSwgZXhlY3V0ZVN3YXAgfTtcbn1cblxuLy8gc3JjL2RleC9pbmRleC50c1xuZnVuY3Rpb24gY3JlYXRlRGV4Q2xpZW50KG5ldHdvcmtDb25maWcsIGFwaUtleSkge1xuICByZXR1cm4gY3JlYXRlU29yb1N3YXBEZXhDbGllbnQobmV0d29ya0NvbmZpZywgYXBpS2V5KTtcbn1cblxuLy8gc3JjL29yYWNsZS9yZWZsZWN0b3IudHNcbmltcG9ydCB7XG4gIENvbnRyYWN0LFxuICBBZGRyZXNzLFxuICBUcmFuc2FjdGlvbkJ1aWxkZXIgYXMgVHJhbnNhY3Rpb25CdWlsZGVyMixcbiAgTmV0d29ya3MgYXMgTmV0d29ya3MyLFxuICB4ZHIsXG4gIHJwYyBhcyBycGMyXG59IGZyb20gXCJAc3RlbGxhci9zdGVsbGFyLXNka1wiO1xuXG4vLyBzcmMvY29uZmlnL29yYWNsZXMudHNcbnZhciBSRUZMRUNUT1JfT1JBQ0xFID0ge1xuICAvKiogU3RlbGxhciBNYWlubmV0IERFWCBwcmljZXMgKi9cbiAgZGV4OiBcIkNBTEkyQllVMkpFNldWUlVGWVRTNk1TQk5FSEdKMzVQNEFWQ1pZRjNCNlFPRTNRS09CMlBMRTZNXCIsXG4gIC8qKiBFeHRlcm5hbCBDRVggJiBERVggcmF0ZXMgKi9cbiAgY2V4RGV4OiBcIkNBRkpaUVdTRUQ2WUFXWlUzR1dSVE9DTlBQQ0dCTjMyTDdRVjQzWFg1TFpMRlRLNkpMTjM0RExOXCIsXG4gIC8qKiBGaWF0IGV4Y2hhbmdlIHJhdGVzICovXG4gIGZpYXQ6IFwiQ0JLR1BXR0tTS1pGNTJDRkhNVFJSMjNUQldUUE1SRElZWjRPMlA1VlM2NUJNSFlINERYTUNKWkNcIlxufTtcbnZhciBCQU5EX09SQUNMRSA9IFwiQ0NRWFdNWlZNM0tSVFhUVVBUTjUzWUhMMjcyUUdLRjMyTDdYRUROWjJTNk9TVUZLM05GQkdHNU1cIjtcblxuLy8gc3JjL29yYWNsZS9yZWZsZWN0b3IudHNcbnZhciBTSU1VTEFUSU9OX1NPVVJDRV9NQUlOTkVUID0gXCJHQTVaU0VKWUIzN0pSQzVBVkNJQTVNT1A0UkhUTTMzNVgyS0dYM0lIT0pBUFA1UkUzNEs0S1pWTlwiO1xuZnVuY3Rpb24gYXNzZXRUb1NjVmFsKGFzc2V0KSB7XG4gIGlmIChcImNvbnRyYWN0SWRcIiBpbiBhc3NldCAmJiBhc3NldC5jb250cmFjdElkKSB7XG4gICAgY29uc3QgYWRkciA9IG5ldyBBZGRyZXNzKGFzc2V0LmNvbnRyYWN0SWQpO1xuICAgIHJldHVybiB4ZHIuU2NWYWwuc2N2VmVjKFtcbiAgICAgIHhkci5TY1ZhbC5zY3ZTeW1ib2woXCJTdGVsbGFyXCIpLFxuICAgICAgeGRyLlNjVmFsLnNjdkFkZHJlc3MoYWRkci50b1NjQWRkcmVzcygpKVxuICAgIF0pO1xuICB9XG4gIGlmIChcInN5bWJvbFwiIGluIGFzc2V0ICYmIGFzc2V0LnN5bWJvbCkge1xuICAgIHJldHVybiB4ZHIuU2NWYWwuc2N2VmVjKFtcbiAgICAgIHhkci5TY1ZhbC5zY3ZTeW1ib2woXCJPdGhlclwiKSxcbiAgICAgIHhkci5TY1ZhbC5zY3ZTeW1ib2woYXNzZXQuc3ltYm9sKVxuICAgIF0pO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIk9yYWNsZSBhc3NldCBtdXN0IGJlIHsgY29udHJhY3RJZCB9IG9yIHsgc3ltYm9sIH1cIik7XG59XG5mdW5jdGlvbiBwYXJzZUxhc3RQcmljZVJldHZhbChyZXR2YWxJbnB1dCwgZGVjaW1hbHMpIHtcbiAgY29uc3QgcmV0dmFsID0gdHlwZW9mIHJldHZhbElucHV0ID09PSBcInN0cmluZ1wiID8geGRyLlNjVmFsLmZyb21YRFIocmV0dmFsSW5wdXQsIFwiYmFzZTY0XCIpIDogcmV0dmFsSW5wdXQ7XG4gIGNvbnN0IHZlYyA9IHJldHZhbC52ZWMoKTtcbiAgaWYgKCF2ZWMgfHwgdmVjLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk9yYWNsZSByZXR1cm5lZCBubyBwcmljZSAoTm9uZSkgZm9yIHRoaXMgYXNzZXRcIik7XG4gIH1cbiAgY29uc3QgaW5uZXIgPSB2ZWNbMF07XG4gIGNvbnN0IGRhdGFWZWMgPSBpbm5lci52ZWMoKTtcbiAgaWYgKGRhdGFWZWMgJiYgZGF0YVZlYy5sZW5ndGggPj0gMikge1xuICAgIGNvbnN0IHByaWNlID0gc2NWYWxUb0kxMjgoZGF0YVZlY1swXSk7XG4gICAgY29uc3QgdGltZXN0YW1wID0gTnVtYmVyKGRhdGFWZWNbMV0udTY0KCk/LnRvU3RyaW5nKCkgPz8gMCk7XG4gICAgcmV0dXJuIHsgcHJpY2UsIHRpbWVzdGFtcCwgZGVjaW1hbHMgfTtcbiAgfVxuICBjb25zdCBtID0gaW5uZXIubWFwKCk7XG4gIGlmIChtKSB7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBtKSB7XG4gICAgICBjb25zdCBrID0gZW50cnkua2V5KCk7XG4gICAgICBjb25zdCB2ID0gZW50cnkudmFsKCk7XG4gICAgICBpZiAoay5zeW0gJiYgay5zeW0oKS50b1N0cmluZygpID09PSBcInByaWNlXCIgJiYgdikge1xuICAgICAgICBjb25zdCBwcmljZSA9IHNjVmFsVG9JMTI4KHYpO1xuICAgICAgICBsZXQgdGltZXN0YW1wID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBlMiBvZiBtKSB7XG4gICAgICAgICAgaWYgKGUyLmtleSgpLnN5bSAmJiBlMi5rZXkoKS5zeW0oKS50b1N0cmluZygpID09PSBcInRpbWVzdGFtcFwiKSB7XG4gICAgICAgICAgICB0aW1lc3RhbXAgPSBOdW1iZXIoZTIudmFsKCkudTY0KCk/LnRvU3RyaW5nKCkgPz8gMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcHJpY2UsIHRpbWVzdGFtcCwgZGVjaW1hbHMgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiT3JhY2xlIHByaWNlIGRhdGEgZm9ybWF0IHVuZXhwZWN0ZWRcIik7XG59XG5mdW5jdGlvbiBzY1ZhbFRvSTEyOCh2YWwpIHtcbiAgY29uc3QgaTEyOCA9IHZhbC5pMTI4KCk7XG4gIGlmICghaTEyOCkgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgaTEyOCBwcmljZVwiKTtcbiAgY29uc3QgbG8gPSBpMTI4LmxvKCk7XG4gIGNvbnN0IGhpID0gaTEyOC5oaSgpO1xuICBpZiAoIWxvIHx8IGhpID09PSB2b2lkIDApIHJldHVybiBcIjBcIjtcbiAgY29uc3QgbG9OdW0gPSBOdW1iZXIobG8pO1xuICBjb25zdCBoaU51bSA9IE51bWJlcihoaSk7XG4gIGNvbnN0IG5lZ2F0aXZlID0gaGlOdW0gPCAwO1xuICBjb25zdCBhYnNMbyA9IGxvTnVtIDwgMCA/IDQyOTQ5NjcyOTYgKyBsb051bSA6IGxvTnVtO1xuICBjb25zdCBhYnNIaSA9IGhpTnVtIDwgMCA/IDQyOTQ5NjcyOTYgKyBoaU51bSA6IGhpTnVtO1xuICBsZXQgbiA9IEJpZ0ludChhYnNMbykgKyAoQmlnSW50KGFic0hpKSA8PCAzMm4pO1xuICBpZiAobmVnYXRpdmUpIG4gPSAtbjtcbiAgcmV0dXJuIFN0cmluZyhuKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlZmxlY3Rvck9yYWNsZShjb25maWcpIHtcbiAgY29uc3QgZmVlZCA9IGNvbmZpZy5mZWVkID8/IFwiZGV4XCI7XG4gIGNvbnN0IGNvbnRyYWN0SWQgPSBSRUZMRUNUT1JfT1JBQ0xFW2ZlZWRdO1xuICBjb25zdCBzZXJ2ZXIgPSBuZXcgcnBjMi5TZXJ2ZXIoY29uZmlnLm5ldHdvcmtDb25maWcuc29yb2JhblJwY1VybCwge1xuICAgIGFsbG93SHR0cDogY29uZmlnLm5ldHdvcmtDb25maWcuc29yb2JhblJwY1VybC5zdGFydHNXaXRoKFwiaHR0cDpcIilcbiAgfSk7XG4gIGNvbnN0IG5ldHdvcmtQYXNzcGhyYXNlID0gTmV0d29ya3MyLlBVQkxJQztcbiAgYXN5bmMgZnVuY3Rpb24gZGVjaW1hbHMoKSB7XG4gICAgY29uc3QgY29udHJhY3QgPSBuZXcgQ29udHJhY3QoY29udHJhY3RJZCk7XG4gICAgY29uc3Qgb3AgPSBjb250cmFjdC5jYWxsKFwiZGVjaW1hbHNcIik7XG4gICAgY29uc3QgYWNjID0gYXdhaXQgc2VydmVyLmdldEFjY291bnQoU0lNVUxBVElPTl9TT1VSQ0VfTUFJTk5FVCk7XG4gICAgY29uc3QgdHggPSBuZXcgVHJhbnNhY3Rpb25CdWlsZGVyMihhY2MsIHtcbiAgICAgIGZlZTogXCIxMDAwMFwiLFxuICAgICAgbmV0d29ya1Bhc3NwaHJhc2VcbiAgICB9KS5hZGRPcGVyYXRpb24ob3ApLnNldFRpbWVvdXQoMzApLmJ1aWxkKCk7XG4gICAgY29uc3Qgc2ltID0gYXdhaXQgc2VydmVyLnNpbXVsYXRlVHJhbnNhY3Rpb24odHgpO1xuICAgIGlmIChcImVycm9yXCIgaW4gc2ltICYmIHNpbS5lcnJvcikgdGhyb3cgbmV3IEVycm9yKFN0cmluZyhzaW0uZXJyb3IpKTtcbiAgICBjb25zdCByZXQgPSBzaW0/LnJlc3VsdD8ucmV0dmFsO1xuICAgIGlmIChyZXQgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKFwiTm8gZGVjaW1hbHMgcmV0dmFsXCIpO1xuICAgIGNvbnN0IHZhbCA9IHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgPyB4ZHIuU2NWYWwuZnJvbVhEUihyZXQsIFwiYmFzZTY0XCIpIDogcmV0O1xuICAgIGNvbnN0IHUgPSB2YWwudTMyKCk7XG4gICAgcmV0dXJuIHUgPz8gNztcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBsYXN0cHJpY2UoYXNzZXQpIHtcbiAgICBjb25zdCBjb250cmFjdCA9IG5ldyBDb250cmFjdChjb250cmFjdElkKTtcbiAgICBjb25zdCBhc3NldFNjVmFsID0gYXNzZXRUb1NjVmFsKGFzc2V0KTtcbiAgICBjb25zdCBvcCA9IGNvbnRyYWN0LmNhbGwoXCJsYXN0cHJpY2VcIiwgYXNzZXRTY1ZhbCk7XG4gICAgY29uc3QgYWNjID0gYXdhaXQgc2VydmVyLmdldEFjY291bnQoU0lNVUxBVElPTl9TT1VSQ0VfTUFJTk5FVCk7XG4gICAgY29uc3QgdHggPSBuZXcgVHJhbnNhY3Rpb25CdWlsZGVyMihhY2MsIHtcbiAgICAgIGZlZTogXCIxMDAwMFwiLFxuICAgICAgbmV0d29ya1Bhc3NwaHJhc2VcbiAgICB9KS5hZGRPcGVyYXRpb24ob3ApLnNldFRpbWVvdXQoMzApLmJ1aWxkKCk7XG4gICAgY29uc3Qgc2ltID0gYXdhaXQgc2VydmVyLnNpbXVsYXRlVHJhbnNhY3Rpb24odHgpO1xuICAgIGlmIChcImVycm9yXCIgaW4gc2ltICYmIHNpbS5lcnJvcikgdGhyb3cgbmV3IEVycm9yKFN0cmluZyhzaW0uZXJyb3IpKTtcbiAgICBjb25zdCByZXQgPSBzaW0/LnJlc3VsdD8ucmV0dmFsO1xuICAgIGlmIChyZXQgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKFwiT3JhY2xlIGxhc3RwcmljZTogbm8gcmV0dmFsXCIpO1xuICAgIGNvbnN0IGRlYyA9IGF3YWl0IGRlY2ltYWxzKCk7XG4gICAgcmV0dXJuIHBhcnNlTGFzdFByaWNlUmV0dmFsKHJldCwgZGVjKTtcbiAgfVxuICByZXR1cm4geyBsYXN0cHJpY2UsIGRlY2ltYWxzLCBjb250cmFjdElkIH07XG59XG5cbi8vIHNyYy9sZW5kaW5nL2JsZW5kLnRzXG5pbXBvcnQge1xuICBLZXlwYWlyIGFzIEtleXBhaXIyLFxuICBUcmFuc2FjdGlvbkJ1aWxkZXIgYXMgVHJhbnNhY3Rpb25CdWlsZGVyMyxcbiAgTmV0d29ya3MgYXMgTmV0d29ya3MzLFxuICB4ZHIgYXMgeGRyMixcbiAgcnBjIGFzIHJwYzMsXG4gIEhvcml6b25cbn0gZnJvbSBcIkBzdGVsbGFyL3N0ZWxsYXItc2RrXCI7XG5pbXBvcnQgeyBQb29sQ29udHJhY3RWMiwgUmVxdWVzdFR5cGUgfSBmcm9tIFwiQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrXCI7XG52YXIgQkxFTkRfUE9PTFNfTUFJTk5FVCA9IFwiQ0NDQ0lRU0RJTElUSE1NN1BCU0xWRFQ1TUlTU1k3UjI2TU5aWENYNEg3SjVKUTVGUElZT0dZRlNcIjtcbnZhciBCTEVORF9QT09MUyA9IHsgbWFpbm5ldDogQkxFTkRfUE9PTFNfTUFJTk5FVCB9O1xuYXN5bmMgZnVuY3Rpb24gYnVpbGRTdWJtaXRUeChuZXR3b3JrQ29uZmlnLCBzZWNyZXRLZXksIHBvb2xJZCwgcmVxdWVzdHMpIHtcbiAgY29uc3Qga2V5cGFpciA9IEtleXBhaXIyLmZyb21TZWNyZXQoc2VjcmV0S2V5LnRyaW0oKSk7XG4gIGNvbnN0IHVzZXIgPSBrZXlwYWlyLnB1YmxpY0tleSgpO1xuICBjb25zdCBwb29sID0gbmV3IFBvb2xDb250cmFjdFYyKHBvb2xJZCk7XG4gIGNvbnN0IHN1Ym1pdE9wWGRyID0gcG9vbC5zdWJtaXQoe1xuICAgIGZyb206IHVzZXIsXG4gICAgc3BlbmRlcjogdXNlcixcbiAgICB0bzogdXNlcixcbiAgICByZXF1ZXN0c1xuICB9KTtcbiAgY29uc3Qgb3AgPSB4ZHIyLk9wZXJhdGlvbi5mcm9tWERSKHN1Ym1pdE9wWGRyLCBcImJhc2U2NFwiKTtcbiAgY29uc3QgbmV0d29ya1Bhc3NwaHJhc2UgPSBOZXR3b3JrczMuUFVCTElDO1xuICBjb25zdCBob3Jpem9uID0gbmV3IEhvcml6b24uU2VydmVyKG5ldHdvcmtDb25maWcuaG9yaXpvblVybCk7XG4gIGNvbnN0IHNvdXJjZUFjY291bnQgPSBhd2FpdCBob3Jpem9uLmxvYWRBY2NvdW50KHVzZXIpO1xuICBjb25zdCB0eCA9IG5ldyBUcmFuc2FjdGlvbkJ1aWxkZXIzKHNvdXJjZUFjY291bnQsIHtcbiAgICBmZWU6IFwiMTAwMDBcIixcbiAgICBuZXR3b3JrUGFzc3BocmFzZVxuICB9KS5hZGRPcGVyYXRpb24ob3ApLnNldFRpbWVvdXQoMTgwKS5idWlsZCgpO1xuICByZXR1cm4geyB0eCwga2V5cGFpciB9O1xufVxuYXN5bmMgZnVuY3Rpb24gbGVuZGluZ1N1cHBseShuZXR3b3JrQ29uZmlnLCBzZWNyZXRLZXksIGFyZ3MpIHtcbiAgY29uc3QgYW1vdW50QmlnSW50ID0gQmlnSW50KGFyZ3MuYW1vdW50KTtcbiAgY29uc3QgcmVxdWVzdHMgPSBbXG4gICAge1xuICAgICAgcmVxdWVzdF90eXBlOiBSZXF1ZXN0VHlwZS5TdXBwbHlDb2xsYXRlcmFsLFxuICAgICAgYWRkcmVzczogYXJncy5hc3NldENvbnRyYWN0SWQsXG4gICAgICBhbW91bnQ6IGFtb3VudEJpZ0ludFxuICAgIH1cbiAgXTtcbiAgY29uc3QgeyB0eCwga2V5cGFpciB9ID0gYXdhaXQgYnVpbGRTdWJtaXRUeChcbiAgICBuZXR3b3JrQ29uZmlnLFxuICAgIHNlY3JldEtleSxcbiAgICBhcmdzLnBvb2xJZCxcbiAgICByZXF1ZXN0c1xuICApO1xuICBjb25zdCBzZXJ2ZXIgPSBuZXcgcnBjMy5TZXJ2ZXIobmV0d29ya0NvbmZpZy5zb3JvYmFuUnBjVXJsLCB7XG4gICAgYWxsb3dIdHRwOiBuZXR3b3JrQ29uZmlnLnNvcm9iYW5ScGNVcmwuc3RhcnRzV2l0aChcImh0dHA6XCIpXG4gIH0pO1xuICBjb25zdCBwcmVwYXJlZCA9IGF3YWl0IHNlcnZlci5wcmVwYXJlVHJhbnNhY3Rpb24odHgpO1xuICBwcmVwYXJlZC5zaWduKGtleXBhaXIpO1xuICBjb25zdCBzZW5kUmVzdWx0ID0gYXdhaXQgc2VydmVyLnNlbmRUcmFuc2FjdGlvbihwcmVwYXJlZCk7XG4gIGlmIChzZW5kUmVzdWx0LmVycm9yUmVzdWx0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBCbGVuZCBzdXBwbHkgZmFpbGVkOiAke1N0cmluZyhzZW5kUmVzdWx0LmVycm9yUmVzdWx0KX1gKTtcbiAgfVxuICByZXR1cm4geyBoYXNoOiBzZW5kUmVzdWx0Lmhhc2gsIHN0YXR1czogc2VuZFJlc3VsdC5zdGF0dXMgPz8gXCJQRU5ESU5HXCIgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxlbmRpbmdCb3Jyb3cobmV0d29ya0NvbmZpZywgc2VjcmV0S2V5LCBhcmdzKSB7XG4gIGNvbnN0IGFtb3VudEJpZ0ludCA9IEJpZ0ludChhcmdzLmFtb3VudCk7XG4gIGNvbnN0IHJlcXVlc3RzID0gW1xuICAgIHtcbiAgICAgIHJlcXVlc3RfdHlwZTogUmVxdWVzdFR5cGUuQm9ycm93LFxuICAgICAgYWRkcmVzczogYXJncy5hc3NldENvbnRyYWN0SWQsXG4gICAgICBhbW91bnQ6IGFtb3VudEJpZ0ludFxuICAgIH1cbiAgXTtcbiAgY29uc3QgeyB0eCwga2V5cGFpciB9ID0gYXdhaXQgYnVpbGRTdWJtaXRUeChcbiAgICBuZXR3b3JrQ29uZmlnLFxuICAgIHNlY3JldEtleSxcbiAgICBhcmdzLnBvb2xJZCxcbiAgICByZXF1ZXN0c1xuICApO1xuICBjb25zdCBzZXJ2ZXIgPSBuZXcgcnBjMy5TZXJ2ZXIobmV0d29ya0NvbmZpZy5zb3JvYmFuUnBjVXJsLCB7XG4gICAgYWxsb3dIdHRwOiBuZXR3b3JrQ29uZmlnLnNvcm9iYW5ScGNVcmwuc3RhcnRzV2l0aChcImh0dHA6XCIpXG4gIH0pO1xuICBjb25zdCBwcmVwYXJlZCA9IGF3YWl0IHNlcnZlci5wcmVwYXJlVHJhbnNhY3Rpb24odHgpO1xuICBwcmVwYXJlZC5zaWduKGtleXBhaXIpO1xuICBjb25zdCBzZW5kUmVzdWx0ID0gYXdhaXQgc2VydmVyLnNlbmRUcmFuc2FjdGlvbihwcmVwYXJlZCk7XG4gIGlmIChzZW5kUmVzdWx0LmVycm9yUmVzdWx0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBCbGVuZCBib3Jyb3cgZmFpbGVkOiAke1N0cmluZyhzZW5kUmVzdWx0LmVycm9yUmVzdWx0KX1gKTtcbiAgfVxuICByZXR1cm4geyBoYXNoOiBzZW5kUmVzdWx0Lmhhc2gsIHN0YXR1czogc2VuZFJlc3VsdC5zdGF0dXMgPz8gXCJQRU5ESU5HXCIgfTtcbn1cblxuLy8gc3JjL2FnZW50LnRzXG52YXIgU3RlbGxhckFnZW50S2l0ID0gY2xhc3Mge1xuICBrZXlwYWlyO1xuICBuZXR3b3JrO1xuICBjb25maWc7XG4gIF9pbml0aWFsaXplZCA9IGZhbHNlO1xuICBfZGV4ID0gbnVsbDtcbiAgX2hvcml6b24gPSBudWxsO1xuICBfb3JhY2xlID0gbnVsbDtcbiAgY29uc3RydWN0b3Ioc2VjcmV0S2V5LCBuZXR3b3JrID0gXCJtYWlubmV0XCIpIHtcbiAgICBpZiAobmV0d29yayAhPT0gXCJtYWlubmV0XCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgcHJvamVjdCBpcyBtYWlubmV0LW9ubHkuIFVzZSBuZXR3b3JrOiAnbWFpbm5ldCcuXCIpO1xuICAgIH1cbiAgICB0aGlzLmtleXBhaXIgPSBLZXlwYWlyMy5mcm9tU2VjcmV0KHNlY3JldEtleS50cmltKCkpO1xuICAgIHRoaXMubmV0d29yayA9IFwibWFpbm5ldFwiO1xuICAgIHRoaXMuY29uZmlnID0gZ2V0TmV0d29ya0NvbmZpZygpO1xuICB9XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGNsaWVudHMgKEhvcml6b24sIFNvcm9iYW4gUlBDLCBwcm90b2NvbCB3cmFwcGVycykuXG4gICAqIENhbGwgYWZ0ZXIgY29uc3RydWN0aW9uIGJlZm9yZSB1c2luZyBwcm90b2NvbCBtZXRob2RzLlxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLl9ob3Jpem9uID0gbmV3IEhvcml6b24yLlNlcnZlcih0aGlzLmNvbmZpZy5ob3Jpem9uVXJsKTtcbiAgICB0aGlzLl9kZXggPSBjcmVhdGVEZXhDbGllbnQodGhpcy5jb25maWcsIHByb2Nlc3MuZW52LlNPUk9TV0FQX0FQSV9LRVkpO1xuICAgIHRoaXMuX29yYWNsZSA9IGNyZWF0ZVJlZmxlY3Rvck9yYWNsZSh7IG5ldHdvcmtDb25maWc6IHRoaXMuY29uZmlnIH0pO1xuICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBlbnN1cmVJbml0aWFsaXplZCgpIHtcbiAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkIHx8ICF0aGlzLl9kZXgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0ZWxsYXJBZ2VudEtpdCBub3QgaW5pdGlhbGl6ZWQuIENhbGwgYXdhaXQgYWdlbnQuaW5pdGlhbGl6ZSgpIGZpcnN0LlwiKTtcbiAgICB9XG4gIH1cbiAgLy8g4pSA4pSA4pSAIERFWCBPcGVyYXRpb25zIChtaXJyb3IgTWFudGxlIGFnbmlTd2FwIC8gZXhlY3V0ZVN3YXApIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuICAvKipcbiAgICogR2V0IGEgc3dhcCBxdW90ZSAoZXhhY3QtaW4pLiBVc2VzIFNvcm9Td2FwIGFnZ3JlZ2F0b3IgKFNvcm9Td2FwLCBQaG9lbml4LCBBcXVhKS5cbiAgICovXG4gIGFzeW5jIGRleEdldFF1b3RlKGZyb21Bc3NldCwgdG9Bc3NldCwgYW1vdW50KSB7XG4gICAgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIHJldHVybiB0aGlzLl9kZXguZ2V0UXVvdGUoZnJvbUFzc2V0LCB0b0Fzc2V0LCBhbW91bnQpO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgc3dhcCB1c2luZyBhIHByaW9yIHF1b3RlLlxuICAgKi9cbiAgYXN5bmMgZGV4U3dhcChxdW90ZSkge1xuICAgIHRoaXMuZW5zdXJlSW5pdGlhbGl6ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fZGV4LmV4ZWN1dGVTd2FwKHRoaXMua2V5cGFpci5zZWNyZXQoKSwgcXVvdGUpO1xuICB9XG4gIC8qKlxuICAgKiBPbmUtc2hvdDogZ2V0IHF1b3RlIGFuZCBleGVjdXRlIHN3YXAgKGNvbnZlbmllbmNlKS5cbiAgICovXG4gIGFzeW5jIGRleFN3YXBFeGFjdEluKGZyb21Bc3NldCwgdG9Bc3NldCwgYW1vdW50KSB7XG4gICAgY29uc3QgcXVvdGUgPSBhd2FpdCB0aGlzLmRleEdldFF1b3RlKGZyb21Bc3NldCwgdG9Bc3NldCwgYW1vdW50KTtcbiAgICByZXR1cm4gdGhpcy5kZXhTd2FwKHF1b3RlKTtcbiAgfVxuICAvLyDilIDilIDilIAgUGF5bWVudHMgKEhvcml6b24pIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuICAvKipcbiAgICogU2VuZCBhIG5hdGl2ZSBvciBjdXN0b20tYXNzZXQgcGF5bWVudCAoSG9yaXpvbikuXG4gICAqIEBwYXJhbSB0byAtIERlc3RpbmF0aW9uIGFjY291bnQgKEcuLi4pXG4gICAqIEBwYXJhbSBhbW91bnQgLSBBbW91bnQgaW4gZGlzcGxheSB1bml0cyAoZS5nLiBcIjEwXCIgZm9yIDEwIFhMTSlcbiAgICogQHBhcmFtIGFzc2V0Q29kZSAtIE9wdGlvbmFsOyBvbWl0IGZvciBuYXRpdmUgWExNXG4gICAqIEBwYXJhbSBhc3NldElzc3VlciAtIE9wdGlvbmFsOyByZXF1aXJlZCBpZiBhc3NldENvZGUgaXMgc2V0XG4gICAqL1xuICBhc3luYyBzZW5kUGF5bWVudCh0bywgYW1vdW50LCBhc3NldENvZGUsIGFzc2V0SXNzdWVyKSB7XG4gICAgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIGlmICghdGhpcy5faG9yaXpvbikgdGhyb3cgbmV3IEVycm9yKFwiSG9yaXpvbiBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgY29uc3QgbmV0d29ya1Bhc3NwaHJhc2UgPSBOZXR3b3JrczQuUFVCTElDO1xuICAgIGNvbnN0IHNvdXJjZUFjY291bnQgPSBhd2FpdCB0aGlzLl9ob3Jpem9uLmxvYWRBY2NvdW50KHRoaXMua2V5cGFpci5wdWJsaWNLZXkoKSk7XG4gICAgY29uc3QgYXNzZXQgPSBhc3NldENvZGUgJiYgYXNzZXRJc3N1ZXIgPyBuZXcgQXNzZXQoYXNzZXRDb2RlLCBhc3NldElzc3VlcikgOiBBc3NldC5uYXRpdmUoKTtcbiAgICBjb25zdCB0eCA9IG5ldyBUcmFuc2FjdGlvbkJ1aWxkZXI0KHNvdXJjZUFjY291bnQsIHtcbiAgICAgIGZlZTogXCIxMDBcIixcbiAgICAgIG5ldHdvcmtQYXNzcGhyYXNlXG4gICAgfSkuYWRkT3BlcmF0aW9uKE9wZXJhdGlvbi5wYXltZW50KHsgZGVzdGluYXRpb246IHRvLCBhc3NldCwgYW1vdW50IH0pKS5zZXRUaW1lb3V0KDE4MCkuYnVpbGQoKTtcbiAgICB0eC5zaWduKHRoaXMua2V5cGFpcik7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5faG9yaXpvbi5zdWJtaXRUcmFuc2FjdGlvbih0eCk7XG4gICAgcmV0dXJuIHsgaGFzaDogcmVzdWx0Lmhhc2ggfTtcbiAgfVxuICAvLyDilIDilIDilIAgT3JhY2xlIChSZWZsZWN0b3IgU0VQLTQwKSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbiAgLyoqXG4gICAqIEdldCBsYXRlc3QgcHJpY2UgZm9yIGFuIGFzc2V0IGZyb20gUmVmbGVjdG9yIG9yYWNsZS5cbiAgICogQHBhcmFtIGFzc2V0IC0geyBjb250cmFjdElkOiBcIkMuLi5cIiB9IGZvciBvbi1jaGFpbiB0b2tlbiBvciB7IHN5bWJvbDogXCJYTE1cIiB9IGZvciB0aWNrZXJcbiAgICovXG4gIGFzeW5jIGdldFByaWNlKGFzc2V0KSB7XG4gICAgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIGlmICghdGhpcy5fb3JhY2xlKSB0aHJvdyBuZXcgRXJyb3IoXCJPcmFjbGUgbm90IGluaXRpYWxpemVkXCIpO1xuICAgIHJldHVybiB0aGlzLl9vcmFjbGUubGFzdHByaWNlKGFzc2V0KTtcbiAgfVxuICAvLyDilIDilIDilIAgTGVuZGluZyAoQmxlbmQpIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuICAvKipcbiAgICogU3VwcGx5IChkZXBvc2l0KSBhbiBhc3NldCB0byBhIEJsZW5kIHBvb2wuXG4gICAqL1xuICBhc3luYyBsZW5kaW5nU3VwcGx5KGFyZ3MpIHtcbiAgICB0aGlzLmVuc3VyZUluaXRpYWxpemVkKCk7XG4gICAgcmV0dXJuIGxlbmRpbmdTdXBwbHkodGhpcy5jb25maWcsIHRoaXMua2V5cGFpci5zZWNyZXQoKSwgYXJncyk7XG4gIH1cbiAgLyoqXG4gICAqIEJvcnJvdyBhbiBhc3NldCBmcm9tIGEgQmxlbmQgcG9vbC5cbiAgICovXG4gIGFzeW5jIGxlbmRpbmdCb3Jyb3coYXJncykge1xuICAgIHRoaXMuZW5zdXJlSW5pdGlhbGl6ZWQoKTtcbiAgICByZXR1cm4gbGVuZGluZ0JvcnJvdyh0aGlzLmNvbmZpZywgdGhpcy5rZXlwYWlyLnNlY3JldCgpLCBhcmdzKTtcbiAgfVxufTtcblxuLy8gc3JjL2NvbmZpZy9hc3NldHMudHNcbnZhciBNQUlOTkVUX0FTU0VUUyA9IHtcbiAgWExNOiB7IGNvbnRyYWN0SWQ6IFwiQ0FTM0o3R1lMR1hNRjZUREpCQllZU0UzSFE2QkJTTUxOVVEzNFQ2VFpNWU1XMkVWSDM0WE9XTUFcIiB9LFxuICBVU0RDOiB7IGNvbnRyYWN0SWQ6IFwiQ0NXNjdUU1pWM1NTUzJIWE1CUTVKRkdDS0pOWEtaTTdVUVVXVVpQVVRIWFNUWkxFTzdTSk1JNzVcIiB9XG59O1xudmFyIFNPUk9TV0FQX0FHR1JFR0FUT1IgPSBcIkNBRzVMUllRNUpWRVVJNVRFSUQ3MkVZT1ZYNDRUVFVKVDVCUVIySjZKNzdGSDY1UENDRkFKRERIXCI7XG5leHBvcnQge1xuICBCQU5EX09SQUNMRSxcbiAgQkxFTkRfUE9PTFMsXG4gIEJMRU5EX1BPT0xTX01BSU5ORVQsXG4gIE1BSU5ORVRfQVNTRVRTLFxuICBSRUZMRUNUT1JfT1JBQ0xFLFxuICBTT1JPU1dBUF9BR0dSRUdBVE9SLFxuICBTdGVsbGFyQWdlbnRLaXQsXG4gIGNyZWF0ZURleENsaWVudCxcbiAgY3JlYXRlUmVmbGVjdG9yT3JhY2xlLFxuICBnZXROZXR3b3JrQ29uZmlnLFxuICBsZW5kaW5nQm9ycm93LFxuICBsZW5kaW5nU3VwcGx5LFxuICBuZXR3b3Jrc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Backstop: () => (/* binding */ Backstop)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js\");\n/* harmony import */ var _backstop_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./backstop_config.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_config.js\");\n\n\n/**\n * Manage ledger data for the Blend backstop contract\n */\nclass Backstop {\n    id;\n    config;\n    backstopToken;\n    latestLedger;\n    timestamp;\n    constructor(id, config, backstopToken, latestLedger, timestamp) {\n        this.id = id;\n        this.config = config;\n        this.backstopToken = backstopToken;\n        this.latestLedger = latestLedger;\n        this.timestamp = timestamp;\n    }\n    /**\n     * Load the backstop data from the ledger\n     * @param network - The network information to load the backstop from\n     * @param id - The contract address of the backstop\n     * @returns - The backstop object\n     */\n    static async load(network, id) {\n        const timestamp = Math.floor(Date.now() / 1000);\n        const config = await _backstop_config_js__WEBPACK_IMPORTED_MODULE_1__.BackstopConfig.load(network, id);\n        const backstop_token = await _index_js__WEBPACK_IMPORTED_MODULE_0__.BackstopToken.load(network, config.backstopTkn, config.blndTkn, config.usdcTkn);\n        return new Backstop(id, config, backstop_token, config.latestLedger, timestamp);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7QUFDVTtBQUN0RDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0RBQWM7QUFDM0MscUNBQXFDLG9EQUFhO0FBQ2xEO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vYmFja3N0b3AvYmFja3N0b3AuanM/NTJlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYWNrc3RvcFRva2VuIH0gZnJvbSAnLi4vaW5kZXguanMnO1xuaW1wb3J0IHsgQmFja3N0b3BDb25maWcgfSBmcm9tICcuL2JhY2tzdG9wX2NvbmZpZy5qcyc7XG4vKipcbiAqIE1hbmFnZSBsZWRnZXIgZGF0YSBmb3IgdGhlIEJsZW5kIGJhY2tzdG9wIGNvbnRyYWN0XG4gKi9cbmV4cG9ydCBjbGFzcyBCYWNrc3RvcCB7XG4gICAgaWQ7XG4gICAgY29uZmlnO1xuICAgIGJhY2tzdG9wVG9rZW47XG4gICAgbGF0ZXN0TGVkZ2VyO1xuICAgIHRpbWVzdGFtcDtcbiAgICBjb25zdHJ1Y3RvcihpZCwgY29uZmlnLCBiYWNrc3RvcFRva2VuLCBsYXRlc3RMZWRnZXIsIHRpbWVzdGFtcCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmJhY2tzdG9wVG9rZW4gPSBiYWNrc3RvcFRva2VuO1xuICAgICAgICB0aGlzLmxhdGVzdExlZGdlciA9IGxhdGVzdExlZGdlcjtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGJhY2tzdG9wIGRhdGEgZnJvbSB0aGUgbGVkZ2VyXG4gICAgICogQHBhcmFtIG5ldHdvcmsgLSBUaGUgbmV0d29yayBpbmZvcm1hdGlvbiB0byBsb2FkIHRoZSBiYWNrc3RvcCBmcm9tXG4gICAgICogQHBhcmFtIGlkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIGJhY2tzdG9wXG4gICAgICogQHJldHVybnMgLSBUaGUgYmFja3N0b3Agb2JqZWN0XG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGxvYWQobmV0d29yaywgaWQpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IEJhY2tzdG9wQ29uZmlnLmxvYWQobmV0d29yaywgaWQpO1xuICAgICAgICBjb25zdCBiYWNrc3RvcF90b2tlbiA9IGF3YWl0IEJhY2tzdG9wVG9rZW4ubG9hZChuZXR3b3JrLCBjb25maWcuYmFja3N0b3BUa24sIGNvbmZpZy5ibG5kVGtuLCBjb25maWcudXNkY1Rrbik7XG4gICAgICAgIHJldHVybiBuZXcgQmFja3N0b3AoaWQsIGNvbmZpZywgYmFja3N0b3BfdG9rZW4sIGNvbmZpZy5sYXRlc3RMZWRnZXIsIHRpbWVzdGFtcCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_config.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_config.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopConfig: () => (/* binding */ BackstopConfig)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\nclass BackstopConfig {\n    emitter;\n    blndTkn;\n    usdcTkn;\n    backstopTkn;\n    poolFactory;\n    rewardZone;\n    latestLedger;\n    constructor(emitter, blndTkn, usdcTkn, backstopTkn, poolFactory, rewardZone, latestLedger) {\n        this.emitter = emitter;\n        this.blndTkn = blndTkn;\n        this.usdcTkn = usdcTkn;\n        this.backstopTkn = backstopTkn;\n        this.poolFactory = poolFactory;\n        this.rewardZone = rewardZone;\n        this.latestLedger = latestLedger;\n    }\n    static async load(network, backstopId) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const contractInstanceDataKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvLedgerKeyContractInstance(),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        const rewardZoneDataKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('RZ'),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        let emitter;\n        let blndTkn;\n        let usdcTkn;\n        let backstopTkn;\n        let poolFactory;\n        const rewardZone = [];\n        const backstopConfigEntries = await stellarRpc.getLedgerEntries(contractInstanceDataKey, rewardZoneDataKey);\n        for (const entry of backstopConfigEntries.entries) {\n            const ledgerData = entry.val.contractData();\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerData.key());\n            switch (key) {\n                case 'ContractInstance':\n                    ledgerData\n                        .val()\n                        .instance()\n                        .storage()\n                        ?.map((entry) => {\n                        const instanceKey = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(entry.key());\n                        switch (instanceKey) {\n                            case 'BLNDTkn':\n                                blndTkn = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                break;\n                            case 'BToken':\n                                backstopTkn = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                break;\n                            case 'USDCTkn':\n                                usdcTkn = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                break;\n                            case 'PoolFact':\n                                poolFactory = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                break;\n                            case 'Emitter':\n                                emitter = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                break;\n                            case 'IsInit':\n                                // do nothing\n                                break;\n                            default:\n                                throw Error(`Invalid backstop instance storage key: should not contain ${instanceKey}`);\n                        }\n                    });\n                    break;\n                case 'RZ':\n                    ledgerData\n                        .val()\n                        .vec()\n                        .map((address) => {\n                        rewardZone.push(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(address).toString());\n                    });\n                    break;\n                default:\n                    throw Error(`Invalid backstop config key: should not contain ${key}`);\n            }\n        }\n        if (emitter == undefined ||\n            blndTkn == undefined ||\n            usdcTkn == undefined ||\n            backstopTkn == undefined ||\n            poolFactory == undefined) {\n            throw Error('Unable to load backstop config undefined values');\n        }\n        return new BackstopConfig(emitter, blndTkn, usdcTkn, backstopTkn, poolFactory, rewardZone, backstopConfigEntries.latestLedger);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9jb25maWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlEO0FBQ0U7QUFDcEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFEQUFHO0FBQ2xDLHdDQUF3QyxxREFBRyw0QkFBNEIscURBQUc7QUFDMUUsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQix3QkFBd0IscURBQUc7QUFDM0IsU0FBUztBQUNULGtDQUFrQyxxREFBRyw0QkFBNEIscURBQUc7QUFDcEUsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQix3QkFBd0IscURBQUc7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyx1RUFBYztBQUMxRDtBQUNBO0FBQ0EsMENBQTBDLHlEQUFPO0FBQ2pEO0FBQ0E7QUFDQSw4Q0FBOEMseURBQU87QUFDckQ7QUFDQTtBQUNBLDBDQUEwQyx5REFBTztBQUNqRDtBQUNBO0FBQ0EsOENBQThDLHlEQUFPO0FBQ3JEO0FBQ0E7QUFDQSwwQ0FBMEMseURBQU87QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlHQUF5RyxZQUFZO0FBQ3JIO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5REFBTztBQUMvQyxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLG1GQUFtRixJQUFJO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vYmFja3N0b3AvYmFja3N0b3BfY29uZmlnLmpzPzljYjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkcmVzcywgcnBjLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBkZWNvZGVFbnRyeUtleSB9IGZyb20gJy4uL2xlZGdlcl9lbnRyeV9oZWxwZXIuanMnO1xuZXhwb3J0IGNsYXNzIEJhY2tzdG9wQ29uZmlnIHtcbiAgICBlbWl0dGVyO1xuICAgIGJsbmRUa247XG4gICAgdXNkY1RrbjtcbiAgICBiYWNrc3RvcFRrbjtcbiAgICBwb29sRmFjdG9yeTtcbiAgICByZXdhcmRab25lO1xuICAgIGxhdGVzdExlZGdlcjtcbiAgICBjb25zdHJ1Y3RvcihlbWl0dGVyLCBibG5kVGtuLCB1c2RjVGtuLCBiYWNrc3RvcFRrbiwgcG9vbEZhY3RvcnksIHJld2FyZFpvbmUsIGxhdGVzdExlZGdlcikge1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBlbWl0dGVyO1xuICAgICAgICB0aGlzLmJsbmRUa24gPSBibG5kVGtuO1xuICAgICAgICB0aGlzLnVzZGNUa24gPSB1c2RjVGtuO1xuICAgICAgICB0aGlzLmJhY2tzdG9wVGtuID0gYmFja3N0b3BUa247XG4gICAgICAgIHRoaXMucG9vbEZhY3RvcnkgPSBwb29sRmFjdG9yeTtcbiAgICAgICAgdGhpcy5yZXdhcmRab25lID0gcmV3YXJkWm9uZTtcbiAgICAgICAgdGhpcy5sYXRlc3RMZWRnZXIgPSBsYXRlc3RMZWRnZXI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIGJhY2tzdG9wSWQpIHtcbiAgICAgICAgY29uc3Qgc3RlbGxhclJwYyA9IG5ldyBycGMuU2VydmVyKG5ldHdvcmsucnBjLCBuZXR3b3JrLm9wdHMpO1xuICAgICAgICBjb25zdCBjb250cmFjdEluc3RhbmNlRGF0YUtleSA9IHhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyB4ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgIGNvbnRyYWN0OiBBZGRyZXNzLmZyb21TdHJpbmcoYmFja3N0b3BJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdkxlZGdlcktleUNvbnRyYWN0SW5zdGFuY2UoKSxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkci5Db250cmFjdERhdGFEdXJhYmlsaXR5LnBlcnNpc3RlbnQoKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCByZXdhcmRab25lRGF0YUtleSA9IHhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyB4ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgIGNvbnRyYWN0OiBBZGRyZXNzLmZyb21TdHJpbmcoYmFja3N0b3BJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlN5bWJvbCgnUlonKSxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkci5Db250cmFjdERhdGFEdXJhYmlsaXR5LnBlcnNpc3RlbnQoKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgZW1pdHRlcjtcbiAgICAgICAgbGV0IGJsbmRUa247XG4gICAgICAgIGxldCB1c2RjVGtuO1xuICAgICAgICBsZXQgYmFja3N0b3BUa247XG4gICAgICAgIGxldCBwb29sRmFjdG9yeTtcbiAgICAgICAgY29uc3QgcmV3YXJkWm9uZSA9IFtdO1xuICAgICAgICBjb25zdCBiYWNrc3RvcENvbmZpZ0VudHJpZXMgPSBhd2FpdCBzdGVsbGFyUnBjLmdldExlZGdlckVudHJpZXMoY29udHJhY3RJbnN0YW5jZURhdGFLZXksIHJld2FyZFpvbmVEYXRhS2V5KTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBiYWNrc3RvcENvbmZpZ0VudHJpZXMuZW50cmllcykge1xuICAgICAgICAgICAgY29uc3QgbGVkZ2VyRGF0YSA9IGVudHJ5LnZhbC5jb250cmFjdERhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KGxlZGdlckRhdGEua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdDb250cmFjdEluc3RhbmNlJzpcbiAgICAgICAgICAgICAgICAgICAgbGVkZ2VyRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuaW5zdGFuY2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0b3JhZ2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgPy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZUtleSA9IGRlY29kZUVudHJ5S2V5KGVudHJ5LmtleSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaW5zdGFuY2VLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdCTE5EVGtuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxuZFRrbiA9IEFkZHJlc3MuZnJvbVNjVmFsKGVudHJ5LnZhbCgpKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdCVG9rZW4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrc3RvcFRrbiA9IEFkZHJlc3MuZnJvbVNjVmFsKGVudHJ5LnZhbCgpKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdVU0RDVGtuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNkY1RrbiA9IEFkZHJlc3MuZnJvbVNjVmFsKGVudHJ5LnZhbCgpKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQb29sRmFjdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvb2xGYWN0b3J5ID0gQWRkcmVzcy5mcm9tU2NWYWwoZW50cnkudmFsKCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0VtaXR0ZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyID0gQWRkcmVzcy5mcm9tU2NWYWwoZW50cnkudmFsKCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0lzSW5pdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgYmFja3N0b3AgaW5zdGFuY2Ugc3RvcmFnZSBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2luc3RhbmNlS2V5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnUlonOlxuICAgICAgICAgICAgICAgICAgICBsZWRnZXJEYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAudmFsKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC52ZWMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoYWRkcmVzcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkWm9uZS5wdXNoKEFkZHJlc3MuZnJvbVNjVmFsKGFkZHJlc3MpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgYmFja3N0b3AgY29uZmlnIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbWl0dGVyID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgYmxuZFRrbiA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHVzZGNUa24gPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBiYWNrc3RvcFRrbiA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHBvb2xGYWN0b3J5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1VuYWJsZSB0byBsb2FkIGJhY2tzdG9wIGNvbmZpZyB1bmRlZmluZWQgdmFsdWVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCYWNrc3RvcENvbmZpZyhlbWl0dGVyLCBibG5kVGtuLCB1c2RjVGtuLCBiYWNrc3RvcFRrbiwgcG9vbEZhY3RvcnksIHJld2FyZFpvbmUsIGJhY2tzdG9wQ29uZmlnRW50cmllcy5sYXRlc3RMZWRnZXIpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_contract.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_contract.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopContract: () => (/* binding */ BackstopContract),\n/* harmony export */   BackstopContractV1: () => (/* binding */ BackstopContractV1),\n/* harmony export */   BackstopContractV2: () => (/* binding */ BackstopContractV2)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n\nclass BackstopContract extends _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract {\n    // @dev: Generated from soroban-cli Typescript bindings\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        // Struct PoolBalance\n        'AAAAAQAAABxUaGUgcG9vbCdzIGJhY2tzdG9wIGJhbGFuY2VzAAAAAAAAAAtQb29sQmFsYW5jZQAAAAADAAAAAAAAAANxNHcAAAAACwAAAAAAAAAGc2hhcmVzAAAAAAALAAAAAAAAAAZ0b2tlbnMAAAAAAAs=',\n        // Struct Q4W\n        'AAAAAQAAACdBIGRlcG9zaXQgdGhhdCBpcyBxdWV1ZWQgZm9yIHdpdGhkcmF3YWwAAAAAAAAAAANRNFcAAAAAAgAAAAAAAAAGYW1vdW50AAAAAAALAAAAAAAAAANleHAAAAAABg==',\n        // Struct UserBalance\n        'AAAAAQAAACdBIGRlcG9zaXQgdGhhdCBpcyBxdWV1ZWQgZm9yIHdpdGhkcmF3YWwAAAAAAAAAAAtVc2VyQmFsYW5jZQAAAAACAAAAAAAAAANxNHcAAAAD6gAAB9AAAAADUTRXAAAAAAAAAAAGc2hhcmVzAAAAAAAL',\n        // Function deposit\n        'AAAAAAAAAAAAAAAHZGVwb3NpdAAAAAADAAAAAAAAAARmcm9tAAAAEwAAAAAAAAAMcG9vbF9hZGRyZXNzAAAAEwAAAAAAAAAGYW1vdW50AAAAAAALAAAAAQAAAAs=',\n        // Function queue_withdrawal\n        'AAAAAAAAAAAAAAAQcXVldWVfd2l0aGRyYXdhbAAAAAMAAAAAAAAABGZyb20AAAATAAAAAAAAAAxwb29sX2FkZHJlc3MAAAATAAAAAAAAAAZhbW91bnQAAAAAAAsAAAABAAAH0AAAAANRNFcA',\n        // Function dequeue_withdrawal\n        'AAAAAAAAAAAAAAASZGVxdWV1ZV93aXRoZHJhd2FsAAAAAAADAAAAAAAAAARmcm9tAAAAEwAAAAAAAAAMcG9vbF9hZGRyZXNzAAAAEwAAAAAAAAAGYW1vdW50AAAAAAALAAAAAA==',\n        // Function withdraw\n        'AAAAAAAAAAAAAAAId2l0aGRyYXcAAAADAAAAAAAAAARmcm9tAAAAEwAAAAAAAAAMcG9vbF9hZGRyZXNzAAAAEwAAAAAAAAAGYW1vdW50AAAAAAALAAAAAQAAAAs=',\n        // Function user_balance\n        'AAAAAAAAAAAAAAAMdXNlcl9iYWxhbmNlAAAAAgAAAAAAAAAEcG9vbAAAABMAAAAAAAAABHVzZXIAAAATAAAAAQAAB9AAAAALVXNlckJhbGFuY2UA',\n        // Function pool_data\n        'AAAAAAAAAAAAAAAJcG9vbF9kYXRhAAAAAAAAAQAAAAAAAAAEcG9vbAAAABMAAAABAAAH0AAAABBQb29sQmFja3N0b3BEYXRh',\n        // Function backstop_token\n        'AAAAAAAAAAAAAAAOYmFja3N0b3BfdG9rZW4AAAAAAAAAAAABAAAAEw==',\n        // Function drop\n        'AAAAAAAAAAAAAAAEZHJvcAAAAAAAAAAA',\n        // Function draw\n        'AAAAAAAAAAAAAAAEZHJhdwAAAAMAAAAAAAAADHBvb2xfYWRkcmVzcwAAABMAAAAAAAAABmFtb3VudAAAAAAACwAAAAAAAAACdG8AAAAAABMAAAAA',\n        // Function donate\n        'AAAAAAAAAAAAAAAGZG9uYXRlAAAAAAADAAAAAAAAAARmcm9tAAAAEwAAAAAAAAAMcG9vbF9hZGRyZXNzAAAAEwAAAAAAAAAGYW1vdW50AAAAAAALAAAAAA==',\n        // Struct UserEmissionData\n        'AAAAAQAAAC1UaGUgdXNlciBlbWlzc2lvbiBkYXRhIHBvb2wncyBiYWNrc3RvcCB0b2tlbnMAAAAAAAAAAAAAEFVzZXJFbWlzc2lvbkRhdGEAAAACAAAAAAAAAAdhY2NydWVkAAAAAAsAAAAAAAAABWluZGV4AAAAAAAACw==',\n        // Struct PoolUserKey\n        'AAAAAQAAAAAAAAAAAAAAC1Bvb2xVc2VyS2V5AAAAAAIAAAAAAAAABHBvb2wAAAATAAAAAAAAAAR1c2VyAAAAEw==',\n    ]);\n    static parsers = {\n        deposit: (result) => BackstopContract.spec.funcResToNative('deposit', result),\n        queueWithdrawal: (result) => BackstopContract.spec.funcResToNative('queue_withdrawal', result),\n        dequeueWithdrawal: () => { },\n        withdraw: (result) => BackstopContract.spec.funcResToNative('withdraw', result),\n        userBalance: (result) => BackstopContract.spec.funcResToNative('user_balance', result),\n        backstopToken: (result) => BackstopContract.spec.funcResToNative('backstop_token', result),\n        addReward: () => { },\n        claim: (result) => BackstopContract.spec.funcResToNative('claim', result),\n        drop: () => { },\n        draw: () => { },\n        donate: () => { },\n    };\n    /**\n     * Deposits backstop tokens from an address into the backstop of a pool.\n     *\n     * @param contractArgs - The arguments required for the deposit.\n     * @param contractArgs.from - The address depositing into the backstop.\n     * @param contractArgs.pool_address - The address of the pool.\n     * @param contractArgs.amount - The amount of tokens to deposit.\n     *\n     * @returns A base64-encoded string representing the operation that must be submitted in a transaction.\n     */\n    deposit(contractArgs) {\n        return this.call('deposit', ...BackstopContract.spec.funcArgsToScVals('deposit', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Queues deposited pool shares for withdrawal from a backstop of a pool.\n     *\n     * @param contractArgs - The arguments required for queuing a withdrawal.\n     * @param contractArgs.from - The address whose deposits are being queued for withdrawal.\n     * @param contractArgs.pool_address - The address of the pool.\n     * @param contractArgs.amount - The amount of shares to queue for withdrawal.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    queueWithdrawal(contractArgs) {\n        return this.call('queue_withdrawal', ...BackstopContract.spec.funcArgsToScVals('queue_withdrawal', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Dequeues a currently queued pool share withdrawal from the backstop of a pool.\n     *\n     * @param contractArgs - The arguments required for dequeuing a withdrawal.\n     * @param contractArgs.from - The address whose deposits are being dequeued.\n     * @param contractArgs.pool_address - The address of the pool.\n     * @param contractArgs.amount - The amount of shares to dequeue.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    dequeueWithdrawal(contractArgs) {\n        return this.call('dequeue_withdrawal', ...BackstopContract.spec.funcArgsToScVals('dequeue_withdrawal', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Withdraws shares from a user's withdraw queue for a backstop of a pool.\n     *\n     * @param contractArgs - The arguments required for withdrawing shares.\n     * @param contractArgs.from - The address whose shares are being withdrawn.\n     * @param contractArgs.pool_address - The address of the pool.\n     * @param contractArgs.amount - The amount of shares to withdraw.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    withdraw(contractArgs) {\n        return this.call('withdraw', ...BackstopContract.spec.funcArgsToScVals('withdraw', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Sends backstop tokens from an address to a pool's backstop. Can only be called by the pool.\n     * Note: This is not a deposit, and the sender will permanently lose access to the funds.\n     *\n     * @param contractArgs - The arguments required for donating to the backstop.\n     * @param contractArgs.from - The address donating tokens to the backstop.\n     * @param contractArgs.pool_address - The address of the pool.\n     * @param contractArgs.amount - The amount of tokens to donate.\n     *\n     * @throws Will throw an error if the pool_address is not valid or if the pool does not authorize the call.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    donate(contractArgs) {\n        return this.call('donate', ...BackstopContract.spec.funcArgsToScVals('donate', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Drops initial BLND to a list of addresses through the emitter.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    drop() {\n        return this.call('drop', ...BackstopContract.spec.funcArgsToScVals('drop', {})).toXDR('base64');\n    }\n    /**\n     * Fetches the balance of backstop shares of a pool for a user.\n     *\n     * @param pool - The address of the pool.\n     * @param user - The user to fetch the balance for.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    userBalance(pool, user) {\n        return this.call('user_balance', ...BackstopContract.spec.funcArgsToScVals('user_balance', { pool, user })).toXDR('base64');\n    }\n    /**\n     * Fetches the backstop token for the backstop.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    backstopToken() {\n        return this.call('backstop_token', ...BackstopContract.spec.funcArgsToScVals('backstop_token', {})).toXDR('base64');\n    }\n}\nclass BackstopContractV1 extends BackstopContract {\n    constructor(address) {\n        super(address);\n    }\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        ...BackstopContract.spec.entries,\n        ...new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n            // Function initialize\n            'AAAAAAAAAAAAAAAKaW5pdGlhbGl6ZQAAAAAABgAAAAAAAAAOYmFja3N0b3BfdG9rZW4AAAAAABMAAAAAAAAAB2VtaXR0ZXIAAAAAEwAAAAAAAAAKdXNkY190b2tlbgAAAAAAEwAAAAAAAAAKYmxuZF90b2tlbgAAAAAAEwAAAAAAAAAMcG9vbF9mYWN0b3J5AAAAEwAAAAAAAAAJZHJvcF9saXN0AAAAAAAD6gAAA+0AAAACAAAAEwAAAAsAAAAA',\n            // Function gulp_emissions\n            'AAAAAAAAAAAAAAAOZ3VscF9lbWlzc2lvbnMAAAAAAAAAAAAA',\n            // Function add_reward\n            'AAAAAAAAAAAAAAAKYWRkX3Jld2FyZAAAAAAAAgAAAAAAAAAGdG9fYWRkAAAAAAATAAAAAAAAAAl0b19yZW1vdmUAAAAAAAATAAAAAA==',\n            // Function gulp_pool_emissions\n            'AAAAAAAAAAAAAAATZ3VscF9wb29sX2VtaXNzaW9ucwAAAAABAAAAAAAAAAxwb29sX2FkZHJlc3MAAAATAAAAAQAAAAs=',\n            // Function update_tkn_val\n            'AAAAAAAAAAAAAAAOdXBkYXRlX3Rrbl92YWwAAAAAAAAAAAABAAAD7QAAAAIAAAALAAAACw==',\n            // Function claim\n            'AAAAAAAAAAAAAAAFY2xhaW0AAAAAAAADAAAAAAAAAARmcm9tAAAAEwAAAAAAAAAOcG9vbF9hZGRyZXNzZXMAAAAAA+oAAAATAAAAAAAAAAJ0bwAAAAAAEwAAAAEAAAAL',\n            // Struct PoolBackstopData\n            'AAAAAQAAABhUaGUgcG9vbCdzIGJhY2tzdG9wIGRhdGEAAAAAAAAAEFBvb2xCYWNrc3RvcERhdGEAAAAEAAAAAAAAAARibG5kAAAACwAAAAAAAAAHcTR3X3BjdAAAAAALAAAAAAAAAAZ0b2tlbnMAAAAAAAsAAAAAAAAABHVzZGMAAAAL',\n            // Struct BackstopEmissionConfig\n            'AAAAAQAAAAAAAAAAAAAAFkJhY2tzdG9wRW1pc3Npb25Db25maWcAAAAAAAIAAAAAAAAAA2VwcwAAAAAGAAAAAAAAAApleHBpcmF0aW9uAAAAAAAG',\n            // Struct BackstopEmissionData\n            'AAAAAQAAAAAAAAAAAAAAFUJhY2tzdG9wRW1pc3Npb25zRGF0YQAAAAAAAAIAAAAAAAAABWluZGV4AAAAAAAACwAAAAAAAAAJbGFzdF90aW1lAAAAAAAABg==',\n            // Enum BackstopError\n            'AAAABAAAAKFFcnJvciBjb2RlcyBmb3IgdGhlIGJhY2tzdG9wIGNvbnRyYWN0LiBDb21tb24gZXJyb3JzIGFyZSBjb2RlcyB0aGF0IG1hdGNoIHVwIHdpdGggdGhlIGJ1aWx0LWluCmNvbnRyYWN0cyBlcnJvciByZXBvcnRpbmcuIEJhY2tzdG9wIHNwZWNpZmljIGVycm9ycyBzdGFydCBhdCAxMDAwLgAAAAAAAAAAAAANQmFja3N0b3BFcnJvcgAAAAAAAA4AAAAAAAAADUludGVybmFsRXJyb3IAAAAAAAABAAAAAAAAABdBbHJlYWR5SW5pdGlhbGl6ZWRFcnJvcgAAAAADAAAAAAAAABFVbmF1dGhvcml6ZWRFcnJvcgAAAAAAAAQAAAAAAAAAE05lZ2F0aXZlQW1vdW50RXJyb3IAAAAACAAAAAAAAAAMQmFsYW5jZUVycm9yAAAACgAAAAAAAAANT3ZlcmZsb3dFcnJvcgAAAAAAAAwAAAAAAAAACkJhZFJlcXVlc3QAAAAAA+gAAAAAAAAACk5vdEV4cGlyZWQAAAAAA+kAAAAAAAAAFkludmFsaWRSZXdhcmRab25lRW50cnkAAAAAA+oAAAAAAAAAEUluc3VmZmljaWVudEZ1bmRzAAAAAAAD6wAAAAAAAAAHTm90UG9vbAAAAAPsAAAAAAAAABZJbnZhbGlkU2hhcmVNaW50QW1vdW50AAAAAAPtAAAAAAAAABpJbnZhbGlkVG9rZW5XaXRoZHJhd0Ftb3VudAAAAAAD7gAAAAAAAAARVG9vTWFueVE0V0VudHJpZXMAAAAAAAPv',\n            // Union BackstopDataKey\n            'AAAAAgAAAAAAAAAAAAAAD0JhY2tzdG9wRGF0YUtleQAAAAAHAAAAAQAAAAAAAAALVXNlckJhbGFuY2UAAAAAAQAAB9AAAAALUG9vbFVzZXJLZXkAAAAAAQAAAAAAAAALUG9vbEJhbGFuY2UAAAAAAQAAABMAAAABAAAAAAAAAAhQb29sVVNEQwAAAAEAAAATAAAAAQAAAAAAAAAIUG9vbEVtaXMAAAABAAAAEwAAAAEAAAAAAAAACEJFbWlzQ2ZnAAAAAQAAABMAAAABAAAAAAAAAAlCRW1pc0RhdGEAAAAAAAABAAAAEwAAAAEAAAAAAAAACVVFbWlzRGF0YQAAAAAAAAEAAAfQAAAAC1Bvb2xVc2VyS2V5AA==',\n        ]).entries,\n    ]);\n    static parsers = {\n        ...BackstopContract.parsers,\n        initialize: () => { },\n        gulpEmissions: () => { },\n        addReward: () => { },\n        poolData: (result) => BackstopContractV1.spec.funcResToNative('pool_data', result),\n        gulpPoolEmissions: (result) => BackstopContractV1.spec.funcResToNative('gulp_pool_emissions', result),\n        updateTknVal: (result) => BackstopContractV1.spec.funcResToNative('update_tkn_val', result),\n    };\n    /**\n     * Initializes the backstop contract. This function requires that the Emitter has already been initialized.\n     *\n     * @param contractArgs - The arguments required for initialization.\n     * @param contractArgs.backstop_token - The backstop token ID - an LP token with the pair BLND:USDC.\n     * @param contractArgs.emitter - The Emitter contract ID.\n     * @param contractArgs.usdc_token - The USDC token ID.\n     * @param contractArgs.blnd_token - The BLND token ID.\n     * @param contractArgs.pool_factory - The pool factory ID.\n     * @param contractArgs.drop_list - The list of addresses to distribute initial BLND to and the percent of the distribution they should receive.\n     *\n     * @throws Will throw an error if initialize has already been called.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    initialize(contractArgs) {\n        return this.call('initialize', ...BackstopContractV1.spec.funcArgsToScVals('initialize', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Consumes emissions from the Emitter and distributes them to backstops and pools in the reward zone.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    gulpEmissions() {\n        return this.call('gulp_emissions', ...BackstopContractV1.spec.funcArgsToScVals('gulp_emissions', {})).toXDR('base64');\n    }\n    /**\n     * Adds a pool to the reward zone, and if the reward zone is full, removes another pool.\n     *\n     * @param to_add - The address of the pool to add.\n     * @param to_remove - The address of the pool to remove.\n     *\n     * @throws Will throw an error if the pool to remove has more tokens, or if distribution occurred in the last 48 hours.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    addReward(to_add, to_remove) {\n        return this.call('add_reward', ...BackstopContractV1.spec.funcArgsToScVals('add_reward', { to_add, to_remove })).toXDR('base64');\n    }\n    /**\n     * Updates the underlying value of 1 backstop token.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    updateTokenValue() {\n        return this.call('update_tkn_val', ...BackstopContractV1.spec.funcArgsToScVals('update_tkn_val', {})).toXDR('base64');\n    }\n    /**\n     * Claims backstop deposit emissions from a list of pools for a user.\n     *\n     * @param contractArgs - The arguments required for claiming emissions.\n     * @param contractArgs.from - The address of the user claiming emissions.\n     * @param contractArgs.pool_addresses - The list of addresses to claim backstop deposit emissions from.\n     * @param contractArgs.to - The address to send the emissions to.\n     *\n     * @throws Will throw an error if an invalid pool address is included.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    claim(contractArgs) {\n        return this.call('claim', ...BackstopContractV1.spec.funcArgsToScVals('claim', contractArgs)).toXDR('base64');\n    }\n}\nclass BackstopContractV2 extends BackstopContract {\n    constructor(address) {\n        super(address);\n    }\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        ...BackstopContract.spec.entries,\n        ...new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n            // Function constructor\n            'AAAAAAAAAY5Db25zdHJ1Y3QgdGhlIGJhY2tzdG9wIGNvbnRyYWN0CgojIyMgQXJndW1lbnRzCiogYGJhY2tzdG9wX3Rva2VuYCAtIFRoZSBiYWNrc3RvcCB0b2tlbiBJRCAtIGFuIExQIHRva2VuIHdpdGggdGhlIHBhaXIgQkxORDpVU0RDCiogYGVtaXR0ZXJgIC0gVGhlIEVtaXR0ZXIgY29udHJhY3QgSUQKKiBgYmxuZF90b2tlbmAgLSBUaGUgQkxORCB0b2tlbiBJRAoqIGB1c2RjX3Rva2VuYCAtIFRoZSBVU0RDIHRva2VuIElECiogYHBvb2xfZmFjdG9yeWAgLSBUaGUgcG9vbCBmYWN0b3J5IElECiogYGRyb3BfbGlzdGAgLSBUaGUgbGlzdCBvZiBhZGRyZXNzZXMgdG8gZGlzdHJpYnV0ZSBpbml0aWFsIEJMTkQgdG8gYW5kIHRoZSBwZXJjZW50IG9mIHRoZSBkaXN0cmlidXRpb24gdGhleSBzaG91bGQgcmVjZWl2ZQAAAAAADV9fY29uc3RydWN0b3IAAAAAAAAGAAAAAAAAAA5iYWNrc3RvcF90b2tlbgAAAAAAEwAAAAAAAAAHZW1pdHRlcgAAAAATAAAAAAAAAApibG5kX3Rva2VuAAAAAAATAAAAAAAAAAp1c2RjX3Rva2VuAAAAAAATAAAAAAAAAAxwb29sX2ZhY3RvcnkAAAATAAAAAAAAAAlkcm9wX2xpc3QAAAAAAAPqAAAD7QAAAAIAAAATAAAACwAAAAA=',\n            // Function distribute\n            'AAAAAAAAAAAAAAAKZGlzdHJpYnV0ZQAAAAAAAAAAAAEAAAAL',\n            // Function gulp_emissions\n            'AAAAAAAAAAAAAAAOZ3VscF9lbWlzc2lvbnMAAAAAAAEAAAAAAAAABHBvb2wAAAATAAAAAQAAAAs=',\n            // Function add_reward\n            'AAAAAAAAAAAAAAAKYWRkX3Jld2FyZAAAAAAAAgAAAAAAAAAGdG9fYWRkAAAAAAATAAAAAAAAAAl0b19yZW1vdmUAAAAAAAPoAAAAEwAAAAA=',\n            // Function remove_reward\n            'AAAAAAAAAAAAAAANcmVtb3ZlX3Jld2FyZAAAAAAAAAEAAAAAAAAACXRvX3JlbW92ZQAAAAAAABMAAAAA',\n            // Function reward_zone\n            'AAAAAAAAAAAAAAALcmV3YXJkX3pvbmUAAAAAAAAAAAEAAAPqAAAAEw==',\n            // Function claim\n            'AAAAAAAAAAAAAAAFY2xhaW0AAAAAAAADAAAAAAAAAARmcm9tAAAAEwAAAAAAAAAOcG9vbF9hZGRyZXNzZXMAAAAAA+oAAAATAAAAAAAAABFtaW5fbHBfdG9rZW5zX291dAAAAAAAAAsAAAABAAAACw==',\n            // Struct PoolBackstopData\n            'AAAAAQAAABhUaGUgcG9vbCdzIGJhY2tzdG9wIGRhdGEAAAAAAAAAEFBvb2xCYWNrc3RvcERhdGEAAAAGAAAAAAAAAARibG5kAAAACwAAAAAAAAAHcTR3X3BjdAAAAAALAAAAAAAAAAZzaGFyZXMAAAAAAAsAAAAAAAAAEHRva2VuX3Nwb3RfcHJpY2UAAAALAAAAAAAAAAZ0b2tlbnMAAAAAAAsAAAAAAAAABHVzZGMAAAAL',\n            // Struct RzEmissions\n            'AAAAAQAAADNUaGUgYWNjcnVlZCBlbWlzc2lvbnMgZm9yIHBvb2wncyBpbiB0aGUgcmV3YXJkIHpvbmUAAAAAAAAAAAtSekVtaXNzaW9ucwAAAAACAAAAAAAAAAdhY2NydWVkAAAAAAsAAAAAAAAACWxhc3RfdGltZQAAAAAAAAY=',\n            // Struct BackstopEmissionData\n            'AAAAAQAAACdUaGUgZW1pc3Npb24gZGF0YSBmb3IgYSBwb29sJ3MgYmFja3N0b3AAAAAAAAAAABRCYWNrc3RvcEVtaXNzaW9uRGF0YQAAAAQAAAAAAAAAA2VwcwAAAAAGAAAAAAAAAApleHBpcmF0aW9uAAAAAAAGAAAAAAAAAAVpbmRleAAAAAAAAAsAAAAAAAAACWxhc3RfdGltZQAAAAAAAAY=',\n            // Enum BackstopError\n            'AAAABAAAAKFFcnJvciBjb2RlcyBmb3IgdGhlIGJhY2tzdG9wIGNvbnRyYWN0LiBDb21tb24gZXJyb3JzIGFyZSBjb2RlcyB0aGF0IG1hdGNoIHVwIHdpdGggdGhlIGJ1aWx0LWluCmNvbnRyYWN0cyBlcnJvciByZXBvcnRpbmcuIEJhY2tzdG9wIHNwZWNpZmljIGVycm9ycyBzdGFydCBhdCAxMDAwLgAAAAAAAAAAAAANQmFja3N0b3BFcnJvcgAAAAAAABEAAAAAAAAADUludGVybmFsRXJyb3IAAAAAAAABAAAAAAAAABdBbHJlYWR5SW5pdGlhbGl6ZWRFcnJvcgAAAAADAAAAAAAAABFVbmF1dGhvcml6ZWRFcnJvcgAAAAAAAAQAAAAAAAAAE05lZ2F0aXZlQW1vdW50RXJyb3IAAAAACAAAAAAAAAAMQmFsYW5jZUVycm9yAAAACgAAAAAAAAANT3ZlcmZsb3dFcnJvcgAAAAAAAAwAAAAAAAAACkJhZFJlcXVlc3QAAAAAA+gAAAAAAAAACk5vdEV4cGlyZWQAAAAAA+kAAAAAAAAAFkludmFsaWRSZXdhcmRab25lRW50cnkAAAAAA+oAAAAAAAAAEUluc3VmZmljaWVudEZ1bmRzAAAAAAAD6wAAAAAAAAAHTm90UG9vbAAAAAPsAAAAAAAAABZJbnZhbGlkU2hhcmVNaW50QW1vdW50AAAAAAPtAAAAAAAAABpJbnZhbGlkVG9rZW5XaXRoZHJhd0Ftb3VudAAAAAAD7gAAAAAAAAARVG9vTWFueVE0V0VudHJpZXMAAAAAAAPvAAAAAAAAAA9Ob3RJblJld2FyZFpvbmUAAAAD8AAAAAAAAAAOUmV3YXJkWm9uZUZ1bGwAAAAAA/EAAAAAAAAAFE1heEJhY2tmaWxsRW1pc3Npb25zAAAD8g==',\n            // Union BackstopDataKey\n            'AAAAAgAAAAAAAAAAAAAAD0JhY2tzdG9wRGF0YUtleQAAAAAGAAAAAQAAAAAAAAALVXNlckJhbGFuY2UAAAAAAQAAB9AAAAALUG9vbFVzZXJLZXkAAAAAAQAAAAAAAAALUG9vbEJhbGFuY2UAAAAAAQAAABMAAAABAAAAAAAAAAhQb29sVVNEQwAAAAEAAAATAAAAAQAAAAAAAAAKUnpFbWlzRGF0YQAAAAAAAQAAABMAAAABAAAAAAAAAAlCRW1pc0RhdGEAAAAAAAABAAAAEwAAAAEAAAAAAAAACVVFbWlzRGF0YQAAAAAAAAEAAAfQAAAAC1Bvb2xVc2VyS2V5AA==',\n        ]).entries,\n    ]);\n    static parsers = {\n        ...BackstopContract.parsers,\n        deploy: (result) => (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(result, 'base64')),\n        poolData: (result) => BackstopContractV2.spec.funcResToNative('pool_data', result),\n        distribute: (result) => BackstopContractV2.spec.funcResToNative('distribute', result),\n        removeReward: () => { },\n    };\n    /**\n     * Deploys a new instance of the Backstop V2 contract.\n     *\n     * @param deployer - The address of the deployer.\n     * @param wasmHash - The hash of the WASM contract code.\n     * @param args - The constructor arguments for the contract.\n     * @param args.backstop_token - The backstop token ID - an LP token with the pair BLND:USDC.\n     * @param args.emitter - The Emitter contract ID.\n     * @param args.blnd_token - The BLND token ID.\n     * @param args.usdc_token - The USDC token ID.\n     * @param args.pool_factory - The pool factory ID.\n     * @param args.drop_list - The list of addresses to distribute initial BLND to and the percent of the distribution they should receive.\n     * @param salt - Optional salt for the contract deployment.\n     * @param format - Optional format for the WASM hash (hex or base64).\n     *\n     * @returns A base64-encoded string representing the contract deployment operation.\n     */\n    static deploy(deployer, wasmHash, args, salt, format) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Operation.createCustomContract({\n            address: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(deployer),\n            wasmHash: typeof wasmHash === 'string'\n                ? Buffer.from(wasmHash, format ?? 'hex')\n                : wasmHash,\n            salt,\n            constructorArgs: this.spec.funcArgsToScVals('__constructor', args),\n        }).toXDR('base64');\n    }\n    /**\n     * Updates the backstop with new emissions for all reward zone pools.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    distribute() {\n        return this.call('distribute', ...BackstopContractV2.spec.funcArgsToScVals('distribute', {})).toXDR('base64');\n    }\n    /**\n     * Adds a pool to the reward zone, and if the reward zone is full, can optionally remove another pool.\n     *\n     * @param to_add - The address of the pool to add.\n     * @param to_remove - The address of the pool to remove (Optional - Used if the reward zone is full).\n     *\n     * @throws Will throw an error if the pool to remove has more tokens, or if distribution occurred in the last 48 hours.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    addReward(to_add, to_remove) {\n        return this.call('add_reward', ...BackstopContractV2.spec.funcArgsToScVals('add_reward', { to_add, to_remove })).toXDR('base64');\n    }\n    /**\n     * Removes a pool from the reward zone.\n     *\n     * @param poolToRemove - The address of the pool to remove.\n     *\n     * @throws Will throw an error if the pool is not below the threshold or if the pool is not in the reward zone.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    removeReward(poolToRemove) {\n        return this.call('remove_reward', ...BackstopContractV2.spec.funcArgsToScVals('remove_reward', { poolToRemove })).toXDR('base64');\n    }\n    /**\n     * Claims backstop deposit emissions from a list of pools for a user.\n     *\n     * @param contractArgs - The arguments required for claiming emissions.\n     * @param contractArgs.from - The address of the user claiming emissions.\n     * @param contractArgs.pool_addresses - The list of addresses to claim backstop deposit emissions from.\n     * @param contractArgs.min_lp_tokens_out - The minimum amount of LP tokens to mint with the claimed BLND.\n     *\n     * @throws Will throw an error if an invalid pool address is included.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    claim(contractArgs) {\n        return this.call('claim', ...BackstopContractV2.spec.funcArgsToScVals('claim', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Fetches the reward zone for the backstop.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    rewardZone() {\n        return this.call('reward_zone', ...BackstopContractV2.spec.funcArgsToScVals('reward_zone', {})).toXDR('base64');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9jb250cmFjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtHO0FBQzNGLCtCQUErQiwwREFBUTtBQUM5QztBQUNBLHNCQUFzQiwwREFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQSx1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUY7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxR0FBcUcsWUFBWTtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlHQUF5RztBQUN6RztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQVE7QUFDOUI7QUFDQSxlQUFlLDBEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsZ0NBQWdDO0FBQ2hDLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcsbUJBQW1CO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkdBQTJHO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwREFBUTtBQUM5QjtBQUNBLGVBQWUsMERBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUVBQWEsQ0FBQyxxREFBRztBQUM3QztBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwyREFBUztBQUN4QixxQkFBcUIseURBQU87QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcsbUJBQW1CO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5R0FBeUcsY0FBYztBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFHQUFxRztBQUNyRztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9jb250cmFjdC5qcz84ODJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFkZHJlc3MsIENvbnRyYWN0LCBjb250cmFjdCwgT3BlcmF0aW9uLCBzY1ZhbFRvTmF0aXZlLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5leHBvcnQgY2xhc3MgQmFja3N0b3BDb250cmFjdCBleHRlbmRzIENvbnRyYWN0IHtcbiAgICAvLyBAZGV2OiBHZW5lcmF0ZWQgZnJvbSBzb3JvYmFuLWNsaSBUeXBlc2NyaXB0IGJpbmRpbmdzXG4gICAgc3RhdGljIHNwZWMgPSBuZXcgY29udHJhY3QuU3BlYyhbXG4gICAgICAgIC8vIFN0cnVjdCBQb29sQmFsYW5jZVxuICAgICAgICAnQUFBQUFRQUFBQnhVYUdVZ2NHOXZiQ2R6SUdKaFkydHpkRzl3SUdKaGJHRnVZMlZ6QUFBQUFBQUFBQXRRYjI5c1FtRnNZVzVqWlFBQUFBQURBQUFBQUFBQUFBTnhOSGNBQUFBQUN3QUFBQUFBQUFBR2MyaGhjbVZ6QUFBQUFBQUxBQUFBQUFBQUFBWjBiMnRsYm5NQUFBQUFBQXM9JyxcbiAgICAgICAgLy8gU3RydWN0IFE0V1xuICAgICAgICAnQUFBQUFRQUFBQ2RCSUdSbGNHOXphWFFnZEdoaGRDQnBjeUJ4ZFdWMVpXUWdabTl5SUhkcGRHaGtjbUYzWVd3QUFBQUFBQUFBQUFOUk5GY0FBQUFBQWdBQUFBQUFBQUFHWVcxdmRXNTBBQUFBQUFBTEFBQUFBQUFBQUFObGVIQUFBQUFBQmc9PScsXG4gICAgICAgIC8vIFN0cnVjdCBVc2VyQmFsYW5jZVxuICAgICAgICAnQUFBQUFRQUFBQ2RCSUdSbGNHOXphWFFnZEdoaGRDQnBjeUJ4ZFdWMVpXUWdabTl5SUhkcGRHaGtjbUYzWVd3QUFBQUFBQUFBQUF0VmMyVnlRbUZzWVc1alpRQUFBQUFDQUFBQUFBQUFBQU54TkhjQUFBQUQ2Z0FBQjlBQUFBQURVVFJYQUFBQUFBQUFBQUFHYzJoaGNtVnpBQUFBQUFBTCcsXG4gICAgICAgIC8vIEZ1bmN0aW9uIGRlcG9zaXRcbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUhaR1Z3YjNOcGRBQUFBQUFEQUFBQUFBQUFBQVJtY205dEFBQUFFd0FBQUFBQUFBQU1jRzl2YkY5aFpHUnlaWE56QUFBQUV3QUFBQUFBQUFBR1lXMXZkVzUwQUFBQUFBQUxBQUFBQVFBQUFBcz0nLFxuICAgICAgICAvLyBGdW5jdGlvbiBxdWV1ZV93aXRoZHJhd2FsXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFRY1hWbGRXVmZkMmwwYUdSeVlYZGhiQUFBQUFNQUFBQUFBQUFBQkdaeWIyMEFBQUFUQUFBQUFBQUFBQXh3YjI5c1gyRmtaSEpsYzNNQUFBQVRBQUFBQUFBQUFBWmhiVzkxYm5RQUFBQUFBQXNBQUFBQkFBQUgwQUFBQUFOUk5GY0EnLFxuICAgICAgICAvLyBGdW5jdGlvbiBkZXF1ZXVlX3dpdGhkcmF3YWxcbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQVNaR1Z4ZFdWMVpWOTNhWFJvWkhKaGQyRnNBQUFBQUFBREFBQUFBQUFBQUFSbWNtOXRBQUFBRXdBQUFBQUFBQUFNY0c5dmJGOWhaR1J5WlhOekFBQUFFd0FBQUFBQUFBQUdZVzF2ZFc1MEFBQUFBQUFMQUFBQUFBPT0nLFxuICAgICAgICAvLyBGdW5jdGlvbiB3aXRoZHJhd1xuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBSWQybDBhR1J5WVhjQUFBQURBQUFBQUFBQUFBUm1jbTl0QUFBQUV3QUFBQUFBQUFBTWNHOXZiRjloWkdSeVpYTnpBQUFBRXdBQUFBQUFBQUFHWVcxdmRXNTBBQUFBQUFBTEFBQUFBUUFBQUFzPScsXG4gICAgICAgIC8vIEZ1bmN0aW9uIHVzZXJfYmFsYW5jZVxuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBTWRYTmxjbDlpWVd4aGJtTmxBQUFBQWdBQUFBQUFBQUFFY0c5dmJBQUFBQk1BQUFBQUFBQUFCSFZ6WlhJQUFBQVRBQUFBQVFBQUI5QUFBQUFMVlhObGNrSmhiR0Z1WTJVQScsXG4gICAgICAgIC8vIEZ1bmN0aW9uIHBvb2xfZGF0YVxuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBSmNHOXZiRjlrWVhSaEFBQUFBQUFBQVFBQUFBQUFBQUFFY0c5dmJBQUFBQk1BQUFBQkFBQUgwQUFBQUJCUWIyOXNRbUZqYTNOMGIzQkVZWFJoJyxcbiAgICAgICAgLy8gRnVuY3Rpb24gYmFja3N0b3BfdG9rZW5cbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQU9ZbUZqYTNOMGIzQmZkRzlyWlc0QUFBQUFBQUFBQUFBQkFBQUFFdz09JyxcbiAgICAgICAgLy8gRnVuY3Rpb24gZHJvcFxuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBRVpISnZjQUFBQUFBQUFBQUEnLFxuICAgICAgICAvLyBGdW5jdGlvbiBkcmF3XG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFFWkhKaGR3QUFBQU1BQUFBQUFBQUFESEJ2YjJ4ZllXUmtjbVZ6Y3dBQUFCTUFBQUFBQUFBQUJtRnRiM1Z1ZEFBQUFBQUFDd0FBQUFBQUFBQUNkRzhBQUFBQUFCTUFBQUFBJyxcbiAgICAgICAgLy8gRnVuY3Rpb24gZG9uYXRlXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFHWkc5dVlYUmxBQUFBQUFBREFBQUFBQUFBQUFSbWNtOXRBQUFBRXdBQUFBQUFBQUFNY0c5dmJGOWhaR1J5WlhOekFBQUFFd0FBQUFBQUFBQUdZVzF2ZFc1MEFBQUFBQUFMQUFBQUFBPT0nLFxuICAgICAgICAvLyBTdHJ1Y3QgVXNlckVtaXNzaW9uRGF0YVxuICAgICAgICAnQUFBQUFRQUFBQzFVYUdVZ2RYTmxjaUJsYldsemMybHZiaUJrWVhSaElIQnZiMnduY3lCaVlXTnJjM1J2Y0NCMGIydGxibk1BQUFBQUFBQUFBQUFBRUZWelpYSkZiV2x6YzJsdmJrUmhkR0VBQUFBQ0FBQUFBQUFBQUFkaFkyTnlkV1ZrQUFBQUFBc0FBQUFBQUFBQUJXbHVaR1Y0QUFBQUFBQUFDdz09JyxcbiAgICAgICAgLy8gU3RydWN0IFBvb2xVc2VyS2V5XG4gICAgICAgICdBQUFBQVFBQUFBQUFBQUFBQUFBQUMxQnZiMnhWYzJWeVMyVjVBQUFBQUFJQUFBQUFBQUFBQkhCdmIyd0FBQUFUQUFBQUFBQUFBQVIxYzJWeUFBQUFFdz09JyxcbiAgICBdKTtcbiAgICBzdGF0aWMgcGFyc2VycyA9IHtcbiAgICAgICAgZGVwb3NpdDogKHJlc3VsdCkgPT4gQmFja3N0b3BDb250cmFjdC5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgnZGVwb3NpdCcsIHJlc3VsdCksXG4gICAgICAgIHF1ZXVlV2l0aGRyYXdhbDogKHJlc3VsdCkgPT4gQmFja3N0b3BDb250cmFjdC5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgncXVldWVfd2l0aGRyYXdhbCcsIHJlc3VsdCksXG4gICAgICAgIGRlcXVldWVXaXRoZHJhd2FsOiAoKSA9PiB7IH0sXG4gICAgICAgIHdpdGhkcmF3OiAocmVzdWx0KSA9PiBCYWNrc3RvcENvbnRyYWN0LnNwZWMuZnVuY1Jlc1RvTmF0aXZlKCd3aXRoZHJhdycsIHJlc3VsdCksXG4gICAgICAgIHVzZXJCYWxhbmNlOiAocmVzdWx0KSA9PiBCYWNrc3RvcENvbnRyYWN0LnNwZWMuZnVuY1Jlc1RvTmF0aXZlKCd1c2VyX2JhbGFuY2UnLCByZXN1bHQpLFxuICAgICAgICBiYWNrc3RvcFRva2VuOiAocmVzdWx0KSA9PiBCYWNrc3RvcENvbnRyYWN0LnNwZWMuZnVuY1Jlc1RvTmF0aXZlKCdiYWNrc3RvcF90b2tlbicsIHJlc3VsdCksXG4gICAgICAgIGFkZFJld2FyZDogKCkgPT4geyB9LFxuICAgICAgICBjbGFpbTogKHJlc3VsdCkgPT4gQmFja3N0b3BDb250cmFjdC5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgnY2xhaW0nLCByZXN1bHQpLFxuICAgICAgICBkcm9wOiAoKSA9PiB7IH0sXG4gICAgICAgIGRyYXc6ICgpID0+IHsgfSxcbiAgICAgICAgZG9uYXRlOiAoKSA9PiB7IH0sXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXBvc2l0cyBiYWNrc3RvcCB0b2tlbnMgZnJvbSBhbiBhZGRyZXNzIGludG8gdGhlIGJhY2tzdG9wIG9mIGEgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIGZvciB0aGUgZGVwb3NpdC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmZyb20gLSBUaGUgYWRkcmVzcyBkZXBvc2l0aW5nIGludG8gdGhlIGJhY2tzdG9wLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MucG9vbF9hZGRyZXNzIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5hbW91bnQgLSBUaGUgYW1vdW50IG9mIHRva2VucyB0byBkZXBvc2l0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24gdGhhdCBtdXN0IGJlIHN1Ym1pdHRlZCBpbiBhIHRyYW5zYWN0aW9uLlxuICAgICAqL1xuICAgIGRlcG9zaXQoY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2RlcG9zaXQnLCAuLi5CYWNrc3RvcENvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZGVwb3NpdCcsIGNvbnRyYWN0QXJncykpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVldWVzIGRlcG9zaXRlZCBwb29sIHNoYXJlcyBmb3Igd2l0aGRyYXdhbCBmcm9tIGEgYmFja3N0b3Agb2YgYSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncyAtIFRoZSBhcmd1bWVudHMgcmVxdWlyZWQgZm9yIHF1ZXVpbmcgYSB3aXRoZHJhd2FsLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuZnJvbSAtIFRoZSBhZGRyZXNzIHdob3NlIGRlcG9zaXRzIGFyZSBiZWluZyBxdWV1ZWQgZm9yIHdpdGhkcmF3YWwuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5wb29sX2FkZHJlc3MgLSBUaGUgYWRkcmVzcyBvZiB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmFtb3VudCAtIFRoZSBhbW91bnQgb2Ygc2hhcmVzIHRvIHF1ZXVlIGZvciB3aXRoZHJhd2FsLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgcXVldWVXaXRoZHJhd2FsKGNvbnRyYWN0QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdxdWV1ZV93aXRoZHJhd2FsJywgLi4uQmFja3N0b3BDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ3F1ZXVlX3dpdGhkcmF3YWwnLCBjb250cmFjdEFyZ3MpKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlcXVldWVzIGEgY3VycmVudGx5IHF1ZXVlZCBwb29sIHNoYXJlIHdpdGhkcmF3YWwgZnJvbSB0aGUgYmFja3N0b3Agb2YgYSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncyAtIFRoZSBhcmd1bWVudHMgcmVxdWlyZWQgZm9yIGRlcXVldWluZyBhIHdpdGhkcmF3YWwuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5mcm9tIC0gVGhlIGFkZHJlc3Mgd2hvc2UgZGVwb3NpdHMgYXJlIGJlaW5nIGRlcXVldWVkLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MucG9vbF9hZGRyZXNzIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5hbW91bnQgLSBUaGUgYW1vdW50IG9mIHNoYXJlcyB0byBkZXF1ZXVlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZGVxdWV1ZVdpdGhkcmF3YWwoY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2RlcXVldWVfd2l0aGRyYXdhbCcsIC4uLkJhY2tzdG9wQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdkZXF1ZXVlX3dpdGhkcmF3YWwnLCBjb250cmFjdEFyZ3MpKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpdGhkcmF3cyBzaGFyZXMgZnJvbSBhIHVzZXIncyB3aXRoZHJhdyBxdWV1ZSBmb3IgYSBiYWNrc3RvcCBvZiBhIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzIC0gVGhlIGFyZ3VtZW50cyByZXF1aXJlZCBmb3Igd2l0aGRyYXdpbmcgc2hhcmVzLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuZnJvbSAtIFRoZSBhZGRyZXNzIHdob3NlIHNoYXJlcyBhcmUgYmVpbmcgd2l0aGRyYXduLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MucG9vbF9hZGRyZXNzIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5hbW91bnQgLSBUaGUgYW1vdW50IG9mIHNoYXJlcyB0byB3aXRoZHJhdy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHdpdGhkcmF3KGNvbnRyYWN0QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCd3aXRoZHJhdycsIC4uLkJhY2tzdG9wQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCd3aXRoZHJhdycsIGNvbnRyYWN0QXJncykpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYmFja3N0b3AgdG9rZW5zIGZyb20gYW4gYWRkcmVzcyB0byBhIHBvb2wncyBiYWNrc3RvcC4gQ2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHRoZSBwb29sLlxuICAgICAqIE5vdGU6IFRoaXMgaXMgbm90IGEgZGVwb3NpdCwgYW5kIHRoZSBzZW5kZXIgd2lsbCBwZXJtYW5lbnRseSBsb3NlIGFjY2VzcyB0byB0aGUgZnVuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzIC0gVGhlIGFyZ3VtZW50cyByZXF1aXJlZCBmb3IgZG9uYXRpbmcgdG8gdGhlIGJhY2tzdG9wLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuZnJvbSAtIFRoZSBhZGRyZXNzIGRvbmF0aW5nIHRva2VucyB0byB0aGUgYmFja3N0b3AuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5wb29sX2FkZHJlc3MgLSBUaGUgYWRkcmVzcyBvZiB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmFtb3VudCAtIFRoZSBhbW91bnQgb2YgdG9rZW5zIHRvIGRvbmF0ZS5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgcG9vbF9hZGRyZXNzIGlzIG5vdCB2YWxpZCBvciBpZiB0aGUgcG9vbCBkb2VzIG5vdCBhdXRob3JpemUgdGhlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBkb25hdGUoY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2RvbmF0ZScsIC4uLkJhY2tzdG9wQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdkb25hdGUnLCBjb250cmFjdEFyZ3MpKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERyb3BzIGluaXRpYWwgQkxORCB0byBhIGxpc3Qgb2YgYWRkcmVzc2VzIHRocm91Z2ggdGhlIGVtaXR0ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBkcm9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdkcm9wJywgLi4uQmFja3N0b3BDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2Ryb3AnLCB7fSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgYmFsYW5jZSBvZiBiYWNrc3RvcCBzaGFyZXMgb2YgYSBwb29sIGZvciBhIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9vbCAtIFRoZSBhZGRyZXNzIG9mIHRoZSBwb29sLlxuICAgICAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIgdG8gZmV0Y2ggdGhlIGJhbGFuY2UgZm9yLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgdXNlckJhbGFuY2UocG9vbCwgdXNlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCd1c2VyX2JhbGFuY2UnLCAuLi5CYWNrc3RvcENvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygndXNlcl9iYWxhbmNlJywgeyBwb29sLCB1c2VyIH0pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGJhY2tzdG9wIHRva2VuIGZvciB0aGUgYmFja3N0b3AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBiYWNrc3RvcFRva2VuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdiYWNrc3RvcF90b2tlbicsIC4uLkJhY2tzdG9wQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdiYWNrc3RvcF90b2tlbicsIHt9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYWNrc3RvcENvbnRyYWN0VjEgZXh0ZW5kcyBCYWNrc3RvcENvbnRyYWN0IHtcbiAgICBjb25zdHJ1Y3RvcihhZGRyZXNzKSB7XG4gICAgICAgIHN1cGVyKGFkZHJlc3MpO1xuICAgIH1cbiAgICBzdGF0aWMgc3BlYyA9IG5ldyBjb250cmFjdC5TcGVjKFtcbiAgICAgICAgLi4uQmFja3N0b3BDb250cmFjdC5zcGVjLmVudHJpZXMsXG4gICAgICAgIC4uLm5ldyBjb250cmFjdC5TcGVjKFtcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGluaXRpYWxpemVcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFLYVc1cGRHbGhiR2w2WlFBQUFBQUFCZ0FBQUFBQUFBQU9ZbUZqYTNOMGIzQmZkRzlyWlc0QUFBQUFBQk1BQUFBQUFBQUFCMlZ0YVhSMFpYSUFBQUFBRXdBQUFBQUFBQUFLZFhOa1kxOTBiMnRsYmdBQUFBQUFFd0FBQUFBQUFBQUtZbXh1WkY5MGIydGxiZ0FBQUFBQUV3QUFBQUFBQUFBTWNHOXZiRjltWVdOMGIzSjVBQUFBRXdBQUFBQUFBQUFKWkhKdmNGOXNhWE4wQUFBQUFBQUQ2Z0FBQSswQUFBQUNBQUFBRXdBQUFBc0FBQUFBJyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGd1bHBfZW1pc3Npb25zXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBT1ozVnNjRjlsYldsemMybHZibk1BQUFBQUFBQUFBQUFBJyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGFkZF9yZXdhcmRcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFLWVdSa1gzSmxkMkZ5WkFBQUFBQUFBZ0FBQUFBQUFBQUdkRzlmWVdSa0FBQUFBQUFUQUFBQUFBQUFBQWwwYjE5eVpXMXZkbVVBQUFBQUFBQVRBQUFBQUE9PScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBndWxwX3Bvb2xfZW1pc3Npb25zXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBVFozVnNjRjl3YjI5c1gyVnRhWE56YVc5dWN3QUFBQUFCQUFBQUFBQUFBQXh3YjI5c1gyRmtaSEpsYzNNQUFBQVRBQUFBQVFBQUFBcz0nLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gdXBkYXRlX3Rrbl92YWxcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFPZFhCa1lYUmxYM1JyYmw5MllXd0FBQUFBQUFBQUFBQUJBQUFEN1FBQUFBSUFBQUFMQUFBQUN3PT0nLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gY2xhaW1cbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFGWTJ4aGFXMEFBQUFBQUFBREFBQUFBQUFBQUFSbWNtOXRBQUFBRXdBQUFBQUFBQUFPY0c5dmJGOWhaR1J5WlhOelpYTUFBQUFBQStvQUFBQVRBQUFBQUFBQUFBSjBid0FBQUFBQUV3QUFBQUVBQUFBTCcsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgUG9vbEJhY2tzdG9wRGF0YVxuICAgICAgICAgICAgJ0FBQUFBUUFBQUJoVWFHVWdjRzl2YkNkeklHSmhZMnR6ZEc5d0lHUmhkR0VBQUFBQUFBQUFFRkJ2YjJ4Q1lXTnJjM1J2Y0VSaGRHRUFBQUFFQUFBQUFBQUFBQVJpYkc1a0FBQUFDd0FBQUFBQUFBQUhjVFIzWDNCamRBQUFBQUFMQUFBQUFBQUFBQVowYjJ0bGJuTUFBQUFBQUFzQUFBQUFBQUFBQkhWelpHTUFBQUFMJyxcbiAgICAgICAgICAgIC8vIFN0cnVjdCBCYWNrc3RvcEVtaXNzaW9uQ29uZmlnXG4gICAgICAgICAgICAnQUFBQUFRQUFBQUFBQUFBQUFBQUFGa0poWTJ0emRHOXdSVzFwYzNOcGIyNURiMjVtYVdjQUFBQUFBQUlBQUFBQUFBQUFBMlZ3Y3dBQUFBQUdBQUFBQUFBQUFBcGxlSEJwY21GMGFXOXVBQUFBQUFBRycsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgQmFja3N0b3BFbWlzc2lvbkRhdGFcbiAgICAgICAgICAgICdBQUFBQVFBQUFBQUFBQUFBQUFBQUZVSmhZMnR6ZEc5d1JXMXBjM05wYjI1elJHRjBZUUFBQUFBQUFBSUFBQUFBQUFBQUJXbHVaR1Y0QUFBQUFBQUFDd0FBQUFBQUFBQUpiR0Z6ZEY5MGFXMWxBQUFBQUFBQUJnPT0nLFxuICAgICAgICAgICAgLy8gRW51bSBCYWNrc3RvcEVycm9yXG4gICAgICAgICAgICAnQUFBQUJBQUFBS0ZGY25KdmNpQmpiMlJsY3lCbWIzSWdkR2hsSUdKaFkydHpkRzl3SUdOdmJuUnlZV04wTGlCRGIyMXRiMjRnWlhKeWIzSnpJR0Z5WlNCamIyUmxjeUIwYUdGMElHMWhkR05vSUhWd0lIZHBkR2dnZEdobElHSjFhV3gwTFdsdUNtTnZiblJ5WVdOMGN5Qmxjbkp2Y2lCeVpYQnZjblJwYm1jdUlFSmhZMnR6ZEc5d0lITndaV05wWm1saklHVnljbTl5Y3lCemRHRnlkQ0JoZENBeE1EQXdMZ0FBQUFBQUFBQUFBQUFOUW1GamEzTjBiM0JGY25KdmNnQUFBQUFBQUE0QUFBQUFBQUFBRFVsdWRHVnlibUZzUlhKeWIzSUFBQUFBQUFBQkFBQUFBQUFBQUJkQmJISmxZV1I1U1c1cGRHbGhiR2w2WldSRmNuSnZjZ0FBQUFBREFBQUFBQUFBQUJGVmJtRjFkR2h2Y21sNlpXUkZjbkp2Y2dBQUFBQUFBQVFBQUFBQUFBQUFFMDVsWjJGMGFYWmxRVzF2ZFc1MFJYSnliM0lBQUFBQUNBQUFBQUFBQUFBTVFtRnNZVzVqWlVWeWNtOXlBQUFBQ2dBQUFBQUFBQUFOVDNabGNtWnNiM2RGY25KdmNnQUFBQUFBQUF3QUFBQUFBQUFBQ2tKaFpGSmxjWFZsYzNRQUFBQUFBK2dBQUFBQUFBQUFDazV2ZEVWNGNHbHlaV1FBQUFBQUEra0FBQUFBQUFBQUZrbHVkbUZzYVdSU1pYZGhjbVJhYjI1bFJXNTBjbmtBQUFBQUErb0FBQUFBQUFBQUVVbHVjM1ZtWm1samFXVnVkRVoxYm1SekFBQUFBQUFENndBQUFBQUFBQUFIVG05MFVHOXZiQUFBQUFQc0FBQUFBQUFBQUJaSmJuWmhiR2xrVTJoaGNtVk5hVzUwUVcxdmRXNTBBQUFBQUFQdEFBQUFBQUFBQUJwSmJuWmhiR2xrVkc5clpXNVhhWFJvWkhKaGQwRnRiM1Z1ZEFBQUFBQUQ3Z0FBQUFBQUFBQVJWRzl2VFdGdWVWRTBWMFZ1ZEhKcFpYTUFBQUFBQUFQdicsXG4gICAgICAgICAgICAvLyBVbmlvbiBCYWNrc3RvcERhdGFLZXlcbiAgICAgICAgICAgICdBQUFBQWdBQUFBQUFBQUFBQUFBQUQwSmhZMnR6ZEc5d1JHRjBZVXRsZVFBQUFBQUhBQUFBQVFBQUFBQUFBQUFMVlhObGNrSmhiR0Z1WTJVQUFBQUFBUUFBQjlBQUFBQUxVRzl2YkZWelpYSkxaWGtBQUFBQUFRQUFBQUFBQUFBTFVHOXZiRUpoYkdGdVkyVUFBQUFBQVFBQUFCTUFBQUFCQUFBQUFBQUFBQWhRYjI5c1ZWTkVRd0FBQUFFQUFBQVRBQUFBQVFBQUFBQUFBQUFJVUc5dmJFVnRhWE1BQUFBQkFBQUFFd0FBQUFFQUFBQUFBQUFBQ0VKRmJXbHpRMlpuQUFBQUFRQUFBQk1BQUFBQkFBQUFBQUFBQUFsQ1JXMXBjMFJoZEdFQUFBQUFBQUFCQUFBQUV3QUFBQUVBQUFBQUFBQUFDVlZGYldselJHRjBZUUFBQUFBQUFBRUFBQWZRQUFBQUMxQnZiMnhWYzJWeVMyVjVBQT09JyxcbiAgICAgICAgXSkuZW50cmllcyxcbiAgICBdKTtcbiAgICBzdGF0aWMgcGFyc2VycyA9IHtcbiAgICAgICAgLi4uQmFja3N0b3BDb250cmFjdC5wYXJzZXJzLFxuICAgICAgICBpbml0aWFsaXplOiAoKSA9PiB7IH0sXG4gICAgICAgIGd1bHBFbWlzc2lvbnM6ICgpID0+IHsgfSxcbiAgICAgICAgYWRkUmV3YXJkOiAoKSA9PiB7IH0sXG4gICAgICAgIHBvb2xEYXRhOiAocmVzdWx0KSA9PiBCYWNrc3RvcENvbnRyYWN0VjEuc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ3Bvb2xfZGF0YScsIHJlc3VsdCksXG4gICAgICAgIGd1bHBQb29sRW1pc3Npb25zOiAocmVzdWx0KSA9PiBCYWNrc3RvcENvbnRyYWN0VjEuc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2d1bHBfcG9vbF9lbWlzc2lvbnMnLCByZXN1bHQpLFxuICAgICAgICB1cGRhdGVUa25WYWw6IChyZXN1bHQpID0+IEJhY2tzdG9wQ29udHJhY3RWMS5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgndXBkYXRlX3Rrbl92YWwnLCByZXN1bHQpLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGJhY2tzdG9wIGNvbnRyYWN0LiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIHRoYXQgdGhlIEVtaXR0ZXIgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIGZvciBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmJhY2tzdG9wX3Rva2VuIC0gVGhlIGJhY2tzdG9wIHRva2VuIElEIC0gYW4gTFAgdG9rZW4gd2l0aCB0aGUgcGFpciBCTE5EOlVTREMuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5lbWl0dGVyIC0gVGhlIEVtaXR0ZXIgY29udHJhY3QgSUQuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy51c2RjX3Rva2VuIC0gVGhlIFVTREMgdG9rZW4gSUQuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5ibG5kX3Rva2VuIC0gVGhlIEJMTkQgdG9rZW4gSUQuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5wb29sX2ZhY3RvcnkgLSBUaGUgcG9vbCBmYWN0b3J5IElELlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuZHJvcF9saXN0IC0gVGhlIGxpc3Qgb2YgYWRkcmVzc2VzIHRvIGRpc3RyaWJ1dGUgaW5pdGlhbCBCTE5EIHRvIGFuZCB0aGUgcGVyY2VudCBvZiB0aGUgZGlzdHJpYnV0aW9uIHRoZXkgc2hvdWxkIHJlY2VpdmUuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgaW5pdGlhbGl6ZSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGluaXRpYWxpemUoY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2luaXRpYWxpemUnLCAuLi5CYWNrc3RvcENvbnRyYWN0VjEuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdpbml0aWFsaXplJywgY29udHJhY3RBcmdzKSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25zdW1lcyBlbWlzc2lvbnMgZnJvbSB0aGUgRW1pdHRlciBhbmQgZGlzdHJpYnV0ZXMgdGhlbSB0byBiYWNrc3RvcHMgYW5kIHBvb2xzIGluIHRoZSByZXdhcmQgem9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGd1bHBFbWlzc2lvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2d1bHBfZW1pc3Npb25zJywgLi4uQmFja3N0b3BDb250cmFjdFYxLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZ3VscF9lbWlzc2lvbnMnLCB7fSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBvb2wgdG8gdGhlIHJld2FyZCB6b25lLCBhbmQgaWYgdGhlIHJld2FyZCB6b25lIGlzIGZ1bGwsIHJlbW92ZXMgYW5vdGhlciBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRvX2FkZCAtIFRoZSBhZGRyZXNzIG9mIHRoZSBwb29sIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0gdG9fcmVtb3ZlIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHBvb2wgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBwb29sIHRvIHJlbW92ZSBoYXMgbW9yZSB0b2tlbnMsIG9yIGlmIGRpc3RyaWJ1dGlvbiBvY2N1cnJlZCBpbiB0aGUgbGFzdCA0OCBob3Vycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGFkZFJld2FyZCh0b19hZGQsIHRvX3JlbW92ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdhZGRfcmV3YXJkJywgLi4uQmFja3N0b3BDb250cmFjdFYxLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnYWRkX3Jld2FyZCcsIHsgdG9fYWRkLCB0b19yZW1vdmUgfSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdW5kZXJseWluZyB2YWx1ZSBvZiAxIGJhY2tzdG9wIHRva2VuLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgdXBkYXRlVG9rZW5WYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgndXBkYXRlX3Rrbl92YWwnLCAuLi5CYWNrc3RvcENvbnRyYWN0VjEuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCd1cGRhdGVfdGtuX3ZhbCcsIHt9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGFpbXMgYmFja3N0b3AgZGVwb3NpdCBlbWlzc2lvbnMgZnJvbSBhIGxpc3Qgb2YgcG9vbHMgZm9yIGEgdXNlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIGZvciBjbGFpbWluZyBlbWlzc2lvbnMuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5mcm9tIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXIgY2xhaW1pbmcgZW1pc3Npb25zLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MucG9vbF9hZGRyZXNzZXMgLSBUaGUgbGlzdCBvZiBhZGRyZXNzZXMgdG8gY2xhaW0gYmFja3N0b3AgZGVwb3NpdCBlbWlzc2lvbnMgZnJvbS5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLnRvIC0gVGhlIGFkZHJlc3MgdG8gc2VuZCB0aGUgZW1pc3Npb25zIHRvLlxuICAgICAqXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIGFuIGludmFsaWQgcG9vbCBhZGRyZXNzIGlzIGluY2x1ZGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgY2xhaW0oY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2NsYWltJywgLi4uQmFja3N0b3BDb250cmFjdFYxLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnY2xhaW0nLCBjb250cmFjdEFyZ3MpKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhY2tzdG9wQ29udHJhY3RWMiBleHRlbmRzIEJhY2tzdG9wQ29udHJhY3Qge1xuICAgIGNvbnN0cnVjdG9yKGFkZHJlc3MpIHtcbiAgICAgICAgc3VwZXIoYWRkcmVzcyk7XG4gICAgfVxuICAgIHN0YXRpYyBzcGVjID0gbmV3IGNvbnRyYWN0LlNwZWMoW1xuICAgICAgICAuLi5CYWNrc3RvcENvbnRyYWN0LnNwZWMuZW50cmllcyxcbiAgICAgICAgLi4ubmV3IGNvbnRyYWN0LlNwZWMoW1xuICAgICAgICAgICAgLy8gRnVuY3Rpb24gY29uc3RydWN0b3JcbiAgICAgICAgICAgICdBQUFBQUFBQUFZNURiMjV6ZEhKMVkzUWdkR2hsSUdKaFkydHpkRzl3SUdOdmJuUnlZV04wQ2dvakl5TWdRWEpuZFcxbGJuUnpDaW9nWUdKaFkydHpkRzl3WDNSdmEyVnVZQ0F0SUZSb1pTQmlZV05yYzNSdmNDQjBiMnRsYmlCSlJDQXRJR0Z1SUV4UUlIUnZhMlZ1SUhkcGRHZ2dkR2hsSUhCaGFYSWdRa3hPUkRwVlUwUkRDaW9nWUdWdGFYUjBaWEpnSUMwZ1ZHaGxJRVZ0YVhSMFpYSWdZMjl1ZEhKaFkzUWdTVVFLS2lCZ1lteHVaRjkwYjJ0bGJtQWdMU0JVYUdVZ1FreE9SQ0IwYjJ0bGJpQkpSQW9xSUdCMWMyUmpYM1J2YTJWdVlDQXRJRlJvWlNCVlUwUkRJSFJ2YTJWdUlFbEVDaW9nWUhCdmIyeGZabUZqZEc5eWVXQWdMU0JVYUdVZ2NHOXZiQ0JtWVdOMGIzSjVJRWxFQ2lvZ1lHUnliM0JmYkdsemRHQWdMU0JVYUdVZ2JHbHpkQ0J2WmlCaFpHUnlaWE56WlhNZ2RHOGdaR2x6ZEhKcFluVjBaU0JwYm1sMGFXRnNJRUpNVGtRZ2RHOGdZVzVrSUhSb1pTQndaWEpqWlc1MElHOW1JSFJvWlNCa2FYTjBjbWxpZFhScGIyNGdkR2hsZVNCemFHOTFiR1FnY21WalpXbDJaUUFBQUFBQURWOWZZMjl1YzNSeWRXTjBiM0lBQUFBQUFBQUdBQUFBQUFBQUFBNWlZV05yYzNSdmNGOTBiMnRsYmdBQUFBQUFFd0FBQUFBQUFBQUhaVzFwZEhSbGNnQUFBQUFUQUFBQUFBQUFBQXBpYkc1a1gzUnZhMlZ1QUFBQUFBQVRBQUFBQUFBQUFBcDFjMlJqWDNSdmEyVnVBQUFBQUFBVEFBQUFBQUFBQUF4d2IyOXNYMlpoWTNSdmNua0FBQUFUQUFBQUFBQUFBQWxrY205d1gyeHBjM1FBQUFBQUFBUHFBQUFEN1FBQUFBSUFBQUFUQUFBQUN3QUFBQUE9JyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGRpc3RyaWJ1dGVcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFLWkdsemRISnBZblYwWlFBQUFBQUFBQUFBQUFFQUFBQUwnLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gZ3VscF9lbWlzc2lvbnNcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFPWjNWc2NGOWxiV2x6YzJsdmJuTUFBQUFBQUFFQUFBQUFBQUFBQkhCdmIyd0FBQUFUQUFBQUFRQUFBQXM9JyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGFkZF9yZXdhcmRcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFLWVdSa1gzSmxkMkZ5WkFBQUFBQUFBZ0FBQUFBQUFBQUdkRzlmWVdSa0FBQUFBQUFUQUFBQUFBQUFBQWwwYjE5eVpXMXZkbVVBQUFBQUFBUG9BQUFBRXdBQUFBQT0nLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gcmVtb3ZlX3Jld2FyZFxuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQU5jbVZ0YjNabFgzSmxkMkZ5WkFBQUFBQUFBQUVBQUFBQUFBQUFDWFJ2WDNKbGJXOTJaUUFBQUFBQUFCTUFBQUFBJyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHJld2FyZF96b25lXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBTGNtVjNZWEprWDNwdmJtVUFBQUFBQUFBQUFBRUFBQVBxQUFBQUV3PT0nLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gY2xhaW1cbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFGWTJ4aGFXMEFBQUFBQUFBREFBQUFBQUFBQUFSbWNtOXRBQUFBRXdBQUFBQUFBQUFPY0c5dmJGOWhaR1J5WlhOelpYTUFBQUFBQStvQUFBQVRBQUFBQUFBQUFCRnRhVzVmYkhCZmRHOXJaVzV6WDI5MWRBQUFBQUFBQUFzQUFBQUJBQUFBQ3c9PScsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgUG9vbEJhY2tzdG9wRGF0YVxuICAgICAgICAgICAgJ0FBQUFBUUFBQUJoVWFHVWdjRzl2YkNkeklHSmhZMnR6ZEc5d0lHUmhkR0VBQUFBQUFBQUFFRkJ2YjJ4Q1lXTnJjM1J2Y0VSaGRHRUFBQUFHQUFBQUFBQUFBQVJpYkc1a0FBQUFDd0FBQUFBQUFBQUhjVFIzWDNCamRBQUFBQUFMQUFBQUFBQUFBQVp6YUdGeVpYTUFBQUFBQUFzQUFBQUFBQUFBRUhSdmEyVnVYM053YjNSZmNISnBZMlVBQUFBTEFBQUFBQUFBQUFaMGIydGxibk1BQUFBQUFBc0FBQUFBQUFBQUJIVnpaR01BQUFBTCcsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgUnpFbWlzc2lvbnNcbiAgICAgICAgICAgICdBQUFBQVFBQUFETlVhR1VnWVdOamNuVmxaQ0JsYldsemMybHZibk1nWm05eUlIQnZiMnduY3lCcGJpQjBhR1VnY21WM1lYSmtJSHB2Ym1VQUFBQUFBQUFBQUF0U2VrVnRhWE56YVc5dWN3QUFBQUFDQUFBQUFBQUFBQWRoWTJOeWRXVmtBQUFBQUFzQUFBQUFBQUFBQ1d4aGMzUmZkR2x0WlFBQUFBQUFBQVk9JyxcbiAgICAgICAgICAgIC8vIFN0cnVjdCBCYWNrc3RvcEVtaXNzaW9uRGF0YVxuICAgICAgICAgICAgJ0FBQUFBUUFBQUNkVWFHVWdaVzFwYzNOcGIyNGdaR0YwWVNCbWIzSWdZU0J3YjI5c0ozTWdZbUZqYTNOMGIzQUFBQUFBQUFBQUFCUkNZV05yYzNSdmNFVnRhWE56YVc5dVJHRjBZUUFBQUFRQUFBQUFBQUFBQTJWd2N3QUFBQUFHQUFBQUFBQUFBQXBsZUhCcGNtRjBhVzl1QUFBQUFBQUdBQUFBQUFBQUFBVnBibVJsZUFBQUFBQUFBQXNBQUFBQUFBQUFDV3hoYzNSZmRHbHRaUUFBQUFBQUFBWT0nLFxuICAgICAgICAgICAgLy8gRW51bSBCYWNrc3RvcEVycm9yXG4gICAgICAgICAgICAnQUFBQUJBQUFBS0ZGY25KdmNpQmpiMlJsY3lCbWIzSWdkR2hsSUdKaFkydHpkRzl3SUdOdmJuUnlZV04wTGlCRGIyMXRiMjRnWlhKeWIzSnpJR0Z5WlNCamIyUmxjeUIwYUdGMElHMWhkR05vSUhWd0lIZHBkR2dnZEdobElHSjFhV3gwTFdsdUNtTnZiblJ5WVdOMGN5Qmxjbkp2Y2lCeVpYQnZjblJwYm1jdUlFSmhZMnR6ZEc5d0lITndaV05wWm1saklHVnljbTl5Y3lCemRHRnlkQ0JoZENBeE1EQXdMZ0FBQUFBQUFBQUFBQUFOUW1GamEzTjBiM0JGY25KdmNnQUFBQUFBQUJFQUFBQUFBQUFBRFVsdWRHVnlibUZzUlhKeWIzSUFBQUFBQUFBQkFBQUFBQUFBQUJkQmJISmxZV1I1U1c1cGRHbGhiR2w2WldSRmNuSnZjZ0FBQUFBREFBQUFBQUFBQUJGVmJtRjFkR2h2Y21sNlpXUkZjbkp2Y2dBQUFBQUFBQVFBQUFBQUFBQUFFMDVsWjJGMGFYWmxRVzF2ZFc1MFJYSnliM0lBQUFBQUNBQUFBQUFBQUFBTVFtRnNZVzVqWlVWeWNtOXlBQUFBQ2dBQUFBQUFBQUFOVDNabGNtWnNiM2RGY25KdmNnQUFBQUFBQUF3QUFBQUFBQUFBQ2tKaFpGSmxjWFZsYzNRQUFBQUFBK2dBQUFBQUFBQUFDazV2ZEVWNGNHbHlaV1FBQUFBQUEra0FBQUFBQUFBQUZrbHVkbUZzYVdSU1pYZGhjbVJhYjI1bFJXNTBjbmtBQUFBQUErb0FBQUFBQUFBQUVVbHVjM1ZtWm1samFXVnVkRVoxYm1SekFBQUFBQUFENndBQUFBQUFBQUFIVG05MFVHOXZiQUFBQUFQc0FBQUFBQUFBQUJaSmJuWmhiR2xrVTJoaGNtVk5hVzUwUVcxdmRXNTBBQUFBQUFQdEFBQUFBQUFBQUJwSmJuWmhiR2xrVkc5clpXNVhhWFJvWkhKaGQwRnRiM1Z1ZEFBQUFBQUQ3Z0FBQUFBQUFBQVJWRzl2VFdGdWVWRTBWMFZ1ZEhKcFpYTUFBQUFBQUFQdkFBQUFBQUFBQUE5T2IzUkpibEpsZDJGeVpGcHZibVVBQUFBRDhBQUFBQUFBQUFBT1VtVjNZWEprV205dVpVWjFiR3dBQUFBQUEvRUFBQUFBQUFBQUZFMWhlRUpoWTJ0bWFXeHNSVzFwYzNOcGIyNXpBQUFEOGc9PScsXG4gICAgICAgICAgICAvLyBVbmlvbiBCYWNrc3RvcERhdGFLZXlcbiAgICAgICAgICAgICdBQUFBQWdBQUFBQUFBQUFBQUFBQUQwSmhZMnR6ZEc5d1JHRjBZVXRsZVFBQUFBQUdBQUFBQVFBQUFBQUFBQUFMVlhObGNrSmhiR0Z1WTJVQUFBQUFBUUFBQjlBQUFBQUxVRzl2YkZWelpYSkxaWGtBQUFBQUFRQUFBQUFBQUFBTFVHOXZiRUpoYkdGdVkyVUFBQUFBQVFBQUFCTUFBQUFCQUFBQUFBQUFBQWhRYjI5c1ZWTkVRd0FBQUFFQUFBQVRBQUFBQVFBQUFBQUFBQUFLVW5wRmJXbHpSR0YwWVFBQUFBQUFBUUFBQUJNQUFBQUJBQUFBQUFBQUFBbENSVzFwYzBSaGRHRUFBQUFBQUFBQkFBQUFFd0FBQUFFQUFBQUFBQUFBQ1ZWRmJXbHpSR0YwWVFBQUFBQUFBQUVBQUFmUUFBQUFDMUJ2YjJ4VmMyVnlTMlY1QUE9PScsXG4gICAgICAgIF0pLmVudHJpZXMsXG4gICAgXSk7XG4gICAgc3RhdGljIHBhcnNlcnMgPSB7XG4gICAgICAgIC4uLkJhY2tzdG9wQ29udHJhY3QucGFyc2VycyxcbiAgICAgICAgZGVwbG95OiAocmVzdWx0KSA9PiBzY1ZhbFRvTmF0aXZlKHhkci5TY1ZhbC5mcm9tWERSKHJlc3VsdCwgJ2Jhc2U2NCcpKSxcbiAgICAgICAgcG9vbERhdGE6IChyZXN1bHQpID0+IEJhY2tzdG9wQ29udHJhY3RWMi5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgncG9vbF9kYXRhJywgcmVzdWx0KSxcbiAgICAgICAgZGlzdHJpYnV0ZTogKHJlc3VsdCkgPT4gQmFja3N0b3BDb250cmFjdFYyLnNwZWMuZnVuY1Jlc1RvTmF0aXZlKCdkaXN0cmlidXRlJywgcmVzdWx0KSxcbiAgICAgICAgcmVtb3ZlUmV3YXJkOiAoKSA9PiB7IH0sXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXBsb3lzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBCYWNrc3RvcCBWMiBjb250cmFjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZXBsb3llciAtIFRoZSBhZGRyZXNzIG9mIHRoZSBkZXBsb3llci5cbiAgICAgKiBAcGFyYW0gd2FzbUhhc2ggLSBUaGUgaGFzaCBvZiB0aGUgV0FTTSBjb250cmFjdCBjb2RlLlxuICAgICAqIEBwYXJhbSBhcmdzIC0gVGhlIGNvbnN0cnVjdG9yIGFyZ3VtZW50cyBmb3IgdGhlIGNvbnRyYWN0LlxuICAgICAqIEBwYXJhbSBhcmdzLmJhY2tzdG9wX3Rva2VuIC0gVGhlIGJhY2tzdG9wIHRva2VuIElEIC0gYW4gTFAgdG9rZW4gd2l0aCB0aGUgcGFpciBCTE5EOlVTREMuXG4gICAgICogQHBhcmFtIGFyZ3MuZW1pdHRlciAtIFRoZSBFbWl0dGVyIGNvbnRyYWN0IElELlxuICAgICAqIEBwYXJhbSBhcmdzLmJsbmRfdG9rZW4gLSBUaGUgQkxORCB0b2tlbiBJRC5cbiAgICAgKiBAcGFyYW0gYXJncy51c2RjX3Rva2VuIC0gVGhlIFVTREMgdG9rZW4gSUQuXG4gICAgICogQHBhcmFtIGFyZ3MucG9vbF9mYWN0b3J5IC0gVGhlIHBvb2wgZmFjdG9yeSBJRC5cbiAgICAgKiBAcGFyYW0gYXJncy5kcm9wX2xpc3QgLSBUaGUgbGlzdCBvZiBhZGRyZXNzZXMgdG8gZGlzdHJpYnV0ZSBpbml0aWFsIEJMTkQgdG8gYW5kIHRoZSBwZXJjZW50IG9mIHRoZSBkaXN0cmlidXRpb24gdGhleSBzaG91bGQgcmVjZWl2ZS5cbiAgICAgKiBAcGFyYW0gc2FsdCAtIE9wdGlvbmFsIHNhbHQgZm9yIHRoZSBjb250cmFjdCBkZXBsb3ltZW50LlxuICAgICAqIEBwYXJhbSBmb3JtYXQgLSBPcHRpb25hbCBmb3JtYXQgZm9yIHRoZSBXQVNNIGhhc2ggKGhleCBvciBiYXNlNjQpLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb250cmFjdCBkZXBsb3ltZW50IG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgZGVwbG95KGRlcGxveWVyLCB3YXNtSGFzaCwgYXJncywgc2FsdCwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBPcGVyYXRpb24uY3JlYXRlQ3VzdG9tQ29udHJhY3Qoe1xuICAgICAgICAgICAgYWRkcmVzczogQWRkcmVzcy5mcm9tU3RyaW5nKGRlcGxveWVyKSxcbiAgICAgICAgICAgIHdhc21IYXNoOiB0eXBlb2Ygd2FzbUhhc2ggPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBCdWZmZXIuZnJvbSh3YXNtSGFzaCwgZm9ybWF0ID8/ICdoZXgnKVxuICAgICAgICAgICAgICAgIDogd2FzbUhhc2gsXG4gICAgICAgICAgICBzYWx0LFxuICAgICAgICAgICAgY29uc3RydWN0b3JBcmdzOiB0aGlzLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnX19jb25zdHJ1Y3RvcicsIGFyZ3MpLFxuICAgICAgICB9KS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJhY2tzdG9wIHdpdGggbmV3IGVtaXNzaW9ucyBmb3IgYWxsIHJld2FyZCB6b25lIHBvb2xzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZGlzdHJpYnV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZGlzdHJpYnV0ZScsIC4uLkJhY2tzdG9wQ29udHJhY3RWMi5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2Rpc3RyaWJ1dGUnLCB7fSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBvb2wgdG8gdGhlIHJld2FyZCB6b25lLCBhbmQgaWYgdGhlIHJld2FyZCB6b25lIGlzIGZ1bGwsIGNhbiBvcHRpb25hbGx5IHJlbW92ZSBhbm90aGVyIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9fYWRkIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHBvb2wgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB0b19yZW1vdmUgLSBUaGUgYWRkcmVzcyBvZiB0aGUgcG9vbCB0byByZW1vdmUgKE9wdGlvbmFsIC0gVXNlZCBpZiB0aGUgcmV3YXJkIHpvbmUgaXMgZnVsbCkuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHBvb2wgdG8gcmVtb3ZlIGhhcyBtb3JlIHRva2Vucywgb3IgaWYgZGlzdHJpYnV0aW9uIG9jY3VycmVkIGluIHRoZSBsYXN0IDQ4IGhvdXJzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgYWRkUmV3YXJkKHRvX2FkZCwgdG9fcmVtb3ZlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2FkZF9yZXdhcmQnLCAuLi5CYWNrc3RvcENvbnRyYWN0VjIuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdhZGRfcmV3YXJkJywgeyB0b19hZGQsIHRvX3JlbW92ZSB9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgcG9vbCBmcm9tIHRoZSByZXdhcmQgem9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb29sVG9SZW1vdmUgLSBUaGUgYWRkcmVzcyBvZiB0aGUgcG9vbCB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHBvb2wgaXMgbm90IGJlbG93IHRoZSB0aHJlc2hvbGQgb3IgaWYgdGhlIHBvb2wgaXMgbm90IGluIHRoZSByZXdhcmQgem9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHJlbW92ZVJld2FyZChwb29sVG9SZW1vdmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgncmVtb3ZlX3Jld2FyZCcsIC4uLkJhY2tzdG9wQ29udHJhY3RWMi5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ3JlbW92ZV9yZXdhcmQnLCB7IHBvb2xUb1JlbW92ZSB9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGFpbXMgYmFja3N0b3AgZGVwb3NpdCBlbWlzc2lvbnMgZnJvbSBhIGxpc3Qgb2YgcG9vbHMgZm9yIGEgdXNlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIGZvciBjbGFpbWluZyBlbWlzc2lvbnMuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5mcm9tIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXIgY2xhaW1pbmcgZW1pc3Npb25zLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MucG9vbF9hZGRyZXNzZXMgLSBUaGUgbGlzdCBvZiBhZGRyZXNzZXMgdG8gY2xhaW0gYmFja3N0b3AgZGVwb3NpdCBlbWlzc2lvbnMgZnJvbS5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLm1pbl9scF90b2tlbnNfb3V0IC0gVGhlIG1pbmltdW0gYW1vdW50IG9mIExQIHRva2VucyB0byBtaW50IHdpdGggdGhlIGNsYWltZWQgQkxORC5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiBhbiBpbnZhbGlkIHBvb2wgYWRkcmVzcyBpcyBpbmNsdWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGNsYWltKGNvbnRyYWN0QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdjbGFpbScsIC4uLkJhY2tzdG9wQ29udHJhY3RWMi5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2NsYWltJywgY29udHJhY3RBcmdzKSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSByZXdhcmQgem9uZSBmb3IgdGhlIGJhY2tzdG9wLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgcmV3YXJkWm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgncmV3YXJkX3pvbmUnLCAuLi5CYWNrc3RvcENvbnRyYWN0VjIuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdyZXdhcmRfem9uZScsIHt9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_contract.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_events.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_events.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopEventType: () => (/* binding */ BackstopEventType),\n/* harmony export */   backstopEventV1FromEventResponse: () => (/* binding */ backstopEventV1FromEventResponse),\n/* harmony export */   backstopEventV2FromEventResponse: () => (/* binding */ backstopEventV2FromEventResponse)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _base_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base_event.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/base_event.js\");\n\n\nvar BackstopEventType;\n(function (BackstopEventType) {\n    BackstopEventType[\"Deposit\"] = \"deposit\";\n    BackstopEventType[\"QueueWithdrawal\"] = \"queue_withdrawal\";\n    BackstopEventType[\"DequeueWithdrawal\"] = \"dequeue_withdrawal\";\n    BackstopEventType[\"Withdraw\"] = \"withdraw\";\n    BackstopEventType[\"GulpEmissions\"] = \"gulp_emissions\";\n    BackstopEventType[\"RewardZone\"] = \"rw_zone\";\n    BackstopEventType[\"Claim\"] = \"claim\";\n    BackstopEventType[\"Draw\"] = \"draw\";\n    BackstopEventType[\"Donate\"] = \"donate\";\n    BackstopEventType[\"Distribute\"] = \"distribute\";\n    BackstopEventType[\"RewardZoneAdd\"] = \"rw_zone_add\";\n    BackstopEventType[\"RewardZoneRemove\"] = \"rw_zone_remove\";\n})(BackstopEventType || (BackstopEventType = {}));\n/**\n * Create a BackstopEventV1 from a RawEventResponse.\n * @param eventResponse - The RawEventResponse from the RPC to convert\n * @returns The BackstopV1Event or undefined if the EventResponse is not a BackstopEvent\n */\nfunction backstopEventV1FromEventResponse(eventResponse) {\n    if (eventResponse.type !== 'contract' ||\n        eventResponse.topic.length === 0 ||\n        eventResponse.contractId === undefined) {\n        return undefined;\n    }\n    const baseEvent = backstopEventFromEventResponse(eventResponse);\n    if (baseEvent === undefined) {\n        try {\n            // NOTE: Decode RawEventResponse to ScVals. Do not update to `rpc.Api.EventResponse`. This\n            // will cause failures in the conversion functions due to the requirement that the exact same\n            // `js-xdr` code is used. (the same version from two different sources does not work)\n            const topic_scval = eventResponse.topic.map((topic) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(topic, 'base64'));\n            const value_scval = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(eventResponse.value, 'base64');\n            // The first topic is the event name as a symbol\n            const eventString = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[0]);\n            const baseEvent = {\n                id: eventResponse.id,\n                contractId: eventResponse.contractId,\n                eventType: eventString,\n                ledger: eventResponse.ledger,\n                ledgerClosedAt: eventResponse.ledgerClosedAt,\n                txHash: eventResponse.txHash,\n            };\n            switch (eventString) {\n                case BackstopEventType.GulpEmissions: {\n                    if (topic_scval.length !== 1) {\n                        return undefined;\n                    }\n                    const newBLND = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                        eventType: BackstopEventType.GulpEmissions,\n                        newBLND: newBLND,\n                    };\n                }\n                case BackstopEventType.RewardZone: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 1 || valueAsVec.length !== 2) {\n                        return undefined;\n                    }\n                    const toAdd = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                    const toRemove = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[1]).toString();\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                        eventType: BackstopEventType.RewardZone,\n                        toAdd: toAdd,\n                        toRemove: toRemove,\n                    };\n                }\n                default:\n                    return undefined;\n            }\n        }\n        catch (e) {\n            // conversion functions throw on a malformed (or non-backstop) events\n            // return undefined in this case\n            return undefined;\n        }\n    }\n    else {\n        return baseEvent;\n    }\n}\n/**\n * Create a BackstopEventV2 from a RawEventResponse.\n * @param eventResponse - The RawEventResponse from the RPC to convert\n * @returns The BackstopV2Event or undefined if the EventResponse is not a BackstopEvent\n */\nfunction backstopEventV2FromEventResponse(eventResponse) {\n    if (eventResponse.type !== 'contract' ||\n        eventResponse.topic.length === 0 ||\n        eventResponse.contractId === undefined) {\n        return undefined;\n    }\n    const baseEvent = backstopEventFromEventResponse(eventResponse);\n    if (baseEvent === undefined) {\n        try {\n            // NOTE: Decode RawEventResponse to ScVals. Do not update to `rpc.Api.EventResponse`. This\n            // will cause failures in the conversion functions due to the requirement that the exact same\n            // `js-xdr` code is used. (the same version from two different sources does not work)\n            const topic_scval = eventResponse.topic.map((topic) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(topic, 'base64'));\n            const value_scval = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(eventResponse.value, 'base64');\n            // The first topic is the event name as a symbol\n            const eventString = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[0]);\n            const baseEvent = {\n                id: eventResponse.id,\n                contractId: eventResponse.contractId,\n                eventType: eventString,\n                ledger: eventResponse.ledger,\n                ledgerClosedAt: eventResponse.ledgerClosedAt,\n                txHash: eventResponse.txHash,\n            };\n            switch (eventString) {\n                case BackstopEventType.GulpEmissions: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 1 && valueAsVec.length != 2) {\n                        return undefined;\n                    }\n                    const newBackstopEmissions = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                    const newPoolEmissions = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                        eventType: BackstopEventType.GulpEmissions,\n                        newBackstopEmissions: newBackstopEmissions,\n                        newPoolEmissions: newPoolEmissions,\n                    };\n                }\n                case BackstopEventType.Distribute: {\n                    if (topic_scval.length !== 1) {\n                        return undefined;\n                    }\n                    const newEmissions = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                        eventType: BackstopEventType.Distribute,\n                        newEmissions: newEmissions,\n                    };\n                }\n                case BackstopEventType.RewardZoneAdd: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 1 || valueAsVec.length !== 2) {\n                        return undefined;\n                    }\n                    const toAdd = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                    const toRemove = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]);\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                        eventType: BackstopEventType.RewardZoneAdd,\n                        toAdd: toAdd,\n                        toRemove: toRemove,\n                    };\n                }\n                case BackstopEventType.RewardZoneRemove: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 1) {\n                        return undefined;\n                    }\n                    const toRemove = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                        eventType: BackstopEventType.RewardZoneRemove,\n                        toRemove: toRemove,\n                    };\n                }\n                default:\n                    return undefined;\n            }\n        }\n        catch (e) {\n            // conversion functions throw on a malformed (or non-backstop) events\n            // return undefined in this case\n            return undefined;\n        }\n    }\n    else {\n        return baseEvent;\n    }\n}\n/**\n * Create a base BackstopEvent from a RawEventResponse.\n * @param eventResponse - The RawEventResponse from the RPC to convert\n * @returns The BackstopEvent or undefined if the EventResponse is not a BackstopEvent\n */\nfunction backstopEventFromEventResponse(eventResponse) {\n    try {\n        // NOTE: Decode RawEventResponse to ScVals. Do not update to `rpc.Api.EventResponse`. This\n        // will cause failures in the conversion functions due to the requirement that the exact same\n        // `js-xdr` code is used. (the same version from two different sources does not work)\n        const topic_scval = eventResponse.topic.map((topic) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(topic, 'base64'));\n        const value_scval = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(eventResponse.value, 'base64');\n        // The first topic is the event name as a symbol\n        const eventString = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[0]);\n        const baseEvent = {\n            id: eventResponse.id,\n            contractId: eventResponse.contractId,\n            eventType: eventString,\n            ledger: eventResponse.ledger,\n            ledgerClosedAt: eventResponse.ledgerClosedAt,\n            txHash: eventResponse.txHash,\n        };\n        switch (eventString) {\n            case BackstopEventType.Deposit: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 3 || valueAsVec.length !== 2) {\n                    return undefined;\n                }\n                const pool_address = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                const amount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                const shares = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                return {\n                    ...baseEvent,\n                    contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                    eventType: BackstopEventType.Deposit,\n                    poolAddress: pool_address,\n                    from: from,\n                    amount: amount,\n                    sharesMinted: shares,\n                };\n            }\n            case BackstopEventType.QueueWithdrawal: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 3 || valueAsVec.length !== 2) {\n                    return undefined;\n                }\n                const pool_address = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                const shares = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                const expiration = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                if (isNaN(expiration)) {\n                    return undefined;\n                }\n                return {\n                    ...baseEvent,\n                    contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                    eventType: BackstopEventType.QueueWithdrawal,\n                    poolAddress: pool_address,\n                    from: from,\n                    shares: shares,\n                    expiration: expiration,\n                };\n            }\n            case BackstopEventType.DequeueWithdrawal: {\n                if (topic_scval.length !== 3) {\n                    return undefined;\n                }\n                const pool_address = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                const shares = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                return {\n                    ...baseEvent,\n                    contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                    eventType: BackstopEventType.DequeueWithdrawal,\n                    poolAddress: pool_address,\n                    from: from,\n                    shares: shares,\n                };\n            }\n            case BackstopEventType.Withdraw: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 3 || valueAsVec.length !== 2) {\n                    return undefined;\n                }\n                const pool_address = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                const shares = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                const tokensWithdrawn = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                return {\n                    ...baseEvent,\n                    contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                    eventType: BackstopEventType.Withdraw,\n                    poolAddress: pool_address,\n                    from: from,\n                    shares: shares,\n                    tokensWithdrawn: tokensWithdrawn,\n                };\n            }\n            case BackstopEventType.Claim: {\n                if (topic_scval.length !== 2) {\n                    return undefined;\n                }\n                const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const amount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                return {\n                    ...baseEvent,\n                    contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                    eventType: BackstopEventType.Claim,\n                    from: from,\n                    amount: amount,\n                };\n            }\n            case BackstopEventType.Draw: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 2 || valueAsVec.length !== 2) {\n                    return undefined;\n                }\n                const pool_address = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const to = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                const amount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                return {\n                    ...baseEvent,\n                    contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                    eventType: BackstopEventType.Draw,\n                    poolAddress: pool_address,\n                    to: to,\n                    amount: amount,\n                };\n            }\n            case BackstopEventType.Donate: {\n                if (topic_scval.length !== 3) {\n                    return undefined;\n                }\n                const pool_address = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                const amount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                return {\n                    ...baseEvent,\n                    contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Backstop,\n                    eventType: BackstopEventType.Donate,\n                    poolAddress: pool_address,\n                    from: from,\n                    amount: amount,\n                };\n            }\n            default:\n                return undefined;\n        }\n    }\n    catch (e) {\n        // conversion functions throw on a malformed (or non-backstop) events\n        // return undefined in this case\n        return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9ldmVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUU7QUFDZDtBQUM5QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4Q0FBOEM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxxREFBRztBQUN0RSxnQ0FBZ0MscURBQUc7QUFDbkM7QUFDQSxnQ0FBZ0MsbUVBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsbUVBQWE7QUFDeEQ7QUFDQTtBQUNBLHNDQUFzQyw2REFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHlEQUFPO0FBQ3pDLHFDQUFxQyx5REFBTztBQUM1QztBQUNBO0FBQ0Esc0NBQXNDLDZEQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUscURBQUc7QUFDdEUsZ0NBQWdDLHFEQUFHO0FBQ25DO0FBQ0EsZ0NBQWdDLG1FQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsbUVBQWE7QUFDckUsb0RBQW9ELG1FQUFhO0FBQ2pFO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxtRUFBYTtBQUM3RDtBQUNBO0FBQ0Esc0NBQXNDLDZEQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MseURBQU87QUFDekMscUNBQXFDLG1FQUFhO0FBQ2xEO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHlEQUFPO0FBQzVDO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELHFEQUFHO0FBQ2xFLDRCQUE0QixxREFBRztBQUMvQjtBQUNBLDRCQUE0QixtRUFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHlEQUFPO0FBQzVDLDZCQUE2Qix5REFBTztBQUNwQyxzQ0FBc0MsbUVBQWE7QUFDbkQsc0NBQXNDLG1FQUFhO0FBQ25EO0FBQ0E7QUFDQSxrQ0FBa0MsNkRBQWlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx5REFBTztBQUM1Qyw2QkFBNkIseURBQU87QUFDcEMsc0NBQXNDLG1FQUFhO0FBQ25ELDBDQUEwQyxtRUFBYTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDZEQUFpQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHlEQUFPO0FBQzVDLDZCQUE2Qix5REFBTztBQUNwQyxzQ0FBc0MsbUVBQWE7QUFDbkQ7QUFDQTtBQUNBLGtDQUFrQyw2REFBaUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx5REFBTztBQUM1Qyw2QkFBNkIseURBQU87QUFDcEMsc0NBQXNDLG1FQUFhO0FBQ25ELCtDQUErQyxtRUFBYTtBQUM1RDtBQUNBO0FBQ0Esa0NBQWtDLDZEQUFpQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFPO0FBQ3BDLHNDQUFzQyxtRUFBYTtBQUNuRDtBQUNBO0FBQ0Esa0NBQWtDLDZEQUFpQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx5REFBTztBQUM1QywyQkFBMkIseURBQU87QUFDbEMsc0NBQXNDLG1FQUFhO0FBQ25EO0FBQ0E7QUFDQSxrQ0FBa0MsNkRBQWlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHlEQUFPO0FBQzVDLDZCQUE2Qix5REFBTztBQUNwQyxzQ0FBc0MsbUVBQWE7QUFDbkQ7QUFDQTtBQUNBLGtDQUFrQyw2REFBaUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL2JhY2tzdG9wL2JhY2tzdG9wX2V2ZW50cy5qcz8yZGJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFkZHJlc3MsIHNjVmFsVG9OYXRpdmUsIHhkciB9IGZyb20gJ0BzdGVsbGFyL3N0ZWxsYXItc2RrJztcbmltcG9ydCB7IEJsZW5kQ29udHJhY3RUeXBlIH0gZnJvbSAnLi4vYmFzZV9ldmVudC5qcyc7XG5leHBvcnQgdmFyIEJhY2tzdG9wRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChCYWNrc3RvcEV2ZW50VHlwZSkge1xuICAgIEJhY2tzdG9wRXZlbnRUeXBlW1wiRGVwb3NpdFwiXSA9IFwiZGVwb3NpdFwiO1xuICAgIEJhY2tzdG9wRXZlbnRUeXBlW1wiUXVldWVXaXRoZHJhd2FsXCJdID0gXCJxdWV1ZV93aXRoZHJhd2FsXCI7XG4gICAgQmFja3N0b3BFdmVudFR5cGVbXCJEZXF1ZXVlV2l0aGRyYXdhbFwiXSA9IFwiZGVxdWV1ZV93aXRoZHJhd2FsXCI7XG4gICAgQmFja3N0b3BFdmVudFR5cGVbXCJXaXRoZHJhd1wiXSA9IFwid2l0aGRyYXdcIjtcbiAgICBCYWNrc3RvcEV2ZW50VHlwZVtcIkd1bHBFbWlzc2lvbnNcIl0gPSBcImd1bHBfZW1pc3Npb25zXCI7XG4gICAgQmFja3N0b3BFdmVudFR5cGVbXCJSZXdhcmRab25lXCJdID0gXCJyd196b25lXCI7XG4gICAgQmFja3N0b3BFdmVudFR5cGVbXCJDbGFpbVwiXSA9IFwiY2xhaW1cIjtcbiAgICBCYWNrc3RvcEV2ZW50VHlwZVtcIkRyYXdcIl0gPSBcImRyYXdcIjtcbiAgICBCYWNrc3RvcEV2ZW50VHlwZVtcIkRvbmF0ZVwiXSA9IFwiZG9uYXRlXCI7XG4gICAgQmFja3N0b3BFdmVudFR5cGVbXCJEaXN0cmlidXRlXCJdID0gXCJkaXN0cmlidXRlXCI7XG4gICAgQmFja3N0b3BFdmVudFR5cGVbXCJSZXdhcmRab25lQWRkXCJdID0gXCJyd196b25lX2FkZFwiO1xuICAgIEJhY2tzdG9wRXZlbnRUeXBlW1wiUmV3YXJkWm9uZVJlbW92ZVwiXSA9IFwicndfem9uZV9yZW1vdmVcIjtcbn0pKEJhY2tzdG9wRXZlbnRUeXBlIHx8IChCYWNrc3RvcEV2ZW50VHlwZSA9IHt9KSk7XG4vKipcbiAqIENyZWF0ZSBhIEJhY2tzdG9wRXZlbnRWMSBmcm9tIGEgUmF3RXZlbnRSZXNwb25zZS5cbiAqIEBwYXJhbSBldmVudFJlc3BvbnNlIC0gVGhlIFJhd0V2ZW50UmVzcG9uc2UgZnJvbSB0aGUgUlBDIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIFRoZSBCYWNrc3RvcFYxRXZlbnQgb3IgdW5kZWZpbmVkIGlmIHRoZSBFdmVudFJlc3BvbnNlIGlzIG5vdCBhIEJhY2tzdG9wRXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhY2tzdG9wRXZlbnRWMUZyb21FdmVudFJlc3BvbnNlKGV2ZW50UmVzcG9uc2UpIHtcbiAgICBpZiAoZXZlbnRSZXNwb25zZS50eXBlICE9PSAnY29udHJhY3QnIHx8XG4gICAgICAgIGV2ZW50UmVzcG9uc2UudG9waWMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgIGV2ZW50UmVzcG9uc2UuY29udHJhY3RJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGJhc2VFdmVudCA9IGJhY2tzdG9wRXZlbnRGcm9tRXZlbnRSZXNwb25zZShldmVudFJlc3BvbnNlKTtcbiAgICBpZiAoYmFzZUV2ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIE5PVEU6IERlY29kZSBSYXdFdmVudFJlc3BvbnNlIHRvIFNjVmFscy4gRG8gbm90IHVwZGF0ZSB0byBgcnBjLkFwaS5FdmVudFJlc3BvbnNlYC4gVGhpc1xuICAgICAgICAgICAgLy8gd2lsbCBjYXVzZSBmYWlsdXJlcyBpbiB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgZHVlIHRvIHRoZSByZXF1aXJlbWVudCB0aGF0IHRoZSBleGFjdCBzYW1lXG4gICAgICAgICAgICAvLyBganMteGRyYCBjb2RlIGlzIHVzZWQuICh0aGUgc2FtZSB2ZXJzaW9uIGZyb20gdHdvIGRpZmZlcmVudCBzb3VyY2VzIGRvZXMgbm90IHdvcmspXG4gICAgICAgICAgICBjb25zdCB0b3BpY19zY3ZhbCA9IGV2ZW50UmVzcG9uc2UudG9waWMubWFwKCh0b3BpYykgPT4geGRyLlNjVmFsLmZyb21YRFIodG9waWMsICdiYXNlNjQnKSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZV9zY3ZhbCA9IHhkci5TY1ZhbC5mcm9tWERSKGV2ZW50UmVzcG9uc2UudmFsdWUsICdiYXNlNjQnKTtcbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCB0b3BpYyBpcyB0aGUgZXZlbnQgbmFtZSBhcyBhIHN5bWJvbFxuICAgICAgICAgICAgY29uc3QgZXZlbnRTdHJpbmcgPSBzY1ZhbFRvTmF0aXZlKHRvcGljX3NjdmFsWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VFdmVudCA9IHtcbiAgICAgICAgICAgICAgICBpZDogZXZlbnRSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICBjb250cmFjdElkOiBldmVudFJlc3BvbnNlLmNvbnRyYWN0SWQsXG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBldmVudFN0cmluZyxcbiAgICAgICAgICAgICAgICBsZWRnZXI6IGV2ZW50UmVzcG9uc2UubGVkZ2VyLFxuICAgICAgICAgICAgICAgIGxlZGdlckNsb3NlZEF0OiBldmVudFJlc3BvbnNlLmxlZGdlckNsb3NlZEF0LFxuICAgICAgICAgICAgICAgIHR4SGFzaDogZXZlbnRSZXNwb25zZS50eEhhc2gsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3dpdGNoIChldmVudFN0cmluZykge1xuICAgICAgICAgICAgICAgIGNhc2UgQmFja3N0b3BFdmVudFR5cGUuR3VscEVtaXNzaW9uczoge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0JMTkQgPSBCaWdJbnQoc2NWYWxUb05hdGl2ZSh2YWx1ZV9zY3ZhbCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5CYWNrc3RvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogQmFja3N0b3BFdmVudFR5cGUuR3VscEVtaXNzaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JMTkQ6IG5ld0JMTkQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgQmFja3N0b3BFdmVudFR5cGUuUmV3YXJkWm9uZToge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzVmVjID0gdmFsdWVfc2N2YWwudmVjKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDEgfHwgdmFsdWVBc1ZlYy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9BZGQgPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZUFzVmVjWzBdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1JlbW92ZSA9IEFkZHJlc3MuZnJvbVNjVmFsKHZhbHVlQXNWZWNbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLkJhY2tzdG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBCYWNrc3RvcEV2ZW50VHlwZS5SZXdhcmRab25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9BZGQ6IHRvQWRkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9SZW1vdmU6IHRvUmVtb3ZlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBjb252ZXJzaW9uIGZ1bmN0aW9ucyB0aHJvdyBvbiBhIG1hbGZvcm1lZCAob3Igbm9uLWJhY2tzdG9wKSBldmVudHNcbiAgICAgICAgICAgIC8vIHJldHVybiB1bmRlZmluZWQgaW4gdGhpcyBjYXNlXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYmFzZUV2ZW50O1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGEgQmFja3N0b3BFdmVudFYyIGZyb20gYSBSYXdFdmVudFJlc3BvbnNlLlxuICogQHBhcmFtIGV2ZW50UmVzcG9uc2UgLSBUaGUgUmF3RXZlbnRSZXNwb25zZSBmcm9tIHRoZSBSUEMgdG8gY29udmVydFxuICogQHJldHVybnMgVGhlIEJhY2tzdG9wVjJFdmVudCBvciB1bmRlZmluZWQgaWYgdGhlIEV2ZW50UmVzcG9uc2UgaXMgbm90IGEgQmFja3N0b3BFdmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFja3N0b3BFdmVudFYyRnJvbUV2ZW50UmVzcG9uc2UoZXZlbnRSZXNwb25zZSkge1xuICAgIGlmIChldmVudFJlc3BvbnNlLnR5cGUgIT09ICdjb250cmFjdCcgfHxcbiAgICAgICAgZXZlbnRSZXNwb25zZS50b3BpYy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgZXZlbnRSZXNwb25zZS5jb250cmFjdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgYmFzZUV2ZW50ID0gYmFja3N0b3BFdmVudEZyb21FdmVudFJlc3BvbnNlKGV2ZW50UmVzcG9uc2UpO1xuICAgIGlmIChiYXNlRXZlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTk9URTogRGVjb2RlIFJhd0V2ZW50UmVzcG9uc2UgdG8gU2NWYWxzLiBEbyBub3QgdXBkYXRlIHRvIGBycGMuQXBpLkV2ZW50UmVzcG9uc2VgLiBUaGlzXG4gICAgICAgICAgICAvLyB3aWxsIGNhdXNlIGZhaWx1cmVzIGluIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9ucyBkdWUgdG8gdGhlIHJlcXVpcmVtZW50IHRoYXQgdGhlIGV4YWN0IHNhbWVcbiAgICAgICAgICAgIC8vIGBqcy14ZHJgIGNvZGUgaXMgdXNlZC4gKHRoZSBzYW1lIHZlcnNpb24gZnJvbSB0d28gZGlmZmVyZW50IHNvdXJjZXMgZG9lcyBub3Qgd29yaylcbiAgICAgICAgICAgIGNvbnN0IHRvcGljX3NjdmFsID0gZXZlbnRSZXNwb25zZS50b3BpYy5tYXAoKHRvcGljKSA9PiB4ZHIuU2NWYWwuZnJvbVhEUih0b3BpYywgJ2Jhc2U2NCcpKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlX3NjdmFsID0geGRyLlNjVmFsLmZyb21YRFIoZXZlbnRSZXNwb25zZS52YWx1ZSwgJ2Jhc2U2NCcpO1xuICAgICAgICAgICAgLy8gVGhlIGZpcnN0IHRvcGljIGlzIHRoZSBldmVudCBuYW1lIGFzIGEgc3ltYm9sXG4gICAgICAgICAgICBjb25zdCBldmVudFN0cmluZyA9IHNjVmFsVG9OYXRpdmUodG9waWNfc2N2YWxbMF0pO1xuICAgICAgICAgICAgY29uc3QgYmFzZUV2ZW50ID0ge1xuICAgICAgICAgICAgICAgIGlkOiBldmVudFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgIGNvbnRyYWN0SWQ6IGV2ZW50UmVzcG9uc2UuY29udHJhY3RJZCxcbiAgICAgICAgICAgICAgICBldmVudFR5cGU6IGV2ZW50U3RyaW5nLFxuICAgICAgICAgICAgICAgIGxlZGdlcjogZXZlbnRSZXNwb25zZS5sZWRnZXIsXG4gICAgICAgICAgICAgICAgbGVkZ2VyQ2xvc2VkQXQ6IGV2ZW50UmVzcG9uc2UubGVkZ2VyQ2xvc2VkQXQsXG4gICAgICAgICAgICAgICAgdHhIYXNoOiBldmVudFJlc3BvbnNlLnR4SGFzaCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50U3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBCYWNrc3RvcEV2ZW50VHlwZS5HdWxwRW1pc3Npb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNWZWMgPSB2YWx1ZV9zY3ZhbC52ZWMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMSAmJiB2YWx1ZUFzVmVjLmxlbmd0aCAhPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0JhY2tzdG9wRW1pc3Npb25zID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1swXSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQb29sRW1pc3Npb25zID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5CYWNrc3RvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogQmFja3N0b3BFdmVudFR5cGUuR3VscEVtaXNzaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JhY2tzdG9wRW1pc3Npb25zOiBuZXdCYWNrc3RvcEVtaXNzaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bvb2xFbWlzc2lvbnM6IG5ld1Bvb2xFbWlzc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgQmFja3N0b3BFdmVudFR5cGUuRGlzdHJpYnV0ZToge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VtaXNzaW9ucyA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlX3NjdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLkJhY2tzdG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBCYWNrc3RvcEV2ZW50VHlwZS5EaXN0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RW1pc3Npb25zOiBuZXdFbWlzc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgQmFja3N0b3BFdmVudFR5cGUuUmV3YXJkWm9uZUFkZDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzVmVjID0gdmFsdWVfc2N2YWwudmVjKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDEgfHwgdmFsdWVBc1ZlYy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9BZGQgPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZUFzVmVjWzBdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1JlbW92ZSA9IHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLkJhY2tzdG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBCYWNrc3RvcEV2ZW50VHlwZS5SZXdhcmRab25lQWRkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9BZGQ6IHRvQWRkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9SZW1vdmU6IHRvUmVtb3ZlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEJhY2tzdG9wRXZlbnRUeXBlLlJld2FyZFpvbmVSZW1vdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVBc1ZlYyA9IHZhbHVlX3NjdmFsLnZlYygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvUmVtb3ZlID0gQWRkcmVzcy5mcm9tU2NWYWwodmFsdWVBc1ZlY1swXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0VHlwZTogQmxlbmRDb250cmFjdFR5cGUuQmFja3N0b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IEJhY2tzdG9wRXZlbnRUeXBlLlJld2FyZFpvbmVSZW1vdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b1JlbW92ZTogdG9SZW1vdmUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGNvbnZlcnNpb24gZnVuY3Rpb25zIHRocm93IG9uIGEgbWFsZm9ybWVkIChvciBub24tYmFja3N0b3ApIGV2ZW50c1xuICAgICAgICAgICAgLy8gcmV0dXJuIHVuZGVmaW5lZCBpbiB0aGlzIGNhc2VcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBiYXNlRXZlbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSBiYXNlIEJhY2tzdG9wRXZlbnQgZnJvbSBhIFJhd0V2ZW50UmVzcG9uc2UuXG4gKiBAcGFyYW0gZXZlbnRSZXNwb25zZSAtIFRoZSBSYXdFdmVudFJlc3BvbnNlIGZyb20gdGhlIFJQQyB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyBUaGUgQmFja3N0b3BFdmVudCBvciB1bmRlZmluZWQgaWYgdGhlIEV2ZW50UmVzcG9uc2UgaXMgbm90IGEgQmFja3N0b3BFdmVudFxuICovXG5mdW5jdGlvbiBiYWNrc3RvcEV2ZW50RnJvbUV2ZW50UmVzcG9uc2UoZXZlbnRSZXNwb25zZSkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIE5PVEU6IERlY29kZSBSYXdFdmVudFJlc3BvbnNlIHRvIFNjVmFscy4gRG8gbm90IHVwZGF0ZSB0byBgcnBjLkFwaS5FdmVudFJlc3BvbnNlYC4gVGhpc1xuICAgICAgICAvLyB3aWxsIGNhdXNlIGZhaWx1cmVzIGluIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9ucyBkdWUgdG8gdGhlIHJlcXVpcmVtZW50IHRoYXQgdGhlIGV4YWN0IHNhbWVcbiAgICAgICAgLy8gYGpzLXhkcmAgY29kZSBpcyB1c2VkLiAodGhlIHNhbWUgdmVyc2lvbiBmcm9tIHR3byBkaWZmZXJlbnQgc291cmNlcyBkb2VzIG5vdCB3b3JrKVxuICAgICAgICBjb25zdCB0b3BpY19zY3ZhbCA9IGV2ZW50UmVzcG9uc2UudG9waWMubWFwKCh0b3BpYykgPT4geGRyLlNjVmFsLmZyb21YRFIodG9waWMsICdiYXNlNjQnKSk7XG4gICAgICAgIGNvbnN0IHZhbHVlX3NjdmFsID0geGRyLlNjVmFsLmZyb21YRFIoZXZlbnRSZXNwb25zZS52YWx1ZSwgJ2Jhc2U2NCcpO1xuICAgICAgICAvLyBUaGUgZmlyc3QgdG9waWMgaXMgdGhlIGV2ZW50IG5hbWUgYXMgYSBzeW1ib2xcbiAgICAgICAgY29uc3QgZXZlbnRTdHJpbmcgPSBzY1ZhbFRvTmF0aXZlKHRvcGljX3NjdmFsWzBdKTtcbiAgICAgICAgY29uc3QgYmFzZUV2ZW50ID0ge1xuICAgICAgICAgICAgaWQ6IGV2ZW50UmVzcG9uc2UuaWQsXG4gICAgICAgICAgICBjb250cmFjdElkOiBldmVudFJlc3BvbnNlLmNvbnRyYWN0SWQsXG4gICAgICAgICAgICBldmVudFR5cGU6IGV2ZW50U3RyaW5nLFxuICAgICAgICAgICAgbGVkZ2VyOiBldmVudFJlc3BvbnNlLmxlZGdlcixcbiAgICAgICAgICAgIGxlZGdlckNsb3NlZEF0OiBldmVudFJlc3BvbnNlLmxlZGdlckNsb3NlZEF0LFxuICAgICAgICAgICAgdHhIYXNoOiBldmVudFJlc3BvbnNlLnR4SGFzaCxcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChldmVudFN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBCYWNrc3RvcEV2ZW50VHlwZS5EZXBvc2l0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVBc1ZlYyA9IHZhbHVlX3NjdmFsLnZlYygpO1xuICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDMgfHwgdmFsdWVBc1ZlYy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcG9vbF9hZGRyZXNzID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzJdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMF0pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFyZXMgPSBCaWdJbnQoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzFdKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLkJhY2tzdG9wLFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IEJhY2tzdG9wRXZlbnRUeXBlLkRlcG9zaXQsXG4gICAgICAgICAgICAgICAgICAgIHBvb2xBZGRyZXNzOiBwb29sX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICBzaGFyZXNNaW50ZWQ6IHNoYXJlcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBCYWNrc3RvcEV2ZW50VHlwZS5RdWV1ZVdpdGhkcmF3YWw6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzVmVjID0gdmFsdWVfc2N2YWwudmVjKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMyB8fCB2YWx1ZUFzVmVjLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwb29sX2FkZHJlc3MgPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMl0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhcmVzID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1swXSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyYXRpb24gPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzFdKSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGV4cGlyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5CYWNrc3RvcCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBCYWNrc3RvcEV2ZW50VHlwZS5RdWV1ZVdpdGhkcmF3YWwsXG4gICAgICAgICAgICAgICAgICAgIHBvb2xBZGRyZXNzOiBwb29sX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlczogc2hhcmVzLFxuICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uOiBleHBpcmF0aW9uLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEJhY2tzdG9wRXZlbnRUeXBlLkRlcXVldWVXaXRoZHJhd2FsOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwb29sX2FkZHJlc3MgPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMl0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhcmVzID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVfc2N2YWwpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0VHlwZTogQmxlbmRDb250cmFjdFR5cGUuQmFja3N0b3AsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogQmFja3N0b3BFdmVudFR5cGUuRGVxdWV1ZVdpdGhkcmF3YWwsXG4gICAgICAgICAgICAgICAgICAgIHBvb2xBZGRyZXNzOiBwb29sX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlczogc2hhcmVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEJhY2tzdG9wRXZlbnRUeXBlLldpdGhkcmF3OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVBc1ZlYyA9IHZhbHVlX3NjdmFsLnZlYygpO1xuICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDMgfHwgdmFsdWVBc1ZlYy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcG9vbF9hZGRyZXNzID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzJdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYXJlcyA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMF0pKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbnNXaXRoZHJhd24gPSBCaWdJbnQoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzFdKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLkJhY2tzdG9wLFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IEJhY2tzdG9wRXZlbnRUeXBlLldpdGhkcmF3LFxuICAgICAgICAgICAgICAgICAgICBwb29sQWRkcmVzczogcG9vbF9hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICBzaGFyZXM6IHNoYXJlcyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zV2l0aGRyYXduOiB0b2tlbnNXaXRoZHJhd24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQmFja3N0b3BFdmVudFR5cGUuQ2xhaW06IHtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBCaWdJbnQoc2NWYWxUb05hdGl2ZSh2YWx1ZV9zY3ZhbCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5CYWNrc3RvcCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBCYWNrc3RvcEV2ZW50VHlwZS5DbGFpbSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQmFja3N0b3BFdmVudFR5cGUuRHJhdzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNWZWMgPSB2YWx1ZV9zY3ZhbC52ZWMoKTtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAyIHx8IHZhbHVlQXNWZWMubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvb2xfYWRkcmVzcyA9IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzFdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gQWRkcmVzcy5mcm9tU2NWYWwodmFsdWVBc1ZlY1swXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBCaWdJbnQoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzFdKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLkJhY2tzdG9wLFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IEJhY2tzdG9wRXZlbnRUeXBlLkRyYXcsXG4gICAgICAgICAgICAgICAgICAgIHBvb2xBZGRyZXNzOiBwb29sX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHRvOiB0byxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQmFja3N0b3BFdmVudFR5cGUuRG9uYXRlOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwb29sX2FkZHJlc3MgPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMl0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVfc2N2YWwpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0VHlwZTogQmxlbmRDb250cmFjdFR5cGUuQmFja3N0b3AsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogQmFja3N0b3BFdmVudFR5cGUuRG9uYXRlLFxuICAgICAgICAgICAgICAgICAgICBwb29sQWRkcmVzczogcG9vbF9hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGNvbnZlcnNpb24gZnVuY3Rpb25zIHRocm93IG9uIGEgbWFsZm9ybWVkIChvciBub24tYmFja3N0b3ApIGV2ZW50c1xuICAgICAgICAvLyByZXR1cm4gdW5kZWZpbmVkIGluIHRoaXMgY2FzZVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_events.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopEmissionConfig: () => (/* binding */ BackstopEmissionConfig),\n/* harmony export */   BackstopEmissionData: () => (/* binding */ BackstopEmissionData),\n/* harmony export */   BackstopPool: () => (/* binding */ BackstopPool),\n/* harmony export */   BackstopPoolV1: () => (/* binding */ BackstopPoolV1),\n/* harmony export */   BackstopPoolV2: () => (/* binding */ BackstopPoolV2),\n/* harmony export */   PoolBalance: () => (/* binding */ PoolBalance)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _emissions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../emissions.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\n\n\nclass BackstopPool {\n    poolBalance;\n    emissions;\n    latestLedger;\n    constructor(poolBalance, emissions, latestLedger) {\n        this.poolBalance = poolBalance;\n        this.emissions = emissions;\n        this.latestLedger = latestLedger;\n    }\n    /**\n     * Fetch the emission per year per non-Q4W backstop token\n     * @returns The emission per year per backstop token as a float\n     */\n    emissionPerYearPerBackstopToken() {\n        if (this.emissions == undefined) {\n            return 0;\n        }\n        const tokensNotInQ4w = this.sharesToBackstopTokens(this.poolBalance.shares - this.poolBalance.q4w);\n        return this.emissions.emissionsPerYearPerToken(tokensNotInQ4w, 7);\n    }\n    /**\n     * Convert backstop tokens to shares\n     * @param backstopTokens - The number of backstop tokens to convert\n     * @returns - The number of shares as a fixed point number\n     */\n    backstopTokensToShares(backstopTokens) {\n        if (typeof backstopTokens === 'number') {\n            backstopTokens = _index_js__WEBPACK_IMPORTED_MODULE_2__.FixedMath.toFixed(backstopTokens, 7);\n        }\n        if (this.poolBalance.shares === BigInt(0)) {\n            return backstopTokens;\n        }\n        return _index_js__WEBPACK_IMPORTED_MODULE_2__.FixedMath.mulFloor(backstopTokens, this.poolBalance.shares, this.poolBalance.tokens);\n    }\n    /**\n     * Convert shares to backstop tokens\n     * @param shares - The number of shares to convert\n     * @returns - The number of backstop tokens as a fixed point number\n     */\n    sharesToBackstopTokens(shares) {\n        if (this.poolBalance.shares === BigInt(0)) {\n            return shares;\n        }\n        return _index_js__WEBPACK_IMPORTED_MODULE_2__.FixedMath.mulFloor(shares, this.poolBalance.tokens, this.poolBalance.shares);\n    }\n    /**\n     * Convert shares to backstop tokens\n     * @param shares - The number of shares to convert\n     * @returns - The number of backstop tokens as a floating point number\n     */\n    sharesToBackstopTokensFloat(shares) {\n        return _index_js__WEBPACK_IMPORTED_MODULE_2__.FixedMath.toFloat(this.sharesToBackstopTokens(shares), 7);\n    }\n}\nclass BackstopPoolV1 extends BackstopPool {\n    poolBalance;\n    toGulpEmissions;\n    emissions;\n    latestLedger;\n    constructor(poolBalance, toGulpEmissions, emissions, latestLedger) {\n        super(poolBalance, emissions, latestLedger);\n        this.poolBalance = poolBalance;\n        this.toGulpEmissions = toGulpEmissions;\n        this.emissions = emissions;\n        this.latestLedger = latestLedger;\n    }\n    static async load(network, backstopId, poolId, timestamp) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const poolBalanceDataKey = PoolBalance.ledgerKey(backstopId, poolId);\n        const poolEmisDataKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('PoolEmis'),\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScVal(),\n            ]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        const backstopPoolDataEntries = await stellarRpc.getLedgerEntries(poolBalanceDataKey, poolEmisDataKey, BackstopEmissionConfig.ledgerKey(backstopId, poolId), BackstopEmissionData.ledgerKey(backstopId, poolId));\n        let emission_config;\n        let emission_data;\n        let poolBalance = new PoolBalance(BigInt(0), BigInt(0), BigInt(0));\n        let toGulpEmissions = BigInt(0);\n        for (const entry of backstopPoolDataEntries.entries) {\n            const ledgerData = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__.decodeEntryKey)(ledgerData.contractData().key());\n            switch (key) {\n                case 'PoolBalance': {\n                    poolBalance = PoolBalance.fromLedgerEntryData(ledgerData);\n                    break;\n                }\n                case 'PoolEmis':\n                    toGulpEmissions = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(ledgerData.contractData().val());\n                    break;\n                case 'BEmisCfg':\n                    emission_config = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionConfig.fromLedgerEntryData(ledgerData);\n                    break;\n                case 'BEmisData':\n                    emission_data = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionData.fromLedgerEntryData(ledgerData);\n                    break;\n                default:\n                    throw new Error(`Invalid backstop pool key: should not contain ${key}`);\n            }\n        }\n        let emissions;\n        if (emission_config != undefined && emission_data != undefined) {\n            emissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV1(emission_config, emission_data, backstopPoolDataEntries.latestLedger);\n            emissions.accrue(poolBalance.shares - poolBalance.q4w, 7, timestamp);\n        }\n        return new BackstopPoolV1(poolBalance, toGulpEmissions, emissions, backstopPoolDataEntries.latestLedger);\n    }\n}\nclass BackstopPoolV2 extends BackstopPool {\n    poolBalance;\n    emissions;\n    constructor(poolBalance, emissions, latestLedger) {\n        super(poolBalance, emissions, latestLedger);\n        this.poolBalance = poolBalance;\n        this.emissions = emissions;\n    }\n    static async load(network, backstopId, poolId, timestamp) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const poolBalanceDataKey = PoolBalance.ledgerKey(backstopId, poolId);\n        const poolEmisDataKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('PoolEmis'),\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScVal(),\n            ]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        const backstopPoolDataEntries = await stellarRpc.getLedgerEntries(poolBalanceDataKey, poolEmisDataKey, BackstopEmissionData.ledgerKey(backstopId, poolId));\n        let emission_data;\n        let poolBalance = new PoolBalance(BigInt(0), BigInt(0), BigInt(0));\n        for (const entry of backstopPoolDataEntries.entries) {\n            const ledgerData = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__.decodeEntryKey)(ledgerData.contractData().key());\n            switch (key) {\n                case 'PoolBalance': {\n                    poolBalance = PoolBalance.fromLedgerEntryData(ledgerData);\n                    break;\n                }\n                case 'BEmisData':\n                    emission_data = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionDataV2.fromLedgerEntryData(ledgerData);\n                    break;\n                default:\n                    throw new Error(`Invalid backstop pool key: should not contain ${key}`);\n            }\n        }\n        let emissions;\n        if (emission_data != undefined) {\n            emissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV2(emission_data, backstopPoolDataEntries.latestLedger);\n            emissions.accrue(poolBalance.shares - poolBalance.q4w, 7, timestamp);\n        }\n        return new BackstopPoolV2(poolBalance, emissions, backstopPoolDataEntries.latestLedger);\n    }\n}\nclass PoolBalance {\n    shares;\n    tokens;\n    q4w;\n    constructor(shares, tokens, q4w) {\n        this.shares = shares;\n        this.tokens = tokens;\n        this.q4w = q4w;\n    }\n    static ledgerKey(backstopId, poolId) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('PoolBalance'),\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScVal(),\n            ]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const data_entry_map = ledger_entry_data.contractData().val().map();\n        if (data_entry_map == undefined) {\n            throw Error('PoolBalance contract data value is not a map');\n        }\n        let shares;\n        let tokens;\n        let q4w;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'shares':\n                    shares = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'tokens':\n                    tokens = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'q4w':\n                    q4w = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                default:\n                    throw Error(`Invalid PoolBalance key: should not contain ${key}`);\n            }\n        }\n        if (shares == undefined || tokens == undefined || q4w == undefined) {\n            throw Error(`Malformed PoolBalance scvMap `);\n        }\n        return new PoolBalance(shares, tokens, q4w);\n    }\n}\nclass BackstopEmissionConfig extends _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionConfig {\n    static ledgerKey(backstopId, poolId) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('BEmisCfg'),\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScVal(),\n            ]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n}\nclass BackstopEmissionData extends _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionData {\n    static ledgerKey(backstopId, poolId) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('BEmisData'),\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScVal(),\n            ]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9wb29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDa0M7QUFDbEU7QUFDbUI7QUFDcEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdEQUFpQjtBQUNoQztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQUc7QUFDbEM7QUFDQSxnQ0FBZ0MscURBQUcsNEJBQTRCLHFEQUFHO0FBQ2xFLHNCQUFzQix5REFBTztBQUM3QixpQkFBaUIscURBQUc7QUFDcEIsZ0JBQWdCLHFEQUFHO0FBQ25CLGdCQUFnQix5REFBTztBQUN2QjtBQUNBLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUVBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLG1FQUFhO0FBQ25EO0FBQ0E7QUFDQSxzQ0FBc0MseURBQWM7QUFDcEQ7QUFDQTtBQUNBLG9DQUFvQyx1REFBWTtBQUNoRDtBQUNBO0FBQ0EscUZBQXFGLElBQUk7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQztBQUNBLGdDQUFnQyxxREFBRyw0QkFBNEIscURBQUc7QUFDbEUsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQixnQkFBZ0IscURBQUc7QUFDbkIsZ0JBQWdCLHlEQUFPO0FBQ3ZCO0FBQ0Esd0JBQXdCLHFEQUFHO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5REFBYztBQUNsRDtBQUNBO0FBQ0EscUZBQXFGLElBQUk7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBRyw0QkFBNEIscURBQUc7QUFDakQsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQixnQkFBZ0IscURBQUc7QUFDbkIsZ0JBQWdCLHlEQUFPO0FBQ3ZCO0FBQ0Esd0JBQXdCLHFEQUFHO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQUc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSw2QkFBNkIsbUVBQWE7QUFDMUM7QUFDQTtBQUNBLDZCQUE2QixtRUFBYTtBQUMxQztBQUNBO0FBQ0EsMEJBQTBCLG1FQUFhO0FBQ3ZDO0FBQ0E7QUFDQSwrRUFBK0UsSUFBSTtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08scUNBQXFDLHlEQUFjO0FBQzFEO0FBQ0EsZUFBZSxxREFBRyw0QkFBNEIscURBQUc7QUFDakQsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQixnQkFBZ0IscURBQUc7QUFDbkIsZ0JBQWdCLHlEQUFPO0FBQ3ZCO0FBQ0Esd0JBQXdCLHFEQUFHO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ08sbUNBQW1DLHVEQUFZO0FBQ3REO0FBQ0EsZUFBZSxxREFBRyw0QkFBNEIscURBQUc7QUFDakQsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQixnQkFBZ0IscURBQUc7QUFDbkIsZ0JBQWdCLHlEQUFPO0FBQ3ZCO0FBQ0Esd0JBQXdCLHFEQUFHO0FBQzNCLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9wb29sLmpzP2IyNmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkcmVzcywgcnBjLCBzY1ZhbFRvTmF0aXZlLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBFbWlzc2lvbkNvbmZpZywgRW1pc3Npb25EYXRhLCBFbWlzc2lvbkRhdGFWMiwgRW1pc3Npb25zVjEsIEVtaXNzaW9uc1YyLCB9IGZyb20gJy4uL2VtaXNzaW9ucy5qcyc7XG5pbXBvcnQgeyBGaXhlZE1hdGggfSBmcm9tICcuLi9pbmRleC5qcyc7XG5pbXBvcnQgeyBkZWNvZGVFbnRyeUtleSB9IGZyb20gJy4uL2xlZGdlcl9lbnRyeV9oZWxwZXIuanMnO1xuZXhwb3J0IGNsYXNzIEJhY2tzdG9wUG9vbCB7XG4gICAgcG9vbEJhbGFuY2U7XG4gICAgZW1pc3Npb25zO1xuICAgIGxhdGVzdExlZGdlcjtcbiAgICBjb25zdHJ1Y3Rvcihwb29sQmFsYW5jZSwgZW1pc3Npb25zLCBsYXRlc3RMZWRnZXIpIHtcbiAgICAgICAgdGhpcy5wb29sQmFsYW5jZSA9IHBvb2xCYWxhbmNlO1xuICAgICAgICB0aGlzLmVtaXNzaW9ucyA9IGVtaXNzaW9ucztcbiAgICAgICAgdGhpcy5sYXRlc3RMZWRnZXIgPSBsYXRlc3RMZWRnZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoIHRoZSBlbWlzc2lvbiBwZXIgeWVhciBwZXIgbm9uLVE0VyBiYWNrc3RvcCB0b2tlblxuICAgICAqIEByZXR1cm5zIFRoZSBlbWlzc2lvbiBwZXIgeWVhciBwZXIgYmFja3N0b3AgdG9rZW4gYXMgYSBmbG9hdFxuICAgICAqL1xuICAgIGVtaXNzaW9uUGVyWWVhclBlckJhY2tzdG9wVG9rZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmVtaXNzaW9ucyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2Vuc05vdEluUTR3ID0gdGhpcy5zaGFyZXNUb0JhY2tzdG9wVG9rZW5zKHRoaXMucG9vbEJhbGFuY2Uuc2hhcmVzIC0gdGhpcy5wb29sQmFsYW5jZS5xNHcpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbWlzc2lvbnMuZW1pc3Npb25zUGVyWWVhclBlclRva2VuKHRva2Vuc05vdEluUTR3LCA3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBiYWNrc3RvcCB0b2tlbnMgdG8gc2hhcmVzXG4gICAgICogQHBhcmFtIGJhY2tzdG9wVG9rZW5zIC0gVGhlIG51bWJlciBvZiBiYWNrc3RvcCB0b2tlbnMgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIC0gVGhlIG51bWJlciBvZiBzaGFyZXMgYXMgYSBmaXhlZCBwb2ludCBudW1iZXJcbiAgICAgKi9cbiAgICBiYWNrc3RvcFRva2Vuc1RvU2hhcmVzKGJhY2tzdG9wVG9rZW5zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFja3N0b3BUb2tlbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBiYWNrc3RvcFRva2VucyA9IEZpeGVkTWF0aC50b0ZpeGVkKGJhY2tzdG9wVG9rZW5zLCA3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb29sQmFsYW5jZS5zaGFyZXMgPT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgcmV0dXJuIGJhY2tzdG9wVG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGgubXVsRmxvb3IoYmFja3N0b3BUb2tlbnMsIHRoaXMucG9vbEJhbGFuY2Uuc2hhcmVzLCB0aGlzLnBvb2xCYWxhbmNlLnRva2Vucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgc2hhcmVzIHRvIGJhY2tzdG9wIHRva2Vuc1xuICAgICAqIEBwYXJhbSBzaGFyZXMgLSBUaGUgbnVtYmVyIG9mIHNoYXJlcyB0byBjb252ZXJ0XG4gICAgICogQHJldHVybnMgLSBUaGUgbnVtYmVyIG9mIGJhY2tzdG9wIHRva2VucyBhcyBhIGZpeGVkIHBvaW50IG51bWJlclxuICAgICAqL1xuICAgIHNoYXJlc1RvQmFja3N0b3BUb2tlbnMoc2hhcmVzKSB7XG4gICAgICAgIGlmICh0aGlzLnBvb2xCYWxhbmNlLnNoYXJlcyA9PT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGgubXVsRmxvb3Ioc2hhcmVzLCB0aGlzLnBvb2xCYWxhbmNlLnRva2VucywgdGhpcy5wb29sQmFsYW5jZS5zaGFyZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHNoYXJlcyB0byBiYWNrc3RvcCB0b2tlbnNcbiAgICAgKiBAcGFyYW0gc2hhcmVzIC0gVGhlIG51bWJlciBvZiBzaGFyZXMgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIC0gVGhlIG51bWJlciBvZiBiYWNrc3RvcCB0b2tlbnMgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXJcbiAgICAgKi9cbiAgICBzaGFyZXNUb0JhY2tzdG9wVG9rZW5zRmxvYXQoc2hhcmVzKSB7XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGgudG9GbG9hdCh0aGlzLnNoYXJlc1RvQmFja3N0b3BUb2tlbnMoc2hhcmVzKSwgNyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhY2tzdG9wUG9vbFYxIGV4dGVuZHMgQmFja3N0b3BQb29sIHtcbiAgICBwb29sQmFsYW5jZTtcbiAgICB0b0d1bHBFbWlzc2lvbnM7XG4gICAgZW1pc3Npb25zO1xuICAgIGxhdGVzdExlZGdlcjtcbiAgICBjb25zdHJ1Y3Rvcihwb29sQmFsYW5jZSwgdG9HdWxwRW1pc3Npb25zLCBlbWlzc2lvbnMsIGxhdGVzdExlZGdlcikge1xuICAgICAgICBzdXBlcihwb29sQmFsYW5jZSwgZW1pc3Npb25zLCBsYXRlc3RMZWRnZXIpO1xuICAgICAgICB0aGlzLnBvb2xCYWxhbmNlID0gcG9vbEJhbGFuY2U7XG4gICAgICAgIHRoaXMudG9HdWxwRW1pc3Npb25zID0gdG9HdWxwRW1pc3Npb25zO1xuICAgICAgICB0aGlzLmVtaXNzaW9ucyA9IGVtaXNzaW9ucztcbiAgICAgICAgdGhpcy5sYXRlc3RMZWRnZXIgPSBsYXRlc3RMZWRnZXI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIGJhY2tzdG9wSWQsIHBvb2xJZCwgdGltZXN0YW1wKSB7XG4gICAgICAgIGNvbnN0IHN0ZWxsYXJScGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICAgICAgY29uc3QgcG9vbEJhbGFuY2VEYXRhS2V5ID0gUG9vbEJhbGFuY2UubGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCk7XG4gICAgICAgIGNvbnN0IHBvb2xFbWlzRGF0YUtleSA9IHhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyB4ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgIGNvbnRyYWN0OiBBZGRyZXNzLmZyb21TdHJpbmcoYmFja3N0b3BJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlZlYyhbXG4gICAgICAgICAgICAgICAgeGRyLlNjVmFsLnNjdlN5bWJvbCgnUG9vbEVtaXMnKSxcbiAgICAgICAgICAgICAgICBBZGRyZXNzLmZyb21TdHJpbmcocG9vbElkKS50b1NjVmFsKCksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkci5Db250cmFjdERhdGFEdXJhYmlsaXR5LnBlcnNpc3RlbnQoKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBiYWNrc3RvcFBvb2xEYXRhRW50cmllcyA9IGF3YWl0IHN0ZWxsYXJScGMuZ2V0TGVkZ2VyRW50cmllcyhwb29sQmFsYW5jZURhdGFLZXksIHBvb2xFbWlzRGF0YUtleSwgQmFja3N0b3BFbWlzc2lvbkNvbmZpZy5sZWRnZXJLZXkoYmFja3N0b3BJZCwgcG9vbElkKSwgQmFja3N0b3BFbWlzc2lvbkRhdGEubGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCkpO1xuICAgICAgICBsZXQgZW1pc3Npb25fY29uZmlnO1xuICAgICAgICBsZXQgZW1pc3Npb25fZGF0YTtcbiAgICAgICAgbGV0IHBvb2xCYWxhbmNlID0gbmV3IFBvb2xCYWxhbmNlKEJpZ0ludCgwKSwgQmlnSW50KDApLCBCaWdJbnQoMCkpO1xuICAgICAgICBsZXQgdG9HdWxwRW1pc3Npb25zID0gQmlnSW50KDApO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGJhY2tzdG9wUG9vbERhdGFFbnRyaWVzLmVudHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlZGdlckRhdGEgPSBlbnRyeS52YWw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShsZWRnZXJEYXRhLmNvbnRyYWN0RGF0YSgpLmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnUG9vbEJhbGFuY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvb2xCYWxhbmNlID0gUG9vbEJhbGFuY2UuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ1Bvb2xFbWlzJzpcbiAgICAgICAgICAgICAgICAgICAgdG9HdWxwRW1pc3Npb25zID0gc2NWYWxUb05hdGl2ZShsZWRnZXJEYXRhLmNvbnRyYWN0RGF0YSgpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQkVtaXNDZmcnOlxuICAgICAgICAgICAgICAgICAgICBlbWlzc2lvbl9jb25maWcgPSBFbWlzc2lvbkNvbmZpZy5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdCRW1pc0RhdGEnOlxuICAgICAgICAgICAgICAgICAgICBlbWlzc2lvbl9kYXRhID0gRW1pc3Npb25EYXRhLmZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBiYWNrc3RvcCBwb29sIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBlbWlzc2lvbnM7XG4gICAgICAgIGlmIChlbWlzc2lvbl9jb25maWcgIT0gdW5kZWZpbmVkICYmIGVtaXNzaW9uX2RhdGEgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbWlzc2lvbnMgPSBuZXcgRW1pc3Npb25zVjEoZW1pc3Npb25fY29uZmlnLCBlbWlzc2lvbl9kYXRhLCBiYWNrc3RvcFBvb2xEYXRhRW50cmllcy5sYXRlc3RMZWRnZXIpO1xuICAgICAgICAgICAgZW1pc3Npb25zLmFjY3J1ZShwb29sQmFsYW5jZS5zaGFyZXMgLSBwb29sQmFsYW5jZS5xNHcsIDcsIHRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCYWNrc3RvcFBvb2xWMShwb29sQmFsYW5jZSwgdG9HdWxwRW1pc3Npb25zLCBlbWlzc2lvbnMsIGJhY2tzdG9wUG9vbERhdGFFbnRyaWVzLmxhdGVzdExlZGdlcik7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhY2tzdG9wUG9vbFYyIGV4dGVuZHMgQmFja3N0b3BQb29sIHtcbiAgICBwb29sQmFsYW5jZTtcbiAgICBlbWlzc2lvbnM7XG4gICAgY29uc3RydWN0b3IocG9vbEJhbGFuY2UsIGVtaXNzaW9ucywgbGF0ZXN0TGVkZ2VyKSB7XG4gICAgICAgIHN1cGVyKHBvb2xCYWxhbmNlLCBlbWlzc2lvbnMsIGxhdGVzdExlZGdlcik7XG4gICAgICAgIHRoaXMucG9vbEJhbGFuY2UgPSBwb29sQmFsYW5jZTtcbiAgICAgICAgdGhpcy5lbWlzc2lvbnMgPSBlbWlzc2lvbnM7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIGJhY2tzdG9wSWQsIHBvb2xJZCwgdGltZXN0YW1wKSB7XG4gICAgICAgIGNvbnN0IHN0ZWxsYXJScGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICAgICAgY29uc3QgcG9vbEJhbGFuY2VEYXRhS2V5ID0gUG9vbEJhbGFuY2UubGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCk7XG4gICAgICAgIGNvbnN0IHBvb2xFbWlzRGF0YUtleSA9IHhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyB4ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgIGNvbnRyYWN0OiBBZGRyZXNzLmZyb21TdHJpbmcoYmFja3N0b3BJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlZlYyhbXG4gICAgICAgICAgICAgICAgeGRyLlNjVmFsLnNjdlN5bWJvbCgnUG9vbEVtaXMnKSxcbiAgICAgICAgICAgICAgICBBZGRyZXNzLmZyb21TdHJpbmcocG9vbElkKS50b1NjVmFsKCksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkci5Db250cmFjdERhdGFEdXJhYmlsaXR5LnBlcnNpc3RlbnQoKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBiYWNrc3RvcFBvb2xEYXRhRW50cmllcyA9IGF3YWl0IHN0ZWxsYXJScGMuZ2V0TGVkZ2VyRW50cmllcyhwb29sQmFsYW5jZURhdGFLZXksIHBvb2xFbWlzRGF0YUtleSwgQmFja3N0b3BFbWlzc2lvbkRhdGEubGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCkpO1xuICAgICAgICBsZXQgZW1pc3Npb25fZGF0YTtcbiAgICAgICAgbGV0IHBvb2xCYWxhbmNlID0gbmV3IFBvb2xCYWxhbmNlKEJpZ0ludCgwKSwgQmlnSW50KDApLCBCaWdJbnQoMCkpO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGJhY2tzdG9wUG9vbERhdGFFbnRyaWVzLmVudHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlZGdlckRhdGEgPSBlbnRyeS52YWw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShsZWRnZXJEYXRhLmNvbnRyYWN0RGF0YSgpLmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnUG9vbEJhbGFuY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvb2xCYWxhbmNlID0gUG9vbEJhbGFuY2UuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ0JFbWlzRGF0YSc6XG4gICAgICAgICAgICAgICAgICAgIGVtaXNzaW9uX2RhdGEgPSBFbWlzc2lvbkRhdGFWMi5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYmFja3N0b3AgcG9vbCBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZW1pc3Npb25zO1xuICAgICAgICBpZiAoZW1pc3Npb25fZGF0YSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVtaXNzaW9ucyA9IG5ldyBFbWlzc2lvbnNWMihlbWlzc2lvbl9kYXRhLCBiYWNrc3RvcFBvb2xEYXRhRW50cmllcy5sYXRlc3RMZWRnZXIpO1xuICAgICAgICAgICAgZW1pc3Npb25zLmFjY3J1ZShwb29sQmFsYW5jZS5zaGFyZXMgLSBwb29sQmFsYW5jZS5xNHcsIDcsIHRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCYWNrc3RvcFBvb2xWMihwb29sQmFsYW5jZSwgZW1pc3Npb25zLCBiYWNrc3RvcFBvb2xEYXRhRW50cmllcy5sYXRlc3RMZWRnZXIpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQb29sQmFsYW5jZSB7XG4gICAgc2hhcmVzO1xuICAgIHRva2VucztcbiAgICBxNHc7XG4gICAgY29uc3RydWN0b3Ioc2hhcmVzLCB0b2tlbnMsIHE0dykge1xuICAgICAgICB0aGlzLnNoYXJlcyA9IHNoYXJlcztcbiAgICAgICAgdGhpcy50b2tlbnMgPSB0b2tlbnM7XG4gICAgICAgIHRoaXMucTR3ID0gcTR3O1xuICAgIH1cbiAgICBzdGF0aWMgbGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCkge1xuICAgICAgICByZXR1cm4geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhiYWNrc3RvcElkKS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2VmVjKFtcbiAgICAgICAgICAgICAgICB4ZHIuU2NWYWwuc2N2U3ltYm9sKCdQb29sQmFsYW5jZScpLFxuICAgICAgICAgICAgICAgIEFkZHJlc3MuZnJvbVN0cmluZyhwb29sSWQpLnRvU2NWYWwoKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlcl9lbnRyeV9kYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGVkZ2VyX2VudHJ5X2RhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxlZGdlcl9lbnRyeV9kYXRhID0geGRyLkxlZGdlckVudHJ5RGF0YS5mcm9tWERSKGxlZGdlcl9lbnRyeV9kYXRhLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YV9lbnRyeV9tYXAgPSBsZWRnZXJfZW50cnlfZGF0YS5jb250cmFjdERhdGEoKS52YWwoKS5tYXAoKTtcbiAgICAgICAgaWYgKGRhdGFfZW50cnlfbWFwID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Bvb2xCYWxhbmNlIGNvbnRyYWN0IGRhdGEgdmFsdWUgaXMgbm90IGEgbWFwJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNoYXJlcztcbiAgICAgICAgbGV0IHRva2VucztcbiAgICAgICAgbGV0IHE0dztcbiAgICAgICAgZm9yIChjb25zdCBtYXBfZW50cnkgb2YgZGF0YV9lbnRyeV9tYXApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KG1hcF9lbnRyeS5rZXkoKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NoYXJlcyc6XG4gICAgICAgICAgICAgICAgICAgIHNoYXJlcyA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndG9rZW5zJzpcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdxNHcnOlxuICAgICAgICAgICAgICAgICAgICBxNHcgPSBzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIFBvb2xCYWxhbmNlIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFyZXMgPT0gdW5kZWZpbmVkIHx8IHRva2VucyA9PSB1bmRlZmluZWQgfHwgcTR3ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYE1hbGZvcm1lZCBQb29sQmFsYW5jZSBzY3ZNYXAgYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb29sQmFsYW5jZShzaGFyZXMsIHRva2VucywgcTR3KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFja3N0b3BFbWlzc2lvbkNvbmZpZyBleHRlbmRzIEVtaXNzaW9uQ29uZmlnIHtcbiAgICBzdGF0aWMgbGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCkge1xuICAgICAgICByZXR1cm4geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhiYWNrc3RvcElkKS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2VmVjKFtcbiAgICAgICAgICAgICAgICB4ZHIuU2NWYWwuc2N2U3ltYm9sKCdCRW1pc0NmZycpLFxuICAgICAgICAgICAgICAgIEFkZHJlc3MuZnJvbVN0cmluZyhwb29sSWQpLnRvU2NWYWwoKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhY2tzdG9wRW1pc3Npb25EYXRhIGV4dGVuZHMgRW1pc3Npb25EYXRhIHtcbiAgICBzdGF0aWMgbGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCkge1xuICAgICAgICByZXR1cm4geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhiYWNrc3RvcElkKS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2VmVjKFtcbiAgICAgICAgICAgICAgICB4ZHIuU2NWYWwuc2N2U3ltYm9sKCdCRW1pc0RhdGEnKSxcbiAgICAgICAgICAgICAgICBBZGRyZXNzLmZyb21TdHJpbmcocG9vbElkKS50b1NjVmFsKCksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkci5Db250cmFjdERhdGFEdXJhYmlsaXR5LnBlcnNpc3RlbnQoKSxcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_est.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_est.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopPoolEst: () => (/* binding */ BackstopPoolEst)\n/* harmony export */ });\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js\");\n\nclass BackstopPoolEst {\n    blnd;\n    usdc;\n    totalSpotValue;\n    q4wPercentage;\n    constructor(blnd, usdc, totalSpotValue, q4wPercentage) {\n        this.blnd = blnd;\n        this.usdc = usdc;\n        this.totalSpotValue = totalSpotValue;\n        this.q4wPercentage = q4wPercentage;\n    }\n    static build(backstopToken, poolBalance) {\n        const tokens_float = (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.toFloat)(poolBalance.tokens, 7);\n        const blnd = tokens_float * backstopToken.blndPerLpToken;\n        const usdc = tokens_float * backstopToken.usdcPerLpToken;\n        const totalSpotValue = tokens_float * backstopToken.lpTokenPrice;\n        const q4w_percentage = Number(poolBalance.q4w) / Number(poolBalance.shares);\n        return new BackstopPoolEst(blnd, usdc, totalSpotValue, q4w_percentage);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9wb29sX2VzdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQztBQUM5QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaURBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL2JhY2tzdG9wL2JhY2tzdG9wX3Bvb2xfZXN0LmpzPzNjNGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9GbG9hdCB9IGZyb20gJy4uL21hdGguanMnO1xuZXhwb3J0IGNsYXNzIEJhY2tzdG9wUG9vbEVzdCB7XG4gICAgYmxuZDtcbiAgICB1c2RjO1xuICAgIHRvdGFsU3BvdFZhbHVlO1xuICAgIHE0d1BlcmNlbnRhZ2U7XG4gICAgY29uc3RydWN0b3IoYmxuZCwgdXNkYywgdG90YWxTcG90VmFsdWUsIHE0d1BlcmNlbnRhZ2UpIHtcbiAgICAgICAgdGhpcy5ibG5kID0gYmxuZDtcbiAgICAgICAgdGhpcy51c2RjID0gdXNkYztcbiAgICAgICAgdGhpcy50b3RhbFNwb3RWYWx1ZSA9IHRvdGFsU3BvdFZhbHVlO1xuICAgICAgICB0aGlzLnE0d1BlcmNlbnRhZ2UgPSBxNHdQZXJjZW50YWdlO1xuICAgIH1cbiAgICBzdGF0aWMgYnVpbGQoYmFja3N0b3BUb2tlbiwgcG9vbEJhbGFuY2UpIHtcbiAgICAgICAgY29uc3QgdG9rZW5zX2Zsb2F0ID0gdG9GbG9hdChwb29sQmFsYW5jZS50b2tlbnMsIDcpO1xuICAgICAgICBjb25zdCBibG5kID0gdG9rZW5zX2Zsb2F0ICogYmFja3N0b3BUb2tlbi5ibG5kUGVyTHBUb2tlbjtcbiAgICAgICAgY29uc3QgdXNkYyA9IHRva2Vuc19mbG9hdCAqIGJhY2tzdG9wVG9rZW4udXNkY1BlckxwVG9rZW47XG4gICAgICAgIGNvbnN0IHRvdGFsU3BvdFZhbHVlID0gdG9rZW5zX2Zsb2F0ICogYmFja3N0b3BUb2tlbi5scFRva2VuUHJpY2U7XG4gICAgICAgIGNvbnN0IHE0d19wZXJjZW50YWdlID0gTnVtYmVyKHBvb2xCYWxhbmNlLnE0dykgLyBOdW1iZXIocG9vbEJhbGFuY2Uuc2hhcmVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCYWNrc3RvcFBvb2xFc3QoYmxuZCwgdXNkYywgdG90YWxTcG90VmFsdWUsIHE0d19wZXJjZW50YWdlKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_est.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_user.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_user.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopPoolUser: () => (/* binding */ BackstopPoolUser)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n/* harmony import */ var _backstop_user_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./backstop_user_types.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_user_types.js\");\n\n\n\nclass BackstopPoolUser {\n    userId;\n    poolId;\n    balance;\n    emissions;\n    constructor(userId, poolId, balance, emissions) {\n        this.userId = userId;\n        this.poolId = poolId;\n        this.balance = balance;\n        this.emissions = emissions;\n    }\n    /**\n     * Load the backstop pool user data from the ledger\n     * @param network - The network information\n     * @param backstopId - The contract address of the backstop\n     * @param poolId - The contract address of the pool\n     * @param userId - The address of the user\n     * @param timestamp - The timestamp manage withdrawals for (in seconds since epoch), defaults to now\n     * @returns\n     */\n    static async load(network, backstopId, poolId, userId, timestamp) {\n        if (timestamp === undefined) {\n            timestamp = Math.floor(Date.now() / 1000);\n        }\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const ledgerKeys = [];\n        ledgerKeys.push(_backstop_user_types_js__WEBPACK_IMPORTED_MODULE_2__.UserBalance.ledgerKey(backstopId, poolId, userId));\n        ledgerKeys.push(_backstop_user_types_js__WEBPACK_IMPORTED_MODULE_2__.BackstopUserEmissions.ledgerKey(backstopId, poolId, userId));\n        const ledgerEntries = await stellarRpc.getLedgerEntries(...ledgerKeys);\n        let balances = new _backstop_user_types_js__WEBPACK_IMPORTED_MODULE_2__.UserBalance(BigInt(0), [], BigInt(0), BigInt(0));\n        let emissions;\n        for (const entry of ledgerEntries.entries) {\n            const ledgerData = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerData.contractData().key());\n            switch (key) {\n                case 'UserBalance': {\n                    balances = _backstop_user_types_js__WEBPACK_IMPORTED_MODULE_2__.UserBalance.fromLedgerEntryData(ledgerData, timestamp);\n                    break;\n                }\n                case 'UEmisData': {\n                    emissions = _backstop_user_types_js__WEBPACK_IMPORTED_MODULE_2__.BackstopUserEmissions.fromLedgerEntryData(ledgerData);\n                    break;\n                }\n                default:\n                    throw new Error(`Invalid BackstopPoolUser key: should not contain ${key}`);\n            }\n        }\n        return new BackstopPoolUser(userId, poolId, balances, emissions);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9wb29sX3VzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNnQjtBQUNtQjtBQUN2RTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQUc7QUFDbEM7QUFDQSx3QkFBd0IsZ0VBQVc7QUFDbkMsd0JBQXdCLDBFQUFxQjtBQUM3QztBQUNBLDJCQUEyQixnRUFBVztBQUN0QztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUVBQWM7QUFDdEM7QUFDQTtBQUNBLCtCQUErQixnRUFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMEVBQXFCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RixJQUFJO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL2JhY2tzdG9wL2JhY2tzdG9wX3Bvb2xfdXNlci5qcz9lODEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJwYyB9IGZyb20gJ0BzdGVsbGFyL3N0ZWxsYXItc2RrJztcbmltcG9ydCB7IGRlY29kZUVudHJ5S2V5IH0gZnJvbSAnLi4vbGVkZ2VyX2VudHJ5X2hlbHBlci5qcyc7XG5pbXBvcnQgeyBCYWNrc3RvcFVzZXJFbWlzc2lvbnMsIFVzZXJCYWxhbmNlIH0gZnJvbSAnLi9iYWNrc3RvcF91c2VyX3R5cGVzLmpzJztcbmV4cG9ydCBjbGFzcyBCYWNrc3RvcFBvb2xVc2VyIHtcbiAgICB1c2VySWQ7XG4gICAgcG9vbElkO1xuICAgIGJhbGFuY2U7XG4gICAgZW1pc3Npb25zO1xuICAgIGNvbnN0cnVjdG9yKHVzZXJJZCwgcG9vbElkLCBiYWxhbmNlLCBlbWlzc2lvbnMpIHtcbiAgICAgICAgdGhpcy51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIHRoaXMucG9vbElkID0gcG9vbElkO1xuICAgICAgICB0aGlzLmJhbGFuY2UgPSBiYWxhbmNlO1xuICAgICAgICB0aGlzLmVtaXNzaW9ucyA9IGVtaXNzaW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgYmFja3N0b3AgcG9vbCB1c2VyIGRhdGEgZnJvbSB0aGUgbGVkZ2VyXG4gICAgICogQHBhcmFtIG5ldHdvcmsgLSBUaGUgbmV0d29yayBpbmZvcm1hdGlvblxuICAgICAqIEBwYXJhbSBiYWNrc3RvcElkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIGJhY2tzdG9wXG4gICAgICogQHBhcmFtIHBvb2xJZCAtIFRoZSBjb250cmFjdCBhZGRyZXNzIG9mIHRoZSBwb29sXG4gICAgICogQHBhcmFtIHVzZXJJZCAtIFRoZSBhZGRyZXNzIG9mIHRoZSB1c2VyXG4gICAgICogQHBhcmFtIHRpbWVzdGFtcCAtIFRoZSB0aW1lc3RhbXAgbWFuYWdlIHdpdGhkcmF3YWxzIGZvciAoaW4gc2Vjb25kcyBzaW5jZSBlcG9jaCksIGRlZmF1bHRzIHRvIG5vd1xuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGxvYWQobmV0d29yaywgYmFja3N0b3BJZCwgcG9vbElkLCB1c2VySWQsIHRpbWVzdGFtcCkge1xuICAgICAgICBpZiAodGltZXN0YW1wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0ZWxsYXJScGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICAgICAgY29uc3QgbGVkZ2VyS2V5cyA9IFtdO1xuICAgICAgICBsZWRnZXJLZXlzLnB1c2goVXNlckJhbGFuY2UubGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCwgdXNlcklkKSk7XG4gICAgICAgIGxlZGdlcktleXMucHVzaChCYWNrc3RvcFVzZXJFbWlzc2lvbnMubGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCwgdXNlcklkKSk7XG4gICAgICAgIGNvbnN0IGxlZGdlckVudHJpZXMgPSBhd2FpdCBzdGVsbGFyUnBjLmdldExlZGdlckVudHJpZXMoLi4ubGVkZ2VyS2V5cyk7XG4gICAgICAgIGxldCBiYWxhbmNlcyA9IG5ldyBVc2VyQmFsYW5jZShCaWdJbnQoMCksIFtdLCBCaWdJbnQoMCksIEJpZ0ludCgwKSk7XG4gICAgICAgIGxldCBlbWlzc2lvbnM7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgbGVkZ2VyRW50cmllcy5lbnRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBsZWRnZXJEYXRhID0gZW50cnkudmFsO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobGVkZ2VyRGF0YS5jb250cmFjdERhdGEoKS5rZXkoKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXJCYWxhbmNlJzoge1xuICAgICAgICAgICAgICAgICAgICBiYWxhbmNlcyA9IFVzZXJCYWxhbmNlLmZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRGF0YSwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ1VFbWlzRGF0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgZW1pc3Npb25zID0gQmFja3N0b3BVc2VyRW1pc3Npb25zLmZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgQmFja3N0b3BQb29sVXNlciBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJhY2tzdG9wUG9vbFVzZXIodXNlcklkLCBwb29sSWQsIGJhbGFuY2VzLCBlbWlzc2lvbnMpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_user.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_user_est.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_user_est.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopPoolUserEst: () => (/* binding */ BackstopPoolUserEst)\n/* harmony export */ });\n/* harmony import */ var _emissions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../emissions.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js\");\n\nclass BackstopPoolUserEst {\n    /**\n     * The estimated LP tokens the user has deposited\n     */\n    tokens;\n    /**\n     * The estimated BLND tokens of the user's deposited LP tokens\n     */\n    blnd;\n    /**\n     * The estimated USDC tokens of the user's deposited LP tokens\n     */\n    usdc;\n    /**\n     * The estimated spot value of the user's deposited LP tokens\n     */\n    totalSpotValue;\n    /**\n     * The estimated number of unlocked LP tokens that have been queued\n     */\n    totalUnlockedQ4W;\n    /**\n     * The array of queued withdrawals in (token amounts)\n     */\n    q4w;\n    /**\n     * The estimated total LP tokens queued for withdrawal\n     */\n    totalQ4W;\n    /**\n     * The estimated emissions of the user\n     */\n    emissions;\n    constructor(tokens, blnd, usdc, totalSpotValue, q4w, totalUnlockedQ4W, totalQ4W, emissions) {\n        this.tokens = tokens;\n        this.blnd = blnd;\n        this.usdc = usdc;\n        this.totalSpotValue = totalSpotValue;\n        this.totalUnlockedQ4W = totalUnlockedQ4W;\n        this.q4w = q4w;\n        this.totalQ4W = totalQ4W;\n        this.emissions = emissions;\n    }\n    static build(backstop, pool, user) {\n        const tokens = pool.sharesToBackstopTokensFloat(user.balance.shares);\n        const blnd = tokens * backstop.backstopToken.blndPerLpToken;\n        const usdc = tokens * backstop.backstopToken.usdcPerLpToken;\n        const totalSpotValue = tokens * backstop.backstopToken.lpTokenPrice;\n        const totalUnlockedQ4W = pool.sharesToBackstopTokensFloat(user.balance.unlockedQ4W);\n        let totalQ4W = 0;\n        const q4w = user.balance.q4w.map((q4w) => {\n            const amount = pool.sharesToBackstopTokensFloat(q4w.amount);\n            totalQ4W += amount;\n            return { amount, exp: Number(q4w.exp) };\n        });\n        let emissions = 0;\n        if (pool.emissions) {\n            if (user.emissions === undefined) {\n                if (user.balance.shares > 0) {\n                    // emissions started after the user deposited\n                    const empty_emission_data = new _emissions_js__WEBPACK_IMPORTED_MODULE_0__.UserEmissions(BigInt(0), BigInt(0));\n                    emissions = empty_emission_data.estimateAccrual(pool.emissions, 7, user.balance.shares);\n                }\n            }\n            else {\n                emissions = user.emissions.estimateAccrual(pool.emissions, 7, user.balance.shares);\n            }\n        }\n        return new BackstopPoolUserEst(tokens, blnd, usdc, totalSpotValue, q4w, totalUnlockedQ4W, totalQ4W, emissions);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF9wb29sX3VzZXJfZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdEO0FBQ3pDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsd0RBQWE7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL2JhY2tzdG9wL2JhY2tzdG9wX3Bvb2xfdXNlcl9lc3QuanM/MTkxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyRW1pc3Npb25zIH0gZnJvbSAnLi4vZW1pc3Npb25zLmpzJztcbmV4cG9ydCBjbGFzcyBCYWNrc3RvcFBvb2xVc2VyRXN0IHtcbiAgICAvKipcbiAgICAgKiBUaGUgZXN0aW1hdGVkIExQIHRva2VucyB0aGUgdXNlciBoYXMgZGVwb3NpdGVkXG4gICAgICovXG4gICAgdG9rZW5zO1xuICAgIC8qKlxuICAgICAqIFRoZSBlc3RpbWF0ZWQgQkxORCB0b2tlbnMgb2YgdGhlIHVzZXIncyBkZXBvc2l0ZWQgTFAgdG9rZW5zXG4gICAgICovXG4gICAgYmxuZDtcbiAgICAvKipcbiAgICAgKiBUaGUgZXN0aW1hdGVkIFVTREMgdG9rZW5zIG9mIHRoZSB1c2VyJ3MgZGVwb3NpdGVkIExQIHRva2Vuc1xuICAgICAqL1xuICAgIHVzZGM7XG4gICAgLyoqXG4gICAgICogVGhlIGVzdGltYXRlZCBzcG90IHZhbHVlIG9mIHRoZSB1c2VyJ3MgZGVwb3NpdGVkIExQIHRva2Vuc1xuICAgICAqL1xuICAgIHRvdGFsU3BvdFZhbHVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBlc3RpbWF0ZWQgbnVtYmVyIG9mIHVubG9ja2VkIExQIHRva2VucyB0aGF0IGhhdmUgYmVlbiBxdWV1ZWRcbiAgICAgKi9cbiAgICB0b3RhbFVubG9ja2VkUTRXO1xuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiBxdWV1ZWQgd2l0aGRyYXdhbHMgaW4gKHRva2VuIGFtb3VudHMpXG4gICAgICovXG4gICAgcTR3O1xuICAgIC8qKlxuICAgICAqIFRoZSBlc3RpbWF0ZWQgdG90YWwgTFAgdG9rZW5zIHF1ZXVlZCBmb3Igd2l0aGRyYXdhbFxuICAgICAqL1xuICAgIHRvdGFsUTRXO1xuICAgIC8qKlxuICAgICAqIFRoZSBlc3RpbWF0ZWQgZW1pc3Npb25zIG9mIHRoZSB1c2VyXG4gICAgICovXG4gICAgZW1pc3Npb25zO1xuICAgIGNvbnN0cnVjdG9yKHRva2VucywgYmxuZCwgdXNkYywgdG90YWxTcG90VmFsdWUsIHE0dywgdG90YWxVbmxvY2tlZFE0VywgdG90YWxRNFcsIGVtaXNzaW9ucykge1xuICAgICAgICB0aGlzLnRva2VucyA9IHRva2VucztcbiAgICAgICAgdGhpcy5ibG5kID0gYmxuZDtcbiAgICAgICAgdGhpcy51c2RjID0gdXNkYztcbiAgICAgICAgdGhpcy50b3RhbFNwb3RWYWx1ZSA9IHRvdGFsU3BvdFZhbHVlO1xuICAgICAgICB0aGlzLnRvdGFsVW5sb2NrZWRRNFcgPSB0b3RhbFVubG9ja2VkUTRXO1xuICAgICAgICB0aGlzLnE0dyA9IHE0dztcbiAgICAgICAgdGhpcy50b3RhbFE0VyA9IHRvdGFsUTRXO1xuICAgICAgICB0aGlzLmVtaXNzaW9ucyA9IGVtaXNzaW9ucztcbiAgICB9XG4gICAgc3RhdGljIGJ1aWxkKGJhY2tzdG9wLCBwb29sLCB1c2VyKSB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IHBvb2wuc2hhcmVzVG9CYWNrc3RvcFRva2Vuc0Zsb2F0KHVzZXIuYmFsYW5jZS5zaGFyZXMpO1xuICAgICAgICBjb25zdCBibG5kID0gdG9rZW5zICogYmFja3N0b3AuYmFja3N0b3BUb2tlbi5ibG5kUGVyTHBUb2tlbjtcbiAgICAgICAgY29uc3QgdXNkYyA9IHRva2VucyAqIGJhY2tzdG9wLmJhY2tzdG9wVG9rZW4udXNkY1BlckxwVG9rZW47XG4gICAgICAgIGNvbnN0IHRvdGFsU3BvdFZhbHVlID0gdG9rZW5zICogYmFja3N0b3AuYmFja3N0b3BUb2tlbi5scFRva2VuUHJpY2U7XG4gICAgICAgIGNvbnN0IHRvdGFsVW5sb2NrZWRRNFcgPSBwb29sLnNoYXJlc1RvQmFja3N0b3BUb2tlbnNGbG9hdCh1c2VyLmJhbGFuY2UudW5sb2NrZWRRNFcpO1xuICAgICAgICBsZXQgdG90YWxRNFcgPSAwO1xuICAgICAgICBjb25zdCBxNHcgPSB1c2VyLmJhbGFuY2UucTR3Lm1hcCgocTR3KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBwb29sLnNoYXJlc1RvQmFja3N0b3BUb2tlbnNGbG9hdChxNHcuYW1vdW50KTtcbiAgICAgICAgICAgIHRvdGFsUTRXICs9IGFtb3VudDtcbiAgICAgICAgICAgIHJldHVybiB7IGFtb3VudCwgZXhwOiBOdW1iZXIocTR3LmV4cCkgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBlbWlzc2lvbnMgPSAwO1xuICAgICAgICBpZiAocG9vbC5lbWlzc2lvbnMpIHtcbiAgICAgICAgICAgIGlmICh1c2VyLmVtaXNzaW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXIuYmFsYW5jZS5zaGFyZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtaXNzaW9ucyBzdGFydGVkIGFmdGVyIHRoZSB1c2VyIGRlcG9zaXRlZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXB0eV9lbWlzc2lvbl9kYXRhID0gbmV3IFVzZXJFbWlzc2lvbnMoQmlnSW50KDApLCBCaWdJbnQoMCkpO1xuICAgICAgICAgICAgICAgICAgICBlbWlzc2lvbnMgPSBlbXB0eV9lbWlzc2lvbl9kYXRhLmVzdGltYXRlQWNjcnVhbChwb29sLmVtaXNzaW9ucywgNywgdXNlci5iYWxhbmNlLnNoYXJlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW1pc3Npb25zID0gdXNlci5lbWlzc2lvbnMuZXN0aW1hdGVBY2NydWFsKHBvb2wuZW1pc3Npb25zLCA3LCB1c2VyLmJhbGFuY2Uuc2hhcmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJhY2tzdG9wUG9vbFVzZXJFc3QodG9rZW5zLCBibG5kLCB1c2RjLCB0b3RhbFNwb3RWYWx1ZSwgcTR3LCB0b3RhbFVubG9ja2VkUTRXLCB0b3RhbFE0VywgZW1pc3Npb25zKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_user_est.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_token.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_token.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopToken: () => (/* binding */ BackstopToken)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\n/**\n * Ledger data for the Comet BLND/USDC LP\n */\nclass BackstopToken {\n    id;\n    blnd;\n    usdc;\n    shares;\n    blndPerLpToken;\n    usdcPerLpToken;\n    lpTokenPrice;\n    constructor(\n    /**\n     * The address of the comet pool\n     */\n    id, \n    /**\n     * The amount of BLND in the comet LP\n     */\n    blnd, \n    /**\n     * The amount of USDC in the comet LP\n     */\n    usdc, \n    /**\n     * The number of shares in the comet LP\n     */\n    shares, \n    /**\n     * The amount of BLND per LP token\n     */\n    blndPerLpToken, \n    /**\n     * The amount of USDC per LP token\n     */\n    usdcPerLpToken, \n    /**\n     * The price of the LP token in USDC\n     */\n    lpTokenPrice) {\n        this.id = id;\n        this.blnd = blnd;\n        this.usdc = usdc;\n        this.shares = shares;\n        this.blndPerLpToken = blndPerLpToken;\n        this.usdcPerLpToken = usdcPerLpToken;\n        this.lpTokenPrice = lpTokenPrice;\n    }\n    /**\n     * Load the backstop token data from the ledger\n     * @param network - The network information to load the backstop from\n     * @param id - The contract address of the backstop\n     * @returns - The backstop token object\n     */\n    static async load(network, id, blndTkn, usdcTkn) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const recordDataKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(id).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('AllRecordData')]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        const totalSharesKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(id).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('TotalShares')]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        const ledgerEntriesResp = await stellarRpc.getLedgerEntries(recordDataKey, totalSharesKey);\n        let blnd;\n        let usdc;\n        let totalShares;\n        for (const entry of ledgerEntriesResp.entries) {\n            const ledgerData = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerData.contractData().key());\n            switch (key) {\n                case 'AllRecordData': {\n                    const records = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(ledgerData.contractData().val());\n                    if (records != undefined) {\n                        blnd = records[blndTkn]?.balance;\n                        usdc = records[usdcTkn]?.balance;\n                    }\n                    break;\n                }\n                case 'TotalShares':\n                    totalShares = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(ledgerData.contractData().val());\n                    break;\n                default:\n                    throw new Error(`Invalid backstop pool key: should not contain ${key}`);\n            }\n        }\n        if (blnd === undefined || usdc === undefined || totalShares === undefined) {\n            throw new Error('Invalid backstop token data');\n        }\n        const blndPerLpToken = Number(blnd) / Number(totalShares);\n        const usdcPerLpToken = Number(usdc) / Number(totalShares);\n        const lpTokenPrice = (Number(usdc) * 5) / Number(totalShares);\n        return new BackstopToken(id, blnd, usdc, totalShares, blndPerLpToken, usdcPerLpToken, lpTokenPrice);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF90b2tlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0U7QUFDYjtBQUMzRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQyw4QkFBOEIscURBQUcsNEJBQTRCLHFEQUFHO0FBQ2hFLHNCQUFzQix5REFBTztBQUM3QixpQkFBaUIscURBQUcsZUFBZSxxREFBRztBQUN0Qyx3QkFBd0IscURBQUc7QUFDM0IsU0FBUztBQUNULCtCQUErQixxREFBRyw0QkFBNEIscURBQUc7QUFDakUsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRyxlQUFlLHFEQUFHO0FBQ3RDLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSxvQ0FBb0MsbUVBQWE7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsbUVBQWE7QUFDL0M7QUFDQTtBQUNBLHFGQUFxRixJQUFJO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL2JhY2tzdG9wL2JhY2tzdG9wX3Rva2VuLmpzPzBjYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkcmVzcywgcnBjLCBzY1ZhbFRvTmF0aXZlLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBkZWNvZGVFbnRyeUtleSB9IGZyb20gJy4uL2xlZGdlcl9lbnRyeV9oZWxwZXIuanMnO1xuLyoqXG4gKiBMZWRnZXIgZGF0YSBmb3IgdGhlIENvbWV0IEJMTkQvVVNEQyBMUFxuICovXG5leHBvcnQgY2xhc3MgQmFja3N0b3BUb2tlbiB7XG4gICAgaWQ7XG4gICAgYmxuZDtcbiAgICB1c2RjO1xuICAgIHNoYXJlcztcbiAgICBibG5kUGVyTHBUb2tlbjtcbiAgICB1c2RjUGVyTHBUb2tlbjtcbiAgICBscFRva2VuUHJpY2U7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGFkZHJlc3Mgb2YgdGhlIGNvbWV0IHBvb2xcbiAgICAgKi9cbiAgICBpZCwgXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBCTE5EIGluIHRoZSBjb21ldCBMUFxuICAgICAqL1xuICAgIGJsbmQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgVVNEQyBpbiB0aGUgY29tZXQgTFBcbiAgICAgKi9cbiAgICB1c2RjLCBcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHNoYXJlcyBpbiB0aGUgY29tZXQgTFBcbiAgICAgKi9cbiAgICBzaGFyZXMsIFxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgQkxORCBwZXIgTFAgdG9rZW5cbiAgICAgKi9cbiAgICBibG5kUGVyTHBUb2tlbiwgXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBVU0RDIHBlciBMUCB0b2tlblxuICAgICAqL1xuICAgIHVzZGNQZXJMcFRva2VuLCBcbiAgICAvKipcbiAgICAgKiBUaGUgcHJpY2Ugb2YgdGhlIExQIHRva2VuIGluIFVTRENcbiAgICAgKi9cbiAgICBscFRva2VuUHJpY2UpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmJsbmQgPSBibG5kO1xuICAgICAgICB0aGlzLnVzZGMgPSB1c2RjO1xuICAgICAgICB0aGlzLnNoYXJlcyA9IHNoYXJlcztcbiAgICAgICAgdGhpcy5ibG5kUGVyTHBUb2tlbiA9IGJsbmRQZXJMcFRva2VuO1xuICAgICAgICB0aGlzLnVzZGNQZXJMcFRva2VuID0gdXNkY1BlckxwVG9rZW47XG4gICAgICAgIHRoaXMubHBUb2tlblByaWNlID0gbHBUb2tlblByaWNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBiYWNrc3RvcCB0b2tlbiBkYXRhIGZyb20gdGhlIGxlZGdlclxuICAgICAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgaW5mb3JtYXRpb24gdG8gbG9hZCB0aGUgYmFja3N0b3AgZnJvbVxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBjb250cmFjdCBhZGRyZXNzIG9mIHRoZSBiYWNrc3RvcFxuICAgICAqIEByZXR1cm5zIC0gVGhlIGJhY2tzdG9wIHRva2VuIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIGlkLCBibG5kVGtuLCB1c2RjVGtuKSB7XG4gICAgICAgIGNvbnN0IHN0ZWxsYXJScGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICAgICAgY29uc3QgcmVjb3JkRGF0YUtleSA9IHhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyB4ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgIGNvbnRyYWN0OiBBZGRyZXNzLmZyb21TdHJpbmcoaWQpLnRvU2NBZGRyZXNzKCksXG4gICAgICAgICAgICBrZXk6IHhkci5TY1ZhbC5zY3ZWZWMoW3hkci5TY1ZhbC5zY3ZTeW1ib2woJ0FsbFJlY29yZERhdGEnKV0pLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IHRvdGFsU2hhcmVzS2V5ID0geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhpZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlZlYyhbeGRyLlNjVmFsLnNjdlN5bWJvbCgnVG90YWxTaGFyZXMnKV0pLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGxlZGdlckVudHJpZXNSZXNwID0gYXdhaXQgc3RlbGxhclJwYy5nZXRMZWRnZXJFbnRyaWVzKHJlY29yZERhdGFLZXksIHRvdGFsU2hhcmVzS2V5KTtcbiAgICAgICAgbGV0IGJsbmQ7XG4gICAgICAgIGxldCB1c2RjO1xuICAgICAgICBsZXQgdG90YWxTaGFyZXM7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgbGVkZ2VyRW50cmllc1Jlc3AuZW50cmllcykge1xuICAgICAgICAgICAgY29uc3QgbGVkZ2VyRGF0YSA9IGVudHJ5LnZhbDtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KGxlZGdlckRhdGEuY29udHJhY3REYXRhKCkua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdBbGxSZWNvcmREYXRhJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNvcmRzID0gc2NWYWxUb05hdGl2ZShsZWRnZXJEYXRhLmNvbnRyYWN0RGF0YSgpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZHMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG5kID0gcmVjb3Jkc1tibG5kVGtuXT8uYmFsYW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZGMgPSByZWNvcmRzW3VzZGNUa25dPy5iYWxhbmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdUb3RhbFNoYXJlcyc6XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsU2hhcmVzID0gc2NWYWxUb05hdGl2ZShsZWRnZXJEYXRhLmNvbnRyYWN0RGF0YSgpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGJhY2tzdG9wIHBvb2wga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJsbmQgPT09IHVuZGVmaW5lZCB8fCB1c2RjID09PSB1bmRlZmluZWQgfHwgdG90YWxTaGFyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJhY2tzdG9wIHRva2VuIGRhdGEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG5kUGVyTHBUb2tlbiA9IE51bWJlcihibG5kKSAvIE51bWJlcih0b3RhbFNoYXJlcyk7XG4gICAgICAgIGNvbnN0IHVzZGNQZXJMcFRva2VuID0gTnVtYmVyKHVzZGMpIC8gTnVtYmVyKHRvdGFsU2hhcmVzKTtcbiAgICAgICAgY29uc3QgbHBUb2tlblByaWNlID0gKE51bWJlcih1c2RjKSAqIDUpIC8gTnVtYmVyKHRvdGFsU2hhcmVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCYWNrc3RvcFRva2VuKGlkLCBibG5kLCB1c2RjLCB0b3RhbFNoYXJlcywgYmxuZFBlckxwVG9rZW4sIHVzZGNQZXJMcFRva2VuLCBscFRva2VuUHJpY2UpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_token.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_user_types.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_user_types.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackstopUserEmissions: () => (/* binding */ BackstopUserEmissions),\n/* harmony export */   UserBalance: () => (/* binding */ UserBalance),\n/* harmony export */   getPoolFromBackstopLedgerData: () => (/* binding */ getPoolFromBackstopLedgerData)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _emissions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../emissions.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\n\nclass UserBalance {\n    shares;\n    q4w;\n    unlockedQ4W;\n    totalQ4W;\n    constructor(shares, q4w, unlockedQ4W, totalQ4W) {\n        this.shares = shares;\n        this.q4w = q4w;\n        this.unlockedQ4W = unlockedQ4W;\n        this.totalQ4W = totalQ4W;\n    }\n    static ledgerKey(backstopId, poolId, userId) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('UserBalance'),\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvMap([\n                    new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n                        key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('pool'),\n                        val: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScVal(),\n                    }),\n                    new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n                        key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('user'),\n                        val: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(userId).toScVal(),\n                    }),\n                ]),\n            ]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n    static fromLedgerEntryData(ledger_entry_data, timestamp) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const data_entry_map = ledger_entry_data.contractData().val().map();\n        if (data_entry_map == undefined) {\n            throw Error('UserBalance contract data value is not a map');\n        }\n        let shares = BigInt(0);\n        const q4w = [];\n        let unlockedQ4W = BigInt(0);\n        let totalQ4W = BigInt(0);\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'shares':\n                    shares = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'q4w':\n                    map_entry\n                        .val()\n                        .vec()\n                        ?.map((entry) => {\n                        const q4w_array = entry.map();\n                        let amount;\n                        let exp;\n                        for (const q4wEntry of q4w_array ?? []) {\n                            const q4wKey = q4wEntry.key().sym().toString();\n                            switch (q4wKey) {\n                                case 'amount':\n                                    amount = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(q4wEntry.val());\n                                    break;\n                                case 'exp':\n                                    exp = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(q4wEntry.val());\n                                    break;\n                                default:\n                                    throw Error(`Invalid Q4W key: should not contain ${q4wKey}`);\n                            }\n                        }\n                        if (amount == undefined || exp == undefined) {\n                            throw Error(`Malformed Q4W scvMap`);\n                        }\n                        totalQ4W += amount;\n                        if (BigInt(timestamp) > exp) {\n                            unlockedQ4W += amount;\n                        }\n                        else {\n                            q4w.push({ amount, exp });\n                        }\n                    });\n                    break;\n                default:\n                    throw Error(`Invalid backstop UserBalance key: should not contain ${key}`);\n            }\n        }\n        return new UserBalance(shares, q4w, unlockedQ4W, totalQ4W);\n    }\n}\nclass BackstopUserEmissions extends _emissions_js__WEBPACK_IMPORTED_MODULE_1__.UserEmissions {\n    static ledgerKey(backstopId, poolId, userId) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(backstopId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('UEmisData'),\n                _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvMap([\n                    new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n                        key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('pool'),\n                        val: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScVal(),\n                    }),\n                    new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n                        key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('user'),\n                        val: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(userId).toScVal(),\n                    }),\n                ]),\n            ]),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n}\nfunction getPoolFromBackstopLedgerData(ledger_entry_data) {\n    if (typeof ledger_entry_data == 'string') {\n        ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n    }\n    const pool_address = ledger_entry_data\n        ?.contractData()\n        ?.key()\n        ?.vec()\n        ?.at(1)\n        ?.map()\n        ?.at(0)\n        ?.val()\n        ?.address();\n    if (pool_address == undefined) {\n        throw new Error(\"Invalid userEmissionData: should contain 'reserve_id'\");\n    }\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScAddress(pool_address).toString();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9iYWNrc3RvcF91c2VyX3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRTtBQUNuQjtBQUNXO0FBQ3BEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQUcsNEJBQTRCLHFEQUFHO0FBQ2pELHNCQUFzQix5REFBTztBQUM3QixpQkFBaUIscURBQUc7QUFDcEIsZ0JBQWdCLHFEQUFHO0FBQ25CLGdCQUFnQixxREFBRztBQUNuQix3QkFBd0IscURBQUc7QUFDM0IsNkJBQTZCLHFEQUFHO0FBQ2hDLDZCQUE2Qix5REFBTztBQUNwQyxxQkFBcUI7QUFDckIsd0JBQXdCLHFEQUFHO0FBQzNCLDZCQUE2QixxREFBRztBQUNoQyw2QkFBNkIseURBQU87QUFDcEMscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSx3QkFBd0IscURBQUc7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0EsNkJBQTZCLG1FQUFhO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG1FQUFhO0FBQzFEO0FBQ0E7QUFDQSwwQ0FBMEMsbUVBQWE7QUFDdkQ7QUFDQTtBQUNBLHVGQUF1RixPQUFPO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGFBQWE7QUFDcEQ7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHdGQUF3RixJQUFJO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxvQ0FBb0Msd0RBQWE7QUFDeEQ7QUFDQSxlQUFlLHFEQUFHLDRCQUE0QixxREFBRztBQUNqRCxzQkFBc0IseURBQU87QUFDN0IsaUJBQWlCLHFEQUFHO0FBQ3BCLGdCQUFnQixxREFBRztBQUNuQixnQkFBZ0IscURBQUc7QUFDbkIsd0JBQXdCLHFEQUFHO0FBQzNCLDZCQUE2QixxREFBRztBQUNoQyw2QkFBNkIseURBQU87QUFDcEMscUJBQXFCO0FBQ3JCLHdCQUF3QixxREFBRztBQUMzQiw2QkFBNkIscURBQUc7QUFDaEMsNkJBQTZCLHlEQUFPO0FBQ3BDLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFHO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUDtBQUNBLDRCQUE0QixxREFBRztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseURBQU87QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL2JhY2tzdG9wL2JhY2tzdG9wX3VzZXJfdHlwZXMuanM/OTNmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCBzY1ZhbFRvTmF0aXZlLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBVc2VyRW1pc3Npb25zIH0gZnJvbSAnLi4vZW1pc3Npb25zLmpzJztcbmltcG9ydCB7IGRlY29kZUVudHJ5S2V5IH0gZnJvbSAnLi4vbGVkZ2VyX2VudHJ5X2hlbHBlci5qcyc7XG5leHBvcnQgY2xhc3MgVXNlckJhbGFuY2Uge1xuICAgIHNoYXJlcztcbiAgICBxNHc7XG4gICAgdW5sb2NrZWRRNFc7XG4gICAgdG90YWxRNFc7XG4gICAgY29uc3RydWN0b3Ioc2hhcmVzLCBxNHcsIHVubG9ja2VkUTRXLCB0b3RhbFE0Vykge1xuICAgICAgICB0aGlzLnNoYXJlcyA9IHNoYXJlcztcbiAgICAgICAgdGhpcy5xNHcgPSBxNHc7XG4gICAgICAgIHRoaXMudW5sb2NrZWRRNFcgPSB1bmxvY2tlZFE0VztcbiAgICAgICAgdGhpcy50b3RhbFE0VyA9IHRvdGFsUTRXO1xuICAgIH1cbiAgICBzdGF0aWMgbGVkZ2VyS2V5KGJhY2tzdG9wSWQsIHBvb2xJZCwgdXNlcklkKSB7XG4gICAgICAgIHJldHVybiB4ZHIuTGVkZ2VyS2V5LmNvbnRyYWN0RGF0YShuZXcgeGRyLkxlZGdlcktleUNvbnRyYWN0RGF0YSh7XG4gICAgICAgICAgICBjb250cmFjdDogQWRkcmVzcy5mcm9tU3RyaW5nKGJhY2tzdG9wSWQpLnRvU2NBZGRyZXNzKCksXG4gICAgICAgICAgICBrZXk6IHhkci5TY1ZhbC5zY3ZWZWMoW1xuICAgICAgICAgICAgICAgIHhkci5TY1ZhbC5zY3ZTeW1ib2woJ1VzZXJCYWxhbmNlJyksXG4gICAgICAgICAgICAgICAgeGRyLlNjVmFsLnNjdk1hcChbXG4gICAgICAgICAgICAgICAgICAgIG5ldyB4ZHIuU2NNYXBFbnRyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHhkci5TY1ZhbC5zY3ZTeW1ib2woJ3Bvb2wnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogQWRkcmVzcy5mcm9tU3RyaW5nKHBvb2xJZCkudG9TY1ZhbCgpLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IHhkci5TY01hcEVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlN5bWJvbCgndXNlcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiBBZGRyZXNzLmZyb21TdHJpbmcodXNlcklkKS50b1NjVmFsKCksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBkdXJhYmlsaXR5OiB4ZHIuQ29udHJhY3REYXRhRHVyYWJpbGl0eS5wZXJzaXN0ZW50KCksXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyX2VudHJ5X2RhdGEsIHRpbWVzdGFtcCkge1xuICAgICAgICBpZiAodHlwZW9mIGxlZGdlcl9lbnRyeV9kYXRhID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsZWRnZXJfZW50cnlfZGF0YSA9IHhkci5MZWRnZXJFbnRyeURhdGEuZnJvbVhEUihsZWRnZXJfZW50cnlfZGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGFfZW50cnlfbWFwID0gbGVkZ2VyX2VudHJ5X2RhdGEuY29udHJhY3REYXRhKCkudmFsKCkubWFwKCk7XG4gICAgICAgIGlmIChkYXRhX2VudHJ5X21hcCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdVc2VyQmFsYW5jZSBjb250cmFjdCBkYXRhIHZhbHVlIGlzIG5vdCBhIG1hcCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaGFyZXMgPSBCaWdJbnQoMCk7XG4gICAgICAgIGNvbnN0IHE0dyA9IFtdO1xuICAgICAgICBsZXQgdW5sb2NrZWRRNFcgPSBCaWdJbnQoMCk7XG4gICAgICAgIGxldCB0b3RhbFE0VyA9IEJpZ0ludCgwKTtcbiAgICAgICAgZm9yIChjb25zdCBtYXBfZW50cnkgb2YgZGF0YV9lbnRyeV9tYXApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KG1hcF9lbnRyeS5rZXkoKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NoYXJlcyc6XG4gICAgICAgICAgICAgICAgICAgIHNoYXJlcyA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncTR3JzpcbiAgICAgICAgICAgICAgICAgICAgbWFwX2VudHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAudmFsKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC52ZWMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgPy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxNHdfYXJyYXkgPSBlbnRyeS5tYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXhwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBxNHdFbnRyeSBvZiBxNHdfYXJyYXkgPz8gW10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxNHdLZXkgPSBxNHdFbnRyeS5rZXkoKS5zeW0oKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocTR3S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Ftb3VudCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQgPSBzY1ZhbFRvTmF0aXZlKHE0d0VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdleHAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwID0gc2NWYWxUb05hdGl2ZShxNHdFbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIFE0VyBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke3E0d0tleX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW1vdW50ID09IHVuZGVmaW5lZCB8fCBleHAgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYE1hbGZvcm1lZCBRNFcgc2N2TWFwYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFE0VyArPSBhbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQmlnSW50KHRpbWVzdGFtcCkgPiBleHApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmxvY2tlZFE0VyArPSBhbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxNHcucHVzaCh7IGFtb3VudCwgZXhwIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgYmFja3N0b3AgVXNlckJhbGFuY2Uga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBVc2VyQmFsYW5jZShzaGFyZXMsIHE0dywgdW5sb2NrZWRRNFcsIHRvdGFsUTRXKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFja3N0b3BVc2VyRW1pc3Npb25zIGV4dGVuZHMgVXNlckVtaXNzaW9ucyB7XG4gICAgc3RhdGljIGxlZGdlcktleShiYWNrc3RvcElkLCBwb29sSWQsIHVzZXJJZCkge1xuICAgICAgICByZXR1cm4geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhiYWNrc3RvcElkKS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2VmVjKFtcbiAgICAgICAgICAgICAgICB4ZHIuU2NWYWwuc2N2U3ltYm9sKCdVRW1pc0RhdGEnKSxcbiAgICAgICAgICAgICAgICB4ZHIuU2NWYWwuc2N2TWFwKFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IHhkci5TY01hcEVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlN5bWJvbCgncG9vbCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiBBZGRyZXNzLmZyb21TdHJpbmcocG9vbElkKS50b1NjVmFsKCksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgeGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2U3ltYm9sKCd1c2VyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWw6IEFkZHJlc3MuZnJvbVN0cmluZyh1c2VySWQpLnRvU2NWYWwoKSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkci5Db250cmFjdERhdGFEdXJhYmlsaXR5LnBlcnNpc3RlbnQoKSxcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb29sRnJvbUJhY2tzdG9wTGVkZ2VyRGF0YShsZWRnZXJfZW50cnlfZGF0YSkge1xuICAgIGlmICh0eXBlb2YgbGVkZ2VyX2VudHJ5X2RhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgbGVkZ2VyX2VudHJ5X2RhdGEgPSB4ZHIuTGVkZ2VyRW50cnlEYXRhLmZyb21YRFIobGVkZ2VyX2VudHJ5X2RhdGEsICdiYXNlNjQnKTtcbiAgICB9XG4gICAgY29uc3QgcG9vbF9hZGRyZXNzID0gbGVkZ2VyX2VudHJ5X2RhdGFcbiAgICAgICAgPy5jb250cmFjdERhdGEoKVxuICAgICAgICA/LmtleSgpXG4gICAgICAgID8udmVjKClcbiAgICAgICAgPy5hdCgxKVxuICAgICAgICA/Lm1hcCgpXG4gICAgICAgID8uYXQoMClcbiAgICAgICAgPy52YWwoKVxuICAgICAgICA/LmFkZHJlc3MoKTtcbiAgICBpZiAocG9vbF9hZGRyZXNzID09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVzZXJFbWlzc2lvbkRhdGE6IHNob3VsZCBjb250YWluICdyZXNlcnZlX2lkJ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIEFkZHJlc3MuZnJvbVNjQWRkcmVzcyhwb29sX2FkZHJlc3MpLnRvU3RyaW5nKCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_user_types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/index.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/index.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Backstop: () => (/* reexport safe */ _backstop_js__WEBPACK_IMPORTED_MODULE_1__.Backstop),\n/* harmony export */   BackstopConfig: () => (/* reexport safe */ _backstop_config_js__WEBPACK_IMPORTED_MODULE_2__.BackstopConfig),\n/* harmony export */   BackstopContract: () => (/* reexport safe */ _backstop_contract_js__WEBPACK_IMPORTED_MODULE_3__.BackstopContract),\n/* harmony export */   BackstopContractV1: () => (/* reexport safe */ _backstop_contract_js__WEBPACK_IMPORTED_MODULE_3__.BackstopContractV1),\n/* harmony export */   BackstopContractV2: () => (/* reexport safe */ _backstop_contract_js__WEBPACK_IMPORTED_MODULE_3__.BackstopContractV2),\n/* harmony export */   BackstopDataKeyToXDR: () => (/* binding */ BackstopDataKeyToXDR),\n/* harmony export */   BackstopEmissionConfig: () => (/* reexport safe */ _backstop_pool_js__WEBPACK_IMPORTED_MODULE_5__.BackstopEmissionConfig),\n/* harmony export */   BackstopEmissionData: () => (/* reexport safe */ _backstop_pool_js__WEBPACK_IMPORTED_MODULE_5__.BackstopEmissionData),\n/* harmony export */   BackstopEventType: () => (/* reexport safe */ _backstop_events_js__WEBPACK_IMPORTED_MODULE_4__.BackstopEventType),\n/* harmony export */   BackstopPool: () => (/* reexport safe */ _backstop_pool_js__WEBPACK_IMPORTED_MODULE_5__.BackstopPool),\n/* harmony export */   BackstopPoolEst: () => (/* reexport safe */ _backstop_pool_est_js__WEBPACK_IMPORTED_MODULE_6__.BackstopPoolEst),\n/* harmony export */   BackstopPoolUser: () => (/* reexport safe */ _backstop_pool_user_js__WEBPACK_IMPORTED_MODULE_7__.BackstopPoolUser),\n/* harmony export */   BackstopPoolUserEst: () => (/* reexport safe */ _backstop_pool_user_est_js__WEBPACK_IMPORTED_MODULE_8__.BackstopPoolUserEst),\n/* harmony export */   BackstopPoolV1: () => (/* reexport safe */ _backstop_pool_js__WEBPACK_IMPORTED_MODULE_5__.BackstopPoolV1),\n/* harmony export */   BackstopPoolV2: () => (/* reexport safe */ _backstop_pool_js__WEBPACK_IMPORTED_MODULE_5__.BackstopPoolV2),\n/* harmony export */   BackstopToken: () => (/* reexport safe */ _backstop_token_js__WEBPACK_IMPORTED_MODULE_9__.BackstopToken),\n/* harmony export */   BackstopUserEmissions: () => (/* reexport safe */ _backstop_user_types_js__WEBPACK_IMPORTED_MODULE_10__.BackstopUserEmissions),\n/* harmony export */   PoolBalance: () => (/* reexport safe */ _backstop_pool_js__WEBPACK_IMPORTED_MODULE_5__.PoolBalance),\n/* harmony export */   PoolUserKeyToXDR: () => (/* binding */ PoolUserKeyToXDR),\n/* harmony export */   UserBalance: () => (/* reexport safe */ _backstop_user_types_js__WEBPACK_IMPORTED_MODULE_10__.UserBalance),\n/* harmony export */   backstopEventV1FromEventResponse: () => (/* reexport safe */ _backstop_events_js__WEBPACK_IMPORTED_MODULE_4__.backstopEventV1FromEventResponse),\n/* harmony export */   backstopEventV2FromEventResponse: () => (/* reexport safe */ _backstop_events_js__WEBPACK_IMPORTED_MODULE_4__.backstopEventV2FromEventResponse),\n/* harmony export */   getPoolFromBackstopLedgerData: () => (/* reexport safe */ _backstop_user_types_js__WEBPACK_IMPORTED_MODULE_10__.getPoolFromBackstopLedgerData)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _backstop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./backstop.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop.js\");\n/* harmony import */ var _backstop_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./backstop_config.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_config.js\");\n/* harmony import */ var _backstop_contract_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./backstop_contract.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_contract.js\");\n/* harmony import */ var _backstop_events_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./backstop_events.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_events.js\");\n/* harmony import */ var _backstop_pool_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./backstop_pool.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool.js\");\n/* harmony import */ var _backstop_pool_est_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./backstop_pool_est.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_est.js\");\n/* harmony import */ var _backstop_pool_user_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./backstop_pool_user.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_user.js\");\n/* harmony import */ var _backstop_pool_user_est_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./backstop_pool_user_est.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_pool_user_est.js\");\n/* harmony import */ var _backstop_token_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./backstop_token.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_token.js\");\n/* harmony import */ var _backstop_user_types_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./backstop_user_types.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/backstop_user_types.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction PoolUserKeyToXDR(poolUserKey) {\n    if (!poolUserKey) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVoid();\n    }\n    const arr = [\n        new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n            key: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('pool'),\n            val: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(poolUserKey.pool),\n        }),\n        new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n            key: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('user'),\n            val: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(poolUserKey.user),\n        }),\n    ];\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvMap(arr);\n}\nfunction BackstopDataKeyToXDR(backstopDataKey) {\n    if (!backstopDataKey) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVoid();\n    }\n    const res = [];\n    switch (backstopDataKey.tag) {\n        case 'Emitter':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Emitter');\n        case 'BToken':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('BToken');\n        case 'PoolFact':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('PoolFact');\n        case 'BLNDTkn':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('BLNDTkn');\n        case 'USDCTkn':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('USDCTkn');\n        case 'RZ':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('RZ');\n        case 'RZEmissionIndex':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('RZEmissionIndex');\n        case 'BackfillEmis':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('BackfillEmis');\n        case 'Backfill':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Backfill');\n        case 'LastDist':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('LastDist');\n        case 'UserBalance':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('UserBalance'));\n            res.push(...((i) => [((i) => PoolUserKeyToXDR(i))(i[0])])(backstopDataKey.values));\n            break;\n        case 'PoolBalance':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('PoolBalance'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(backstopDataKey.values));\n            break;\n        case 'PoolUSDC':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('PoolUSDC'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(backstopDataKey.values));\n            break;\n        case 'RzEmisData':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('RzEmisData'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(backstopDataKey.values));\n            break;\n        case 'PoolEPS':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('PoolEPS'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(backstopDataKey.values));\n            break;\n        case 'BEmisCfg':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('BEmisCfg'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(backstopDataKey.values));\n            break;\n        case 'BEmisData':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('BEmisData'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(backstopDataKey.values));\n            break;\n        case 'UEmisData':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('UEmisData'));\n            res.push(...((i) => [((i) => PoolUserKeyToXDR(i))(i[0])])(backstopDataKey.values));\n            break;\n    }\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYWNrc3RvcC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ3RCO0FBQ087QUFDRTtBQUNGO0FBQ0Y7QUFDSTtBQUNDO0FBQ0k7QUFDUjtBQUNLO0FBQ2xDO0FBQ1A7QUFDQSxlQUFlLHFEQUFHO0FBQ2xCO0FBQ0E7QUFDQSxZQUFZLHFEQUFHO0FBQ2YseUJBQXlCLHFEQUFHO0FBQzVCLHlCQUF5Qix5REFBTztBQUNoQyxTQUFTO0FBQ1QsWUFBWSxxREFBRztBQUNmLHlCQUF5QixxREFBRztBQUM1Qix5QkFBeUIseURBQU87QUFDaEMsU0FBUztBQUNUO0FBQ0EsV0FBVyxxREFBRztBQUNkO0FBQ087QUFDUDtBQUNBLGVBQWUscURBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSwyQkFBMkIscURBQUc7QUFDOUI7QUFDQSw2QkFBNkIscURBQUc7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQUc7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vYmFja3N0b3AvaW5kZXguanM/MDYxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5leHBvcnQgKiBmcm9tICcuL2JhY2tzdG9wLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYmFja3N0b3BfY29uZmlnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYmFja3N0b3BfY29udHJhY3QuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9iYWNrc3RvcF9ldmVudHMuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9iYWNrc3RvcF9wb29sLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYmFja3N0b3BfcG9vbF9lc3QuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9iYWNrc3RvcF9wb29sX3VzZXIuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9iYWNrc3RvcF9wb29sX3VzZXJfZXN0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYmFja3N0b3BfdG9rZW4uanMnO1xuZXhwb3J0ICogZnJvbSAnLi9iYWNrc3RvcF91c2VyX3R5cGVzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBQb29sVXNlcktleVRvWERSKHBvb2xVc2VyS2V5KSB7XG4gICAgaWYgKCFwb29sVXNlcktleSkge1xuICAgICAgICByZXR1cm4geGRyLlNjVmFsLnNjdlZvaWQoKTtcbiAgICB9XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICBuZXcgeGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgICAga2V5OiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdwb29sJyksXG4gICAgICAgICAgICB2YWw6ICgoaSkgPT4gQWRkcmVzcy5mcm9tU3RyaW5nKGkpLnRvU2NWYWwoKSkocG9vbFVzZXJLZXkucG9vbCksXG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgeGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgICAga2V5OiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCd1c2VyJyksXG4gICAgICAgICAgICB2YWw6ICgoaSkgPT4gQWRkcmVzcy5mcm9tU3RyaW5nKGkpLnRvU2NWYWwoKSkocG9vbFVzZXJLZXkudXNlciksXG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgcmV0dXJuIHhkci5TY1ZhbC5zY3ZNYXAoYXJyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBCYWNrc3RvcERhdGFLZXlUb1hEUihiYWNrc3RvcERhdGFLZXkpIHtcbiAgICBpZiAoIWJhY2tzdG9wRGF0YUtleSkge1xuICAgICAgICByZXR1cm4geGRyLlNjVmFsLnNjdlZvaWQoKTtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgc3dpdGNoIChiYWNrc3RvcERhdGFLZXkudGFnKSB7XG4gICAgICAgIGNhc2UgJ0VtaXR0ZXInOlxuICAgICAgICAgICAgcmV0dXJuICgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ0VtaXR0ZXInKTtcbiAgICAgICAgY2FzZSAnQlRva2VuJzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdCVG9rZW4nKTtcbiAgICAgICAgY2FzZSAnUG9vbEZhY3QnOlxuICAgICAgICAgICAgcmV0dXJuICgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ1Bvb2xGYWN0Jyk7XG4gICAgICAgIGNhc2UgJ0JMTkRUa24nOlxuICAgICAgICAgICAgcmV0dXJuICgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ0JMTkRUa24nKTtcbiAgICAgICAgY2FzZSAnVVNEQ1Rrbic6XG4gICAgICAgICAgICByZXR1cm4gKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnVVNEQ1RrbicpO1xuICAgICAgICBjYXNlICdSWic6XG4gICAgICAgICAgICByZXR1cm4gKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnUlonKTtcbiAgICAgICAgY2FzZSAnUlpFbWlzc2lvbkluZGV4JzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdSWkVtaXNzaW9uSW5kZXgnKTtcbiAgICAgICAgY2FzZSAnQmFja2ZpbGxFbWlzJzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdCYWNrZmlsbEVtaXMnKTtcbiAgICAgICAgY2FzZSAnQmFja2ZpbGwnOlxuICAgICAgICAgICAgcmV0dXJuICgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ0JhY2tmaWxsJyk7XG4gICAgICAgIGNhc2UgJ0xhc3REaXN0JzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdMYXN0RGlzdCcpO1xuICAgICAgICBjYXNlICdVc2VyQmFsYW5jZSc6XG4gICAgICAgICAgICByZXMucHVzaCgoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdVc2VyQmFsYW5jZScpKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKC4uLigoaSkgPT4gWygoaSkgPT4gUG9vbFVzZXJLZXlUb1hEUihpKSkoaVswXSldKShiYWNrc3RvcERhdGFLZXkudmFsdWVzKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUG9vbEJhbGFuY2UnOlxuICAgICAgICAgICAgcmVzLnB1c2goKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnUG9vbEJhbGFuY2UnKSk7XG4gICAgICAgICAgICByZXMucHVzaCguLi4oKGkpID0+IFsoKGkpID0+IEFkZHJlc3MuZnJvbVN0cmluZyhpKS50b1NjVmFsKCkpKGlbMF0pXSkoYmFja3N0b3BEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1Bvb2xVU0RDJzpcbiAgICAgICAgICAgIHJlcy5wdXNoKCgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ1Bvb2xVU0RDJykpO1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uKChpKSA9PiBbKChpKSA9PiBBZGRyZXNzLmZyb21TdHJpbmcoaSkudG9TY1ZhbCgpKShpWzBdKV0pKGJhY2tzdG9wRGF0YUtleS52YWx1ZXMpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdSekVtaXNEYXRhJzpcbiAgICAgICAgICAgIHJlcy5wdXNoKCgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ1J6RW1pc0RhdGEnKSk7XG4gICAgICAgICAgICByZXMucHVzaCguLi4oKGkpID0+IFsoKGkpID0+IEFkZHJlc3MuZnJvbVN0cmluZyhpKS50b1NjVmFsKCkpKGlbMF0pXSkoYmFja3N0b3BEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1Bvb2xFUFMnOlxuICAgICAgICAgICAgcmVzLnB1c2goKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnUG9vbEVQUycpKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKC4uLigoaSkgPT4gWygoaSkgPT4gQWRkcmVzcy5mcm9tU3RyaW5nKGkpLnRvU2NWYWwoKSkoaVswXSldKShiYWNrc3RvcERhdGFLZXkudmFsdWVzKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQkVtaXNDZmcnOlxuICAgICAgICAgICAgcmVzLnB1c2goKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnQkVtaXNDZmcnKSk7XG4gICAgICAgICAgICByZXMucHVzaCguLi4oKGkpID0+IFsoKGkpID0+IEFkZHJlc3MuZnJvbVN0cmluZyhpKS50b1NjVmFsKCkpKGlbMF0pXSkoYmFja3N0b3BEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0JFbWlzRGF0YSc6XG4gICAgICAgICAgICByZXMucHVzaCgoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdCRW1pc0RhdGEnKSk7XG4gICAgICAgICAgICByZXMucHVzaCguLi4oKGkpID0+IFsoKGkpID0+IEFkZHJlc3MuZnJvbVN0cmluZyhpKS50b1NjVmFsKCkpKGlbMF0pXSkoYmFja3N0b3BEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1VFbWlzRGF0YSc6XG4gICAgICAgICAgICByZXMucHVzaCgoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdVRW1pc0RhdGEnKSk7XG4gICAgICAgICAgICByZXMucHVzaCguLi4oKGkpID0+IFsoKGkpID0+IFBvb2xVc2VyS2V5VG9YRFIoaSkpKGlbMF0pXSkoYmFja3N0b3BEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB4ZHIuU2NWYWwuc2N2VmVjKHJlcyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/base_event.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/base_event.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlendContractType: () => (/* binding */ BlendContractType)\n/* harmony export */ });\nvar BlendContractType;\n(function (BlendContractType) {\n    BlendContractType[\"Backstop\"] = \"backstop\";\n    BlendContractType[\"Emitter\"] = \"emitter\";\n    BlendContractType[\"Pool\"] = \"pool\";\n    BlendContractType[\"PoolFactory\"] = \"pool_factory\";\n})(BlendContractType || (BlendContractType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9iYXNlX2V2ZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vYmFzZV9ldmVudC5qcz9iNWZmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgQmxlbmRDb250cmFjdFR5cGU7XG4oZnVuY3Rpb24gKEJsZW5kQ29udHJhY3RUeXBlKSB7XG4gICAgQmxlbmRDb250cmFjdFR5cGVbXCJCYWNrc3RvcFwiXSA9IFwiYmFja3N0b3BcIjtcbiAgICBCbGVuZENvbnRyYWN0VHlwZVtcIkVtaXR0ZXJcIl0gPSBcImVtaXR0ZXJcIjtcbiAgICBCbGVuZENvbnRyYWN0VHlwZVtcIlBvb2xcIl0gPSBcInBvb2xcIjtcbiAgICBCbGVuZENvbnRyYWN0VHlwZVtcIlBvb2xGYWN0b3J5XCJdID0gXCJwb29sX2ZhY3RvcnlcIjtcbn0pKEJsZW5kQ29udHJhY3RUeXBlIHx8IChCbGVuZENvbnRyYWN0VHlwZSA9IHt9KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/base_event.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmissionConfig: () => (/* binding */ EmissionConfig),\n/* harmony export */   EmissionData: () => (/* binding */ EmissionData),\n/* harmony export */   EmissionDataV2: () => (/* binding */ EmissionDataV2),\n/* harmony export */   Emissions: () => (/* binding */ Emissions),\n/* harmony export */   EmissionsV1: () => (/* binding */ EmissionsV1),\n/* harmony export */   EmissionsV2: () => (/* binding */ EmissionsV2),\n/* harmony export */   UserEmissions: () => (/* binding */ UserEmissions)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./math.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js\");\n//! Base classes for emission data\n\n\n\n/********** Emission Source **********/\nclass Emissions {\n    expiration;\n    eps;\n    index;\n    lastTime;\n    latestLedger;\n    constructor(expiration, eps, index, lastTime, latestLedger) {\n        this.expiration = expiration;\n        this.eps = eps;\n        this.index = index;\n        this.lastTime = lastTime;\n        this.latestLedger = latestLedger;\n    }\n    /**\n     * Accrue emissions to the provided timestamp\n     * @param supply - The total supply of the token being emitted to\n     * @param decimals - The decimals of the token being emitted to\n     * @param timestamp - The timestamp to accrue to. Defaults to the current time if not provided\n     */\n    accrue(supply, decimals, timestamp) {\n        if (timestamp == undefined) {\n            timestamp = Math.floor(Date.now() / 1000);\n        }\n        if (this.lastTime >= this.expiration ||\n            this.lastTime >= timestamp ||\n            this.eps === BigInt(0) ||\n            supply === BigInt(0)) {\n            return;\n        }\n        const ledgerTimestamp = timestamp > this.expiration ? this.expiration : timestamp;\n        const additionalIndex = _math_js__WEBPACK_IMPORTED_MODULE_2__.divFloor(BigInt(ledgerTimestamp - this.lastTime) * this.eps, supply, _math_js__WEBPACK_IMPORTED_MODULE_2__.toFixed(1, decimals));\n        this.index += additionalIndex;\n    }\n    /**\n     * Calculate the emissions per year per token as a float.\n     * @param supply - The total supply of the token being emitted to\n     * @param decimals - The decimals of the token being emitted to. Defaults to 7.\n     * @returns The emissions per year per token as a float\n     */\n    emissionsPerYearPerToken(supply, decimals) {\n        if (this.expiration <= Math.floor(Date.now() / 1000)) {\n            return 0;\n        }\n        const supplyFloat = _math_js__WEBPACK_IMPORTED_MODULE_2__.toFloat(supply, decimals);\n        if (supplyFloat === 0) {\n            return 0;\n        }\n        const totalEmissions = _math_js__WEBPACK_IMPORTED_MODULE_2__.toFloat(this.eps, this.epsDecimals) * 31536000;\n        return totalEmissions / supplyFloat;\n    }\n}\nclass EmissionsV1 extends Emissions {\n    constructor(config, data, latestLedger) {\n        super(config.expiration, config.eps, data.index, data.lastTime, latestLedger);\n    }\n    epsDecimals = 7;\n    /**\n     * Fetch the emissions for a token.\n     * @param network - The network to load the emissions from\n     * @param configLedgerKey - The LedgerLey for the config\n     * @param dataLedgerkey - The LedgerKey for the data\n     * @param totalSupply - The total supply of the token being emitted to\n     * @param decimals - The decimals of the token being emitted to\n     * @param timestamp - The timestamp to accrue to. Defaults to the current time if not provided\n     * @returns - The emissions if they exist, or undefined\n     * @throws - If the emission data exists but is malformed\n     */\n    static async load(network, configLedgerKey, dataLedgerkey, totalSupply, decimals, timestamp) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const entriesResponse = await stellarRpc.getLedgerEntries(configLedgerKey, dataLedgerkey);\n        if (entriesResponse.entries.length == 2) {\n            let emissionConfig = undefined;\n            let emissionData = undefined;\n            for (const entry of entriesResponse.entries) {\n                const ledgerData = entry.val;\n                const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerData.contractData().key());\n                switch (key) {\n                    case 'EmisConfig':\n                    case 'BEmisCfg':\n                        emissionConfig = EmissionConfig.fromLedgerEntryData(ledgerData);\n                        break;\n                    case 'EmisData':\n                    case 'BEmisData':\n                        emissionData = EmissionData.fromLedgerEntryData(ledgerData);\n                        break;\n                    default:\n                        throw Error(`Invalid emission key: should not contain ${key}`);\n                }\n            }\n            if (emissionData == undefined || emissionConfig == undefined) {\n                throw new Error(`Unable to load emissions`);\n            }\n            const emissions = new EmissionsV1(emissionConfig, emissionData, entriesResponse.latestLedger);\n            emissions.accrue(totalSupply, decimals, timestamp);\n            return emissions;\n        }\n        return undefined;\n    }\n}\n/**\n * Base class for emission data\n *\n * @property expiration - The timestamp the emissions expire\n * @property eps - The emissions per second\n * @property index - The last emission index\n * @property lastTime - The last time the emissions were updated\n */\nclass EmissionsV2 extends Emissions {\n    data;\n    latestLedger;\n    constructor(data, latestLedger) {\n        super(data.expiration, data.eps, data.index, data.lastTime, latestLedger);\n        this.data = data;\n        this.latestLedger = latestLedger;\n    }\n    epsDecimals = 14;\n    /**\n     * Fetch the emissions for a token.\n     * @param network - The network to load the emissions from\n     * @param configLedgerKey - The LedgerLey for the config\n     * @param dataLedgerkey - The LedgerKey for the data\n     * @param totalSupply - The total supply of the token being emitted to\n     * @param decimals - The decimals of the token being emitted to\n     * @param timestamp - The timestamp to accrue to. Defaults to the current time if not provided\n     * @returns - The emissions if they exist, or undefined\n     * @throws - If the emission data exists but is malformed\n     */\n    static async load(network, dataLedgerkey, totalSupply, decimals, timestamp) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const entriesResponse = await stellarRpc.getLedgerEntries(dataLedgerkey);\n        if (entriesResponse.entries.length == 1) {\n            let emissionData = undefined;\n            for (const entry of entriesResponse.entries) {\n                const ledgerData = entry.val;\n                const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerData.contractData().key());\n                switch (key) {\n                    case 'EmisData':\n                    case 'BEmisData':\n                        emissionData = EmissionDataV2.fromLedgerEntryData(ledgerData);\n                        break;\n                    default:\n                        throw Error(`Invalid emission key: should not contain ${key}`);\n                }\n            }\n            if (emissionData == undefined) {\n                throw new Error(`Unable to load emissions`);\n            }\n            const emissions = new EmissionsV2(emissionData, entriesResponse.latestLedger);\n            emissions.accrue(totalSupply, decimals, timestamp);\n            return emissions;\n        }\n        return undefined;\n    }\n}\n/**\n * The emission configuration\n *\n * @property eps - The emission per second\n * @property expiration - The expiration time of the emission\n */\nclass EmissionConfig {\n    eps;\n    expiration;\n    constructor(eps, expiration) {\n        this.eps = eps;\n        this.expiration = expiration;\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const data_entry_map = ledger_entry_data.contractData().val().map();\n        if (data_entry_map == undefined) {\n            throw Error('EmissionConfig contract data value is not a map');\n        }\n        let expiration;\n        let eps;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'expiration':\n                    expiration = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val()));\n                    break;\n                case 'eps':\n                    eps = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                default:\n                    throw Error(`EmissionConfig invalid key: should not contain ${key}`);\n            }\n        }\n        if (eps == undefined || expiration == undefined) {\n            throw Error('EmissionConfig scvMap value malformed');\n        }\n        return new EmissionConfig(BigInt(eps), expiration);\n    }\n}\nclass EmissionData {\n    index;\n    lastTime;\n    constructor(index, lastTime) {\n        this.index = index;\n        this.lastTime = lastTime;\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const data_entry_map = ledger_entry_data.contractData().val().map();\n        if (data_entry_map == undefined) {\n            throw Error('EmissionData contract data value is not a map');\n        }\n        let index;\n        let last_time;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'index':\n                    index = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'last_time':\n                    last_time = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val()));\n                    break;\n                default:\n                    throw new Error(`EmissionData invalid key: should not contain ${key}`);\n            }\n        }\n        if (index == undefined || last_time == undefined) {\n            throw new Error(`ReserveEmissionData scvMap value malformed`);\n        }\n        return new EmissionData(index, last_time);\n    }\n}\nclass EmissionDataV2 extends EmissionData {\n    expiration;\n    eps;\n    index;\n    lastTime;\n    constructor(expiration, eps, index, lastTime) {\n        super(index, lastTime);\n        this.expiration = expiration;\n        this.eps = eps;\n        this.index = index;\n        this.lastTime = lastTime;\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const data_entry_map = ledger_entry_data.contractData().val().map();\n        if (data_entry_map == undefined) {\n            throw Error('EmissionData contract data value is not a map');\n        }\n        let expiration;\n        let eps;\n        let index;\n        let last_time;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'expiration':\n                    expiration = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val()));\n                    break;\n                case 'eps':\n                    eps = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'index':\n                    index = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'last_time':\n                    last_time = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val()));\n                    break;\n                default:\n                    throw new Error(`EmissionData invalid key: should not contain ${key}`);\n            }\n        }\n        if (index == undefined ||\n            last_time == undefined ||\n            eps == undefined ||\n            expiration == undefined) {\n            throw new Error(`ReserveEmissionData scvMap value malformed`);\n        }\n        return new EmissionDataV2(expiration, eps, index, last_time);\n    }\n}\n/**\n * Emission data for a user. Assumes the emitted token is tracked in 7 decimals.\n *\n * @property index - The last emission index the user accrued to\n * @property accrued - The accrued emissions the user has\n */\nclass UserEmissions {\n    index;\n    accrued;\n    constructor(index, accrued) {\n        this.index = index;\n        this.accrued = accrued;\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const scval = ledger_entry_data.contractData().val();\n        const userEmissions = UserEmissions.fromScVal(scval);\n        return userEmissions;\n    }\n    static fromScVal(sc_val) {\n        if (typeof sc_val == 'string') {\n            sc_val = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(sc_val, 'base64');\n        }\n        const data_entry_map = sc_val.map();\n        if (data_entry_map == undefined) {\n            throw Error('UserEmissions contract data value is not a map');\n        }\n        let accrued;\n        let index;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'accrued':\n                    accrued = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'index':\n                    index = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                default:\n                    throw Error(`UserEmissions invalid key: should not contain ${key}`);\n            }\n        }\n        if (accrued == undefined || index == undefined) {\n            throw Error('scvMap value malformed');\n        }\n        return new UserEmissions(index, accrued);\n    }\n    /**\n     * Estimate the accrued emission to a given timestamp\n     * @param emissions - The emissions data for a token\n     * @param balance - The balance of the user of the token being emitted to (fixed point)\n     * @returns The estimated accrued emissions in fixed point\n     */\n    estimateAccrual(emissions, decimals, balance) {\n        const additional_index = emissions.index - this.index;\n        const toAccrue = _math_js__WEBPACK_IMPORTED_MODULE_2__.mulFloor(balance, additional_index, _math_js__WEBPACK_IMPORTED_MODULE_2__.toFixed(1, emissions.epsDecimals));\n        return _math_js__WEBPACK_IMPORTED_MODULE_2__.toFloat(toAccrue + this.accrued, decimals);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9lbWlzc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQytEO0FBQ0w7QUFDbkI7QUFDdkM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsOENBQWtCLDZEQUE2RCw2Q0FBaUI7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNkNBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVFQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLElBQUk7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVFQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixJQUFJO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSx3Q0FBd0MsbUVBQWE7QUFDckQ7QUFDQTtBQUNBLDBCQUEwQixtRUFBYTtBQUN2QztBQUNBO0FBQ0Esa0ZBQWtGLElBQUk7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSw0QkFBNEIsbUVBQWE7QUFDekM7QUFDQTtBQUNBLHVDQUF1QyxtRUFBYTtBQUNwRDtBQUNBO0FBQ0Esb0ZBQW9GLElBQUk7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQUc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUVBQWM7QUFDdEM7QUFDQTtBQUNBLHdDQUF3QyxtRUFBYTtBQUNyRDtBQUNBO0FBQ0EsMEJBQTBCLG1FQUFhO0FBQ3ZDO0FBQ0E7QUFDQSw0QkFBNEIsbUVBQWE7QUFDekM7QUFDQTtBQUNBLHVDQUF1QyxtRUFBYTtBQUNwRDtBQUNBO0FBQ0Esb0ZBQW9GLElBQUk7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSw4QkFBOEIsbUVBQWE7QUFDM0M7QUFDQTtBQUNBLDRCQUE0QixtRUFBYTtBQUN6QztBQUNBO0FBQ0EsaUZBQWlGLElBQUk7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDhDQUFrQiw0QkFBNEIsNkNBQWlCO0FBQ3hGLGVBQWUsNkNBQWlCO0FBQ2hDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL2VtaXNzaW9ucy5qcz83OGQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vISBCYXNlIGNsYXNzZXMgZm9yIGVtaXNzaW9uIGRhdGFcbmltcG9ydCB7IHJwYywgc2NWYWxUb05hdGl2ZSwgeGRyIH0gZnJvbSAnQHN0ZWxsYXIvc3RlbGxhci1zZGsnO1xuaW1wb3J0IHsgZGVjb2RlRW50cnlLZXkgfSBmcm9tICcuL2xlZGdlcl9lbnRyeV9oZWxwZXIuanMnO1xuaW1wb3J0ICogYXMgRml4ZWRNYXRoIGZyb20gJy4vbWF0aC5qcyc7XG4vKioqKioqKioqKiBFbWlzc2lvbiBTb3VyY2UgKioqKioqKioqKi9cbmV4cG9ydCBjbGFzcyBFbWlzc2lvbnMge1xuICAgIGV4cGlyYXRpb247XG4gICAgZXBzO1xuICAgIGluZGV4O1xuICAgIGxhc3RUaW1lO1xuICAgIGxhdGVzdExlZGdlcjtcbiAgICBjb25zdHJ1Y3RvcihleHBpcmF0aW9uLCBlcHMsIGluZGV4LCBsYXN0VGltZSwgbGF0ZXN0TGVkZ2VyKSB7XG4gICAgICAgIHRoaXMuZXhwaXJhdGlvbiA9IGV4cGlyYXRpb247XG4gICAgICAgIHRoaXMuZXBzID0gZXBzO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBsYXN0VGltZTtcbiAgICAgICAgdGhpcy5sYXRlc3RMZWRnZXIgPSBsYXRlc3RMZWRnZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjY3J1ZSBlbWlzc2lvbnMgdG8gdGhlIHByb3ZpZGVkIHRpbWVzdGFtcFxuICAgICAqIEBwYXJhbSBzdXBwbHkgLSBUaGUgdG90YWwgc3VwcGx5IG9mIHRoZSB0b2tlbiBiZWluZyBlbWl0dGVkIHRvXG4gICAgICogQHBhcmFtIGRlY2ltYWxzIC0gVGhlIGRlY2ltYWxzIG9mIHRoZSB0b2tlbiBiZWluZyBlbWl0dGVkIHRvXG4gICAgICogQHBhcmFtIHRpbWVzdGFtcCAtIFRoZSB0aW1lc3RhbXAgdG8gYWNjcnVlIHRvLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudCB0aW1lIGlmIG5vdCBwcm92aWRlZFxuICAgICAqL1xuICAgIGFjY3J1ZShzdXBwbHksIGRlY2ltYWxzLCB0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RUaW1lID49IHRoaXMuZXhwaXJhdGlvbiB8fFxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA+PSB0aW1lc3RhbXAgfHxcbiAgICAgICAgICAgIHRoaXMuZXBzID09PSBCaWdJbnQoMCkgfHxcbiAgICAgICAgICAgIHN1cHBseSA9PT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVkZ2VyVGltZXN0YW1wID0gdGltZXN0YW1wID4gdGhpcy5leHBpcmF0aW9uID8gdGhpcy5leHBpcmF0aW9uIDogdGltZXN0YW1wO1xuICAgICAgICBjb25zdCBhZGRpdGlvbmFsSW5kZXggPSBGaXhlZE1hdGguZGl2Rmxvb3IoQmlnSW50KGxlZGdlclRpbWVzdGFtcCAtIHRoaXMubGFzdFRpbWUpICogdGhpcy5lcHMsIHN1cHBseSwgRml4ZWRNYXRoLnRvRml4ZWQoMSwgZGVjaW1hbHMpKTtcbiAgICAgICAgdGhpcy5pbmRleCArPSBhZGRpdGlvbmFsSW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZW1pc3Npb25zIHBlciB5ZWFyIHBlciB0b2tlbiBhcyBhIGZsb2F0LlxuICAgICAqIEBwYXJhbSBzdXBwbHkgLSBUaGUgdG90YWwgc3VwcGx5IG9mIHRoZSB0b2tlbiBiZWluZyBlbWl0dGVkIHRvXG4gICAgICogQHBhcmFtIGRlY2ltYWxzIC0gVGhlIGRlY2ltYWxzIG9mIHRoZSB0b2tlbiBiZWluZyBlbWl0dGVkIHRvLiBEZWZhdWx0cyB0byA3LlxuICAgICAqIEByZXR1cm5zIFRoZSBlbWlzc2lvbnMgcGVyIHllYXIgcGVyIHRva2VuIGFzIGEgZmxvYXRcbiAgICAgKi9cbiAgICBlbWlzc2lvbnNQZXJZZWFyUGVyVG9rZW4oc3VwcGx5LCBkZWNpbWFscykge1xuICAgICAgICBpZiAodGhpcy5leHBpcmF0aW9uIDw9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdXBwbHlGbG9hdCA9IEZpeGVkTWF0aC50b0Zsb2F0KHN1cHBseSwgZGVjaW1hbHMpO1xuICAgICAgICBpZiAoc3VwcGx5RmxvYXQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvdGFsRW1pc3Npb25zID0gRml4ZWRNYXRoLnRvRmxvYXQodGhpcy5lcHMsIHRoaXMuZXBzRGVjaW1hbHMpICogMzE1MzYwMDA7XG4gICAgICAgIHJldHVybiB0b3RhbEVtaXNzaW9ucyAvIHN1cHBseUZsb2F0O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFbWlzc2lvbnNWMSBleHRlbmRzIEVtaXNzaW9ucyB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBkYXRhLCBsYXRlc3RMZWRnZXIpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnLmV4cGlyYXRpb24sIGNvbmZpZy5lcHMsIGRhdGEuaW5kZXgsIGRhdGEubGFzdFRpbWUsIGxhdGVzdExlZGdlcik7XG4gICAgfVxuICAgIGVwc0RlY2ltYWxzID0gNztcbiAgICAvKipcbiAgICAgKiBGZXRjaCB0aGUgZW1pc3Npb25zIGZvciBhIHRva2VuLlxuICAgICAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgdG8gbG9hZCB0aGUgZW1pc3Npb25zIGZyb21cbiAgICAgKiBAcGFyYW0gY29uZmlnTGVkZ2VyS2V5IC0gVGhlIExlZGdlckxleSBmb3IgdGhlIGNvbmZpZ1xuICAgICAqIEBwYXJhbSBkYXRhTGVkZ2Vya2V5IC0gVGhlIExlZGdlcktleSBmb3IgdGhlIGRhdGFcbiAgICAgKiBAcGFyYW0gdG90YWxTdXBwbHkgLSBUaGUgdG90YWwgc3VwcGx5IG9mIHRoZSB0b2tlbiBiZWluZyBlbWl0dGVkIHRvXG4gICAgICogQHBhcmFtIGRlY2ltYWxzIC0gVGhlIGRlY2ltYWxzIG9mIHRoZSB0b2tlbiBiZWluZyBlbWl0dGVkIHRvXG4gICAgICogQHBhcmFtIHRpbWVzdGFtcCAtIFRoZSB0aW1lc3RhbXAgdG8gYWNjcnVlIHRvLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudCB0aW1lIGlmIG5vdCBwcm92aWRlZFxuICAgICAqIEByZXR1cm5zIC0gVGhlIGVtaXNzaW9ucyBpZiB0aGV5IGV4aXN0LCBvciB1bmRlZmluZWRcbiAgICAgKiBAdGhyb3dzIC0gSWYgdGhlIGVtaXNzaW9uIGRhdGEgZXhpc3RzIGJ1dCBpcyBtYWxmb3JtZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgbG9hZChuZXR3b3JrLCBjb25maWdMZWRnZXJLZXksIGRhdGFMZWRnZXJrZXksIHRvdGFsU3VwcGx5LCBkZWNpbWFscywgdGltZXN0YW1wKSB7XG4gICAgICAgIGNvbnN0IHN0ZWxsYXJScGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICAgICAgY29uc3QgZW50cmllc1Jlc3BvbnNlID0gYXdhaXQgc3RlbGxhclJwYy5nZXRMZWRnZXJFbnRyaWVzKGNvbmZpZ0xlZGdlcktleSwgZGF0YUxlZGdlcmtleSk7XG4gICAgICAgIGlmIChlbnRyaWVzUmVzcG9uc2UuZW50cmllcy5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgbGV0IGVtaXNzaW9uQ29uZmlnID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGVtaXNzaW9uRGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllc1Jlc3BvbnNlLmVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWRnZXJEYXRhID0gZW50cnkudmFsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KGxlZGdlckRhdGEuY29udHJhY3REYXRhKCkua2V5KCkpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0VtaXNDb25maWcnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdCRW1pc0NmZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWlzc2lvbkNvbmZpZyA9IEVtaXNzaW9uQ29uZmlnLmZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRW1pc0RhdGEnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdCRW1pc0RhdGEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pc3Npb25EYXRhID0gRW1pc3Npb25EYXRhLmZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIGVtaXNzaW9uIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbWlzc2lvbkRhdGEgPT0gdW5kZWZpbmVkIHx8IGVtaXNzaW9uQ29uZmlnID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgZW1pc3Npb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbWlzc2lvbnMgPSBuZXcgRW1pc3Npb25zVjEoZW1pc3Npb25Db25maWcsIGVtaXNzaW9uRGF0YSwgZW50cmllc1Jlc3BvbnNlLmxhdGVzdExlZGdlcik7XG4gICAgICAgICAgICBlbWlzc2lvbnMuYWNjcnVlKHRvdGFsU3VwcGx5LCBkZWNpbWFscywgdGltZXN0YW1wKTtcbiAgICAgICAgICAgIHJldHVybiBlbWlzc2lvbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGVtaXNzaW9uIGRhdGFcbiAqXG4gKiBAcHJvcGVydHkgZXhwaXJhdGlvbiAtIFRoZSB0aW1lc3RhbXAgdGhlIGVtaXNzaW9ucyBleHBpcmVcbiAqIEBwcm9wZXJ0eSBlcHMgLSBUaGUgZW1pc3Npb25zIHBlciBzZWNvbmRcbiAqIEBwcm9wZXJ0eSBpbmRleCAtIFRoZSBsYXN0IGVtaXNzaW9uIGluZGV4XG4gKiBAcHJvcGVydHkgbGFzdFRpbWUgLSBUaGUgbGFzdCB0aW1lIHRoZSBlbWlzc2lvbnMgd2VyZSB1cGRhdGVkXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWlzc2lvbnNWMiBleHRlbmRzIEVtaXNzaW9ucyB7XG4gICAgZGF0YTtcbiAgICBsYXRlc3RMZWRnZXI7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgbGF0ZXN0TGVkZ2VyKSB7XG4gICAgICAgIHN1cGVyKGRhdGEuZXhwaXJhdGlvbiwgZGF0YS5lcHMsIGRhdGEuaW5kZXgsIGRhdGEubGFzdFRpbWUsIGxhdGVzdExlZGdlcik7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMubGF0ZXN0TGVkZ2VyID0gbGF0ZXN0TGVkZ2VyO1xuICAgIH1cbiAgICBlcHNEZWNpbWFscyA9IDE0O1xuICAgIC8qKlxuICAgICAqIEZldGNoIHRoZSBlbWlzc2lvbnMgZm9yIGEgdG9rZW4uXG4gICAgICogQHBhcmFtIG5ldHdvcmsgLSBUaGUgbmV0d29yayB0byBsb2FkIHRoZSBlbWlzc2lvbnMgZnJvbVxuICAgICAqIEBwYXJhbSBjb25maWdMZWRnZXJLZXkgLSBUaGUgTGVkZ2VyTGV5IGZvciB0aGUgY29uZmlnXG4gICAgICogQHBhcmFtIGRhdGFMZWRnZXJrZXkgLSBUaGUgTGVkZ2VyS2V5IGZvciB0aGUgZGF0YVxuICAgICAqIEBwYXJhbSB0b3RhbFN1cHBseSAtIFRoZSB0b3RhbCBzdXBwbHkgb2YgdGhlIHRva2VuIGJlaW5nIGVtaXR0ZWQgdG9cbiAgICAgKiBAcGFyYW0gZGVjaW1hbHMgLSBUaGUgZGVjaW1hbHMgb2YgdGhlIHRva2VuIGJlaW5nIGVtaXR0ZWQgdG9cbiAgICAgKiBAcGFyYW0gdGltZXN0YW1wIC0gVGhlIHRpbWVzdGFtcCB0byBhY2NydWUgdG8uIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50IHRpbWUgaWYgbm90IHByb3ZpZGVkXG4gICAgICogQHJldHVybnMgLSBUaGUgZW1pc3Npb25zIGlmIHRoZXkgZXhpc3QsIG9yIHVuZGVmaW5lZFxuICAgICAqIEB0aHJvd3MgLSBJZiB0aGUgZW1pc3Npb24gZGF0YSBleGlzdHMgYnV0IGlzIG1hbGZvcm1lZFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIGRhdGFMZWRnZXJrZXksIHRvdGFsU3VwcGx5LCBkZWNpbWFscywgdGltZXN0YW1wKSB7XG4gICAgICAgIGNvbnN0IHN0ZWxsYXJScGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICAgICAgY29uc3QgZW50cmllc1Jlc3BvbnNlID0gYXdhaXQgc3RlbGxhclJwYy5nZXRMZWRnZXJFbnRyaWVzKGRhdGFMZWRnZXJrZXkpO1xuICAgICAgICBpZiAoZW50cmllc1Jlc3BvbnNlLmVudHJpZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGxldCBlbWlzc2lvbkRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXNSZXNwb25zZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVkZ2VyRGF0YSA9IGVudHJ5LnZhbDtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShsZWRnZXJEYXRhLmNvbnRyYWN0RGF0YSgpLmtleSgpKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdFbWlzRGF0YSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0JFbWlzRGF0YSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWlzc2lvbkRhdGEgPSBFbWlzc2lvbkRhdGFWMi5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCBlbWlzc2lvbiBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW1pc3Npb25EYXRhID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgZW1pc3Npb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbWlzc2lvbnMgPSBuZXcgRW1pc3Npb25zVjIoZW1pc3Npb25EYXRhLCBlbnRyaWVzUmVzcG9uc2UubGF0ZXN0TGVkZ2VyKTtcbiAgICAgICAgICAgIGVtaXNzaW9ucy5hY2NydWUodG90YWxTdXBwbHksIGRlY2ltYWxzLCB0aW1lc3RhbXApO1xuICAgICAgICAgICAgcmV0dXJuIGVtaXNzaW9ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIGVtaXNzaW9uIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAcHJvcGVydHkgZXBzIC0gVGhlIGVtaXNzaW9uIHBlciBzZWNvbmRcbiAqIEBwcm9wZXJ0eSBleHBpcmF0aW9uIC0gVGhlIGV4cGlyYXRpb24gdGltZSBvZiB0aGUgZW1pc3Npb25cbiAqL1xuZXhwb3J0IGNsYXNzIEVtaXNzaW9uQ29uZmlnIHtcbiAgICBlcHM7XG4gICAgZXhwaXJhdGlvbjtcbiAgICBjb25zdHJ1Y3RvcihlcHMsIGV4cGlyYXRpb24pIHtcbiAgICAgICAgdGhpcy5lcHMgPSBlcHM7XG4gICAgICAgIHRoaXMuZXhwaXJhdGlvbiA9IGV4cGlyYXRpb247XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlcl9lbnRyeV9kYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGVkZ2VyX2VudHJ5X2RhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxlZGdlcl9lbnRyeV9kYXRhID0geGRyLkxlZGdlckVudHJ5RGF0YS5mcm9tWERSKGxlZGdlcl9lbnRyeV9kYXRhLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YV9lbnRyeV9tYXAgPSBsZWRnZXJfZW50cnlfZGF0YS5jb250cmFjdERhdGEoKS52YWwoKS5tYXAoKTtcbiAgICAgICAgaWYgKGRhdGFfZW50cnlfbWFwID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0VtaXNzaW9uQ29uZmlnIGNvbnRyYWN0IGRhdGEgdmFsdWUgaXMgbm90IGEgbWFwJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGV4cGlyYXRpb247XG4gICAgICAgIGxldCBlcHM7XG4gICAgICAgIGZvciAoY29uc3QgbWFwX2VudHJ5IG9mIGRhdGFfZW50cnlfbWFwKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShtYXBfZW50cnkua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdleHBpcmF0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbiA9IE51bWJlcihzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlcHMnOlxuICAgICAgICAgICAgICAgICAgICBlcHMgPSBzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBFbWlzc2lvbkNvbmZpZyBpbnZhbGlkIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcHMgPT0gdW5kZWZpbmVkIHx8IGV4cGlyYXRpb24gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignRW1pc3Npb25Db25maWcgc2N2TWFwIHZhbHVlIG1hbGZvcm1lZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRW1pc3Npb25Db25maWcoQmlnSW50KGVwcyksIGV4cGlyYXRpb24pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFbWlzc2lvbkRhdGEge1xuICAgIGluZGV4O1xuICAgIGxhc3RUaW1lO1xuICAgIGNvbnN0cnVjdG9yKGluZGV4LCBsYXN0VGltZSkge1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBsYXN0VGltZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyX2VudHJ5X2RhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsZWRnZXJfZW50cnlfZGF0YSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGVkZ2VyX2VudHJ5X2RhdGEgPSB4ZHIuTGVkZ2VyRW50cnlEYXRhLmZyb21YRFIobGVkZ2VyX2VudHJ5X2RhdGEsICdiYXNlNjQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhX2VudHJ5X21hcCA9IGxlZGdlcl9lbnRyeV9kYXRhLmNvbnRyYWN0RGF0YSgpLnZhbCgpLm1hcCgpO1xuICAgICAgICBpZiAoZGF0YV9lbnRyeV9tYXAgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignRW1pc3Npb25EYXRhIGNvbnRyYWN0IGRhdGEgdmFsdWUgaXMgbm90IGEgbWFwJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICBsZXQgbGFzdF90aW1lO1xuICAgICAgICBmb3IgKGNvbnN0IG1hcF9lbnRyeSBvZiBkYXRhX2VudHJ5X21hcCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobWFwX2VudHJ5LmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5kZXgnOlxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGFzdF90aW1lJzpcbiAgICAgICAgICAgICAgICAgICAgbGFzdF90aW1lID0gTnVtYmVyKHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRW1pc3Npb25EYXRhIGludmFsaWQga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID09IHVuZGVmaW5lZCB8fCBsYXN0X3RpbWUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlc2VydmVFbWlzc2lvbkRhdGEgc2N2TWFwIHZhbHVlIG1hbGZvcm1lZGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRW1pc3Npb25EYXRhKGluZGV4LCBsYXN0X3RpbWUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFbWlzc2lvbkRhdGFWMiBleHRlbmRzIEVtaXNzaW9uRGF0YSB7XG4gICAgZXhwaXJhdGlvbjtcbiAgICBlcHM7XG4gICAgaW5kZXg7XG4gICAgbGFzdFRpbWU7XG4gICAgY29uc3RydWN0b3IoZXhwaXJhdGlvbiwgZXBzLCBpbmRleCwgbGFzdFRpbWUpIHtcbiAgICAgICAgc3VwZXIoaW5kZXgsIGxhc3RUaW1lKTtcbiAgICAgICAgdGhpcy5leHBpcmF0aW9uID0gZXhwaXJhdGlvbjtcbiAgICAgICAgdGhpcy5lcHMgPSBlcHM7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGxhc3RUaW1lO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJfZW50cnlfZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGxlZGdlcl9lbnRyeV9kYXRhID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsZWRnZXJfZW50cnlfZGF0YSA9IHhkci5MZWRnZXJFbnRyeURhdGEuZnJvbVhEUihsZWRnZXJfZW50cnlfZGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGFfZW50cnlfbWFwID0gbGVkZ2VyX2VudHJ5X2RhdGEuY29udHJhY3REYXRhKCkudmFsKCkubWFwKCk7XG4gICAgICAgIGlmIChkYXRhX2VudHJ5X21hcCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdFbWlzc2lvbkRhdGEgY29udHJhY3QgZGF0YSB2YWx1ZSBpcyBub3QgYSBtYXAnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZXhwaXJhdGlvbjtcbiAgICAgICAgbGV0IGVwcztcbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICBsZXQgbGFzdF90aW1lO1xuICAgICAgICBmb3IgKGNvbnN0IG1hcF9lbnRyeSBvZiBkYXRhX2VudHJ5X21hcCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobWFwX2VudHJ5LmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZXhwaXJhdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb24gPSBOdW1iZXIoc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZXBzJzpcbiAgICAgICAgICAgICAgICAgICAgZXBzID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdpbmRleCc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsYXN0X3RpbWUnOlxuICAgICAgICAgICAgICAgICAgICBsYXN0X3RpbWUgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbWlzc2lvbkRhdGEgaW52YWxpZCBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBsYXN0X3RpbWUgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBlcHMgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBleHBpcmF0aW9uID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXNlcnZlRW1pc3Npb25EYXRhIHNjdk1hcCB2YWx1ZSBtYWxmb3JtZWRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVtaXNzaW9uRGF0YVYyKGV4cGlyYXRpb24sIGVwcywgaW5kZXgsIGxhc3RfdGltZSk7XG4gICAgfVxufVxuLyoqXG4gKiBFbWlzc2lvbiBkYXRhIGZvciBhIHVzZXIuIEFzc3VtZXMgdGhlIGVtaXR0ZWQgdG9rZW4gaXMgdHJhY2tlZCBpbiA3IGRlY2ltYWxzLlxuICpcbiAqIEBwcm9wZXJ0eSBpbmRleCAtIFRoZSBsYXN0IGVtaXNzaW9uIGluZGV4IHRoZSB1c2VyIGFjY3J1ZWQgdG9cbiAqIEBwcm9wZXJ0eSBhY2NydWVkIC0gVGhlIGFjY3J1ZWQgZW1pc3Npb25zIHRoZSB1c2VyIGhhc1xuICovXG5leHBvcnQgY2xhc3MgVXNlckVtaXNzaW9ucyB7XG4gICAgaW5kZXg7XG4gICAgYWNjcnVlZDtcbiAgICBjb25zdHJ1Y3RvcihpbmRleCwgYWNjcnVlZCkge1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuYWNjcnVlZCA9IGFjY3J1ZWQ7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlcl9lbnRyeV9kYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGVkZ2VyX2VudHJ5X2RhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxlZGdlcl9lbnRyeV9kYXRhID0geGRyLkxlZGdlckVudHJ5RGF0YS5mcm9tWERSKGxlZGdlcl9lbnRyeV9kYXRhLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2N2YWwgPSBsZWRnZXJfZW50cnlfZGF0YS5jb250cmFjdERhdGEoKS52YWwoKTtcbiAgICAgICAgY29uc3QgdXNlckVtaXNzaW9ucyA9IFVzZXJFbWlzc2lvbnMuZnJvbVNjVmFsKHNjdmFsKTtcbiAgICAgICAgcmV0dXJuIHVzZXJFbWlzc2lvbnM7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tU2NWYWwoc2NfdmFsKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NfdmFsID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzY192YWwgPSB4ZHIuU2NWYWwuZnJvbVhEUihzY192YWwsICdiYXNlNjQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhX2VudHJ5X21hcCA9IHNjX3ZhbC5tYXAoKTtcbiAgICAgICAgaWYgKGRhdGFfZW50cnlfbWFwID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1VzZXJFbWlzc2lvbnMgY29udHJhY3QgZGF0YSB2YWx1ZSBpcyBub3QgYSBtYXAnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYWNjcnVlZDtcbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICBmb3IgKGNvbnN0IG1hcF9lbnRyeSBvZiBkYXRhX2VudHJ5X21hcCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobWFwX2VudHJ5LmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjcnVlZCc6XG4gICAgICAgICAgICAgICAgICAgIGFjY3J1ZWQgPSBzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luZGV4JzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBVc2VyRW1pc3Npb25zIGludmFsaWQga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjY3J1ZWQgPT0gdW5kZWZpbmVkIHx8IGluZGV4ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ3Njdk1hcCB2YWx1ZSBtYWxmb3JtZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFVzZXJFbWlzc2lvbnMoaW5kZXgsIGFjY3J1ZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFc3RpbWF0ZSB0aGUgYWNjcnVlZCBlbWlzc2lvbiB0byBhIGdpdmVuIHRpbWVzdGFtcFxuICAgICAqIEBwYXJhbSBlbWlzc2lvbnMgLSBUaGUgZW1pc3Npb25zIGRhdGEgZm9yIGEgdG9rZW5cbiAgICAgKiBAcGFyYW0gYmFsYW5jZSAtIFRoZSBiYWxhbmNlIG9mIHRoZSB1c2VyIG9mIHRoZSB0b2tlbiBiZWluZyBlbWl0dGVkIHRvIChmaXhlZCBwb2ludClcbiAgICAgKiBAcmV0dXJucyBUaGUgZXN0aW1hdGVkIGFjY3J1ZWQgZW1pc3Npb25zIGluIGZpeGVkIHBvaW50XG4gICAgICovXG4gICAgZXN0aW1hdGVBY2NydWFsKGVtaXNzaW9ucywgZGVjaW1hbHMsIGJhbGFuY2UpIHtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbF9pbmRleCA9IGVtaXNzaW9ucy5pbmRleCAtIHRoaXMuaW5kZXg7XG4gICAgICAgIGNvbnN0IHRvQWNjcnVlID0gRml4ZWRNYXRoLm11bEZsb29yKGJhbGFuY2UsIGFkZGl0aW9uYWxfaW5kZXgsIEZpeGVkTWF0aC50b0ZpeGVkKDEsIGVtaXNzaW9ucy5lcHNEZWNpbWFscykpO1xuICAgICAgICByZXR1cm4gRml4ZWRNYXRoLnRvRmxvYXQodG9BY2NydWUgKyB0aGlzLmFjY3J1ZWQsIGRlY2ltYWxzKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_config.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_config.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmitterConfig: () => (/* binding */ EmitterConfig)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\nclass EmitterConfig {\n    blndTkn;\n    backstop;\n    constructor(blndTkn, backstop) {\n        this.blndTkn = blndTkn;\n        this.backstop = backstop;\n    }\n    static async load(network, emitterId) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const contractInstanceKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(emitterId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvLedgerKeyContractInstance(),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        let blndTkn;\n        let backstop;\n        const emitterConfigEntries = (await stellarRpc.getLedgerEntries(contractInstanceKey)).entries ?? [];\n        for (const entry of emitterConfigEntries) {\n            const ledgerData = entry.val.contractData();\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerData.key());\n            switch (key) {\n                case 'ContractInstance':\n                    ledgerData\n                        .val()\n                        .instance()\n                        .storage()\n                        ?.map((entry) => {\n                        const instanceKey = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(entry.key());\n                        switch (instanceKey) {\n                            case 'BlendId':\n                                blndTkn = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                return;\n                            case 'Backstop':\n                                backstop = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                return;\n                            case 'IsInit':\n                                // do nothing\n                                break;\n                            default:\n                                throw Error(`invalid emitter instance storage key: should not contain ${instanceKey}`);\n                        }\n                    });\n                    break;\n                default:\n                    throw Error(`Invalid emitter config key: should not contain ${key}`);\n            }\n        }\n        if (emitterConfigEntries.length == 0 || blndTkn == undefined || backstop == undefined) {\n            throw Error('Unable to load emitter config');\n        }\n        return new EmitterConfig(blndTkn, backstop);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9lbWl0dGVyL2VtaXR0ZXJfY29uZmlnLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RDtBQUNFO0FBQ3BEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQUc7QUFDbEMsb0NBQW9DLHFEQUFHLDRCQUE0QixxREFBRztBQUN0RSxzQkFBc0IseURBQU87QUFDN0IsaUJBQWlCLHFEQUFHO0FBQ3BCLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyx1RUFBYztBQUMxRDtBQUNBO0FBQ0EsMENBQTBDLHlEQUFPO0FBQ2pEO0FBQ0E7QUFDQSwyQ0FBMkMseURBQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdHQUF3RyxZQUFZO0FBQ3BIO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxrRkFBa0YsSUFBSTtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9lbWl0dGVyL2VtaXR0ZXJfY29uZmlnLmpzPzYwMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkcmVzcywgcnBjLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBkZWNvZGVFbnRyeUtleSB9IGZyb20gJy4uL2xlZGdlcl9lbnRyeV9oZWxwZXIuanMnO1xuZXhwb3J0IGNsYXNzIEVtaXR0ZXJDb25maWcge1xuICAgIGJsbmRUa247XG4gICAgYmFja3N0b3A7XG4gICAgY29uc3RydWN0b3IoYmxuZFRrbiwgYmFja3N0b3ApIHtcbiAgICAgICAgdGhpcy5ibG5kVGtuID0gYmxuZFRrbjtcbiAgICAgICAgdGhpcy5iYWNrc3RvcCA9IGJhY2tzdG9wO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbG9hZChuZXR3b3JrLCBlbWl0dGVySWQpIHtcbiAgICAgICAgY29uc3Qgc3RlbGxhclJwYyA9IG5ldyBycGMuU2VydmVyKG5ldHdvcmsucnBjLCBuZXR3b3JrLm9wdHMpO1xuICAgICAgICBjb25zdCBjb250cmFjdEluc3RhbmNlS2V5ID0geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhlbWl0dGVySWQpLnRvU2NBZGRyZXNzKCksXG4gICAgICAgICAgICBrZXk6IHhkci5TY1ZhbC5zY3ZMZWRnZXJLZXlDb250cmFjdEluc3RhbmNlKCksXG4gICAgICAgICAgICBkdXJhYmlsaXR5OiB4ZHIuQ29udHJhY3REYXRhRHVyYWJpbGl0eS5wZXJzaXN0ZW50KCksXG4gICAgICAgIH0pKTtcbiAgICAgICAgbGV0IGJsbmRUa247XG4gICAgICAgIGxldCBiYWNrc3RvcDtcbiAgICAgICAgY29uc3QgZW1pdHRlckNvbmZpZ0VudHJpZXMgPSAoYXdhaXQgc3RlbGxhclJwYy5nZXRMZWRnZXJFbnRyaWVzKGNvbnRyYWN0SW5zdGFuY2VLZXkpKS5lbnRyaWVzID8/IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVtaXR0ZXJDb25maWdFbnRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBsZWRnZXJEYXRhID0gZW50cnkudmFsLmNvbnRyYWN0RGF0YSgpO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobGVkZ2VyRGF0YS5rZXkoKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRyYWN0SW5zdGFuY2UnOlxuICAgICAgICAgICAgICAgICAgICBsZWRnZXJEYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAudmFsKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5pbnN0YW5jZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3RvcmFnZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICA/Lm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlS2V5ID0gZGVjb2RlRW50cnlLZXkoZW50cnkua2V5KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpbnN0YW5jZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0JsZW5kSWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG5kVGtuID0gQWRkcmVzcy5mcm9tU2NWYWwoZW50cnkudmFsKCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdCYWNrc3RvcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tzdG9wID0gQWRkcmVzcy5mcm9tU2NWYWwoZW50cnkudmFsKCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdJc0luaXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBpbnZhbGlkIGVtaXR0ZXIgaW5zdGFuY2Ugc3RvcmFnZSBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2luc3RhbmNlS2V5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgZW1pdHRlciBjb25maWcga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVtaXR0ZXJDb25maWdFbnRyaWVzLmxlbmd0aCA9PSAwIHx8IGJsbmRUa24gPT0gdW5kZWZpbmVkIHx8IGJhY2tzdG9wID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1VuYWJsZSB0byBsb2FkIGVtaXR0ZXIgY29uZmlnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBFbWl0dGVyQ29uZmlnKGJsbmRUa24sIGJhY2tzdG9wKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_contract.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_contract.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmitterContract: () => (/* binding */ EmitterContract)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n\nclass EmitterContract extends _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract {\n    // @dev: Generated from soroban-cli Typescript bindings\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        // Function initialize\n        'AAAAAAAAAAAAAAAKaW5pdGlhbGl6ZQAAAAAAAwAAAAAAAAAKYmxuZF90b2tlbgAAAAAAEwAAAAAAAAAIYmFja3N0b3AAAAATAAAAAAAAAA5iYWNrc3RvcF90b2tlbgAAAAAAEwAAAAA=',\n        // Function distribute\n        'AAAAAAAAAAAAAAAKZGlzdHJpYnV0ZQAAAAAAAAAAAAEAAAAL',\n        // Function get_last_distro\n        'AAAAAAAAAAAAAAAPZ2V0X2xhc3RfZGlzdHJvAAAAAAEAAAAAAAAAC2JhY2tzdG9wX2lkAAAAABMAAAABAAAABg==',\n        // Function get_backstop\n        'AAAAAAAAAAAAAAAMZ2V0X2JhY2tzdG9wAAAAAAAAAAEAAAAT',\n        // Function queue_swap_backstop\n        'AAAAAAAAAAAAAAATcXVldWVfc3dhcF9iYWNrc3RvcAAAAAACAAAAAAAAAAxuZXdfYmFja3N0b3AAAAATAAAAAAAAABJuZXdfYmFja3N0b3BfdG9rZW4AAAAAABMAAAAA',\n        // Function get_queued_swap\n        'AAAAAAAAAAAAAAAPZ2V0X3F1ZXVlZF9zd2FwAAAAAAAAAAABAAAD6AAAB9AAAAAEU3dhcA==',\n        // Function cancel_swap_backstop\n        'AAAAAAAAAAAAAAAUY2FuY2VsX3N3YXBfYmFja3N0b3AAAAAAAAAAAA==',\n        // Function swap_backstop\n        'AAAAAAAAAAAAAAANc3dhcF9iYWNrc3RvcAAAAAAAAAAAAAAA',\n        // Function drop\n        'AAAAAAAAAAAAAAAEZHJvcAAAAAEAAAAAAAAABGxpc3QAAAPqAAAD7QAAAAIAAAATAAAACwAAAAA=',\n        // Struct Swap\n        'AAAAAQAAAAAAAAAAAAAABFN3YXAAAAADAAAAAAAAAAxuZXdfYmFja3N0b3AAAAATAAAAAAAAABJuZXdfYmFja3N0b3BfdG9rZW4AAAAAABMAAAAAAAAAC3VubG9ja190aW1lAAAAAAY=',\n        // Enum EmitterError\n        'AAAABAAAAJ9FcnJvciBjb2RlcyBmb3IgdGhlIGVtaXR0ZXIgY29udHJhY3QuIENvbW1vbiBlcnJvcnMgYXJlIGNvZGVzIHRoYXQgbWF0Y2ggdXAgd2l0aCB0aGUgYnVpbHQtaW4KY29udHJhY3RzIGVycm9yIHJlcG9ydGluZy4gRW1pdHRlciBzcGVjaWZpYyBlcnJvcnMgc3RhcnQgYXQgMTEwMC4AAAAAAAAAAAxFbWl0dGVyRXJyb3IAAAAJAAAAAAAAAA1JbnRlcm5hbEVycm9yAAAAAAAAAQAAAAAAAAAXQWxyZWFkeUluaXRpYWxpemVkRXJyb3IAAAAAAwAAAAAAAAARVW5hdXRob3JpemVkRXJyb3IAAAAAAAAEAAAAAAAAABhJbnN1ZmZpY2llbnRCYWNrc3RvcFNpemUAAARMAAAAAAAAAAdCYWREcm9wAAAABE0AAAAAAAAADVN3YXBOb3RRdWV1ZWQAAAAAAAROAAAAAAAAABFTd2FwQWxyZWFkeUV4aXN0cwAAAAAABE8AAAAAAAAAD1N3YXBOb3RVbmxvY2tlZAAAAARQAAAAAAAAABRTd2FwQ2Fubm90QmVDYW5jZWxlZAAABFE=',\n        // Union EmitterDataKey\n        'AAAAAgAAAAAAAAAAAAAADkVtaXR0ZXJEYXRhS2V5AAAAAAACAAAAAQAAAAAAAAAKTGFzdERpc3RybwAAAAAAAQAAABMAAAABAAAAAAAAAAdEcm9wcGVkAAAAAAEAAAAT',\n    ]);\n    static parsers = {\n        initialize: () => { },\n        distribute: (result) => EmitterContract.spec.funcResToNative('distribute', result),\n        getLastDistro: (result) => EmitterContract.spec.funcResToNative('get_last_distro', result),\n        getBackstop: (result) => EmitterContract.spec.funcResToNative('get_backstop', result),\n        queueSwapBackstop: () => { },\n        getQueuedSwap: (result) => EmitterContract.spec.funcResToNative('get_queued_swap', result),\n        cancelSwapBackstop: () => { },\n        swapBackstop: () => { },\n        drop: () => { },\n    };\n    /**\n     * Initializes the Emitter contract.\n     *\n     * @param contractArgs - The arguments required for initialization.\n     * @param contractArgs.blnd_token - The Blend token Address the Emitter will distribute.\n     * @param contractArgs.backstop - The backstop module address to emit to.\n     * @param contractArgs.backstop_token - The token the backstop takes deposits in.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    initialize(contractArgs) {\n        return this.call('initialize', ...EmitterContract.spec.funcArgsToScVals('initialize', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Distributes BLND tokens to the current backstop module.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    distribute() {\n        return this.call('distribute', ...EmitterContract.spec.funcArgsToScVals('distribute', {})).toXDR('base64');\n    }\n    /**\n     * Fetches the last time the Emitter distributed to the specified backstop module.\n     *\n     * @param backstop_id - The backstop module Address ID.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getLastDistro(backstop_id) {\n        return this.call('get_last_distro', ...EmitterContract.spec.funcArgsToScVals('get_last_distro', { backstop_id })).toXDR('base64');\n    }\n    /**\n     * Fetches the current backstop module address.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getBackstop() {\n        return this.call('get_backstop', ...EmitterContract.spec.funcArgsToScVals('get_backstop', {})).toXDR('base64');\n    }\n    /**\n     * Queues up a swap of the current backstop module and token to new addresses.\n     *\n     * @param contractArgs - The arguments required for queuing a backstop swap.\n     * @param contractArgs.new_backstop - The Address of the new backstop module.\n     * @param contractArgs.new_backstop_token - The address of the new backstop token.\n     *\n     * @throws Will throw an error if the input contract does not have more backstop deposits than\n     * the listed backstop module of the current backstop token.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    queueSwapBackstop(contractArgs) {\n        return this.call('queue_swap_backstop', ...EmitterContract.spec.funcArgsToScVals('queue_swap_backstop', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Fetches the queued backstop swap, or None if nothing is queued.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getQueuedSwap() {\n        return this.call('get_queued_swap', ...EmitterContract.spec.funcArgsToScVals('get_queued_swap', {})).toXDR('base64');\n    }\n    /**\n     * Verifies that a queued swap still meets the requirements to be executed.\n     * If not, the queued swap is cancelled and must be recreated.\n     *\n     * @throws Will throw an error if the queued swap is still valid.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    cancelSwapBackstop() {\n        return this.call('cancel_swap_backstop', ...EmitterContract.spec.funcArgsToScVals('cancel_swap_backstop', {})).toXDR('base64');\n    }\n    /**\n     * Executes a queued swap of the current backstop module to one with more effective backstop deposits.\n     *\n     * @throws Will throw an error if the input contract does not have more backstop deposits than the\n     * listed backstop module, or if the queued swap has not been unlocked.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    swapBackstop() {\n        return this.call('swap_backstop', ...EmitterContract.spec.funcArgsToScVals('swap_backstop', {})).toXDR('base64');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9lbWl0dGVyL2VtaXR0ZXJfY29udHJhY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEQ7QUFDbkQsOEJBQThCLDBEQUFRO0FBQzdDO0FBQ0Esc0JBQXNCLDBEQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EscUNBQXFDO0FBQ3JDLCtCQUErQjtBQUMvQix1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRztBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwR0FBMEcsYUFBYTtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRztBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSDtBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRztBQUN0RztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9lbWl0dGVyL2VtaXR0ZXJfY29udHJhY3QuanM/OTQyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250cmFjdCwgY29udHJhY3QgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5leHBvcnQgY2xhc3MgRW1pdHRlckNvbnRyYWN0IGV4dGVuZHMgQ29udHJhY3Qge1xuICAgIC8vIEBkZXY6IEdlbmVyYXRlZCBmcm9tIHNvcm9iYW4tY2xpIFR5cGVzY3JpcHQgYmluZGluZ3NcbiAgICBzdGF0aWMgc3BlYyA9IG5ldyBjb250cmFjdC5TcGVjKFtcbiAgICAgICAgLy8gRnVuY3Rpb24gaW5pdGlhbGl6ZVxuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBS2FXNXBkR2xoYkdsNlpRQUFBQUFBQXdBQUFBQUFBQUFLWW14dVpGOTBiMnRsYmdBQUFBQUFFd0FBQUFBQUFBQUlZbUZqYTNOMGIzQUFBQUFUQUFBQUFBQUFBQTVpWVdOcmMzUnZjRjkwYjJ0bGJnQUFBQUFBRXdBQUFBQT0nLFxuICAgICAgICAvLyBGdW5jdGlvbiBkaXN0cmlidXRlXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFLWkdsemRISnBZblYwWlFBQUFBQUFBQUFBQUFFQUFBQUwnLFxuICAgICAgICAvLyBGdW5jdGlvbiBnZXRfbGFzdF9kaXN0cm9cbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQVBaMlYwWDJ4aGMzUmZaR2x6ZEhKdkFBQUFBQUVBQUFBQUFBQUFDMkpoWTJ0emRHOXdYMmxrQUFBQUFCTUFBQUFCQUFBQUJnPT0nLFxuICAgICAgICAvLyBGdW5jdGlvbiBnZXRfYmFja3N0b3BcbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQU1aMlYwWDJKaFkydHpkRzl3QUFBQUFBQUFBQUVBQUFBVCcsXG4gICAgICAgIC8vIEZ1bmN0aW9uIHF1ZXVlX3N3YXBfYmFja3N0b3BcbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQVRjWFZsZFdWZmMzZGhjRjlpWVdOcmMzUnZjQUFBQUFBQ0FBQUFBQUFBQUF4dVpYZGZZbUZqYTNOMGIzQUFBQUFUQUFBQUFBQUFBQkp1WlhkZlltRmphM04wYjNCZmRHOXJaVzRBQUFBQUFCTUFBQUFBJyxcbiAgICAgICAgLy8gRnVuY3Rpb24gZ2V0X3F1ZXVlZF9zd2FwXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFQWjJWMFgzRjFaWFZsWkY5emQyRndBQUFBQUFBQUFBQUJBQUFENkFBQUI5QUFBQUFFVTNkaGNBPT0nLFxuICAgICAgICAvLyBGdW5jdGlvbiBjYW5jZWxfc3dhcF9iYWNrc3RvcFxuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBVVkyRnVZMlZzWDNOM1lYQmZZbUZqYTNOMGIzQUFBQUFBQUFBQUFBPT0nLFxuICAgICAgICAvLyBGdW5jdGlvbiBzd2FwX2JhY2tzdG9wXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFOYzNkaGNGOWlZV05yYzNSdmNBQUFBQUFBQUFBQUFBQUEnLFxuICAgICAgICAvLyBGdW5jdGlvbiBkcm9wXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFFWkhKdmNBQUFBQUVBQUFBQUFBQUFCR3hwYzNRQUFBUHFBQUFEN1FBQUFBSUFBQUFUQUFBQUN3QUFBQUE9JyxcbiAgICAgICAgLy8gU3RydWN0IFN3YXBcbiAgICAgICAgJ0FBQUFBUUFBQUFBQUFBQUFBQUFBQkZOM1lYQUFBQUFEQUFBQUFBQUFBQXh1WlhkZlltRmphM04wYjNBQUFBQVRBQUFBQUFBQUFCSnVaWGRmWW1GamEzTjBiM0JmZEc5clpXNEFBQUFBQUJNQUFBQUFBQUFBQzNWdWJHOWphMTkwYVcxbEFBQUFBQVk9JyxcbiAgICAgICAgLy8gRW51bSBFbWl0dGVyRXJyb3JcbiAgICAgICAgJ0FBQUFCQUFBQUo5RmNuSnZjaUJqYjJSbGN5Qm1iM0lnZEdobElHVnRhWFIwWlhJZ1kyOXVkSEpoWTNRdUlFTnZiVzF2YmlCbGNuSnZjbk1nWVhKbElHTnZaR1Z6SUhSb1lYUWdiV0YwWTJnZ2RYQWdkMmwwYUNCMGFHVWdZblZwYkhRdGFXNEtZMjl1ZEhKaFkzUnpJR1Z5Y205eUlISmxjRzl5ZEdsdVp5NGdSVzFwZEhSbGNpQnpjR1ZqYVdacFl5Qmxjbkp2Y25NZ2MzUmhjblFnWVhRZ01URXdNQzRBQUFBQUFBQUFBQXhGYldsMGRHVnlSWEp5YjNJQUFBQUpBQUFBQUFBQUFBMUpiblJsY201aGJFVnljbTl5QUFBQUFBQUFBUUFBQUFBQUFBQVhRV3h5WldGa2VVbHVhWFJwWVd4cGVtVmtSWEp5YjNJQUFBQUFBd0FBQUFBQUFBQVJWVzVoZFhSb2IzSnBlbVZrUlhKeWIzSUFBQUFBQUFBRUFBQUFBQUFBQUJoSmJuTjFabVpwWTJsbGJuUkNZV05yYzNSdmNGTnBlbVVBQUFSTUFBQUFBQUFBQUFkQ1lXUkVjbTl3QUFBQUJFMEFBQUFBQUFBQURWTjNZWEJPYjNSUmRXVjFaV1FBQUFBQUFBUk9BQUFBQUFBQUFCRlRkMkZ3UVd4eVpXRmtlVVY0YVhOMGN3QUFBQUFBQkU4QUFBQUFBQUFBRDFOM1lYQk9iM1JWYm14dlkydGxaQUFBQUFSUUFBQUFBQUFBQUJSVGQyRndRMkZ1Ym05MFFtVkRZVzVqWld4bFpBQUFCRkU9JyxcbiAgICAgICAgLy8gVW5pb24gRW1pdHRlckRhdGFLZXlcbiAgICAgICAgJ0FBQUFBZ0FBQUFBQUFBQUFBQUFBRGtWdGFYUjBaWEpFWVhSaFMyVjVBQUFBQUFBQ0FBQUFBUUFBQUFBQUFBQUtUR0Z6ZEVScGMzUnlid0FBQUFBQUFRQUFBQk1BQUFBQkFBQUFBQUFBQUFkRWNtOXdjR1ZrQUFBQUFBRUFBQUFUJyxcbiAgICBdKTtcbiAgICBzdGF0aWMgcGFyc2VycyA9IHtcbiAgICAgICAgaW5pdGlhbGl6ZTogKCkgPT4geyB9LFxuICAgICAgICBkaXN0cmlidXRlOiAocmVzdWx0KSA9PiBFbWl0dGVyQ29udHJhY3Quc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2Rpc3RyaWJ1dGUnLCByZXN1bHQpLFxuICAgICAgICBnZXRMYXN0RGlzdHJvOiAocmVzdWx0KSA9PiBFbWl0dGVyQ29udHJhY3Quc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2dldF9sYXN0X2Rpc3RybycsIHJlc3VsdCksXG4gICAgICAgIGdldEJhY2tzdG9wOiAocmVzdWx0KSA9PiBFbWl0dGVyQ29udHJhY3Quc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2dldF9iYWNrc3RvcCcsIHJlc3VsdCksXG4gICAgICAgIHF1ZXVlU3dhcEJhY2tzdG9wOiAoKSA9PiB7IH0sXG4gICAgICAgIGdldFF1ZXVlZFN3YXA6IChyZXN1bHQpID0+IEVtaXR0ZXJDb250cmFjdC5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgnZ2V0X3F1ZXVlZF9zd2FwJywgcmVzdWx0KSxcbiAgICAgICAgY2FuY2VsU3dhcEJhY2tzdG9wOiAoKSA9PiB7IH0sXG4gICAgICAgIHN3YXBCYWNrc3RvcDogKCkgPT4geyB9LFxuICAgICAgICBkcm9wOiAoKSA9PiB7IH0sXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgRW1pdHRlciBjb250cmFjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIGZvciBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmJsbmRfdG9rZW4gLSBUaGUgQmxlbmQgdG9rZW4gQWRkcmVzcyB0aGUgRW1pdHRlciB3aWxsIGRpc3RyaWJ1dGUuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5iYWNrc3RvcCAtIFRoZSBiYWNrc3RvcCBtb2R1bGUgYWRkcmVzcyB0byBlbWl0IHRvLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuYmFja3N0b3BfdG9rZW4gLSBUaGUgdG9rZW4gdGhlIGJhY2tzdG9wIHRha2VzIGRlcG9zaXRzIGluLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZShjb250cmFjdEFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnaW5pdGlhbGl6ZScsIC4uLkVtaXR0ZXJDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2luaXRpYWxpemUnLCBjb250cmFjdEFyZ3MpKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3RyaWJ1dGVzIEJMTkQgdG9rZW5zIHRvIHRoZSBjdXJyZW50IGJhY2tzdG9wIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGRpc3RyaWJ1dGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2Rpc3RyaWJ1dGUnLCAuLi5FbWl0dGVyQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdkaXN0cmlidXRlJywge30pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGxhc3QgdGltZSB0aGUgRW1pdHRlciBkaXN0cmlidXRlZCB0byB0aGUgc3BlY2lmaWVkIGJhY2tzdG9wIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiYWNrc3RvcF9pZCAtIFRoZSBiYWNrc3RvcCBtb2R1bGUgQWRkcmVzcyBJRC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGdldExhc3REaXN0cm8oYmFja3N0b3BfaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZ2V0X2xhc3RfZGlzdHJvJywgLi4uRW1pdHRlckNvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZ2V0X2xhc3RfZGlzdHJvJywgeyBiYWNrc3RvcF9pZCB9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBjdXJyZW50IGJhY2tzdG9wIG1vZHVsZSBhZGRyZXNzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZ2V0QmFja3N0b3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2dldF9iYWNrc3RvcCcsIC4uLkVtaXR0ZXJDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2dldF9iYWNrc3RvcCcsIHt9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWV1ZXMgdXAgYSBzd2FwIG9mIHRoZSBjdXJyZW50IGJhY2tzdG9wIG1vZHVsZSBhbmQgdG9rZW4gdG8gbmV3IGFkZHJlc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIGZvciBxdWV1aW5nIGEgYmFja3N0b3Agc3dhcC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLm5ld19iYWNrc3RvcCAtIFRoZSBBZGRyZXNzIG9mIHRoZSBuZXcgYmFja3N0b3AgbW9kdWxlLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MubmV3X2JhY2tzdG9wX3Rva2VuIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIG5ldyBiYWNrc3RvcCB0b2tlbi5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgaW5wdXQgY29udHJhY3QgZG9lcyBub3QgaGF2ZSBtb3JlIGJhY2tzdG9wIGRlcG9zaXRzIHRoYW5cbiAgICAgKiB0aGUgbGlzdGVkIGJhY2tzdG9wIG1vZHVsZSBvZiB0aGUgY3VycmVudCBiYWNrc3RvcCB0b2tlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHF1ZXVlU3dhcEJhY2tzdG9wKGNvbnRyYWN0QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdxdWV1ZV9zd2FwX2JhY2tzdG9wJywgLi4uRW1pdHRlckNvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygncXVldWVfc3dhcF9iYWNrc3RvcCcsIGNvbnRyYWN0QXJncykpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgcXVldWVkIGJhY2tzdG9wIHN3YXAsIG9yIE5vbmUgaWYgbm90aGluZyBpcyBxdWV1ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBnZXRRdWV1ZWRTd2FwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdnZXRfcXVldWVkX3N3YXAnLCAuLi5FbWl0dGVyQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdnZXRfcXVldWVkX3N3YXAnLCB7fSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmVyaWZpZXMgdGhhdCBhIHF1ZXVlZCBzd2FwIHN0aWxsIG1lZXRzIHRoZSByZXF1aXJlbWVudHMgdG8gYmUgZXhlY3V0ZWQuXG4gICAgICogSWYgbm90LCB0aGUgcXVldWVkIHN3YXAgaXMgY2FuY2VsbGVkIGFuZCBtdXN0IGJlIHJlY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgcXVldWVkIHN3YXAgaXMgc3RpbGwgdmFsaWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBjYW5jZWxTd2FwQmFja3N0b3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2NhbmNlbF9zd2FwX2JhY2tzdG9wJywgLi4uRW1pdHRlckNvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnY2FuY2VsX3N3YXBfYmFja3N0b3AnLCB7fSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgYSBxdWV1ZWQgc3dhcCBvZiB0aGUgY3VycmVudCBiYWNrc3RvcCBtb2R1bGUgdG8gb25lIHdpdGggbW9yZSBlZmZlY3RpdmUgYmFja3N0b3AgZGVwb3NpdHMuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGlucHV0IGNvbnRyYWN0IGRvZXMgbm90IGhhdmUgbW9yZSBiYWNrc3RvcCBkZXBvc2l0cyB0aGFuIHRoZVxuICAgICAqIGxpc3RlZCBiYWNrc3RvcCBtb2R1bGUsIG9yIGlmIHRoZSBxdWV1ZWQgc3dhcCBoYXMgbm90IGJlZW4gdW5sb2NrZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBzd2FwQmFja3N0b3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ3N3YXBfYmFja3N0b3AnLCAuLi5FbWl0dGVyQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdzd2FwX2JhY2tzdG9wJywge30pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_contract.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_events.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_events.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmitterEventType: () => (/* binding */ EmitterEventType),\n/* harmony export */   emitterEventFromEventResponse: () => (/* binding */ emitterEventFromEventResponse)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _base_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base_event.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/base_event.js\");\n\n\nvar EmitterEventType;\n(function (EmitterEventType) {\n    EmitterEventType[\"Distribute\"] = \"distribute\";\n    EmitterEventType[\"QueueSwap\"] = \"q_swap\";\n    EmitterEventType[\"DeleteSwap\"] = \"del_swap\";\n    EmitterEventType[\"Swap\"] = \"swap\";\n    EmitterEventType[\"Drop\"] = \"drop\";\n})(EmitterEventType || (EmitterEventType = {}));\n/**\n * Create an EmitterEvent from a RawEventResponse.\n * @param eventResponse - The RawEventResponse from the RPC to convert\n * @returns The EmitterEvent or undefined if the EventResponse is not an EmitterEvent\n */\nfunction emitterEventFromEventResponse(eventResponse) {\n    if (eventResponse.type !== 'contract' ||\n        eventResponse.topic.length === 0 ||\n        eventResponse.contractId === undefined) {\n        return undefined;\n    }\n    try {\n        // NOTE: Decode RawEventResponse to ScVals. Do not update to `rpc.Api.EventResponse`. This\n        // will cause failures in the conversion functions due to the requirement that the exact same\n        // `js-xdr` code is used. (the same version from two different sources does not work)\n        const topic_scval = eventResponse.topic.map((topic) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(topic, 'base64'));\n        const value_scval = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(eventResponse.value, 'base64');\n        // The first topic is the event name as a symbol\n        const eventString = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[0]);\n        const baseEvent = {\n            id: eventResponse.id,\n            contractId: eventResponse.contractId,\n            contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Emitter,\n            eventType: eventString,\n            ledger: eventResponse.ledger,\n            ledgerClosedAt: eventResponse.ledgerClosedAt,\n            txHash: eventResponse.txHash,\n        };\n        switch (eventString) {\n            case EmitterEventType.Distribute: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 1 || valueAsVec.length !== 2) {\n                    return undefined;\n                }\n                const backstop = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                const amount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                return {\n                    ...baseEvent,\n                    eventType: EmitterEventType.Distribute,\n                    backstop: backstop,\n                    amount: amount,\n                };\n            }\n            case EmitterEventType.QueueSwap: {\n                if (topic_scval.length !== 1) {\n                    return undefined;\n                }\n                const swap = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval);\n                if (swap.new_backstop === undefined ||\n                    swap.new_backstop_token === undefined ||\n                    swap.unlock_time === undefined) {\n                    return undefined;\n                }\n                return {\n                    ...baseEvent,\n                    eventType: EmitterEventType.QueueSwap,\n                    swap: swap,\n                };\n            }\n            case EmitterEventType.DeleteSwap: {\n                if (topic_scval.length !== 1) {\n                    return undefined;\n                }\n                const swap = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval);\n                if (swap.new_backstop === undefined ||\n                    swap.new_backstop_token === undefined ||\n                    swap.unlock_time === undefined) {\n                    return undefined;\n                }\n                return {\n                    ...baseEvent,\n                    eventType: EmitterEventType.DeleteSwap,\n                    swap: swap,\n                };\n            }\n            case EmitterEventType.Swap: {\n                if (topic_scval.length !== 1) {\n                    return undefined;\n                }\n                const swap = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval);\n                if (swap.new_backstop === undefined ||\n                    swap.new_backstop_token === undefined ||\n                    swap.unlock_time === undefined) {\n                    return undefined;\n                }\n                return {\n                    ...baseEvent,\n                    eventType: EmitterEventType.Swap,\n                    swap: swap,\n                };\n            }\n            case EmitterEventType.Drop: {\n                if (topic_scval.length !== 1) {\n                    return undefined;\n                }\n                const list = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval);\n                return {\n                    ...baseEvent,\n                    eventType: EmitterEventType.Drop,\n                    list: list,\n                };\n            }\n            default:\n                return undefined;\n        }\n    }\n    catch (e) {\n        // conversion functions throw on a malformed (or non-emitter) events\n        // return undefined in this case\n        return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9lbWl0dGVyL2VtaXR0ZXJfZXZlbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBbUU7QUFDZDtBQUM5QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNENBQTRDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxxREFBRztBQUNsRSw0QkFBNEIscURBQUc7QUFDL0I7QUFDQSw0QkFBNEIsbUVBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZEQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFPO0FBQ3hDLHNDQUFzQyxtRUFBYTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1FQUFhO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtRUFBYTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUVBQWE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1FQUFhO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9lbWl0dGVyL2VtaXR0ZXJfZXZlbnRzLmpzP2QwZmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkcmVzcywgc2NWYWxUb05hdGl2ZSwgeGRyIH0gZnJvbSAnQHN0ZWxsYXIvc3RlbGxhci1zZGsnO1xuaW1wb3J0IHsgQmxlbmRDb250cmFjdFR5cGUgfSBmcm9tICcuLi9iYXNlX2V2ZW50LmpzJztcbmV4cG9ydCB2YXIgRW1pdHRlckV2ZW50VHlwZTtcbihmdW5jdGlvbiAoRW1pdHRlckV2ZW50VHlwZSkge1xuICAgIEVtaXR0ZXJFdmVudFR5cGVbXCJEaXN0cmlidXRlXCJdID0gXCJkaXN0cmlidXRlXCI7XG4gICAgRW1pdHRlckV2ZW50VHlwZVtcIlF1ZXVlU3dhcFwiXSA9IFwicV9zd2FwXCI7XG4gICAgRW1pdHRlckV2ZW50VHlwZVtcIkRlbGV0ZVN3YXBcIl0gPSBcImRlbF9zd2FwXCI7XG4gICAgRW1pdHRlckV2ZW50VHlwZVtcIlN3YXBcIl0gPSBcInN3YXBcIjtcbiAgICBFbWl0dGVyRXZlbnRUeXBlW1wiRHJvcFwiXSA9IFwiZHJvcFwiO1xufSkoRW1pdHRlckV2ZW50VHlwZSB8fCAoRW1pdHRlckV2ZW50VHlwZSA9IHt9KSk7XG4vKipcbiAqIENyZWF0ZSBhbiBFbWl0dGVyRXZlbnQgZnJvbSBhIFJhd0V2ZW50UmVzcG9uc2UuXG4gKiBAcGFyYW0gZXZlbnRSZXNwb25zZSAtIFRoZSBSYXdFdmVudFJlc3BvbnNlIGZyb20gdGhlIFJQQyB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyBUaGUgRW1pdHRlckV2ZW50IG9yIHVuZGVmaW5lZCBpZiB0aGUgRXZlbnRSZXNwb25zZSBpcyBub3QgYW4gRW1pdHRlckV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbWl0dGVyRXZlbnRGcm9tRXZlbnRSZXNwb25zZShldmVudFJlc3BvbnNlKSB7XG4gICAgaWYgKGV2ZW50UmVzcG9uc2UudHlwZSAhPT0gJ2NvbnRyYWN0JyB8fFxuICAgICAgICBldmVudFJlc3BvbnNlLnRvcGljLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICBldmVudFJlc3BvbnNlLmNvbnRyYWN0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyBOT1RFOiBEZWNvZGUgUmF3RXZlbnRSZXNwb25zZSB0byBTY1ZhbHMuIERvIG5vdCB1cGRhdGUgdG8gYHJwYy5BcGkuRXZlbnRSZXNwb25zZWAuIFRoaXNcbiAgICAgICAgLy8gd2lsbCBjYXVzZSBmYWlsdXJlcyBpbiB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgZHVlIHRvIHRoZSByZXF1aXJlbWVudCB0aGF0IHRoZSBleGFjdCBzYW1lXG4gICAgICAgIC8vIGBqcy14ZHJgIGNvZGUgaXMgdXNlZC4gKHRoZSBzYW1lIHZlcnNpb24gZnJvbSB0d28gZGlmZmVyZW50IHNvdXJjZXMgZG9lcyBub3Qgd29yaylcbiAgICAgICAgY29uc3QgdG9waWNfc2N2YWwgPSBldmVudFJlc3BvbnNlLnRvcGljLm1hcCgodG9waWMpID0+IHhkci5TY1ZhbC5mcm9tWERSKHRvcGljLCAnYmFzZTY0JykpO1xuICAgICAgICBjb25zdCB2YWx1ZV9zY3ZhbCA9IHhkci5TY1ZhbC5mcm9tWERSKGV2ZW50UmVzcG9uc2UudmFsdWUsICdiYXNlNjQnKTtcbiAgICAgICAgLy8gVGhlIGZpcnN0IHRvcGljIGlzIHRoZSBldmVudCBuYW1lIGFzIGEgc3ltYm9sXG4gICAgICAgIGNvbnN0IGV2ZW50U3RyaW5nID0gc2NWYWxUb05hdGl2ZSh0b3BpY19zY3ZhbFswXSk7XG4gICAgICAgIGNvbnN0IGJhc2VFdmVudCA9IHtcbiAgICAgICAgICAgIGlkOiBldmVudFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgY29udHJhY3RJZDogZXZlbnRSZXNwb25zZS5jb250cmFjdElkLFxuICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5FbWl0dGVyLFxuICAgICAgICAgICAgZXZlbnRUeXBlOiBldmVudFN0cmluZyxcbiAgICAgICAgICAgIGxlZGdlcjogZXZlbnRSZXNwb25zZS5sZWRnZXIsXG4gICAgICAgICAgICBsZWRnZXJDbG9zZWRBdDogZXZlbnRSZXNwb25zZS5sZWRnZXJDbG9zZWRBdCxcbiAgICAgICAgICAgIHR4SGFzaDogZXZlbnRSZXNwb25zZS50eEhhc2gsXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoZXZlbnRTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgRW1pdHRlckV2ZW50VHlwZS5EaXN0cmlidXRlOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVBc1ZlYyA9IHZhbHVlX3NjdmFsLnZlYygpO1xuICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDEgfHwgdmFsdWVBc1ZlYy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYmFja3N0b3AgPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZUFzVmVjWzBdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMV0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogRW1pdHRlckV2ZW50VHlwZS5EaXN0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICBiYWNrc3RvcDogYmFja3N0b3AsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVtaXR0ZXJFdmVudFR5cGUuUXVldWVTd2FwOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzd2FwID0gc2NWYWxUb05hdGl2ZSh2YWx1ZV9zY3ZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKHN3YXAubmV3X2JhY2tzdG9wID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgc3dhcC5uZXdfYmFja3N0b3BfdG9rZW4gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICBzd2FwLnVubG9ja190aW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IEVtaXR0ZXJFdmVudFR5cGUuUXVldWVTd2FwLFxuICAgICAgICAgICAgICAgICAgICBzd2FwOiBzd2FwLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEVtaXR0ZXJFdmVudFR5cGUuRGVsZXRlU3dhcDoge1xuICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3dhcCA9IHNjVmFsVG9OYXRpdmUodmFsdWVfc2N2YWwpO1xuICAgICAgICAgICAgICAgIGlmIChzd2FwLm5ld19iYWNrc3RvcCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgIHN3YXAubmV3X2JhY2tzdG9wX3Rva2VuID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgc3dhcC51bmxvY2tfdGltZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBFbWl0dGVyRXZlbnRUeXBlLkRlbGV0ZVN3YXAsXG4gICAgICAgICAgICAgICAgICAgIHN3YXA6IHN3YXAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgRW1pdHRlckV2ZW50VHlwZS5Td2FwOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzd2FwID0gc2NWYWxUb05hdGl2ZSh2YWx1ZV9zY3ZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKHN3YXAubmV3X2JhY2tzdG9wID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgc3dhcC5uZXdfYmFja3N0b3BfdG9rZW4gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICBzd2FwLnVubG9ja190aW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IEVtaXR0ZXJFdmVudFR5cGUuU3dhcCxcbiAgICAgICAgICAgICAgICAgICAgc3dhcDogc3dhcCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBFbWl0dGVyRXZlbnRUeXBlLkRyb3A6IHtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBzY1ZhbFRvTmF0aXZlKHZhbHVlX3NjdmFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogRW1pdHRlckV2ZW50VHlwZS5Ecm9wLFxuICAgICAgICAgICAgICAgICAgICBsaXN0OiBsaXN0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gY29udmVyc2lvbiBmdW5jdGlvbnMgdGhyb3cgb24gYSBtYWxmb3JtZWQgKG9yIG5vbi1lbWl0dGVyKSBldmVudHNcbiAgICAgICAgLy8gcmV0dXJuIHVuZGVmaW5lZCBpbiB0aGlzIGNhc2VcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_events.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/index.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/index.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmitterConfig: () => (/* reexport safe */ _emitter_config_js__WEBPACK_IMPORTED_MODULE_1__.EmitterConfig),\n/* harmony export */   EmitterContract: () => (/* reexport safe */ _emitter_contract_js__WEBPACK_IMPORTED_MODULE_2__.EmitterContract),\n/* harmony export */   EmitterDataKeyToXDR: () => (/* binding */ EmitterDataKeyToXDR),\n/* harmony export */   EmitterEventType: () => (/* reexport safe */ _emitter_events_js__WEBPACK_IMPORTED_MODULE_3__.EmitterEventType),\n/* harmony export */   emitterEventFromEventResponse: () => (/* reexport safe */ _emitter_events_js__WEBPACK_IMPORTED_MODULE_3__.emitterEventFromEventResponse)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _emitter_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./emitter_config.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_config.js\");\n/* harmony import */ var _emitter_contract_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./emitter_contract.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_contract.js\");\n/* harmony import */ var _emitter_events_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./emitter_events.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/emitter_events.js\");\n\n\n\n\nfunction EmitterDataKeyToXDR(emitterDataKey) {\n    if (!emitterDataKey) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVoid();\n    }\n    const res = [];\n    switch (emitterDataKey.tag) {\n        case 'Dropped':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Dropped'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(emitterDataKey.values));\n            break;\n        case 'LastDistro':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('LastDistro'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(emitterDataKey.values));\n            break;\n    }\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9lbWl0dGVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFvRDtBQUNoQjtBQUNFO0FBQ0Y7QUFDN0I7QUFDUDtBQUNBLGVBQWUscURBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQUc7QUFDaEMseUNBQXlDLHlEQUFPO0FBQ2hEO0FBQ0E7QUFDQSw2QkFBNkIscURBQUc7QUFDaEMseUNBQXlDLHlEQUFPO0FBQ2hEO0FBQ0E7QUFDQSxXQUFXLHFEQUFHO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL2VtaXR0ZXIvaW5kZXguanM/OTFiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5leHBvcnQgKiBmcm9tICcuL2VtaXR0ZXJfY29uZmlnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZW1pdHRlcl9jb250cmFjdC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2VtaXR0ZXJfZXZlbnRzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBFbWl0dGVyRGF0YUtleVRvWERSKGVtaXR0ZXJEYXRhS2V5KSB7XG4gICAgaWYgKCFlbWl0dGVyRGF0YUtleSkge1xuICAgICAgICByZXR1cm4geGRyLlNjVmFsLnNjdlZvaWQoKTtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgc3dpdGNoIChlbWl0dGVyRGF0YUtleS50YWcpIHtcbiAgICAgICAgY2FzZSAnRHJvcHBlZCc6XG4gICAgICAgICAgICByZXMucHVzaCgoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdEcm9wcGVkJykpO1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uKChpKSA9PiBbKChpKSA9PiBBZGRyZXNzLmZyb21TdHJpbmcoaSkudG9TY1ZhbCgpKShpWzBdKV0pKGVtaXR0ZXJEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xhc3REaXN0cm8nOlxuICAgICAgICAgICAgcmVzLnB1c2goKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnTGFzdERpc3RybycpKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKC4uLigoaSkgPT4gWygoaSkgPT4gQWRkcmVzcy5mcm9tU3RyaW5nKGkpLnRvU2NWYWwoKSkoaVswXSldKShlbWl0dGVyRGF0YUtleS52YWx1ZXMpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4geGRyLlNjVmFsLnNjdlZlYyhyZXMpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auction: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.Auction),\n/* harmony export */   AuctionData: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.AuctionData),\n/* harmony export */   AuctionType: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.AuctionType),\n/* harmony export */   Backstop: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.Backstop),\n/* harmony export */   BackstopConfig: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopConfig),\n/* harmony export */   BackstopContract: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopContract),\n/* harmony export */   BackstopContractV1: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopContractV1),\n/* harmony export */   BackstopContractV2: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopContractV2),\n/* harmony export */   BackstopDataKeyToXDR: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopDataKeyToXDR),\n/* harmony export */   BackstopEmissionConfig: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopEmissionConfig),\n/* harmony export */   BackstopEmissionData: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopEmissionData),\n/* harmony export */   BackstopEventType: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopEventType),\n/* harmony export */   BackstopPool: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopPool),\n/* harmony export */   BackstopPoolEst: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopPoolEst),\n/* harmony export */   BackstopPoolUser: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopPoolUser),\n/* harmony export */   BackstopPoolUserEst: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopPoolUserEst),\n/* harmony export */   BackstopPoolV1: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopPoolV1),\n/* harmony export */   BackstopPoolV2: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopPoolV2),\n/* harmony export */   BackstopToken: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopToken),\n/* harmony export */   BackstopUserEmissions: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.BackstopUserEmissions),\n/* harmony export */   BlendContractType: () => (/* reexport safe */ _base_event_js__WEBPACK_IMPORTED_MODULE_5__.BlendContractType),\n/* harmony export */   ContractError: () => (/* reexport safe */ _response_parser_js__WEBPACK_IMPORTED_MODULE_9__.ContractError),\n/* harmony export */   ContractErrorType: () => (/* reexport safe */ _response_parser_js__WEBPACK_IMPORTED_MODULE_9__.ContractErrorType),\n/* harmony export */   ContractReserve: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.ContractReserve),\n/* harmony export */   EmissionConfig: () => (/* reexport safe */ _emissions_js__WEBPACK_IMPORTED_MODULE_6__.EmissionConfig),\n/* harmony export */   EmissionData: () => (/* reexport safe */ _emissions_js__WEBPACK_IMPORTED_MODULE_6__.EmissionData),\n/* harmony export */   EmissionDataV2: () => (/* reexport safe */ _emissions_js__WEBPACK_IMPORTED_MODULE_6__.EmissionDataV2),\n/* harmony export */   Emissions: () => (/* reexport safe */ _emissions_js__WEBPACK_IMPORTED_MODULE_6__.Emissions),\n/* harmony export */   EmissionsV1: () => (/* reexport safe */ _emissions_js__WEBPACK_IMPORTED_MODULE_6__.EmissionsV1),\n/* harmony export */   EmissionsV2: () => (/* reexport safe */ _emissions_js__WEBPACK_IMPORTED_MODULE_6__.EmissionsV2),\n/* harmony export */   EmitterConfig: () => (/* reexport safe */ _emitter_index_js__WEBPACK_IMPORTED_MODULE_2__.EmitterConfig),\n/* harmony export */   EmitterContract: () => (/* reexport safe */ _emitter_index_js__WEBPACK_IMPORTED_MODULE_2__.EmitterContract),\n/* harmony export */   EmitterDataKeyToXDR: () => (/* reexport safe */ _emitter_index_js__WEBPACK_IMPORTED_MODULE_2__.EmitterDataKeyToXDR),\n/* harmony export */   EmitterEventType: () => (/* reexport safe */ _emitter_index_js__WEBPACK_IMPORTED_MODULE_2__.EmitterEventType),\n/* harmony export */   ErrorTypes: () => (/* binding */ ErrorTypes),\n/* harmony export */   FixedMath: () => (/* reexport module object */ _math_js__WEBPACK_IMPORTED_MODULE_7__),\n/* harmony export */   I128MAX: () => (/* binding */ I128MAX),\n/* harmony export */   Pool: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.Pool),\n/* harmony export */   PoolBalance: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.PoolBalance),\n/* harmony export */   PoolConfig: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolConfig),\n/* harmony export */   PoolContract: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolContract),\n/* harmony export */   PoolContractV1: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolContractV1),\n/* harmony export */   PoolContractV2: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolContractV2),\n/* harmony export */   PoolDataKeyToXDR: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolDataKeyToXDR),\n/* harmony export */   PoolEstimate: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolEstimate),\n/* harmony export */   PoolEventType: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolEventType),\n/* harmony export */   PoolFactoryConfig: () => (/* reexport safe */ _pool_factory_index_js__WEBPACK_IMPORTED_MODULE_4__.PoolFactoryConfig),\n/* harmony export */   PoolFactoryContract: () => (/* reexport safe */ _pool_factory_index_js__WEBPACK_IMPORTED_MODULE_4__.PoolFactoryContract),\n/* harmony export */   PoolFactoryContractV1: () => (/* reexport safe */ _pool_factory_index_js__WEBPACK_IMPORTED_MODULE_4__.PoolFactoryContractV1),\n/* harmony export */   PoolFactoryContractV2: () => (/* reexport safe */ _pool_factory_index_js__WEBPACK_IMPORTED_MODULE_4__.PoolFactoryContractV2),\n/* harmony export */   PoolFactoryDataKeyToXDR: () => (/* reexport safe */ _pool_factory_index_js__WEBPACK_IMPORTED_MODULE_4__.PoolFactoryDataKeyToXDR),\n/* harmony export */   PoolFactoryEventType: () => (/* reexport safe */ _pool_factory_index_js__WEBPACK_IMPORTED_MODULE_4__.PoolFactoryEventType),\n/* harmony export */   PoolMetadata: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolMetadata),\n/* harmony export */   PoolOracle: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolOracle),\n/* harmony export */   PoolUser: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolUser),\n/* harmony export */   PoolUserEmissionData: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolUserEmissionData),\n/* harmony export */   PoolUserKeyToXDR: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.PoolUserKeyToXDR),\n/* harmony export */   PoolV1: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolV1),\n/* harmony export */   PoolV2: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PoolV2),\n/* harmony export */   Positions: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.Positions),\n/* harmony export */   PositionsEstimate: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.PositionsEstimate),\n/* harmony export */   RequestType: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.RequestType),\n/* harmony export */   Reserve: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.Reserve),\n/* harmony export */   ReserveConfig: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.ReserveConfig),\n/* harmony export */   ReserveConfigV2: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.ReserveConfigV2),\n/* harmony export */   ReserveData: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.ReserveData),\n/* harmony export */   ReserveEmissionConfig: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.ReserveEmissionConfig),\n/* harmony export */   ReserveEmissionData: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.ReserveEmissionData),\n/* harmony export */   ReserveV1: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.ReserveV1),\n/* harmony export */   ReserveV2: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.ReserveV2),\n/* harmony export */   TokenMetadata: () => (/* reexport safe */ _token_js__WEBPACK_IMPORTED_MODULE_10__.TokenMetadata),\n/* harmony export */   UserBalance: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.UserBalance),\n/* harmony export */   UserEmissions: () => (/* reexport safe */ _emissions_js__WEBPACK_IMPORTED_MODULE_6__.UserEmissions),\n/* harmony export */   UserReserveKeyToXDR: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.UserReserveKeyToXDR),\n/* harmony export */   Version: () => (/* binding */ Version),\n/* harmony export */   addReflectorEntries: () => (/* reexport safe */ _oracle_js__WEBPACK_IMPORTED_MODULE_8__.addReflectorEntries),\n/* harmony export */   backstopEventV1FromEventResponse: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.backstopEventV1FromEventResponse),\n/* harmony export */   backstopEventV2FromEventResponse: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.backstopEventV2FromEventResponse),\n/* harmony export */   emitterEventFromEventResponse: () => (/* reexport safe */ _emitter_index_js__WEBPACK_IMPORTED_MODULE_2__.emitterEventFromEventResponse),\n/* harmony export */   getAuctionsfromV1Events: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.getAuctionsfromV1Events),\n/* harmony export */   getAuctionsfromV2Events: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.getAuctionsfromV2Events),\n/* harmony export */   getEmissionIndex: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.getEmissionIndex),\n/* harmony export */   getOracleDecimals: () => (/* reexport safe */ _oracle_js__WEBPACK_IMPORTED_MODULE_8__.getOracleDecimals),\n/* harmony export */   getOraclePrice: () => (/* reexport safe */ _oracle_js__WEBPACK_IMPORTED_MODULE_8__.getOraclePrice),\n/* harmony export */   getPoolFromBackstopLedgerData: () => (/* reexport safe */ _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__.getPoolFromBackstopLedgerData),\n/* harmony export */   getReserveId: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.getReserveId),\n/* harmony export */   parseError: () => (/* reexport safe */ _response_parser_js__WEBPACK_IMPORTED_MODULE_9__.parseError),\n/* harmony export */   parseResult: () => (/* reexport safe */ _response_parser_js__WEBPACK_IMPORTED_MODULE_9__.parseResult),\n/* harmony export */   poolEventV1FromEventResponse: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.poolEventV1FromEventResponse),\n/* harmony export */   poolEventV2FromEventResponse: () => (/* reexport safe */ _pool_index_js__WEBPACK_IMPORTED_MODULE_3__.poolEventV2FromEventResponse),\n/* harmony export */   poolFactoryEventFromEventResponse: () => (/* reexport safe */ _pool_factory_index_js__WEBPACK_IMPORTED_MODULE_4__.poolFactoryEventFromEventResponse)\n/* harmony export */ });\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var _backstop_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./backstop/index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/backstop/index.js\");\n/* harmony import */ var _emitter_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./emitter/index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emitter/index.js\");\n/* harmony import */ var _pool_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pool/index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/index.js\");\n/* harmony import */ var _pool_factory_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pool_factory/index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/index.js\");\n/* harmony import */ var _base_event_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base_event.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/base_event.js\");\n/* harmony import */ var _emissions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./emissions.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js\");\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./math.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js\");\n/* harmony import */ var _oracle_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./oracle.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/oracle.js\");\n/* harmony import */ var _response_parser_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./response_parser.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/response_parser.js\");\n/* harmony import */ var _token_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./token.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/token.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst I128MAX = BigInt('170141183460469231731687303715884105727');\nvar Version;\n(function (Version) {\n    Version[\"V1\"] = \"V1\";\n    Version[\"V2\"] = \"V2\";\n})(Version || (Version = {}));\nvar ErrorTypes;\n(function (ErrorTypes) {\n    ErrorTypes[\"LedgerEntryParseError\"] = \"LedgerEntryParseError\";\n})(ErrorTypes || (ErrorTypes = {}));\nif (typeof window !== 'undefined') {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore Buffer exists\n    window.Buffer = window.Buffer || buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDSTtBQUNEO0FBQ0g7QUFDUTtBQUNSO0FBQ0Q7QUFDUTtBQUNYO0FBQ1M7QUFDTTtBQUNwQztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQkFBMEI7QUFDcEI7QUFDUDtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDakM7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDBDQUFNO0FBQzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9pbmRleC5qcz8wN2U5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5leHBvcnQgKiBmcm9tICcuL2JhY2tzdG9wL2luZGV4LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZW1pdHRlci9pbmRleC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3Bvb2wvaW5kZXguanMnO1xuZXhwb3J0ICogZnJvbSAnLi9wb29sX2ZhY3RvcnkvaW5kZXguanMnO1xuZXhwb3J0ICogZnJvbSAnLi9iYXNlX2V2ZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZW1pc3Npb25zLmpzJztcbmV4cG9ydCAqIGFzIEZpeGVkTWF0aCBmcm9tICcuL21hdGguanMnO1xuZXhwb3J0ICogZnJvbSAnLi9vcmFjbGUuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9yZXNwb25zZV9wYXJzZXIuanMnO1xuZXhwb3J0IHsgVG9rZW5NZXRhZGF0YSB9IGZyb20gJy4vdG9rZW4uanMnO1xuZXhwb3J0IGNvbnN0IEkxMjhNQVggPSBCaWdJbnQoJzE3MDE0MTE4MzQ2MDQ2OTIzMTczMTY4NzMwMzcxNTg4NDEwNTcyNycpO1xuZXhwb3J0IHZhciBWZXJzaW9uO1xuKGZ1bmN0aW9uIChWZXJzaW9uKSB7XG4gICAgVmVyc2lvbltcIlYxXCJdID0gXCJWMVwiO1xuICAgIFZlcnNpb25bXCJWMlwiXSA9IFwiVjJcIjtcbn0pKFZlcnNpb24gfHwgKFZlcnNpb24gPSB7fSkpO1xuZXhwb3J0IHZhciBFcnJvclR5cGVzO1xuKGZ1bmN0aW9uIChFcnJvclR5cGVzKSB7XG4gICAgRXJyb3JUeXBlc1tcIkxlZGdlckVudHJ5UGFyc2VFcnJvclwiXSA9IFwiTGVkZ2VyRW50cnlQYXJzZUVycm9yXCI7XG59KShFcnJvclR5cGVzIHx8IChFcnJvclR5cGVzID0ge30pKTtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvLyBAdHMtaWdub3JlIEJ1ZmZlciBleGlzdHNcbiAgICB3aW5kb3cuQnVmZmVyID0gd2luZG93LkJ1ZmZlciB8fCBCdWZmZXI7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeEntryKey: () => (/* binding */ decodeEntryKey)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n\nfunction decodeEntryKey(entryKey) {\n    let key;\n    switch (entryKey.switch()) {\n        // Key is a ScVec[ScvSym, ScVal]\n        case _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScValType.scvVec():\n            key = entryKey.vec().at(0).sym().toString();\n            break;\n        case _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScValType.scvSymbol():\n            key = entryKey.sym().toString();\n            break;\n        case _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScValType.scvLedgerKeyContractInstance():\n            key = 'ContractInstance';\n            break;\n        default:\n            throw Error(`Invalid ledger entry key type: should not contain type ${entryKey.switch()}`);\n    }\n    return key;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9sZWRnZXJfZW50cnlfaGVscGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJDO0FBQ3BDO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxREFBRztBQUNoQjtBQUNBO0FBQ0EsYUFBYSxxREFBRztBQUNoQjtBQUNBO0FBQ0EsYUFBYSxxREFBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQSxrRkFBa0Ysa0JBQWtCO0FBQ3BHO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vbGVkZ2VyX2VudHJ5X2hlbHBlci5qcz8wMmI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHhkciB9IGZyb20gJ0BzdGVsbGFyL3N0ZWxsYXItc2RrJztcbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVFbnRyeUtleShlbnRyeUtleSkge1xuICAgIGxldCBrZXk7XG4gICAgc3dpdGNoIChlbnRyeUtleS5zd2l0Y2goKSkge1xuICAgICAgICAvLyBLZXkgaXMgYSBTY1ZlY1tTY3ZTeW0sIFNjVmFsXVxuICAgICAgICBjYXNlIHhkci5TY1ZhbFR5cGUuc2N2VmVjKCk6XG4gICAgICAgICAgICBrZXkgPSBlbnRyeUtleS52ZWMoKS5hdCgwKS5zeW0oKS50b1N0cmluZygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgeGRyLlNjVmFsVHlwZS5zY3ZTeW1ib2woKTpcbiAgICAgICAgICAgIGtleSA9IGVudHJ5S2V5LnN5bSgpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB4ZHIuU2NWYWxUeXBlLnNjdkxlZGdlcktleUNvbnRyYWN0SW5zdGFuY2UoKTpcbiAgICAgICAgICAgIGtleSA9ICdDb250cmFjdEluc3RhbmNlJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgbGVkZ2VyIGVudHJ5IGtleSB0eXBlOiBzaG91bGQgbm90IGNvbnRhaW4gdHlwZSAke2VudHJ5S2V5LnN3aXRjaCgpfWApO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SCALAR_12: () => (/* binding */ SCALAR_12),\n/* harmony export */   SCALAR_7: () => (/* binding */ SCALAR_7),\n/* harmony export */   SCALAR_9: () => (/* binding */ SCALAR_9),\n/* harmony export */   divCeil: () => (/* binding */ divCeil),\n/* harmony export */   divFloor: () => (/* binding */ divFloor),\n/* harmony export */   mulCeil: () => (/* binding */ mulCeil),\n/* harmony export */   mulFloor: () => (/* binding */ mulFloor),\n/* harmony export */   toFixed: () => (/* binding */ toFixed),\n/* harmony export */   toFloat: () => (/* binding */ toFloat)\n/* harmony export */ });\nconst SCALAR_7 = BigInt(10000000);\nconst SCALAR_9 = BigInt(1000000000);\nconst SCALAR_12 = BigInt(1000000000000);\nfunction toFixed(x, decimals = 7) {\n    return BigInt(Math.floor(x * 10 ** decimals));\n}\nfunction toFloat(x, decimals = 7) {\n    return Number(x) / 10 ** decimals;\n}\nfunction mulFloor(x, y, denominator) {\n    return mulDivFloor(x, y, denominator);\n}\nfunction mulCeil(x, y, denominator) {\n    return mulDivCeil(x, y, denominator);\n}\nfunction divFloor(x, y, denominator) {\n    return mulDivFloor(x, denominator, y);\n}\nfunction divCeil(x, y, denominator) {\n    return mulDivCeil(x, denominator, y);\n}\n// Performs floor(x * y / z)\nfunction mulDivFloor(x, y, z) {\n    const r = x * y;\n    return r / z;\n}\n// Performs ceil(x * y / z)\nfunction mulDivCeil(x, y, z) {\n    const r = x * y;\n    const remainder = r % z;\n    return r / z + (remainder > 0n ? 1n : 0n);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9tYXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFPO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL21hdGguanM/MWYxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU0NBTEFSXzcgPSBCaWdJbnQoMTAwMDAwMDApO1xuZXhwb3J0IGNvbnN0IFNDQUxBUl85ID0gQmlnSW50KDEwMDAwMDAwMDApO1xuZXhwb3J0IGNvbnN0IFNDQUxBUl8xMiA9IEJpZ0ludCgxMDAwMDAwMDAwMDAwKTtcbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKHgsIGRlY2ltYWxzID0gNykge1xuICAgIHJldHVybiBCaWdJbnQoTWF0aC5mbG9vcih4ICogMTAgKiogZGVjaW1hbHMpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0Zsb2F0KHgsIGRlY2ltYWxzID0gNykge1xuICAgIHJldHVybiBOdW1iZXIoeCkgLyAxMCAqKiBkZWNpbWFscztcbn1cbmV4cG9ydCBmdW5jdGlvbiBtdWxGbG9vcih4LCB5LCBkZW5vbWluYXRvcikge1xuICAgIHJldHVybiBtdWxEaXZGbG9vcih4LCB5LCBkZW5vbWluYXRvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gbXVsQ2VpbCh4LCB5LCBkZW5vbWluYXRvcikge1xuICAgIHJldHVybiBtdWxEaXZDZWlsKHgsIHksIGRlbm9taW5hdG9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXZGbG9vcih4LCB5LCBkZW5vbWluYXRvcikge1xuICAgIHJldHVybiBtdWxEaXZGbG9vcih4LCBkZW5vbWluYXRvciwgeSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGl2Q2VpbCh4LCB5LCBkZW5vbWluYXRvcikge1xuICAgIHJldHVybiBtdWxEaXZDZWlsKHgsIGRlbm9taW5hdG9yLCB5KTtcbn1cbi8vIFBlcmZvcm1zIGZsb29yKHggKiB5IC8geilcbmZ1bmN0aW9uIG11bERpdkZsb29yKHgsIHksIHopIHtcbiAgICBjb25zdCByID0geCAqIHk7XG4gICAgcmV0dXJuIHIgLyB6O1xufVxuLy8gUGVyZm9ybXMgY2VpbCh4ICogeSAvIHopXG5mdW5jdGlvbiBtdWxEaXZDZWlsKHgsIHksIHopIHtcbiAgICBjb25zdCByID0geCAqIHk7XG4gICAgY29uc3QgcmVtYWluZGVyID0gciAlIHo7XG4gICAgcmV0dXJuIHIgLyB6ICsgKHJlbWFpbmRlciA+IDBuID8gMW4gOiAwbik7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/oracle.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/oracle.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addReflectorEntries: () => (/* binding */ addReflectorEntries),\n/* harmony export */   getOracleDecimals: () => (/* binding */ getOracleDecimals),\n/* harmony export */   getOraclePrice: () => (/* binding */ getOraclePrice)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n\nconst REFLECTOR_ORACLE_ADDRESSES = [\n    'CBKGPWGKSKZF52CFHMTRR23TBWTPMRDIYZ4O2P5VS65BMHYH4DXMCJZC',\n    'CALI2BYU2JE6WVRUFYTS6MSBNEHGJ35P4AVCZYF3B6QOE3QKOB2PLE6M',\n    'CAFJZQWSED6YAWZU3GWRTOCNPPCGBN32L7QV43XX5LZLFTK6JLN34DLN',\n];\n/**\n * Fetch the `lastprice` from an oracle contract for the given token.\n * @param network - The network to use\n * @param oracle_id - The oracle contract ID\n * @param token_id - The token contract ID to fetch the price for\n * @returns The PriceData\n * @throws Will throw an error if `None` is returned or if the simulation fails.\n */\nasync function getOraclePrice(network, oracle_id, token_id) {\n    // account does not get validated during simulateTx\n    const account = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Account('GANXGJV2RNOFMOSQ2DTI3RKDBAVERXUVFC27KW3RLVQCLB3RYNO3AAI4', '123');\n    const tx_builder = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder(account, {\n        fee: '1000',\n        timebounds: { minTime: 0, maxTime: 0 },\n        networkPassphrase: network.passphrase,\n    });\n    const asset = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec([\n        _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('Stellar'),\n        _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(token_id).toScVal(),\n    ]);\n    tx_builder.addOperation(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract(oracle_id).call('lastprice', asset));\n    const stellar_rpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n    const result = await stellar_rpc.simulateTransaction(tx_builder.build());\n    if (_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Api.isSimulationSuccess(result)) {\n        const xdr_str = result.result?.retval.toXDR('base64');\n        if (xdr_str) {\n            const price_result = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(xdr_str, 'base64')?.value();\n            if (price_result) {\n                return {\n                    // eslint-disable-next-line\n                    // @ts-ignore\n                    price: (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(price_result[0]?.val()),\n                    timestamp: Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(price_result[1]?.val())),\n                };\n            }\n        }\n        throw new Error('Unable to decode oracle price result');\n    }\n    else {\n        throw new Error(`Failed to fetch oralce price: ${result.error}`);\n    }\n}\n/**\n * Fetch the `decimals` from an oracle contract.\n * @param network - The network to use\n * @param oracle_id - The oracle contract ID\n * @returns The decimals and latest ledger number\n * @throws Will throw an error if the simulation fails.\n */\nasync function getOracleDecimals(network, oracle_id) {\n    // account does not get validated during simulateTx\n    const account = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Account('GANXGJV2RNOFMOSQ2DTI3RKDBAVERXUVFC27KW3RLVQCLB3RYNO3AAI4', '123');\n    const tx_builder = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder(account, {\n        fee: '1000',\n        timebounds: { minTime: 0, maxTime: 0 },\n        networkPassphrase: network.passphrase,\n    });\n    tx_builder.addOperation(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract(oracle_id).call('decimals'));\n    const stellar_rpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n    const result = await stellar_rpc.simulateTransaction(tx_builder.build());\n    if (_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Api.isSimulationSuccess(result)) {\n        const val = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(result.result.retval);\n        return {\n            decimals: val,\n            latestLedger: result.latestLedger,\n        };\n    }\n    else {\n        throw new Error(`Failed to fetch oralce decimals: ${result.error}`);\n    }\n}\n/**\n * Add future Reflector oracle entries to the read-only footprint of a transaction.\n * This ensures that if a future oracle round occurs before the transaction is executed,\n * the future oracle round will still be included in the footprint.\n *\n * This only works for Reflector based oracles as it makes assumptions based on how the\n * oracle contracts keys are structured.\n *\n * If more than 100 entries are added to the read-only footprint, it will stop adding. The priority\n * is given to the oracle contracts seen first, and the indexes for the contract that are seen first.\n *\n * @param tx - The transaction XDR to add the reflector entries to.\n * @returns A base-64 transaction XDR string with the reflector entries added to the read-only footprint.\n */\nfunction addReflectorEntries(txXdr) {\n    // network passphrase not relevant as TX XDR is returned, which\n    // does not include a network passphrase.\n    const tx = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder.fromXDR(txXdr, _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Networks.PUBLIC);\n    if (tx instanceof _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.FeeBumpTransaction) {\n        return tx.toXDR();\n    }\n    const sorobanData = tx.toEnvelope().v1().tx().ext().sorobanData();\n    const readEntries = sorobanData.resources().footprint().readOnly();\n    const readWriteEntries = sorobanData.resources().footprint().readWrite();\n    let bytes_read = sorobanData.resources().diskReadBytes();\n    // Key: the reflector oracle contract address\n    // Value: a map of index to the most recent timestamp for that index\n    const mostRecentEntries = new Map();\n    const newReadEntries = [];\n    for (const entry of readEntries) {\n        switch (entry.switch()) {\n            case _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryType.contractData(): {\n                const contractData = entry.contractData();\n                const address = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScAddress(contractData.contract()).toString();\n                if (REFLECTOR_ORACLE_ADDRESSES.includes(address)) {\n                    switch (contractData.key().switch()) {\n                        case _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScValType.scvU128(): {\n                            const u128Key = contractData.key().u128();\n                            const roundTimestamp = u128Key.hi().toBigInt();\n                            const index = u128Key.lo().toBigInt();\n                            if (!mostRecentEntries.has(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScAddress(contractData.contract()).toString())) {\n                                mostRecentEntries.set(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScAddress(contractData.contract()).toString(), new Map());\n                            }\n                            const contractEntries = mostRecentEntries.get(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScAddress(contractData.contract()).toString());\n                            if (contractEntries.has(index)) {\n                                const mostRecentTimestamp = contractEntries.get(index);\n                                if (mostRecentTimestamp < roundTimestamp) {\n                                    contractEntries.set(index, roundTimestamp);\n                                }\n                            }\n                            else {\n                                contractEntries.set(index, roundTimestamp);\n                            }\n                        }\n                    }\n                }\n                break;\n            }\n        }\n    }\n    for (const [contract, entries] of mostRecentEntries.entries()) {\n        for (const [index, roundTimestamp] of entries.entries()) {\n            if (readWriteEntries.length + readEntries.length + newReadEntries.length + 1 > 100) {\n                break;\n            }\n            // Create a new entry for the reflector oracle\n            const newRoundTimestamp = roundTimestamp + 300000n;\n            newReadEntries.push(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n                contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(contract).toScAddress(),\n                key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU128(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.UInt128Parts({\n                    hi: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.Uint64.fromString(newRoundTimestamp.toString()),\n                    lo: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.Uint64.fromString(index.toString()),\n                })),\n                durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.temporary(),\n            })));\n            // Reading the additional ledger key+entry adds 96 bytes to the bytes_read count.\n            // Add 100 bytes to be safe.\n            bytes_read += 100;\n        }\n    }\n    sorobanData\n        .resources()\n        .footprint()\n        .readOnly([...readEntries, ...newReadEntries]);\n    sorobanData.resources().diskReadBytes(bytes_read);\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder.cloneFrom(tx, {\n        sorobanData: sorobanData,\n        fee: tx.fee,\n    })\n        .build()\n        .toXDR();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9vcmFjbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4STtBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSx3QkFBd0IseURBQU87QUFDL0IsMkJBQTJCLG9FQUFrQjtBQUM3QztBQUNBLHNCQUFzQix3QkFBd0I7QUFDOUM7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHFEQUFHO0FBQ3JCLFFBQVEscURBQUc7QUFDWCxRQUFRLHlEQUFPO0FBQ2Y7QUFDQSxnQ0FBZ0MsMERBQVE7QUFDeEMsNEJBQTRCLHFEQUFHO0FBQy9CO0FBQ0EsUUFBUSxxREFBRztBQUNYO0FBQ0E7QUFDQSxpQ0FBaUMscURBQUc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUVBQWE7QUFDeEMsc0NBQXNDLG1FQUFhO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxhQUFhO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSx3QkFBd0IseURBQU87QUFDL0IsMkJBQTJCLG9FQUFrQjtBQUM3QztBQUNBLHNCQUFzQix3QkFBd0I7QUFDOUM7QUFDQSxLQUFLO0FBQ0wsZ0NBQWdDLDBEQUFRO0FBQ3hDLDRCQUE0QixxREFBRztBQUMvQjtBQUNBLFFBQVEscURBQUc7QUFDWCxvQkFBb0IsbUVBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGFBQWE7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLG9FQUFrQixnQkFBZ0IsMERBQVE7QUFDekQsc0JBQXNCLG9FQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscURBQUc7QUFDcEI7QUFDQSxnQ0FBZ0MseURBQU87QUFDdkM7QUFDQTtBQUNBLDZCQUE2QixxREFBRztBQUNoQztBQUNBO0FBQ0E7QUFDQSx1REFBdUQseURBQU87QUFDOUQsc0RBQXNELHlEQUFPO0FBQzdEO0FBQ0EsMEVBQTBFLHlEQUFPO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQUcsNEJBQTRCLHFEQUFHO0FBQ2xFLDBCQUEwQix5REFBTztBQUNqQyxxQkFBcUIscURBQUcsbUJBQW1CLHFEQUFHO0FBQzlDLHdCQUF3QixxREFBRztBQUMzQix3QkFBd0IscURBQUc7QUFDM0IsaUJBQWlCO0FBQ2pCLDRCQUE0QixxREFBRztBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9FQUFrQjtBQUM3QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vb3JhY2xlLmpzP2I1M2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWNjb3VudCwgQWRkcmVzcywgQ29udHJhY3QsIEZlZUJ1bXBUcmFuc2FjdGlvbiwgTmV0d29ya3MsIHJwYywgc2NWYWxUb05hdGl2ZSwgVHJhbnNhY3Rpb25CdWlsZGVyLCB4ZHIsIH0gZnJvbSAnQHN0ZWxsYXIvc3RlbGxhci1zZGsnO1xuY29uc3QgUkVGTEVDVE9SX09SQUNMRV9BRERSRVNTRVMgPSBbXG4gICAgJ0NCS0dQV0dLU0taRjUyQ0ZITVRSUjIzVEJXVFBNUkRJWVo0TzJQNVZTNjVCTUhZSDREWE1DSlpDJyxcbiAgICAnQ0FMSTJCWVUySkU2V1ZSVUZZVFM2TVNCTkVIR0ozNVA0QVZDWllGM0I2UU9FM1FLT0IyUExFNk0nLFxuICAgICdDQUZKWlFXU0VENllBV1pVM0dXUlRPQ05QUENHQk4zMkw3UVY0M1hYNUxaTEZUSzZKTE4zNERMTicsXG5dO1xuLyoqXG4gKiBGZXRjaCB0aGUgYGxhc3RwcmljZWAgZnJvbSBhbiBvcmFjbGUgY29udHJhY3QgZm9yIHRoZSBnaXZlbiB0b2tlbi5cbiAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgdG8gdXNlXG4gKiBAcGFyYW0gb3JhY2xlX2lkIC0gVGhlIG9yYWNsZSBjb250cmFjdCBJRFxuICogQHBhcmFtIHRva2VuX2lkIC0gVGhlIHRva2VuIGNvbnRyYWN0IElEIHRvIGZldGNoIHRoZSBwcmljZSBmb3JcbiAqIEByZXR1cm5zIFRoZSBQcmljZURhdGFcbiAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiBgTm9uZWAgaXMgcmV0dXJuZWQgb3IgaWYgdGhlIHNpbXVsYXRpb24gZmFpbHMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPcmFjbGVQcmljZShuZXR3b3JrLCBvcmFjbGVfaWQsIHRva2VuX2lkKSB7XG4gICAgLy8gYWNjb3VudCBkb2VzIG5vdCBnZXQgdmFsaWRhdGVkIGR1cmluZyBzaW11bGF0ZVR4XG4gICAgY29uc3QgYWNjb3VudCA9IG5ldyBBY2NvdW50KCdHQU5YR0pWMlJOT0ZNT1NRMkRUSTNSS0RCQVZFUlhVVkZDMjdLVzNSTFZRQ0xCM1JZTk8zQUFJNCcsICcxMjMnKTtcbiAgICBjb25zdCB0eF9idWlsZGVyID0gbmV3IFRyYW5zYWN0aW9uQnVpbGRlcihhY2NvdW50LCB7XG4gICAgICAgIGZlZTogJzEwMDAnLFxuICAgICAgICB0aW1lYm91bmRzOiB7IG1pblRpbWU6IDAsIG1heFRpbWU6IDAgfSxcbiAgICAgICAgbmV0d29ya1Bhc3NwaHJhc2U6IG5ldHdvcmsucGFzc3BocmFzZSxcbiAgICB9KTtcbiAgICBjb25zdCBhc3NldCA9IHhkci5TY1ZhbC5zY3ZWZWMoW1xuICAgICAgICB4ZHIuU2NWYWwuc2N2U3ltYm9sKCdTdGVsbGFyJyksXG4gICAgICAgIEFkZHJlc3MuZnJvbVN0cmluZyh0b2tlbl9pZCkudG9TY1ZhbCgpLFxuICAgIF0pO1xuICAgIHR4X2J1aWxkZXIuYWRkT3BlcmF0aW9uKG5ldyBDb250cmFjdChvcmFjbGVfaWQpLmNhbGwoJ2xhc3RwcmljZScsIGFzc2V0KSk7XG4gICAgY29uc3Qgc3RlbGxhcl9ycGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGVsbGFyX3JwYy5zaW11bGF0ZVRyYW5zYWN0aW9uKHR4X2J1aWxkZXIuYnVpbGQoKSk7XG4gICAgaWYgKHJwYy5BcGkuaXNTaW11bGF0aW9uU3VjY2VzcyhyZXN1bHQpKSB7XG4gICAgICAgIGNvbnN0IHhkcl9zdHIgPSByZXN1bHQucmVzdWx0Py5yZXR2YWwudG9YRFIoJ2Jhc2U2NCcpO1xuICAgICAgICBpZiAoeGRyX3N0cikge1xuICAgICAgICAgICAgY29uc3QgcHJpY2VfcmVzdWx0ID0geGRyLlNjVmFsLmZyb21YRFIoeGRyX3N0ciwgJ2Jhc2U2NCcpPy52YWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHByaWNlX3Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHByaWNlOiBzY1ZhbFRvTmF0aXZlKHByaWNlX3Jlc3VsdFswXT8udmFsKCkpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IE51bWJlcihzY1ZhbFRvTmF0aXZlKHByaWNlX3Jlc3VsdFsxXT8udmFsKCkpKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGRlY29kZSBvcmFjbGUgcHJpY2UgcmVzdWx0Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBvcmFsY2UgcHJpY2U6ICR7cmVzdWx0LmVycm9yfWApO1xuICAgIH1cbn1cbi8qKlxuICogRmV0Y2ggdGhlIGBkZWNpbWFsc2AgZnJvbSBhbiBvcmFjbGUgY29udHJhY3QuXG4gKiBAcGFyYW0gbmV0d29yayAtIFRoZSBuZXR3b3JrIHRvIHVzZVxuICogQHBhcmFtIG9yYWNsZV9pZCAtIFRoZSBvcmFjbGUgY29udHJhY3QgSURcbiAqIEByZXR1cm5zIFRoZSBkZWNpbWFscyBhbmQgbGF0ZXN0IGxlZGdlciBudW1iZXJcbiAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgc2ltdWxhdGlvbiBmYWlscy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yYWNsZURlY2ltYWxzKG5ldHdvcmssIG9yYWNsZV9pZCkge1xuICAgIC8vIGFjY291bnQgZG9lcyBub3QgZ2V0IHZhbGlkYXRlZCBkdXJpbmcgc2ltdWxhdGVUeFxuICAgIGNvbnN0IGFjY291bnQgPSBuZXcgQWNjb3VudCgnR0FOWEdKVjJSTk9GTU9TUTJEVEkzUktEQkFWRVJYVVZGQzI3S1czUkxWUUNMQjNSWU5PM0FBSTQnLCAnMTIzJyk7XG4gICAgY29uc3QgdHhfYnVpbGRlciA9IG5ldyBUcmFuc2FjdGlvbkJ1aWxkZXIoYWNjb3VudCwge1xuICAgICAgICBmZWU6ICcxMDAwJyxcbiAgICAgICAgdGltZWJvdW5kczogeyBtaW5UaW1lOiAwLCBtYXhUaW1lOiAwIH0sXG4gICAgICAgIG5ldHdvcmtQYXNzcGhyYXNlOiBuZXR3b3JrLnBhc3NwaHJhc2UsXG4gICAgfSk7XG4gICAgdHhfYnVpbGRlci5hZGRPcGVyYXRpb24obmV3IENvbnRyYWN0KG9yYWNsZV9pZCkuY2FsbCgnZGVjaW1hbHMnKSk7XG4gICAgY29uc3Qgc3RlbGxhcl9ycGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGVsbGFyX3JwYy5zaW11bGF0ZVRyYW5zYWN0aW9uKHR4X2J1aWxkZXIuYnVpbGQoKSk7XG4gICAgaWYgKHJwYy5BcGkuaXNTaW11bGF0aW9uU3VjY2VzcyhyZXN1bHQpKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHNjVmFsVG9OYXRpdmUocmVzdWx0LnJlc3VsdC5yZXR2YWwpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVjaW1hbHM6IHZhbCxcbiAgICAgICAgICAgIGxhdGVzdExlZGdlcjogcmVzdWx0LmxhdGVzdExlZGdlcixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIG9yYWxjZSBkZWNpbWFsczogJHtyZXN1bHQuZXJyb3J9YCk7XG4gICAgfVxufVxuLyoqXG4gKiBBZGQgZnV0dXJlIFJlZmxlY3RvciBvcmFjbGUgZW50cmllcyB0byB0aGUgcmVhZC1vbmx5IGZvb3RwcmludCBvZiBhIHRyYW5zYWN0aW9uLlxuICogVGhpcyBlbnN1cmVzIHRoYXQgaWYgYSBmdXR1cmUgb3JhY2xlIHJvdW5kIG9jY3VycyBiZWZvcmUgdGhlIHRyYW5zYWN0aW9uIGlzIGV4ZWN1dGVkLFxuICogdGhlIGZ1dHVyZSBvcmFjbGUgcm91bmQgd2lsbCBzdGlsbCBiZSBpbmNsdWRlZCBpbiB0aGUgZm9vdHByaW50LlxuICpcbiAqIFRoaXMgb25seSB3b3JrcyBmb3IgUmVmbGVjdG9yIGJhc2VkIG9yYWNsZXMgYXMgaXQgbWFrZXMgYXNzdW1wdGlvbnMgYmFzZWQgb24gaG93IHRoZVxuICogb3JhY2xlIGNvbnRyYWN0cyBrZXlzIGFyZSBzdHJ1Y3R1cmVkLlxuICpcbiAqIElmIG1vcmUgdGhhbiAxMDAgZW50cmllcyBhcmUgYWRkZWQgdG8gdGhlIHJlYWQtb25seSBmb290cHJpbnQsIGl0IHdpbGwgc3RvcCBhZGRpbmcuIFRoZSBwcmlvcml0eVxuICogaXMgZ2l2ZW4gdG8gdGhlIG9yYWNsZSBjb250cmFjdHMgc2VlbiBmaXJzdCwgYW5kIHRoZSBpbmRleGVzIGZvciB0aGUgY29udHJhY3QgdGhhdCBhcmUgc2VlbiBmaXJzdC5cbiAqXG4gKiBAcGFyYW0gdHggLSBUaGUgdHJhbnNhY3Rpb24gWERSIHRvIGFkZCB0aGUgcmVmbGVjdG9yIGVudHJpZXMgdG8uXG4gKiBAcmV0dXJucyBBIGJhc2UtNjQgdHJhbnNhY3Rpb24gWERSIHN0cmluZyB3aXRoIHRoZSByZWZsZWN0b3IgZW50cmllcyBhZGRlZCB0byB0aGUgcmVhZC1vbmx5IGZvb3RwcmludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlZmxlY3RvckVudHJpZXModHhYZHIpIHtcbiAgICAvLyBuZXR3b3JrIHBhc3NwaHJhc2Ugbm90IHJlbGV2YW50IGFzIFRYIFhEUiBpcyByZXR1cm5lZCwgd2hpY2hcbiAgICAvLyBkb2VzIG5vdCBpbmNsdWRlIGEgbmV0d29yayBwYXNzcGhyYXNlLlxuICAgIGNvbnN0IHR4ID0gVHJhbnNhY3Rpb25CdWlsZGVyLmZyb21YRFIodHhYZHIsIE5ldHdvcmtzLlBVQkxJQyk7XG4gICAgaWYgKHR4IGluc3RhbmNlb2YgRmVlQnVtcFRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0eC50b1hEUigpO1xuICAgIH1cbiAgICBjb25zdCBzb3JvYmFuRGF0YSA9IHR4LnRvRW52ZWxvcGUoKS52MSgpLnR4KCkuZXh0KCkuc29yb2JhbkRhdGEoKTtcbiAgICBjb25zdCByZWFkRW50cmllcyA9IHNvcm9iYW5EYXRhLnJlc291cmNlcygpLmZvb3RwcmludCgpLnJlYWRPbmx5KCk7XG4gICAgY29uc3QgcmVhZFdyaXRlRW50cmllcyA9IHNvcm9iYW5EYXRhLnJlc291cmNlcygpLmZvb3RwcmludCgpLnJlYWRXcml0ZSgpO1xuICAgIGxldCBieXRlc19yZWFkID0gc29yb2JhbkRhdGEucmVzb3VyY2VzKCkuZGlza1JlYWRCeXRlcygpO1xuICAgIC8vIEtleTogdGhlIHJlZmxlY3RvciBvcmFjbGUgY29udHJhY3QgYWRkcmVzc1xuICAgIC8vIFZhbHVlOiBhIG1hcCBvZiBpbmRleCB0byB0aGUgbW9zdCByZWNlbnQgdGltZXN0YW1wIGZvciB0aGF0IGluZGV4XG4gICAgY29uc3QgbW9zdFJlY2VudEVudHJpZXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgbmV3UmVhZEVudHJpZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHJlYWRFbnRyaWVzKSB7XG4gICAgICAgIHN3aXRjaCAoZW50cnkuc3dpdGNoKCkpIHtcbiAgICAgICAgICAgIGNhc2UgeGRyLkxlZGdlckVudHJ5VHlwZS5jb250cmFjdERhdGEoKToge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyYWN0RGF0YSA9IGVudHJ5LmNvbnRyYWN0RGF0YSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBBZGRyZXNzLmZyb21TY0FkZHJlc3MoY29udHJhY3REYXRhLmNvbnRyYWN0KCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKFJFRkxFQ1RPUl9PUkFDTEVfQUREUkVTU0VTLmluY2x1ZGVzKGFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29udHJhY3REYXRhLmtleSgpLnN3aXRjaCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHhkci5TY1ZhbFR5cGUuc2N2VTEyOCgpOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdTEyOEtleSA9IGNvbnRyYWN0RGF0YS5rZXkoKS51MTI4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm91bmRUaW1lc3RhbXAgPSB1MTI4S2V5LmhpKCkudG9CaWdJbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHUxMjhLZXkubG8oKS50b0JpZ0ludCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9zdFJlY2VudEVudHJpZXMuaGFzKEFkZHJlc3MuZnJvbVNjQWRkcmVzcyhjb250cmFjdERhdGEuY29udHJhY3QoKSkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudEVudHJpZXMuc2V0KEFkZHJlc3MuZnJvbVNjQWRkcmVzcyhjb250cmFjdERhdGEuY29udHJhY3QoKSkudG9TdHJpbmcoKSwgbmV3IE1hcCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJhY3RFbnRyaWVzID0gbW9zdFJlY2VudEVudHJpZXMuZ2V0KEFkZHJlc3MuZnJvbVNjQWRkcmVzcyhjb250cmFjdERhdGEuY29udHJhY3QoKSkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyYWN0RW50cmllcy5oYXMoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vc3RSZWNlbnRUaW1lc3RhbXAgPSBjb250cmFjdEVudHJpZXMuZ2V0KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vc3RSZWNlbnRUaW1lc3RhbXAgPCByb3VuZFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RFbnRyaWVzLnNldChpbmRleCwgcm91bmRUaW1lc3RhbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdEVudHJpZXMuc2V0KGluZGV4LCByb3VuZFRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2NvbnRyYWN0LCBlbnRyaWVzXSBvZiBtb3N0UmVjZW50RW50cmllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHJvdW5kVGltZXN0YW1wXSBvZiBlbnRyaWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHJlYWRXcml0ZUVudHJpZXMubGVuZ3RoICsgcmVhZEVudHJpZXMubGVuZ3RoICsgbmV3UmVhZEVudHJpZXMubGVuZ3RoICsgMSA+IDEwMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGVudHJ5IGZvciB0aGUgcmVmbGVjdG9yIG9yYWNsZVxuICAgICAgICAgICAgY29uc3QgbmV3Um91bmRUaW1lc3RhbXAgPSByb3VuZFRpbWVzdGFtcCArIDMwMDAwMG47XG4gICAgICAgICAgICBuZXdSZWFkRW50cmllcy5wdXNoKHhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyB4ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgICAgICBjb250cmFjdDogQWRkcmVzcy5mcm9tU3RyaW5nKGNvbnRyYWN0KS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlUxMjgobmV3IHhkci5VSW50MTI4UGFydHMoe1xuICAgICAgICAgICAgICAgICAgICBoaTogeGRyLlVpbnQ2NC5mcm9tU3RyaW5nKG5ld1JvdW5kVGltZXN0YW1wLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICBsbzogeGRyLlVpbnQ2NC5mcm9tU3RyaW5nKGluZGV4LnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICBkdXJhYmlsaXR5OiB4ZHIuQ29udHJhY3REYXRhRHVyYWJpbGl0eS50ZW1wb3JhcnkoKSxcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICAvLyBSZWFkaW5nIHRoZSBhZGRpdGlvbmFsIGxlZGdlciBrZXkrZW50cnkgYWRkcyA5NiBieXRlcyB0byB0aGUgYnl0ZXNfcmVhZCBjb3VudC5cbiAgICAgICAgICAgIC8vIEFkZCAxMDAgYnl0ZXMgdG8gYmUgc2FmZS5cbiAgICAgICAgICAgIGJ5dGVzX3JlYWQgKz0gMTAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNvcm9iYW5EYXRhXG4gICAgICAgIC5yZXNvdXJjZXMoKVxuICAgICAgICAuZm9vdHByaW50KClcbiAgICAgICAgLnJlYWRPbmx5KFsuLi5yZWFkRW50cmllcywgLi4ubmV3UmVhZEVudHJpZXNdKTtcbiAgICBzb3JvYmFuRGF0YS5yZXNvdXJjZXMoKS5kaXNrUmVhZEJ5dGVzKGJ5dGVzX3JlYWQpO1xuICAgIHJldHVybiBUcmFuc2FjdGlvbkJ1aWxkZXIuY2xvbmVGcm9tKHR4LCB7XG4gICAgICAgIHNvcm9iYW5EYXRhOiBzb3JvYmFuRGF0YSxcbiAgICAgICAgZmVlOiB0eC5mZWUsXG4gICAgfSlcbiAgICAgICAgLmJ1aWxkKClcbiAgICAgICAgLnRvWERSKCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/oracle.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/auction.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/auction.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auction: () => (/* binding */ Auction),\n/* harmony export */   AuctionType: () => (/* binding */ AuctionType),\n/* harmony export */   getAuctionsfromV1Events: () => (/* binding */ getAuctionsfromV1Events),\n/* harmony export */   getAuctionsfromV2Events: () => (/* binding */ getAuctionsfromV2Events)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/index.js\");\n\n\nvar AuctionType;\n(function (AuctionType) {\n    AuctionType[AuctionType[\"Liquidation\"] = 0] = \"Liquidation\";\n    AuctionType[AuctionType[\"BadDebt\"] = 1] = \"BadDebt\";\n    AuctionType[AuctionType[\"Interest\"] = 2] = \"Interest\";\n})(AuctionType || (AuctionType = {}));\n/**\n * Creates an Auctions object from events representing the ongoing and filled auctions\n * @param events - The events to create the scaled auctions from\n * @param backstopId - The address of the backstop\n * @returns An array of scaled auctions sorted by filled status and block\n */\nfunction getAuctionsfromV1Events(events, backstopId) {\n    const auctions = { filled: [], ongoing: [] };\n    for (const event of events ?? []) {\n        switch (event.eventType) {\n            case _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolEventType.NewLiquidationAuction:\n                auctions.ongoing.push(new Auction(event.user, AuctionType.Liquidation, event.auctionData));\n                break;\n            case _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolEventType.NewAuction:\n                auctions.ongoing.push(new Auction(backstopId, event.auctionType, event.auctionData));\n                break;\n            case _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolEventType.FillAuction: {\n                const index = auctions.ongoing.findIndex((auction) => auction.user === event.user && auction.type === event.auctionType);\n                if (index !== -1) {\n                    const auction = auctions.ongoing[index];\n                    const [filledAuction, remainingAuction] = auction.scale(event.ledger, Number(event.fillAmount));\n                    filledAuction.filled = true;\n                    filledAuction.fillHash = event.txHash;\n                    auctions.filled.push(filledAuction);\n                    if (remainingAuction !== undefined) {\n                        auctions.ongoing[index] = remainingAuction;\n                    }\n                    else {\n                        auctions.ongoing.splice(index, 1);\n                    }\n                }\n                break;\n            }\n            case _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolEventType.DeleteLiquidationAuction: {\n                const deleteIndex = auctions.ongoing.findIndex((auction) => auction.user === event.user);\n                if (deleteIndex !== -1) {\n                    auctions.ongoing.splice(deleteIndex, 1);\n                }\n                break;\n            }\n        }\n    }\n    return auctions;\n}\nfunction getAuctionsfromV2Events(events) {\n    const auctions = { filled: [], ongoing: [] };\n    for (const event of events ?? []) {\n        switch (event.eventType) {\n            case _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolEventType.NewAuction:\n                auctions.ongoing.push(new Auction(event.user, event.auctionType, event.auctionData));\n                break;\n            case _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolEventType.FillAuction: {\n                const index = auctions.ongoing.findIndex((auction) => auction.user === event.user && auction.type === event.auctionType);\n                if (index !== -1) {\n                    const filledAuction = {\n                        type: event.auctionType,\n                        user: event.user,\n                        data: event.filledAuctionData,\n                        scaleBlock: event.ledger,\n                        filled: true,\n                        fillHash: event.txHash,\n                    };\n                    auctions.filled.push(filledAuction);\n                    if (event.fillAmount === 100n) {\n                        auctions.ongoing.splice(index, 1);\n                    }\n                    else {\n                        const auction = auctions.ongoing[index];\n                        for (const [asset, filledAmount] of event.filledAuctionData.lot) {\n                            const preFillAmount = auction.data.lot.get(asset) ?? 0n;\n                            auction.data.lot.set(asset, preFillAmount - filledAmount);\n                        }\n                        for (const [asset, filledAmount] of event.filledAuctionData.bid) {\n                            const preFillAmount = auction.data.bid.get(asset) ?? 0n;\n                            auction.data.bid.set(asset, preFillAmount - filledAmount);\n                        }\n                        auctions.ongoing[index] = auction;\n                    }\n                }\n                break;\n            }\n            case _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolEventType.DeleteAuction: {\n                const deleteIndex = auctions.ongoing.findIndex((auction) => auction.user === event.user);\n                if (deleteIndex !== -1) {\n                    auctions.ongoing.splice(deleteIndex, 1);\n                }\n                break;\n            }\n            case _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolEventType.DeleteLiquidationAuction: {\n                const deleteIndex = auctions.ongoing.findIndex((auction) => auction.user === event.user);\n                if (deleteIndex !== -1) {\n                    auctions.ongoing.splice(deleteIndex, 1);\n                }\n                break;\n            }\n        }\n    }\n    return auctions;\n}\nclass Auction {\n    user;\n    type;\n    data;\n    constructor(user, type, data) {\n        this.user = user;\n        this.type = type;\n        this.data = data;\n    }\n    /**\n     * Scale the auction to a given block and percentage filled\n     * @dev Rescaling a scaled auction will result in incorrect values\n     * @param scaleBlock - The block to scale the auction to\n     * @param scalePercent - The percentage of the auction to scale to (default 100)\n     * @returns Returns a tuple of the scaled auction and the remaining auction in that order\n     */\n    scale(scaleBlock, scalePercent = 100) {\n        const scaledAuctionData = {\n            block: this.data.block,\n            bid: new Map(),\n            lot: new Map(),\n        };\n        const remainingAuctionData = {\n            block: this.data.block,\n            bid: new Map(),\n            lot: new Map(),\n        };\n        let lotModifier;\n        let bidModifier;\n        const fillBlockDelta = BigInt(scaleBlock - this.data.block);\n        const perBlockScaler = BigInt(50000);\n        const percentFillScaled = BigInt(scalePercent * 100000);\n        if (fillBlockDelta <= 200n) {\n            lotModifier = fillBlockDelta * perBlockScaler;\n            bidModifier = _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.SCALAR_7;\n        }\n        else {\n            lotModifier = _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.SCALAR_7;\n            if (fillBlockDelta < 400n) {\n                bidModifier = _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.SCALAR_7 - (fillBlockDelta - 200n) * perBlockScaler;\n            }\n            else {\n                bidModifier = 0n;\n            }\n        }\n        for (const [assetId, amount] of Array.from(this.data.lot)) {\n            const baseFill = _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.mulFloor(amount, percentFillScaled, _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.SCALAR_7);\n            const remainingBase = amount - baseFill;\n            if (remainingBase > 0n) {\n                remainingAuctionData.lot.set(assetId, remainingBase);\n            }\n            const scaledLot = _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.mulFloor(baseFill, lotModifier, _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.SCALAR_7);\n            scaledAuctionData.lot.set(assetId, BigInt(scaledLot));\n        }\n        for (const [assetId, amount] of Array.from(this.data.bid)) {\n            const baseFill = _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.mulCeil(amount, percentFillScaled, _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.SCALAR_7);\n            const remainingBase = amount - baseFill;\n            if (remainingBase > 0n) {\n                remainingAuctionData.bid.set(assetId, remainingBase);\n            }\n            const scaledBid = _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.mulCeil(baseFill, bidModifier, _index_js__WEBPACK_IMPORTED_MODULE_0__.FixedMath.SCALAR_7);\n            scaledAuctionData.bid.set(assetId, BigInt(scaledBid));\n        }\n        let remainingAuction = undefined;\n        const scaledAuction = {\n            type: this.type,\n            user: this.user,\n            data: scaledAuctionData,\n            scaleBlock: scaleBlock,\n            filled: false,\n            fillHash: undefined,\n        };\n        if (remainingAuctionData.lot.size > 0 || remainingAuctionData.bid.size > 0) {\n            remainingAuction = new Auction(this.user, this.type, remainingAuctionData);\n        }\n        return [scaledAuction, remainingAuction];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL2F1Y3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdDO0FBQ0c7QUFDcEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0NBQWtDO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQSxpQkFBaUIsb0RBQWE7QUFDOUI7QUFDQTtBQUNBLGlCQUFpQixvREFBYTtBQUM5QjtBQUNBO0FBQ0EsaUJBQWlCLG9EQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9EQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBLGlCQUFpQixvREFBYTtBQUM5QjtBQUNBO0FBQ0EsaUJBQWlCLG9EQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0RBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9EQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIseURBQWtCO0FBQzVDO0FBQ0E7QUFDQSwwQkFBMEIseURBQWtCO0FBQzVDO0FBQ0EsOEJBQThCLHlEQUFrQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIseURBQWtCLDRCQUE0Qix5REFBa0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIseURBQWtCLHdCQUF3Qix5REFBa0I7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFpQiw0QkFBNEIseURBQWtCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHdEQUFpQix3QkFBd0IseURBQWtCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL3Bvb2wvYXVjdGlvbi5qcz8wMjdmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZpeGVkTWF0aCB9IGZyb20gJy4uL2luZGV4LmpzJztcbmltcG9ydCB7IFBvb2xFdmVudFR5cGUgfSBmcm9tICcuL2luZGV4LmpzJztcbmV4cG9ydCB2YXIgQXVjdGlvblR5cGU7XG4oZnVuY3Rpb24gKEF1Y3Rpb25UeXBlKSB7XG4gICAgQXVjdGlvblR5cGVbQXVjdGlvblR5cGVbXCJMaXF1aWRhdGlvblwiXSA9IDBdID0gXCJMaXF1aWRhdGlvblwiO1xuICAgIEF1Y3Rpb25UeXBlW0F1Y3Rpb25UeXBlW1wiQmFkRGVidFwiXSA9IDFdID0gXCJCYWREZWJ0XCI7XG4gICAgQXVjdGlvblR5cGVbQXVjdGlvblR5cGVbXCJJbnRlcmVzdFwiXSA9IDJdID0gXCJJbnRlcmVzdFwiO1xufSkoQXVjdGlvblR5cGUgfHwgKEF1Y3Rpb25UeXBlID0ge30pKTtcbi8qKlxuICogQ3JlYXRlcyBhbiBBdWN0aW9ucyBvYmplY3QgZnJvbSBldmVudHMgcmVwcmVzZW50aW5nIHRoZSBvbmdvaW5nIGFuZCBmaWxsZWQgYXVjdGlvbnNcbiAqIEBwYXJhbSBldmVudHMgLSBUaGUgZXZlbnRzIHRvIGNyZWF0ZSB0aGUgc2NhbGVkIGF1Y3Rpb25zIGZyb21cbiAqIEBwYXJhbSBiYWNrc3RvcElkIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIGJhY2tzdG9wXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBzY2FsZWQgYXVjdGlvbnMgc29ydGVkIGJ5IGZpbGxlZCBzdGF0dXMgYW5kIGJsb2NrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBdWN0aW9uc2Zyb21WMUV2ZW50cyhldmVudHMsIGJhY2tzdG9wSWQpIHtcbiAgICBjb25zdCBhdWN0aW9ucyA9IHsgZmlsbGVkOiBbXSwgb25nb2luZzogW10gfTtcbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50cyA/PyBbXSkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLk5ld0xpcXVpZGF0aW9uQXVjdGlvbjpcbiAgICAgICAgICAgICAgICBhdWN0aW9ucy5vbmdvaW5nLnB1c2gobmV3IEF1Y3Rpb24oZXZlbnQudXNlciwgQXVjdGlvblR5cGUuTGlxdWlkYXRpb24sIGV2ZW50LmF1Y3Rpb25EYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuTmV3QXVjdGlvbjpcbiAgICAgICAgICAgICAgICBhdWN0aW9ucy5vbmdvaW5nLnB1c2gobmV3IEF1Y3Rpb24oYmFja3N0b3BJZCwgZXZlbnQuYXVjdGlvblR5cGUsIGV2ZW50LmF1Y3Rpb25EYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuRmlsbEF1Y3Rpb246IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGF1Y3Rpb25zLm9uZ29pbmcuZmluZEluZGV4KChhdWN0aW9uKSA9PiBhdWN0aW9uLnVzZXIgPT09IGV2ZW50LnVzZXIgJiYgYXVjdGlvbi50eXBlID09PSBldmVudC5hdWN0aW9uVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdWN0aW9uID0gYXVjdGlvbnMub25nb2luZ1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtmaWxsZWRBdWN0aW9uLCByZW1haW5pbmdBdWN0aW9uXSA9IGF1Y3Rpb24uc2NhbGUoZXZlbnQubGVkZ2VyLCBOdW1iZXIoZXZlbnQuZmlsbEFtb3VudCkpO1xuICAgICAgICAgICAgICAgICAgICBmaWxsZWRBdWN0aW9uLmZpbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxlZEF1Y3Rpb24uZmlsbEhhc2ggPSBldmVudC50eEhhc2g7XG4gICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25zLmZpbGxlZC5wdXNoKGZpbGxlZEF1Y3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nQXVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWN0aW9ucy5vbmdvaW5nW2luZGV4XSA9IHJlbWFpbmluZ0F1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWN0aW9ucy5vbmdvaW5nLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuRGVsZXRlTGlxdWlkYXRpb25BdWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlSW5kZXggPSBhdWN0aW9ucy5vbmdvaW5nLmZpbmRJbmRleCgoYXVjdGlvbikgPT4gYXVjdGlvbi51c2VyID09PSBldmVudC51c2VyKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsZXRlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25zLm9uZ29pbmcuc3BsaWNlKGRlbGV0ZUluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGF1Y3Rpb25zO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEF1Y3Rpb25zZnJvbVYyRXZlbnRzKGV2ZW50cykge1xuICAgIGNvbnN0IGF1Y3Rpb25zID0geyBmaWxsZWQ6IFtdLCBvbmdvaW5nOiBbXSB9O1xuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzID8/IFtdKSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuTmV3QXVjdGlvbjpcbiAgICAgICAgICAgICAgICBhdWN0aW9ucy5vbmdvaW5nLnB1c2gobmV3IEF1Y3Rpb24oZXZlbnQudXNlciwgZXZlbnQuYXVjdGlvblR5cGUsIGV2ZW50LmF1Y3Rpb25EYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuRmlsbEF1Y3Rpb246IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGF1Y3Rpb25zLm9uZ29pbmcuZmluZEluZGV4KChhdWN0aW9uKSA9PiBhdWN0aW9uLnVzZXIgPT09IGV2ZW50LnVzZXIgJiYgYXVjdGlvbi50eXBlID09PSBldmVudC5hdWN0aW9uVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxsZWRBdWN0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZXZlbnQuYXVjdGlvblR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBldmVudC51c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXZlbnQuZmlsbGVkQXVjdGlvbkRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZUJsb2NrOiBldmVudC5sZWRnZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsSGFzaDogZXZlbnQudHhIYXNoLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBhdWN0aW9ucy5maWxsZWQucHVzaChmaWxsZWRBdWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmZpbGxBbW91bnQgPT09IDEwMG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25zLm9uZ29pbmcuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1Y3Rpb24gPSBhdWN0aW9ucy5vbmdvaW5nW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2Fzc2V0LCBmaWxsZWRBbW91bnRdIG9mIGV2ZW50LmZpbGxlZEF1Y3Rpb25EYXRhLmxvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZUZpbGxBbW91bnQgPSBhdWN0aW9uLmRhdGEubG90LmdldChhc3NldCkgPz8gMG47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVjdGlvbi5kYXRhLmxvdC5zZXQoYXNzZXQsIHByZUZpbGxBbW91bnQgLSBmaWxsZWRBbW91bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbYXNzZXQsIGZpbGxlZEFtb3VudF0gb2YgZXZlbnQuZmlsbGVkQXVjdGlvbkRhdGEuYmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlRmlsbEFtb3VudCA9IGF1Y3Rpb24uZGF0YS5iaWQuZ2V0KGFzc2V0KSA/PyAwbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWN0aW9uLmRhdGEuYmlkLnNldChhc3NldCwgcHJlRmlsbEFtb3VudCAtIGZpbGxlZEFtb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWN0aW9ucy5vbmdvaW5nW2luZGV4XSA9IGF1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuRGVsZXRlQXVjdGlvbjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUluZGV4ID0gYXVjdGlvbnMub25nb2luZy5maW5kSW5kZXgoKGF1Y3Rpb24pID0+IGF1Y3Rpb24udXNlciA9PT0gZXZlbnQudXNlcik7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGV0ZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBhdWN0aW9ucy5vbmdvaW5nLnNwbGljZShkZWxldGVJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLkRlbGV0ZUxpcXVpZGF0aW9uQXVjdGlvbjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUluZGV4ID0gYXVjdGlvbnMub25nb2luZy5maW5kSW5kZXgoKGF1Y3Rpb24pID0+IGF1Y3Rpb24udXNlciA9PT0gZXZlbnQudXNlcik7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGV0ZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBhdWN0aW9ucy5vbmdvaW5nLnNwbGljZShkZWxldGVJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhdWN0aW9ucztcbn1cbmV4cG9ydCBjbGFzcyBBdWN0aW9uIHtcbiAgICB1c2VyO1xuICAgIHR5cGU7XG4gICAgZGF0YTtcbiAgICBjb25zdHJ1Y3Rvcih1c2VyLCB0eXBlLCBkYXRhKSB7XG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBhdWN0aW9uIHRvIGEgZ2l2ZW4gYmxvY2sgYW5kIHBlcmNlbnRhZ2UgZmlsbGVkXG4gICAgICogQGRldiBSZXNjYWxpbmcgYSBzY2FsZWQgYXVjdGlvbiB3aWxsIHJlc3VsdCBpbiBpbmNvcnJlY3QgdmFsdWVzXG4gICAgICogQHBhcmFtIHNjYWxlQmxvY2sgLSBUaGUgYmxvY2sgdG8gc2NhbGUgdGhlIGF1Y3Rpb24gdG9cbiAgICAgKiBAcGFyYW0gc2NhbGVQZXJjZW50IC0gVGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIGF1Y3Rpb24gdG8gc2NhbGUgdG8gKGRlZmF1bHQgMTAwKVxuICAgICAqIEByZXR1cm5zIFJldHVybnMgYSB0dXBsZSBvZiB0aGUgc2NhbGVkIGF1Y3Rpb24gYW5kIHRoZSByZW1haW5pbmcgYXVjdGlvbiBpbiB0aGF0IG9yZGVyXG4gICAgICovXG4gICAgc2NhbGUoc2NhbGVCbG9jaywgc2NhbGVQZXJjZW50ID0gMTAwKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlZEF1Y3Rpb25EYXRhID0ge1xuICAgICAgICAgICAgYmxvY2s6IHRoaXMuZGF0YS5ibG9jayxcbiAgICAgICAgICAgIGJpZDogbmV3IE1hcCgpLFxuICAgICAgICAgICAgbG90OiBuZXcgTWFwKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0F1Y3Rpb25EYXRhID0ge1xuICAgICAgICAgICAgYmxvY2s6IHRoaXMuZGF0YS5ibG9jayxcbiAgICAgICAgICAgIGJpZDogbmV3IE1hcCgpLFxuICAgICAgICAgICAgbG90OiBuZXcgTWFwKCksXG4gICAgICAgIH07XG4gICAgICAgIGxldCBsb3RNb2RpZmllcjtcbiAgICAgICAgbGV0IGJpZE1vZGlmaWVyO1xuICAgICAgICBjb25zdCBmaWxsQmxvY2tEZWx0YSA9IEJpZ0ludChzY2FsZUJsb2NrIC0gdGhpcy5kYXRhLmJsb2NrKTtcbiAgICAgICAgY29uc3QgcGVyQmxvY2tTY2FsZXIgPSBCaWdJbnQoNTAwMDApO1xuICAgICAgICBjb25zdCBwZXJjZW50RmlsbFNjYWxlZCA9IEJpZ0ludChzY2FsZVBlcmNlbnQgKiAxMDAwMDApO1xuICAgICAgICBpZiAoZmlsbEJsb2NrRGVsdGEgPD0gMjAwbikge1xuICAgICAgICAgICAgbG90TW9kaWZpZXIgPSBmaWxsQmxvY2tEZWx0YSAqIHBlckJsb2NrU2NhbGVyO1xuICAgICAgICAgICAgYmlkTW9kaWZpZXIgPSBGaXhlZE1hdGguU0NBTEFSXzc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb3RNb2RpZmllciA9IEZpeGVkTWF0aC5TQ0FMQVJfNztcbiAgICAgICAgICAgIGlmIChmaWxsQmxvY2tEZWx0YSA8IDQwMG4pIHtcbiAgICAgICAgICAgICAgICBiaWRNb2RpZmllciA9IEZpeGVkTWF0aC5TQ0FMQVJfNyAtIChmaWxsQmxvY2tEZWx0YSAtIDIwMG4pICogcGVyQmxvY2tTY2FsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBiaWRNb2RpZmllciA9IDBuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW2Fzc2V0SWQsIGFtb3VudF0gb2YgQXJyYXkuZnJvbSh0aGlzLmRhdGEubG90KSkge1xuICAgICAgICAgICAgY29uc3QgYmFzZUZpbGwgPSBGaXhlZE1hdGgubXVsRmxvb3IoYW1vdW50LCBwZXJjZW50RmlsbFNjYWxlZCwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0Jhc2UgPSBhbW91bnQgLSBiYXNlRmlsbDtcbiAgICAgICAgICAgIGlmIChyZW1haW5pbmdCYXNlID4gMG4pIHtcbiAgICAgICAgICAgICAgICByZW1haW5pbmdBdWN0aW9uRGF0YS5sb3Quc2V0KGFzc2V0SWQsIHJlbWFpbmluZ0Jhc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2NhbGVkTG90ID0gRml4ZWRNYXRoLm11bEZsb29yKGJhc2VGaWxsLCBsb3RNb2RpZmllciwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICAgICAgICAgIHNjYWxlZEF1Y3Rpb25EYXRhLmxvdC5zZXQoYXNzZXRJZCwgQmlnSW50KHNjYWxlZExvdCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW2Fzc2V0SWQsIGFtb3VudF0gb2YgQXJyYXkuZnJvbSh0aGlzLmRhdGEuYmlkKSkge1xuICAgICAgICAgICAgY29uc3QgYmFzZUZpbGwgPSBGaXhlZE1hdGgubXVsQ2VpbChhbW91bnQsIHBlcmNlbnRGaWxsU2NhbGVkLCBGaXhlZE1hdGguU0NBTEFSXzcpO1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nQmFzZSA9IGFtb3VudCAtIGJhc2VGaWxsO1xuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ0Jhc2UgPiAwbikge1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZ0F1Y3Rpb25EYXRhLmJpZC5zZXQoYXNzZXRJZCwgcmVtYWluaW5nQmFzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzY2FsZWRCaWQgPSBGaXhlZE1hdGgubXVsQ2VpbChiYXNlRmlsbCwgYmlkTW9kaWZpZXIsIEZpeGVkTWF0aC5TQ0FMQVJfNyk7XG4gICAgICAgICAgICBzY2FsZWRBdWN0aW9uRGF0YS5iaWQuc2V0KGFzc2V0SWQsIEJpZ0ludChzY2FsZWRCaWQpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVtYWluaW5nQXVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc2NhbGVkQXVjdGlvbiA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlcixcbiAgICAgICAgICAgIGRhdGE6IHNjYWxlZEF1Y3Rpb25EYXRhLFxuICAgICAgICAgICAgc2NhbGVCbG9jazogc2NhbGVCbG9jayxcbiAgICAgICAgICAgIGZpbGxlZDogZmFsc2UsXG4gICAgICAgICAgICBmaWxsSGFzaDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBpZiAocmVtYWluaW5nQXVjdGlvbkRhdGEubG90LnNpemUgPiAwIHx8IHJlbWFpbmluZ0F1Y3Rpb25EYXRhLmJpZC5zaXplID4gMCkge1xuICAgICAgICAgICAgcmVtYWluaW5nQXVjdGlvbiA9IG5ldyBBdWN0aW9uKHRoaXMudXNlciwgdGhpcy50eXBlLCByZW1haW5pbmdBdWN0aW9uRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtzY2FsZWRBdWN0aW9uLCByZW1haW5pbmdBdWN0aW9uXTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/auction.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/index.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/index.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auction: () => (/* reexport safe */ _auction_js__WEBPACK_IMPORTED_MODULE_13__.Auction),\n/* harmony export */   AuctionData: () => (/* binding */ AuctionData),\n/* harmony export */   AuctionType: () => (/* binding */ AuctionType),\n/* harmony export */   ContractReserve: () => (/* reexport safe */ _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__.ContractReserve),\n/* harmony export */   Pool: () => (/* reexport safe */ _pool_js__WEBPACK_IMPORTED_MODULE_2__.Pool),\n/* harmony export */   PoolConfig: () => (/* binding */ PoolConfig),\n/* harmony export */   PoolContract: () => (/* reexport safe */ _pool_contract_js__WEBPACK_IMPORTED_MODULE_4__.PoolContract),\n/* harmony export */   PoolContractV1: () => (/* reexport safe */ _pool_contract_js__WEBPACK_IMPORTED_MODULE_4__.PoolContractV1),\n/* harmony export */   PoolContractV2: () => (/* reexport safe */ _pool_contract_js__WEBPACK_IMPORTED_MODULE_4__.PoolContractV2),\n/* harmony export */   PoolDataKeyToXDR: () => (/* binding */ PoolDataKeyToXDR),\n/* harmony export */   PoolEstimate: () => (/* reexport safe */ _pool_est_js__WEBPACK_IMPORTED_MODULE_5__.PoolEstimate),\n/* harmony export */   PoolEventType: () => (/* reexport safe */ _pool_events_js__WEBPACK_IMPORTED_MODULE_6__.PoolEventType),\n/* harmony export */   PoolMetadata: () => (/* reexport safe */ _pool_metadata_js__WEBPACK_IMPORTED_MODULE_3__.PoolMetadata),\n/* harmony export */   PoolOracle: () => (/* reexport safe */ _pool_oracle_js__WEBPACK_IMPORTED_MODULE_7__.PoolOracle),\n/* harmony export */   PoolUser: () => (/* reexport safe */ _pool_user_js__WEBPACK_IMPORTED_MODULE_8__.PoolUser),\n/* harmony export */   PoolUserEmissionData: () => (/* reexport safe */ _user_types_js__WEBPACK_IMPORTED_MODULE_12__.PoolUserEmissionData),\n/* harmony export */   PoolV1: () => (/* reexport safe */ _pool_js__WEBPACK_IMPORTED_MODULE_2__.PoolV1),\n/* harmony export */   PoolV2: () => (/* reexport safe */ _pool_js__WEBPACK_IMPORTED_MODULE_2__.PoolV2),\n/* harmony export */   Positions: () => (/* reexport safe */ _user_types_js__WEBPACK_IMPORTED_MODULE_12__.Positions),\n/* harmony export */   PositionsEstimate: () => (/* reexport safe */ _user_positions_est_js__WEBPACK_IMPORTED_MODULE_11__.PositionsEstimate),\n/* harmony export */   RequestType: () => (/* binding */ RequestType),\n/* harmony export */   Reserve: () => (/* reexport safe */ _reserve_js__WEBPACK_IMPORTED_MODULE_9__.Reserve),\n/* harmony export */   ReserveConfig: () => (/* reexport safe */ _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__.ReserveConfig),\n/* harmony export */   ReserveConfigV2: () => (/* reexport safe */ _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__.ReserveConfigV2),\n/* harmony export */   ReserveData: () => (/* reexport safe */ _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__.ReserveData),\n/* harmony export */   ReserveEmissionConfig: () => (/* reexport safe */ _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__.ReserveEmissionConfig),\n/* harmony export */   ReserveEmissionData: () => (/* reexport safe */ _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__.ReserveEmissionData),\n/* harmony export */   ReserveV1: () => (/* reexport safe */ _reserve_js__WEBPACK_IMPORTED_MODULE_9__.ReserveV1),\n/* harmony export */   ReserveV2: () => (/* reexport safe */ _reserve_js__WEBPACK_IMPORTED_MODULE_9__.ReserveV2),\n/* harmony export */   UserReserveKeyToXDR: () => (/* binding */ UserReserveKeyToXDR),\n/* harmony export */   getAuctionsfromV1Events: () => (/* reexport safe */ _auction_js__WEBPACK_IMPORTED_MODULE_13__.getAuctionsfromV1Events),\n/* harmony export */   getAuctionsfromV2Events: () => (/* reexport safe */ _auction_js__WEBPACK_IMPORTED_MODULE_13__.getAuctionsfromV2Events),\n/* harmony export */   getEmissionIndex: () => (/* reexport safe */ _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__.getEmissionIndex),\n/* harmony export */   getReserveId: () => (/* reexport safe */ _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__.getReserveId),\n/* harmony export */   poolEventV1FromEventResponse: () => (/* reexport safe */ _pool_events_js__WEBPACK_IMPORTED_MODULE_6__.poolEventV1FromEventResponse),\n/* harmony export */   poolEventV2FromEventResponse: () => (/* reexport safe */ _pool_events_js__WEBPACK_IMPORTED_MODULE_6__.poolEventV2FromEventResponse)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n/* harmony import */ var _pool_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pool.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool.js\");\n/* harmony import */ var _pool_metadata_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pool_metadata.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_metadata.js\");\n/* harmony import */ var _pool_contract_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pool_contract.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_contract.js\");\n/* harmony import */ var _pool_est_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pool_est.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_est.js\");\n/* harmony import */ var _pool_events_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pool_events.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_events.js\");\n/* harmony import */ var _pool_oracle_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pool_oracle.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_oracle.js\");\n/* harmony import */ var _pool_user_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pool_user.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_user.js\");\n/* harmony import */ var _reserve_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./reserve.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve.js\");\n/* harmony import */ var _reserve_types_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./reserve_types.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve_types.js\");\n/* harmony import */ var _user_positions_est_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./user_positions_est.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_positions_est.js\");\n/* harmony import */ var _user_types_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./user_types.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_types.js\");\n/* harmony import */ var _auction_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./auction.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/auction.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction UserReserveKeyToXDR(userReserveKey) {\n    if (!userReserveKey) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVoid();\n    }\n    const arr = [\n        new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n            key: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('reserve_id'),\n            val: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU32(i))(userReserveKey.reserve_id),\n        }),\n        new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n            key: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('user'),\n            val: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(userReserveKey.user),\n        }),\n    ];\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvMap(arr);\n}\n/**\n * RequestType for specifying submit action\n */\nvar RequestType;\n(function (RequestType) {\n    RequestType[RequestType[\"Supply\"] = 0] = \"Supply\";\n    RequestType[RequestType[\"Withdraw\"] = 1] = \"Withdraw\";\n    RequestType[RequestType[\"SupplyCollateral\"] = 2] = \"SupplyCollateral\";\n    RequestType[RequestType[\"WithdrawCollateral\"] = 3] = \"WithdrawCollateral\";\n    RequestType[RequestType[\"Borrow\"] = 4] = \"Borrow\";\n    RequestType[RequestType[\"Repay\"] = 5] = \"Repay\";\n    RequestType[RequestType[\"FillUserLiquidationAuction\"] = 6] = \"FillUserLiquidationAuction\";\n    RequestType[RequestType[\"FillBadDebtAuction\"] = 7] = \"FillBadDebtAuction\";\n    RequestType[RequestType[\"FillInterestAuction\"] = 8] = \"FillInterestAuction\";\n    RequestType[RequestType[\"DeleteLiquidationAuction\"] = 9] = \"DeleteLiquidationAuction\";\n})(RequestType || (RequestType = {}));\nfunction AuctionKeyToXDR(auctionKey) {\n    if (!auctionKey) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVoid();\n    }\n    const arr = [\n        new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n            key: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('auct_type'),\n            val: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU32(i))(auctionKey.auct_type),\n        }),\n        new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n            key: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('user'),\n            val: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(auctionKey.user),\n        }),\n    ];\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvMap(arr);\n}\nclass AuctionData {\n    bid;\n    block;\n    lot;\n    constructor(bid, block, lot) {\n        this.bid = bid;\n        this.block = block;\n        this.lot = lot;\n    }\n    static ledgerKey(poolId, auctionKey) {\n        const res = [\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('Auction'),\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvMap([\n                new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n                    key: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('auct_type'),\n                    val: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU32(i))(auctionKey.auct_type),\n                }),\n                new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n                    key: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('user'),\n                    val: ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(auctionKey.user),\n                }),\n            ]),\n        ];\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.temporary(),\n        }));\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        return AuctionData.fromScVal(ledger_entry_data.contractData().val());\n    }\n    static fromScVal(sc_val) {\n        if (typeof sc_val == 'string') {\n            sc_val = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(sc_val, 'base64');\n        }\n        const data_entry_map = sc_val.map();\n        if (data_entry_map == undefined) {\n            throw Error('UserPositions contract data value is not a map');\n        }\n        let bid_map;\n        let lot_map;\n        let block;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'bid': {\n                    bid_map = new Map();\n                    const bid = map_entry.val().map();\n                    if (bid) {\n                        for (const asset of bid) {\n                            bid_map.set((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(asset.key()), (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(asset.val()));\n                        }\n                    }\n                    break;\n                }\n                case 'lot': {\n                    lot_map = new Map();\n                    const lot = map_entry.val().map();\n                    if (lot) {\n                        for (const asset of lot) {\n                            lot_map.set((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(asset.key()), (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(asset.val()));\n                        }\n                    }\n                    break;\n                }\n                case 'block': {\n                    block = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                }\n                default:\n                    throw Error(`Invalid UserPositions key: should not contain ${key}`);\n            }\n        }\n        if (!bid_map || !lot_map || !block) {\n            throw Error('User positions xdr_string is malformed');\n        }\n        return new AuctionData(bid_map, block, lot_map);\n    }\n}\n/*\n * The pool contracts config object\n */\nclass PoolConfig {\n    backstopRate;\n    maxPositions;\n    oracle;\n    status;\n    minCollateral;\n    constructor(backstopRate, maxPositions, oracle, status, minCollateral) {\n        this.backstopRate = backstopRate;\n        this.maxPositions = maxPositions;\n        this.oracle = oracle;\n        this.status = status;\n        this.minCollateral = minCollateral;\n    }\n    static fromScVal(sc_val) {\n        if (typeof sc_val == 'string') {\n            sc_val = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(sc_val, 'base64');\n        }\n        let backstopRate;\n        let oracle;\n        let status;\n        let maxPositions;\n        let minCollateral;\n        sc_val.map()?.map((config_entry) => {\n            const poolConfigKey = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(config_entry.key());\n            switch (poolConfigKey) {\n                case 'bstop_rate':\n                    backstopRate = Number(config_entry.val().u32().toString());\n                    return;\n                case 'oracle':\n                    oracle = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(config_entry.val()).toString();\n                    return;\n                case 'status':\n                    status = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(config_entry.val());\n                    return;\n                case 'max_positions':\n                    maxPositions = Number(config_entry.val().u32().toString());\n                    return;\n                case 'min_collateral':\n                    minCollateral = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(config_entry.val());\n                    return;\n                default:\n                    throw Error(`Invalid pool config key: should not contain ${poolConfigKey}`);\n            }\n        });\n        if (backstopRate == undefined ||\n            oracle == undefined ||\n            status == undefined ||\n            maxPositions == undefined) {\n            throw new Error();\n        }\n        return new PoolConfig(backstopRate, maxPositions, oracle, status, minCollateral);\n    }\n}\nvar AuctionType;\n(function (AuctionType) {\n    AuctionType[AuctionType[\"Liquidation\"] = 0] = \"Liquidation\";\n    AuctionType[AuctionType[\"BadDebt\"] = 1] = \"BadDebt\";\n    AuctionType[AuctionType[\"Interest\"] = 2] = \"Interest\";\n})(AuctionType || (AuctionType = {}));\nfunction PoolDataKeyToXDR(poolDataKey) {\n    if (!poolDataKey) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVoid();\n    }\n    const res = [];\n    switch (poolDataKey.tag) {\n        case 'Admin':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Admin');\n        case 'Name':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Name');\n        case 'Backstop':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Backstop');\n        case 'BLNDTkn':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('BLNDTkn');\n        case 'Config':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Config');\n        case 'PoolEmis':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('PoolEmis');\n        case 'ResList':\n            return ((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('ResList');\n        case 'Positions':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Positions'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(poolDataKey.values));\n            break;\n        case 'ResConfig':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('ResConfig'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(poolDataKey.values));\n            break;\n        case 'ResData':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('ResData'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(poolDataKey.values));\n            break;\n        case 'EmisConfig':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('EmisConfig'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU32(i))(i[0])])(poolDataKey.values));\n            break;\n        case 'EmisData':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('EmisData'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU32(i))(i[0])])(poolDataKey.values));\n            break;\n        case 'UserEmis':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('UserEmis'));\n            res.push(...((i) => [((i) => UserReserveKeyToXDR(i))(i[0])])(poolDataKey.values));\n            break;\n        case 'Auction':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Auction'));\n            res.push(...((i) => [((i) => AuctionKeyToXDR(i))(i[0])])(poolDataKey.values));\n            break;\n        case 'AuctData':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('AuctData'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(poolDataKey.values));\n            break;\n        case 'ResInit':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('ResInit'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(poolDataKey.values));\n            break;\n    }\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1FO0FBQ1I7QUFDakM7QUFDUztBQUNBO0FBQ0w7QUFDRztBQUNBO0FBQ0Y7QUFDRjtBQUNNO0FBQ0s7QUFDUjtBQUNIO0FBQ3RCO0FBQ1A7QUFDQSxlQUFlLHFEQUFHO0FBQ2xCO0FBQ0E7QUFDQSxZQUFZLHFEQUFHO0FBQ2YseUJBQXlCLHFEQUFHO0FBQzVCLHlCQUF5QixxREFBRztBQUM1QixTQUFTO0FBQ1QsWUFBWSxxREFBRztBQUNmLHlCQUF5QixxREFBRztBQUM1Qix5QkFBeUIseURBQU87QUFDaEMsU0FBUztBQUNUO0FBQ0EsV0FBVyxxREFBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQ0FBa0M7QUFDbkM7QUFDQTtBQUNBLGVBQWUscURBQUc7QUFDbEI7QUFDQTtBQUNBLFlBQVkscURBQUc7QUFDZix5QkFBeUIscURBQUc7QUFDNUIseUJBQXlCLHFEQUFHO0FBQzVCLFNBQVM7QUFDVCxZQUFZLHFEQUFHO0FBQ2YseUJBQXlCLHFEQUFHO0FBQzVCLHlCQUF5Qix5REFBTztBQUNoQyxTQUFTO0FBQ1Q7QUFDQSxXQUFXLHFEQUFHO0FBQ2Q7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBRztBQUNmLFlBQVkscURBQUc7QUFDZixvQkFBb0IscURBQUc7QUFDdkIsaUNBQWlDLHFEQUFHO0FBQ3BDLGlDQUFpQyxxREFBRztBQUNwQyxpQkFBaUI7QUFDakIsb0JBQW9CLHFEQUFHO0FBQ3ZCLGlDQUFpQyxxREFBRztBQUNwQyxpQ0FBaUMseURBQU87QUFDeEMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxlQUFlLHFEQUFHLDRCQUE0QixxREFBRztBQUNqRCxzQkFBc0IseURBQU87QUFDN0IsaUJBQWlCLHFEQUFHO0FBQ3BCLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQUc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxtRUFBYSxlQUFlLG1FQUFhO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxtRUFBYSxlQUFlLG1FQUFhO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUVBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLElBQUk7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx1RUFBYztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFPO0FBQ3BDO0FBQ0E7QUFDQSw2QkFBNkIsbUVBQWE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxtRUFBYTtBQUNqRDtBQUNBO0FBQ0EsK0VBQStFLGNBQWM7QUFDN0Y7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0NBQWtDO0FBQzVCO0FBQ1A7QUFDQSxlQUFlLHFEQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFEQUFHO0FBQzlCO0FBQ0EsMkJBQTJCLHFEQUFHO0FBQzlCO0FBQ0EsMkJBQTJCLHFEQUFHO0FBQzlCO0FBQ0EsMkJBQTJCLHFEQUFHO0FBQzlCO0FBQ0EsMkJBQTJCLHFEQUFHO0FBQzlCO0FBQ0EsMkJBQTJCLHFEQUFHO0FBQzlCO0FBQ0EsMkJBQTJCLHFEQUFHO0FBQzlCO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5Qyx5REFBTztBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5QyxxREFBRztBQUM1QztBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDLHlDQUF5QyxxREFBRztBQUM1QztBQUNBO0FBQ0EsNkJBQTZCLHFEQUFHO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxREFBRztBQUNoQztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQUc7QUFDaEMseUNBQXlDLHlEQUFPO0FBQ2hEO0FBQ0E7QUFDQSw2QkFBNkIscURBQUc7QUFDaEMseUNBQXlDLHlEQUFPO0FBQ2hEO0FBQ0E7QUFDQSxXQUFXLHFEQUFHO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL3Bvb2wvaW5kZXguanM/NTZhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCBzY1ZhbFRvTmF0aXZlLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBkZWNvZGVFbnRyeUtleSB9IGZyb20gJy4uL2xlZGdlcl9lbnRyeV9oZWxwZXIuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9wb29sLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcG9vbF9tZXRhZGF0YS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3Bvb2xfY29udHJhY3QuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9wb29sX2VzdC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3Bvb2xfZXZlbnRzLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcG9vbF9vcmFjbGUuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9wb29sX3VzZXIuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9yZXNlcnZlLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcmVzZXJ2ZV90eXBlcy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3VzZXJfcG9zaXRpb25zX2VzdC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3VzZXJfdHlwZXMuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9hdWN0aW9uLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBVc2VyUmVzZXJ2ZUtleVRvWERSKHVzZXJSZXNlcnZlS2V5KSB7XG4gICAgaWYgKCF1c2VyUmVzZXJ2ZUtleSkge1xuICAgICAgICByZXR1cm4geGRyLlNjVmFsLnNjdlZvaWQoKTtcbiAgICB9XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICBuZXcgeGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgICAga2V5OiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdyZXNlcnZlX2lkJyksXG4gICAgICAgICAgICB2YWw6ICgoaSkgPT4geGRyLlNjVmFsLnNjdlUzMihpKSkodXNlclJlc2VydmVLZXkucmVzZXJ2ZV9pZCksXG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgeGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgICAga2V5OiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCd1c2VyJyksXG4gICAgICAgICAgICB2YWw6ICgoaSkgPT4gQWRkcmVzcy5mcm9tU3RyaW5nKGkpLnRvU2NWYWwoKSkodXNlclJlc2VydmVLZXkudXNlciksXG4gICAgICAgIH0pLFxuICAgIF07XG4gICAgcmV0dXJuIHhkci5TY1ZhbC5zY3ZNYXAoYXJyKTtcbn1cbi8qKlxuICogUmVxdWVzdFR5cGUgZm9yIHNwZWNpZnlpbmcgc3VibWl0IGFjdGlvblxuICovXG5leHBvcnQgdmFyIFJlcXVlc3RUeXBlO1xuKGZ1bmN0aW9uIChSZXF1ZXN0VHlwZSkge1xuICAgIFJlcXVlc3RUeXBlW1JlcXVlc3RUeXBlW1wiU3VwcGx5XCJdID0gMF0gPSBcIlN1cHBseVwiO1xuICAgIFJlcXVlc3RUeXBlW1JlcXVlc3RUeXBlW1wiV2l0aGRyYXdcIl0gPSAxXSA9IFwiV2l0aGRyYXdcIjtcbiAgICBSZXF1ZXN0VHlwZVtSZXF1ZXN0VHlwZVtcIlN1cHBseUNvbGxhdGVyYWxcIl0gPSAyXSA9IFwiU3VwcGx5Q29sbGF0ZXJhbFwiO1xuICAgIFJlcXVlc3RUeXBlW1JlcXVlc3RUeXBlW1wiV2l0aGRyYXdDb2xsYXRlcmFsXCJdID0gM10gPSBcIldpdGhkcmF3Q29sbGF0ZXJhbFwiO1xuICAgIFJlcXVlc3RUeXBlW1JlcXVlc3RUeXBlW1wiQm9ycm93XCJdID0gNF0gPSBcIkJvcnJvd1wiO1xuICAgIFJlcXVlc3RUeXBlW1JlcXVlc3RUeXBlW1wiUmVwYXlcIl0gPSA1XSA9IFwiUmVwYXlcIjtcbiAgICBSZXF1ZXN0VHlwZVtSZXF1ZXN0VHlwZVtcIkZpbGxVc2VyTGlxdWlkYXRpb25BdWN0aW9uXCJdID0gNl0gPSBcIkZpbGxVc2VyTGlxdWlkYXRpb25BdWN0aW9uXCI7XG4gICAgUmVxdWVzdFR5cGVbUmVxdWVzdFR5cGVbXCJGaWxsQmFkRGVidEF1Y3Rpb25cIl0gPSA3XSA9IFwiRmlsbEJhZERlYnRBdWN0aW9uXCI7XG4gICAgUmVxdWVzdFR5cGVbUmVxdWVzdFR5cGVbXCJGaWxsSW50ZXJlc3RBdWN0aW9uXCJdID0gOF0gPSBcIkZpbGxJbnRlcmVzdEF1Y3Rpb25cIjtcbiAgICBSZXF1ZXN0VHlwZVtSZXF1ZXN0VHlwZVtcIkRlbGV0ZUxpcXVpZGF0aW9uQXVjdGlvblwiXSA9IDldID0gXCJEZWxldGVMaXF1aWRhdGlvbkF1Y3Rpb25cIjtcbn0pKFJlcXVlc3RUeXBlIHx8IChSZXF1ZXN0VHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBBdWN0aW9uS2V5VG9YRFIoYXVjdGlvbktleSkge1xuICAgIGlmICghYXVjdGlvbktleSkge1xuICAgICAgICByZXR1cm4geGRyLlNjVmFsLnNjdlZvaWQoKTtcbiAgICB9XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICBuZXcgeGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgICAga2V5OiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdhdWN0X3R5cGUnKSxcbiAgICAgICAgICAgIHZhbDogKChpKSA9PiB4ZHIuU2NWYWwuc2N2VTMyKGkpKShhdWN0aW9uS2V5LmF1Y3RfdHlwZSksXG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgeGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgICAga2V5OiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCd1c2VyJyksXG4gICAgICAgICAgICB2YWw6ICgoaSkgPT4gQWRkcmVzcy5mcm9tU3RyaW5nKGkpLnRvU2NWYWwoKSkoYXVjdGlvbktleS51c2VyKSxcbiAgICAgICAgfSksXG4gICAgXTtcbiAgICByZXR1cm4geGRyLlNjVmFsLnNjdk1hcChhcnIpO1xufVxuZXhwb3J0IGNsYXNzIEF1Y3Rpb25EYXRhIHtcbiAgICBiaWQ7XG4gICAgYmxvY2s7XG4gICAgbG90O1xuICAgIGNvbnN0cnVjdG9yKGJpZCwgYmxvY2ssIGxvdCkge1xuICAgICAgICB0aGlzLmJpZCA9IGJpZDtcbiAgICAgICAgdGhpcy5ibG9jayA9IGJsb2NrO1xuICAgICAgICB0aGlzLmxvdCA9IGxvdDtcbiAgICB9XG4gICAgc3RhdGljIGxlZGdlcktleShwb29sSWQsIGF1Y3Rpb25LZXkpIHtcbiAgICAgICAgY29uc3QgcmVzID0gW1xuICAgICAgICAgICAgeGRyLlNjVmFsLnNjdlN5bWJvbCgnQXVjdGlvbicpLFxuICAgICAgICAgICAgeGRyLlNjVmFsLnNjdk1hcChbXG4gICAgICAgICAgICAgICAgbmV3IHhkci5TY01hcEVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdhdWN0X3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZVMzIoaSkpKGF1Y3Rpb25LZXkuYXVjdF90eXBlKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBuZXcgeGRyLlNjTWFwRW50cnkoe1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ3VzZXInKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiAoKGkpID0+IEFkZHJlc3MuZnJvbVN0cmluZyhpKS50b1NjVmFsKCkpKGF1Y3Rpb25LZXkudXNlciksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyB4ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgIGNvbnRyYWN0OiBBZGRyZXNzLmZyb21TdHJpbmcocG9vbElkKS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2VmVjKHJlcyksXG4gICAgICAgICAgICBkdXJhYmlsaXR5OiB4ZHIuQ29udHJhY3REYXRhRHVyYWJpbGl0eS50ZW1wb3JhcnkoKSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJfZW50cnlfZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGxlZGdlcl9lbnRyeV9kYXRhID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsZWRnZXJfZW50cnlfZGF0YSA9IHhkci5MZWRnZXJFbnRyeURhdGEuZnJvbVhEUihsZWRnZXJfZW50cnlfZGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBdWN0aW9uRGF0YS5mcm9tU2NWYWwobGVkZ2VyX2VudHJ5X2RhdGEuY29udHJhY3REYXRhKCkudmFsKCkpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNjVmFsKHNjX3ZhbCkge1xuICAgICAgICBpZiAodHlwZW9mIHNjX3ZhbCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2NfdmFsID0geGRyLlNjVmFsLmZyb21YRFIoc2NfdmFsLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YV9lbnRyeV9tYXAgPSBzY192YWwubWFwKCk7XG4gICAgICAgIGlmIChkYXRhX2VudHJ5X21hcCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdVc2VyUG9zaXRpb25zIGNvbnRyYWN0IGRhdGEgdmFsdWUgaXMgbm90IGEgbWFwJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJpZF9tYXA7XG4gICAgICAgIGxldCBsb3RfbWFwO1xuICAgICAgICBsZXQgYmxvY2s7XG4gICAgICAgIGZvciAoY29uc3QgbWFwX2VudHJ5IG9mIGRhdGFfZW50cnlfbWFwKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShtYXBfZW50cnkua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdiaWQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGJpZF9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpZCA9IG1hcF9lbnRyeS52YWwoKS5tYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhc3NldCBvZiBiaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaWRfbWFwLnNldChzY1ZhbFRvTmF0aXZlKGFzc2V0LmtleSgpKSwgc2NWYWxUb05hdGl2ZShhc3NldC52YWwoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdsb3QnOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvdF9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvdCA9IG1hcF9lbnRyeS52YWwoKS5tYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhc3NldCBvZiBsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3RfbWFwLnNldChzY1ZhbFRvTmF0aXZlKGFzc2V0LmtleSgpKSwgc2NWYWxUb05hdGl2ZShhc3NldC52YWwoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdibG9jayc6IHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCBVc2VyUG9zaXRpb25zIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYmlkX21hcCB8fCAhbG90X21hcCB8fCAhYmxvY2spIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdVc2VyIHBvc2l0aW9ucyB4ZHJfc3RyaW5nIGlzIG1hbGZvcm1lZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQXVjdGlvbkRhdGEoYmlkX21hcCwgYmxvY2ssIGxvdF9tYXApO1xuICAgIH1cbn1cbi8qXG4gKiBUaGUgcG9vbCBjb250cmFjdHMgY29uZmlnIG9iamVjdFxuICovXG5leHBvcnQgY2xhc3MgUG9vbENvbmZpZyB7XG4gICAgYmFja3N0b3BSYXRlO1xuICAgIG1heFBvc2l0aW9ucztcbiAgICBvcmFjbGU7XG4gICAgc3RhdHVzO1xuICAgIG1pbkNvbGxhdGVyYWw7XG4gICAgY29uc3RydWN0b3IoYmFja3N0b3BSYXRlLCBtYXhQb3NpdGlvbnMsIG9yYWNsZSwgc3RhdHVzLCBtaW5Db2xsYXRlcmFsKSB7XG4gICAgICAgIHRoaXMuYmFja3N0b3BSYXRlID0gYmFja3N0b3BSYXRlO1xuICAgICAgICB0aGlzLm1heFBvc2l0aW9ucyA9IG1heFBvc2l0aW9ucztcbiAgICAgICAgdGhpcy5vcmFjbGUgPSBvcmFjbGU7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLm1pbkNvbGxhdGVyYWwgPSBtaW5Db2xsYXRlcmFsO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNjVmFsKHNjX3ZhbCkge1xuICAgICAgICBpZiAodHlwZW9mIHNjX3ZhbCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2NfdmFsID0geGRyLlNjVmFsLmZyb21YRFIoc2NfdmFsLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJhY2tzdG9wUmF0ZTtcbiAgICAgICAgbGV0IG9yYWNsZTtcbiAgICAgICAgbGV0IHN0YXR1cztcbiAgICAgICAgbGV0IG1heFBvc2l0aW9ucztcbiAgICAgICAgbGV0IG1pbkNvbGxhdGVyYWw7XG4gICAgICAgIHNjX3ZhbC5tYXAoKT8ubWFwKChjb25maWdfZW50cnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBvb2xDb25maWdLZXkgPSBkZWNvZGVFbnRyeUtleShjb25maWdfZW50cnkua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChwb29sQ29uZmlnS2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYnN0b3BfcmF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGJhY2tzdG9wUmF0ZSA9IE51bWJlcihjb25maWdfZW50cnkudmFsKCkudTMyKCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlICdvcmFjbGUnOlxuICAgICAgICAgICAgICAgICAgICBvcmFjbGUgPSBBZGRyZXNzLmZyb21TY1ZhbChjb25maWdfZW50cnkudmFsKCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlICdzdGF0dXMnOlxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBzY1ZhbFRvTmF0aXZlKGNvbmZpZ19lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlICdtYXhfcG9zaXRpb25zJzpcbiAgICAgICAgICAgICAgICAgICAgbWF4UG9zaXRpb25zID0gTnVtYmVyKGNvbmZpZ19lbnRyeS52YWwoKS51MzIoKS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pbl9jb2xsYXRlcmFsJzpcbiAgICAgICAgICAgICAgICAgICAgbWluQ29sbGF0ZXJhbCA9IHNjVmFsVG9OYXRpdmUoY29uZmlnX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIHBvb2wgY29uZmlnIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7cG9vbENvbmZpZ0tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChiYWNrc3RvcFJhdGUgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBvcmFjbGUgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBzdGF0dXMgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBtYXhQb3NpdGlvbnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvb2xDb25maWcoYmFja3N0b3BSYXRlLCBtYXhQb3NpdGlvbnMsIG9yYWNsZSwgc3RhdHVzLCBtaW5Db2xsYXRlcmFsKTtcbiAgICB9XG59XG5leHBvcnQgdmFyIEF1Y3Rpb25UeXBlO1xuKGZ1bmN0aW9uIChBdWN0aW9uVHlwZSkge1xuICAgIEF1Y3Rpb25UeXBlW0F1Y3Rpb25UeXBlW1wiTGlxdWlkYXRpb25cIl0gPSAwXSA9IFwiTGlxdWlkYXRpb25cIjtcbiAgICBBdWN0aW9uVHlwZVtBdWN0aW9uVHlwZVtcIkJhZERlYnRcIl0gPSAxXSA9IFwiQmFkRGVidFwiO1xuICAgIEF1Y3Rpb25UeXBlW0F1Y3Rpb25UeXBlW1wiSW50ZXJlc3RcIl0gPSAyXSA9IFwiSW50ZXJlc3RcIjtcbn0pKEF1Y3Rpb25UeXBlIHx8IChBdWN0aW9uVHlwZSA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gUG9vbERhdGFLZXlUb1hEUihwb29sRGF0YUtleSkge1xuICAgIGlmICghcG9vbERhdGFLZXkpIHtcbiAgICAgICAgcmV0dXJuIHhkci5TY1ZhbC5zY3ZWb2lkKCk7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIHN3aXRjaCAocG9vbERhdGFLZXkudGFnKSB7XG4gICAgICAgIGNhc2UgJ0FkbWluJzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdBZG1pbicpO1xuICAgICAgICBjYXNlICdOYW1lJzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdOYW1lJyk7XG4gICAgICAgIGNhc2UgJ0JhY2tzdG9wJzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdCYWNrc3RvcCcpO1xuICAgICAgICBjYXNlICdCTE5EVGtuJzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdCTE5EVGtuJyk7XG4gICAgICAgIGNhc2UgJ0NvbmZpZyc6XG4gICAgICAgICAgICByZXR1cm4gKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnQ29uZmlnJyk7XG4gICAgICAgIGNhc2UgJ1Bvb2xFbWlzJzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdQb29sRW1pcycpO1xuICAgICAgICBjYXNlICdSZXNMaXN0JzpcbiAgICAgICAgICAgIHJldHVybiAoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdSZXNMaXN0Jyk7XG4gICAgICAgIGNhc2UgJ1Bvc2l0aW9ucyc6XG4gICAgICAgICAgICByZXMucHVzaCgoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdQb3NpdGlvbnMnKSk7XG4gICAgICAgICAgICByZXMucHVzaCguLi4oKGkpID0+IFsoKGkpID0+IEFkZHJlc3MuZnJvbVN0cmluZyhpKS50b1NjVmFsKCkpKGlbMF0pXSkocG9vbERhdGFLZXkudmFsdWVzKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUmVzQ29uZmlnJzpcbiAgICAgICAgICAgIHJlcy5wdXNoKCgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ1Jlc0NvbmZpZycpKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKC4uLigoaSkgPT4gWygoaSkgPT4gQWRkcmVzcy5mcm9tU3RyaW5nKGkpLnRvU2NWYWwoKSkoaVswXSldKShwb29sRGF0YUtleS52YWx1ZXMpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdSZXNEYXRhJzpcbiAgICAgICAgICAgIHJlcy5wdXNoKCgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ1Jlc0RhdGEnKSk7XG4gICAgICAgICAgICByZXMucHVzaCguLi4oKGkpID0+IFsoKGkpID0+IEFkZHJlc3MuZnJvbVN0cmluZyhpKS50b1NjVmFsKCkpKGlbMF0pXSkocG9vbERhdGFLZXkudmFsdWVzKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRW1pc0NvbmZpZyc6XG4gICAgICAgICAgICByZXMucHVzaCgoKGkpID0+IHhkci5TY1ZhbC5zY3ZTeW1ib2woaSkpKCdFbWlzQ29uZmlnJykpO1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uKChpKSA9PiBbKChpKSA9PiB4ZHIuU2NWYWwuc2N2VTMyKGkpKShpWzBdKV0pKHBvb2xEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0VtaXNEYXRhJzpcbiAgICAgICAgICAgIHJlcy5wdXNoKCgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ0VtaXNEYXRhJykpO1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uKChpKSA9PiBbKChpKSA9PiB4ZHIuU2NWYWwuc2N2VTMyKGkpKShpWzBdKV0pKHBvb2xEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1VzZXJFbWlzJzpcbiAgICAgICAgICAgIHJlcy5wdXNoKCgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ1VzZXJFbWlzJykpO1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uKChpKSA9PiBbKChpKSA9PiBVc2VyUmVzZXJ2ZUtleVRvWERSKGkpKShpWzBdKV0pKHBvb2xEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0F1Y3Rpb24nOlxuICAgICAgICAgICAgcmVzLnB1c2goKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnQXVjdGlvbicpKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKC4uLigoaSkgPT4gWygoaSkgPT4gQXVjdGlvbktleVRvWERSKGkpKShpWzBdKV0pKHBvb2xEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0F1Y3REYXRhJzpcbiAgICAgICAgICAgIHJlcy5wdXNoKCgoaSkgPT4geGRyLlNjVmFsLnNjdlN5bWJvbChpKSkoJ0F1Y3REYXRhJykpO1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uKChpKSA9PiBbKChpKSA9PiBBZGRyZXNzLmZyb21TdHJpbmcoaSkudG9TY1ZhbCgpKShpWzBdKV0pKHBvb2xEYXRhS2V5LnZhbHVlcykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1Jlc0luaXQnOlxuICAgICAgICAgICAgcmVzLnB1c2goKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnUmVzSW5pdCcpKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKC4uLigoaSkgPT4gWygoaSkgPT4gQWRkcmVzcy5mcm9tU3RyaW5nKGkpLnRvU2NWYWwoKSkoaVswXSldKShwb29sRGF0YUtleS52YWx1ZXMpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4geGRyLlNjVmFsLnNjdlZlYyhyZXMpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pool: () => (/* binding */ Pool),\n/* harmony export */   PoolV1: () => (/* binding */ PoolV1),\n/* harmony export */   PoolV2: () => (/* binding */ PoolV2)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js\");\n/* harmony import */ var _pool_oracle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pool_oracle.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_oracle.js\");\n/* harmony import */ var _pool_user_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pool_user.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_user.js\");\n/* harmony import */ var _pool_metadata_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pool_metadata.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_metadata.js\");\n/* harmony import */ var _reserve_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reserve.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve.js\");\n\n\n\n\n\n/**\n * Manage ledger data for a Blend pool\n */\nclass Pool {\n    network;\n    id;\n    metadata;\n    reserves;\n    timestamp;\n    constructor(network, id, metadata, reserves, timestamp) {\n        this.network = network;\n        this.id = id;\n        this.metadata = metadata;\n        this.reserves = reserves;\n        this.timestamp = timestamp;\n    }\n    /**\n     * Load the oracle for the pool\n     * @returns The oracle for the pool\n     */\n    async loadOracle() {\n        return _pool_oracle_js__WEBPACK_IMPORTED_MODULE_1__.PoolOracle.load(this.network, this.metadata.oracle, Array.from(this.reserves.keys()));\n    }\n    /**\n     * Load the user from the pool\n     * @param userId - The address of the user to load\n     * @returns The pool user\n     */\n    async loadUser(userId) {\n        return _pool_user_js__WEBPACK_IMPORTED_MODULE_2__.PoolUser.load(this.network, this.id, this, userId);\n    }\n}\nclass PoolV1 extends Pool {\n    version = _index_js__WEBPACK_IMPORTED_MODULE_0__.Version.V1;\n    /**\n     * Load a pool from the ledger\n     * @param network - The network information to load the pool from\n     * @param id - The contract address of the pool\n     * @returns - The pool object\n     */\n    static async load(network, id) {\n        const poolMetadata = await _pool_metadata_js__WEBPACK_IMPORTED_MODULE_3__.PoolMetadata.load(network, id);\n        return await PoolV1.loadWithMetadata(network, id, poolMetadata);\n    }\n    /**\n     * Load a pool from the ledger with metadata\n     * @param network - The network information to load the pool from\n     * @param id - The contract address of the pool\n     * @param metadata - The metadata for the pool\n     * @returns - The pool object\n     */\n    static async loadWithMetadata(network, id, metadata) {\n        const timestamp = Math.floor(Date.now() / 1000);\n        const reserveList = await _reserve_js__WEBPACK_IMPORTED_MODULE_4__.ReserveV1.loadList(network, id, BigInt(metadata.backstopRate), metadata.reserveList, timestamp);\n        const reserves = new Map();\n        for (const reserve of reserveList) {\n            reserves.set(reserve.assetId, reserve);\n        }\n        return new PoolV1(network, id, metadata, reserves, timestamp);\n    }\n}\nclass PoolV2 extends Pool {\n    version = _index_js__WEBPACK_IMPORTED_MODULE_0__.Version.V2;\n    /**\n     * Load a pool from the ledger\n     * @param network - The network information to load the pool from\n     * @param id - The contract address of the pool\n     * @returns - The pool object\n     */\n    static async load(network, id) {\n        const poolMetadata = await _pool_metadata_js__WEBPACK_IMPORTED_MODULE_3__.PoolMetadata.load(network, id);\n        return await PoolV2.loadWithMetadata(network, id, poolMetadata);\n    }\n    /**\n     * Load a pool from the ledger with metadata\n     * @param network - The network information to load the pool from\n     * @param id - The contract address of the pool\n     * @param metadata - The metadata for the pool\n     * @returns - The pool object\n     */\n    static async loadWithMetadata(network, id, metadata) {\n        const timestamp = Math.floor(Date.now() / 1000);\n        const reserveList = await _reserve_js__WEBPACK_IMPORTED_MODULE_4__.ReserveV2.loadList(network, id, BigInt(metadata.backstopRate), metadata.reserveList, timestamp);\n        const reserves = new Map();\n        for (const reserve of reserveList) {\n            reserves.set(reserve.assetId, reserve);\n        }\n        return new PoolV2(network, id, metadata, reserves, timestamp);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0M7QUFDUTtBQUNKO0FBQ1E7QUFDRTtBQUNwRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVEQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtREFBUTtBQUN2QjtBQUNBO0FBQ087QUFDUCxjQUFjLDhDQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDJEQUFZO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0RBQVM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGNBQWMsOENBQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMkRBQVk7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxrREFBUztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vcG9vbC9wb29sLmpzP2QwOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmVyc2lvbiB9IGZyb20gJy4uL2luZGV4LmpzJztcbmltcG9ydCB7IFBvb2xPcmFjbGUgfSBmcm9tICcuL3Bvb2xfb3JhY2xlLmpzJztcbmltcG9ydCB7IFBvb2xVc2VyIH0gZnJvbSAnLi9wb29sX3VzZXIuanMnO1xuaW1wb3J0IHsgUG9vbE1ldGFkYXRhIH0gZnJvbSAnLi9wb29sX21ldGFkYXRhLmpzJztcbmltcG9ydCB7IFJlc2VydmVWMSwgUmVzZXJ2ZVYyIH0gZnJvbSAnLi9yZXNlcnZlLmpzJztcbi8qKlxuICogTWFuYWdlIGxlZGdlciBkYXRhIGZvciBhIEJsZW5kIHBvb2xcbiAqL1xuZXhwb3J0IGNsYXNzIFBvb2wge1xuICAgIG5ldHdvcms7XG4gICAgaWQ7XG4gICAgbWV0YWRhdGE7XG4gICAgcmVzZXJ2ZXM7XG4gICAgdGltZXN0YW1wO1xuICAgIGNvbnN0cnVjdG9yKG5ldHdvcmssIGlkLCBtZXRhZGF0YSwgcmVzZXJ2ZXMsIHRpbWVzdGFtcCkge1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXR3b3JrO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5yZXNlcnZlcyA9IHJlc2VydmVzO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgb3JhY2xlIGZvciB0aGUgcG9vbFxuICAgICAqIEByZXR1cm5zIFRoZSBvcmFjbGUgZm9yIHRoZSBwb29sXG4gICAgICovXG4gICAgYXN5bmMgbG9hZE9yYWNsZSgpIHtcbiAgICAgICAgcmV0dXJuIFBvb2xPcmFjbGUubG9hZCh0aGlzLm5ldHdvcmssIHRoaXMubWV0YWRhdGEub3JhY2xlLCBBcnJheS5mcm9tKHRoaXMucmVzZXJ2ZXMua2V5cygpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHVzZXIgZnJvbSB0aGUgcG9vbFxuICAgICAqIEBwYXJhbSB1c2VySWQgLSBUaGUgYWRkcmVzcyBvZiB0aGUgdXNlciB0byBsb2FkXG4gICAgICogQHJldHVybnMgVGhlIHBvb2wgdXNlclxuICAgICAqL1xuICAgIGFzeW5jIGxvYWRVc2VyKHVzZXJJZCkge1xuICAgICAgICByZXR1cm4gUG9vbFVzZXIubG9hZCh0aGlzLm5ldHdvcmssIHRoaXMuaWQsIHRoaXMsIHVzZXJJZCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBvb2xWMSBleHRlbmRzIFBvb2wge1xuICAgIHZlcnNpb24gPSBWZXJzaW9uLlYxO1xuICAgIC8qKlxuICAgICAqIExvYWQgYSBwb29sIGZyb20gdGhlIGxlZGdlclxuICAgICAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgaW5mb3JtYXRpb24gdG8gbG9hZCB0aGUgcG9vbCBmcm9tXG4gICAgICogQHBhcmFtIGlkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIHBvb2xcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBwb29sIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIGlkKSB7XG4gICAgICAgIGNvbnN0IHBvb2xNZXRhZGF0YSA9IGF3YWl0IFBvb2xNZXRhZGF0YS5sb2FkKG5ldHdvcmssIGlkKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IFBvb2xWMS5sb2FkV2l0aE1ldGFkYXRhKG5ldHdvcmssIGlkLCBwb29sTWV0YWRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIGEgcG9vbCBmcm9tIHRoZSBsZWRnZXIgd2l0aCBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgaW5mb3JtYXRpb24gdG8gbG9hZCB0aGUgcG9vbCBmcm9tXG4gICAgICogQHBhcmFtIGlkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIHBvb2xcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGEgLSBUaGUgbWV0YWRhdGEgZm9yIHRoZSBwb29sXG4gICAgICogQHJldHVybnMgLSBUaGUgcG9vbCBvYmplY3RcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgbG9hZFdpdGhNZXRhZGF0YShuZXR3b3JrLCBpZCwgbWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgIGNvbnN0IHJlc2VydmVMaXN0ID0gYXdhaXQgUmVzZXJ2ZVYxLmxvYWRMaXN0KG5ldHdvcmssIGlkLCBCaWdJbnQobWV0YWRhdGEuYmFja3N0b3BSYXRlKSwgbWV0YWRhdGEucmVzZXJ2ZUxpc3QsIHRpbWVzdGFtcCk7XG4gICAgICAgIGNvbnN0IHJlc2VydmVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlc2VydmUgb2YgcmVzZXJ2ZUxpc3QpIHtcbiAgICAgICAgICAgIHJlc2VydmVzLnNldChyZXNlcnZlLmFzc2V0SWQsIHJlc2VydmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9vbFYxKG5ldHdvcmssIGlkLCBtZXRhZGF0YSwgcmVzZXJ2ZXMsIHRpbWVzdGFtcCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBvb2xWMiBleHRlbmRzIFBvb2wge1xuICAgIHZlcnNpb24gPSBWZXJzaW9uLlYyO1xuICAgIC8qKlxuICAgICAqIExvYWQgYSBwb29sIGZyb20gdGhlIGxlZGdlclxuICAgICAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgaW5mb3JtYXRpb24gdG8gbG9hZCB0aGUgcG9vbCBmcm9tXG4gICAgICogQHBhcmFtIGlkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIHBvb2xcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBwb29sIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIGlkKSB7XG4gICAgICAgIGNvbnN0IHBvb2xNZXRhZGF0YSA9IGF3YWl0IFBvb2xNZXRhZGF0YS5sb2FkKG5ldHdvcmssIGlkKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IFBvb2xWMi5sb2FkV2l0aE1ldGFkYXRhKG5ldHdvcmssIGlkLCBwb29sTWV0YWRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIGEgcG9vbCBmcm9tIHRoZSBsZWRnZXIgd2l0aCBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgaW5mb3JtYXRpb24gdG8gbG9hZCB0aGUgcG9vbCBmcm9tXG4gICAgICogQHBhcmFtIGlkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIHBvb2xcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGEgLSBUaGUgbWV0YWRhdGEgZm9yIHRoZSBwb29sXG4gICAgICogQHJldHVybnMgLSBUaGUgcG9vbCBvYmplY3RcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgbG9hZFdpdGhNZXRhZGF0YShuZXR3b3JrLCBpZCwgbWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgIGNvbnN0IHJlc2VydmVMaXN0ID0gYXdhaXQgUmVzZXJ2ZVYyLmxvYWRMaXN0KG5ldHdvcmssIGlkLCBCaWdJbnQobWV0YWRhdGEuYmFja3N0b3BSYXRlKSwgbWV0YWRhdGEucmVzZXJ2ZUxpc3QsIHRpbWVzdGFtcCk7XG4gICAgICAgIGNvbnN0IHJlc2VydmVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlc2VydmUgb2YgcmVzZXJ2ZUxpc3QpIHtcbiAgICAgICAgICAgIHJlc2VydmVzLnNldChyZXNlcnZlLmFzc2V0SWQsIHJlc2VydmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9vbFYyKG5ldHdvcmssIGlkLCBtZXRhZGF0YSwgcmVzZXJ2ZXMsIHRpbWVzdGFtcCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_contract.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_contract.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolContract: () => (/* binding */ PoolContract),\n/* harmony export */   PoolContractV1: () => (/* binding */ PoolContractV1),\n/* harmony export */   PoolContractV2: () => (/* binding */ PoolContractV2)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/index.js\");\n\n\nclass PoolContract extends _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract {\n    // @dev: Generated from soroban-cli Typescript bindings\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        // Function set_admin\n        'AAAAAAAAAAAAAAAJc2V0X2FkbWluAAAAAAAAAQAAAAAAAAAJbmV3X2FkbWluAAAAAAAAEwAAAAA=',\n        // Function queue_set_reserve\n        'AAAAAAAAAAAAAAARcXVldWVfc2V0X3Jlc2VydmUAAAAAAAACAAAAAAAAAAVhc3NldAAAAAAAABMAAAAAAAAACG1ldGFkYXRhAAAH0AAAAA1SZXNlcnZlQ29uZmlnAAAAAAAAAA==',\n        // Function cancel_set_reserve\n        'AAAAAAAAAAAAAAASY2FuY2VsX3NldF9yZXNlcnZlAAAAAAABAAAAAAAAAAVhc3NldAAAAAAAABMAAAAA',\n        // Function set_reserve\n        'AAAAAAAAAAAAAAALc2V0X3Jlc2VydmUAAAAAAQAAAAAAAAAFYXNzZXQAAAAAAAATAAAAAQAAAAQ=',\n        // Function get_positions\n        'AAAAAAAAAAAAAAANZ2V0X3Bvc2l0aW9ucwAAAAAAAAEAAAAAAAAAB2FkZHJlc3MAAAAAEwAAAAEAAAfQAAAACVBvc2l0aW9ucwAAAA==',\n        // Function submit\n        'AAAAAAAAAAAAAAAGc3VibWl0AAAAAAAEAAAAAAAAAARmcm9tAAAAEwAAAAAAAAAHc3BlbmRlcgAAAAATAAAAAAAAAAJ0bwAAAAAAEwAAAAAAAAAIcmVxdWVzdHMAAAPqAAAH0AAAAAdSZXF1ZXN0AAAAAAEAAAfQAAAACVBvc2l0aW9ucwAAAA==',\n        // Function bad_debt\n        'AAAAAAAAAAAAAAAIYmFkX2RlYnQAAAABAAAAAAAAAAR1c2VyAAAAEwAAAAA=',\n        // Function update_status\n        'AAAAAAAAAAAAAAANdXBkYXRlX3N0YXR1cwAAAAAAAAAAAAABAAAABA==',\n        // Function set_status\n        'AAAAAAAAAAAAAAAKc2V0X3N0YXR1cwAAAAAAAQAAAAAAAAALcG9vbF9zdGF0dXMAAAAABAAAAAA=',\n        // Function gulp_emissions\n        'AAAAAAAAAAAAAAAOZ3VscF9lbWlzc2lvbnMAAAAAAAAAAAABAAAACw==',\n        // Function set_emissions_config\n        'AAAAAAAAAAAAAAAUc2V0X2VtaXNzaW9uc19jb25maWcAAAABAAAAAAAAABVyZXNfZW1pc3Npb25fbWV0YWRhdGEAAAAAAAPqAAAH0AAAABdSZXNlcnZlRW1pc3Npb25NZXRhZGF0YQAAAAAA',\n        // Function claim\n        'AAAAAAAAAAAAAAAFY2xhaW0AAAAAAAADAAAAAAAAAARmcm9tAAAAEwAAAAAAAAARcmVzZXJ2ZV90b2tlbl9pZHMAAAAAAAPqAAAABAAAAAAAAAACdG8AAAAAABMAAAABAAAACw==',\n        // Function get_auction\n        'AAAAAAAAAAAAAAALZ2V0X2F1Y3Rpb24AAAAAAgAAAAAAAAAMYXVjdGlvbl90eXBlAAAABAAAAAAAAAAEdXNlcgAAABMAAAABAAAH0AAAAAtBdWN0aW9uRGF0YQA=',\n        // Struct ReserveEmissionMetadata\n        'AAAAAQAAADRNZXRhZGF0YSBmb3IgYSBwb29sJ3MgcmVzZXJ2ZSBlbWlzc2lvbiBjb25maWd1cmF0aW9uAAAAAAAAABdSZXNlcnZlRW1pc3Npb25NZXRhZGF0YQAAAAADAAAAAAAAAAlyZXNfaW5kZXgAAAAAAAAEAAAAAAAAAAhyZXNfdHlwZQAAAAQAAAAAAAAABXNoYXJlAAAAAAAABg==',\n        // Struct Request\n        'AAAAAQAAACdBIHJlcXVlc3QgYSB1c2VyIG1ha2VzIGFnYWluc3QgdGhlIHBvb2wAAAAAAAAAAAdSZXF1ZXN0AAAAAAMAAAAAAAAAB2FkZHJlc3MAAAAAEwAAAAAAAAAGYW1vdW50AAAAAAALAAAAAAAAAAxyZXF1ZXN0X3R5cGUAAAAE',\n        // Struct Positions\n        'AAAAAQAAAE1BIHVzZXIgLyBjb250cmFjdHMgcG9zaXRpb24ncyB3aXRoIHRoZSBwb29sLCBzdG9yZWQgaW4gdGhlIFJlc2VydmUncyBkZWNpbWFscwAAAAAAAAAAAAAJUG9zaXRpb25zAAAAAAAAAwAAAAAAAAAKY29sbGF0ZXJhbAAAAAAD7AAAAAQAAAALAAAAAAAAAAtsaWFiaWxpdGllcwAAAAPsAAAABAAAAAsAAAAAAAAABnN1cHBseQAAAAAD7AAAAAQAAAAL',\n        // Struct PoolEmissionConfig\n        'AAAAAQAAABpUaGUgcG9vbCdzIGVtaXNzaW9uIGNvbmZpZwAAAAAAAAAAABJQb29sRW1pc3Npb25Db25maWcAAAAAAAIAAAAAAAAABmNvbmZpZwAAAAAACgAAAAAAAAAJbGFzdF90aW1lAAAAAAAABg==',\n        // Struct QueuedReserveInit\n        'AAAAAQAAAAAAAAAAAAAAEVF1ZXVlZFJlc2VydmVJbml0AAAAAAAAAgAAAAAAAAAKbmV3X2NvbmZpZwAAAAAH0AAAAA1SZXNlcnZlQ29uZmlnAAAAAAAAAAAAAAt1bmxvY2tfdGltZQAAAAAG',\n        // Struct ReserveData\n        'AAAAAQAAABxUaGUgZGF0YSBmb3IgYSByZXNlcnZlIGFzc2V0AAAAAAAAAAtSZXNlcnZlRGF0YQAAAAAHAAAAAAAAAAZiX3JhdGUAAAAAAAsAAAAAAAAACGJfc3VwcGx5AAAACwAAAAAAAAAPYmFja3N0b3BfY3JlZGl0AAAAAAsAAAAAAAAABmRfcmF0ZQAAAAAACwAAAAAAAAAIZF9zdXBwbHkAAAALAAAAAAAAAAZpcl9tb2QAAAAAAAsAAAAAAAAACWxhc3RfdGltZQAAAAAAAAY=',\n        // Struct UserEmissionData\n        'AAAAAQAAADNUaGUgdXNlciBlbWlzc2lvbiBkYXRhIGZvciB0aGUgcmVzZXJ2ZSBiIG9yIGQgdG9rZW4AAAAAAAAAABBVc2VyRW1pc3Npb25EYXRhAAAAAgAAAAAAAAAHYWNjcnVlZAAAAAALAAAAAAAAAAVpbmRleAAAAAAAAAs=',\n        // Struct UserReserveKey\n        'AAAAAQAAAAAAAAAAAAAADlVzZXJSZXNlcnZlS2V5AAAAAAACAAAAAAAAAApyZXNlcnZlX2lkAAAAAAAEAAAAAAAAAAR1c2VyAAAAEw==',\n        // Struct AuctionKey\n        'AAAAAQAAAAAAAAAAAAAACkF1Y3Rpb25LZXkAAAAAAAIAAAAAAAAACWF1Y3RfdHlwZQAAAAAAAAQAAAAAAAAABHVzZXIAAAAT',\n        // Struct PriceData\n        'AAAAAQAAAC9QcmljZSBkYXRhIGZvciBhbiBhc3NldCBhdCBhIHNwZWNpZmljIHRpbWVzdGFtcAAAAAAAAAAACVByaWNlRGF0YQAAAAAAAAIAAAAAAAAABXByaWNlAAAAAAAACwAAAAAAAAAJdGltZXN0YW1wAAAAAAAABg==',\n        // Struct AuctionData\n        'AAAAAQAAAAAAAAAAAAAAC0F1Y3Rpb25EYXRhAAAAAAMAAAEMQSBtYXAgb2YgdGhlIGFzc2V0cyBiZWluZyBiaWQgb24gYW5kIHRoZSBhbW91bnQgYmVpbmcgYmlkLiBUaGVzZSBhcmUgdG9rZW5zIHNwZW50CmJ5IHRoZSBmaWxsZXIgb2YgdGhlIGF1Y3Rpb24uCgpUaGUgYmlkIGlzIGRpZmZlcmVudCBiYXNlZCBvbiBlYWNoIGF1Y3Rpb24gdHlwZToKLSBVc2VyTGlxdWlkYXRpb246IGRUb2tlbnMKLSBCYWREZWJ0QXVjdGlvbjogZFRva2VucwotIEludGVyZXN0QXVjdGlvbjogVW5kZXJseWluZyBhc3NldHMgKGJhY2tzdG9wIHRva2VuKQAAAANiaWQAAAAD7AAAABMAAAALAAAAo1RoZSBibG9jayB0aGUgYXVjdGlvbiBiZWdpbnMgb24uIFRoaXMgaXMgdXNlZCB0byBkZXRlcm1pbmUgaG93IHRoZSBhdWN0aW9uCnNob3VsZCBiZSBzY2FsZWQgYmFzZWQgb24gdGhlIG51bWJlciBvZiBibG9ja3MgdGhhdCBoYXZlIHBhc3NlZCBzaW5jZSB0aGUgYXVjdGlvbiBiZWdhbi4AAAAABWJsb2NrAAAAAAAABAAAASZBIG1hcCBvZiB0aGUgYXNzZXRzIGJlaW5nIGF1Y3Rpb25lZCBvZmYgYW5kIHRoZSBhbW91bnQgYmVpbmcgYXVjdGlvbmVkLiBUaGVzZSBhcmUgdG9rZW5zCnJlY2VpdmVkIGJ5IHRoZSBmaWxsZXIgb2YgdGhlIGF1Y3Rpb24uCgpUaGUgbG90IGlzIGRpZmZlcmVudCBiYXNlZCBvbiBlYWNoIGF1Y3Rpb24gdHlwZToKLSBVc2VyTGlxdWlkYXRpb246IGJUb2tlbnMKLSBCYWREZWJ0QXVjdGlvbjogVW5kZXJseWluZyBhc3NldHMgKGJhY2tzdG9wIHRva2VuKQotIEludGVyZXN0QXVjdGlvbjogVW5kZXJseWluZyBhc3NldHMAAAAAAANsb3QAAAAD7AAAABMAAAAL',\n        // Union Asset\n        'AAAAAgAAAApBc3NldCB0eXBlAAAAAAAAAAAABUFzc2V0AAAAAAAAAgAAAAEAAAAAAAAAB1N0ZWxsYXIAAAAAAQAAABMAAAABAAAAAAAAAAVPdGhlcgAAAAAAAAEAAAAR',\n        // Union PoolDataKey\n        'AAAAAgAAAAAAAAAAAAAAC1Bvb2xEYXRhS2V5AAAAAAkAAAABAAAAAAAAAAlSZXNDb25maWcAAAAAAAABAAAAEwAAAAEAAAAAAAAAB1Jlc0luaXQAAAAAAQAAABMAAAABAAAAAAAAAAdSZXNEYXRhAAAAAAEAAAATAAAAAQAAAAAAAAAKRW1pc0NvbmZpZwAAAAAAAQAAAAQAAAABAAAAAAAAAAhFbWlzRGF0YQAAAAEAAAAEAAAAAQAAAAAAAAAJUG9zaXRpb25zAAAAAAAAAQAAABMAAAABAAAAAAAAAAhVc2VyRW1pcwAAAAEAAAfQAAAADlVzZXJSZXNlcnZlS2V5AAAAAAABAAAAAAAAAAdBdWN0aW9uAAAAAAEAAAfQAAAACkF1Y3Rpb25LZXkAAAAAAAEAAAAAAAAACEF1Y3REYXRhAAAAAQAAABM=',\n    ]);\n    static parsers = {\n        setAdmin: () => { },\n        updatePool: () => { },\n        queueSetReserve: () => { },\n        cancelSetReserve: () => { },\n        setReserve: (result) => PoolContract.spec.funcResToNative('set_reserve', result),\n        getPositions: (result) => _index_js__WEBPACK_IMPORTED_MODULE_1__.Positions.fromScVal(result),\n        submit: (result) => _index_js__WEBPACK_IMPORTED_MODULE_1__.Positions.fromScVal(result),\n        badDebt: () => { },\n        updateStatus: (result) => PoolContract.spec.funcResToNative('update_status', result),\n        setStatus: () => { },\n        gulpEmissions: (result) => PoolContract.spec.funcResToNative('gulp_emissions', result),\n        setEmissionsConfig: () => { },\n        claim: (result) => PoolContract.spec.funcResToNative('claim', result),\n        getAuction: (result) => _index_js__WEBPACK_IMPORTED_MODULE_1__.AuctionData.fromScVal(result),\n    };\n    /**\n     * Sets a new address as the admin of this pool. Only callable by the current admin.\n     *\n     * @param new_admin - The new admin address.\n     *\n     * @throws Will throw an error if the caller is not the admin.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    setAdmin(new_admin) {\n        return this.call('set_admin', ...PoolContract.spec.funcArgsToScVals('set_admin', { new_admin })).toXDR('base64');\n    }\n    /**\n     * Cancels the queued set of a reserve in the pool. Only callable by the admin.\n     *\n     * @param asset - The underlying asset address to cancel initialization for.\n     *\n     * @throws Will throw an error if the caller is not the admin or the reserve is not queued for initialization.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    cancelSetReserve(asset) {\n        return this.call('cancel_set_reserve', ...PoolContract.spec.funcArgsToScVals('cancel_set_reserve', { asset })).toXDR('base64');\n    }\n    /**\n     * Executes the queued set of a reserve in the pool.\n     *\n     * @param asset - The underlying asset address to setup.\n     *\n     * @throws Will throw an error if the reserve is not queued for initialization, is already setup, or has invalid metadata.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    setReserve(asset) {\n        return this.call('set_reserve', ...PoolContract.spec.funcArgsToScVals('set_reserve', { asset })).toXDR('base64');\n    }\n    /**\n     * Submits a set of requests to the pool where 'from' takes on the position, 'sender' sends any required tokens to the pool\n     * and 'to' receives any tokens sent from the pool.\n     *\n     * @param contractArgs - The arguments required for the submit operation.\n     * @param contractArgs.from - The address of the user whose positions are being modified.\n     * @param contractArgs.spender - The address of the user who is sending tokens to the pool.\n     * @param contractArgs.to - The address of the user who is receiving tokens from the pool.\n     * @param contractArgs.requests - A list of requests to be processed.\n     *\n     * @throws Will throw an error if the request cannot be completed due to insufficient funds or invalid health factor.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    submit(contractArgs) {\n        return this.call('submit', ...PoolContract.spec.funcArgsToScVals('submit', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Manages bad debt. Debt is considered \"bad\" if there is no longer any collateral posted.\n     *\n     * @param user - The user who currently possesses bad debt.\n     *\n     * @throws Will throw an error if the user has collateral posted.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    badDebt(user) {\n        return this.call('bad_debt', ...PoolContract.spec.funcArgsToScVals('bad_debt', { user })).toXDR('base64');\n    }\n    /**\n     * Updates the pool status based on the backstop state.\n     *\n     * @throws Will throw an error if the pool is currently on status 4, \"admin-freeze\",\n     * where only the admin can perform a status update via `setStatus`.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    updateStatus() {\n        return this.call('update_status', ...PoolContract.spec.funcArgsToScVals('update_status', {})).toXDR('base64');\n    }\n    /**\n     * Sets the pool status. Only callable by the admin.\n     *\n     * @param pool_status - The pool status to be set: 0 (active), 2 (on-ice), or 4 (frozen).\n     *\n     * @throws Will throw an error if the caller is not the admin or if the specified conditions are not met for the status to be set.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    setStatus(pool_status) {\n        return this.call('set_status', ...PoolContract.spec.funcArgsToScVals('set_status', { pool_status })).toXDR('base64');\n    }\n    /**\n     * Consumes emissions from the backstop and distributes to the reserves based on the reserve emission configuration.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    gulpEmissions() {\n        return this.call('gulp_emissions', ...PoolContract.spec.funcArgsToScVals('gulp_emissions', {})).toXDR('base64');\n    }\n    /**\n     * Sets the emission configuration for the pool. Only callable by the admin.\n     *\n     * @param res_emission_metadata - A vector of ReserveEmissionMetadata to update metadata to.\n     *\n     * @throws Will throw an error if the caller is not the admin.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    setEmissionsConfig(res_emission_metadata) {\n        return this.call('set_emissions_config', ...PoolContract.spec.funcArgsToScVals('set_emissions_config', { res_emission_metadata })).toXDR('base64');\n    }\n    /**\n     * Claims outstanding emissions for the caller for the given reserve tokens.\n     *\n     * @param contractArgs - The arguments required for claiming emissions.\n     * @param contractArgs.from - The address claiming.\n     * @param contractArgs.reserve_token_ids - List of reserve token IDs.\n     * @param contractArgs.to - The address to send the claimed tokens to.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    claim(contractArgs) {\n        return this.call('claim', ...PoolContract.spec.funcArgsToScVals('claim', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Fetches an auction from the ledger. Returns a quote based on the current block.\n     *\n     * @param auction_id - The ID of the auction.\n     *\n     * @throws Will throw an error if the auction does not exist.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getAuction(auction_id) {\n        return this.call('get_auction', ...PoolContract.spec.funcArgsToScVals('get_auction', { auction_id })).toXDR('base64');\n    }\n    /**\n     * Fetches the positions for an address.\n     *\n     * @param user - The address to fetch positions for.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getPositions(user) {\n        return this.call('get_positions', ...PoolContract.spec.funcArgsToScVals('get_positions', { user })).toXDR('base64');\n    }\n}\nclass PoolContractV1 extends PoolContract {\n    constructor(address) {\n        super(address);\n    }\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        ...PoolContract.spec.entries,\n        ...new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n            // Function initialize\n            'AAAAAAAAAAAAAAAKaW5pdGlhbGl6ZQAAAAAABwAAAAAAAAAFYWRtaW4AAAAAAAATAAAAAAAAAARuYW1lAAAAEAAAAAAAAAAGb3JhY2xlAAAAAAATAAAAAAAAAApic3RvcF9yYXRlAAAAAAAEAAAAAAAAAAxtYXhfcG9zdGlvbnMAAAAEAAAAAAAAAAtiYWNrc3RvcF9pZAAAAAATAAAAAAAAAAdibG5kX2lkAAAAABMAAAAA',\n            // Function new_liquidation_auction\n            'AAAAAAAAAAAAAAAXbmV3X2xpcXVpZGF0aW9uX2F1Y3Rpb24AAAAAAgAAAAAAAAAEdXNlcgAAABMAAAAAAAAAEnBlcmNlbnRfbGlxdWlkYXRlZAAAAAAABgAAAAEAAAfQAAAAC0F1Y3Rpb25EYXRhAA==',\n            // Function new_bad_debt_auction\n            'AAAAAAAAAAAAAAAUbmV3X2JhZF9kZWJ0X2F1Y3Rpb24AAAAAAAAAAQAAB9AAAAALQXVjdGlvbkRhdGEA',\n            // Function new_interest_auction\n            'AAAAAAAAAAAAAAAUbmV3X2ludGVyZXN0X2F1Y3Rpb24AAAABAAAAAAAAAAZhc3NldHMAAAAAA+oAAAATAAAAAQAAB9AAAAALQXVjdGlvbkRhdGEA',\n            // Function update_pool\n            'AAAAAAAAAAAAAAALdXBkYXRlX3Bvb2wAAAAAAgAAAAAAAAASYmFja3N0b3BfdGFrZV9yYXRlAAAAAAAEAAAAAAAAAA1tYXhfcG9zaXRpb25zAAAAAAAABAAAAAA=',\n            // Struct Errors\n            'AAAABAAAAJlFcnJvciBjb2RlcyBmb3IgdGhlIHBvb2wgY29udHJhY3QuIENvbW1vbiBlcnJvcnMgYXJlIGNvZGVzIHRoYXQgbWF0Y2ggdXAgd2l0aCB0aGUgYnVpbHQtaW4KY29udHJhY3RzIGVycm9yIHJlcG9ydGluZy4gUG9vbCBzcGVjaWZpYyBlcnJvcnMgc3RhcnQgYXQgMTIwMC4AAAAAAAAAAAAACVBvb2xFcnJvcgAAAAAAABoAAAAAAAAADUludGVybmFsRXJyb3IAAAAAAAABAAAAAAAAABdBbHJlYWR5SW5pdGlhbGl6ZWRFcnJvcgAAAAADAAAAAAAAABFVbmF1dGhvcml6ZWRFcnJvcgAAAAAAAAQAAAAAAAAAE05lZ2F0aXZlQW1vdW50RXJyb3IAAAAACAAAAAAAAAAMQmFsYW5jZUVycm9yAAAACgAAAAAAAAANT3ZlcmZsb3dFcnJvcgAAAAAAAAwAAAAAAAAACkJhZFJlcXVlc3QAAAAABLAAAAAAAAAAE0ludmFsaWRQb29sSW5pdEFyZ3MAAAAEsQAAAAAAAAAWSW52YWxpZFJlc2VydmVNZXRhZGF0YQAAAAAEsgAAAAAAAAAPSW5pdE5vdFVubG9ja2VkAAAABLMAAAAAAAAAEFN0YXR1c05vdEFsbG93ZWQAAAS0AAAAAAAAAAlJbnZhbGlkSGYAAAAAAAS1AAAAAAAAABFJbnZhbGlkUG9vbFN0YXR1cwAAAAAABLYAAAAAAAAAD0ludmFsaWRVdGlsUmF0ZQAAAAS3AAAAAAAAABRNYXhQb3NpdGlvbnNFeGNlZWRlZAAABLgAAAAAAAAAF0ludGVybmFsUmVzZXJ2ZU5vdEZvdW5kAAAABLkAAAAAAAAAClN0YWxlUHJpY2UAAAAABLoAAAAAAAAAEkludmFsaWRMaXF1aWRhdGlvbgAAAAAEuwAAAAAAAAARQXVjdGlvbkluUHJvZ3Jlc3MAAAAAAAS8AAAAAAAAABJJbnZhbGlkTGlxVG9vTGFyZ2UAAAAABL0AAAAAAAAAEkludmFsaWRMaXFUb29TbWFsbAAAAAAEvgAAAAAAAAAQSW50ZXJlc3RUb29TbWFsbAAABL8AAAAAAAAAF0ludmFsaWRCVG9rZW5NaW50QW1vdW50AAAABMAAAAAAAAAAF0ludmFsaWRCVG9rZW5CdXJuQW1vdW50AAAABMEAAAAAAAAAF0ludmFsaWREVG9rZW5NaW50QW1vdW50AAAABMIAAAAAAAAAF0ludmFsaWREVG9rZW5CdXJuQW1vdW50AAAABMM=',\n            // Struct ReserveConfig\n            'AAAAAQAAADNUaGUgY29uZmlndXJhdGlvbiBpbmZvcm1hdGlvbiBhYm91dCBhIHJlc2VydmUgYXNzZXQAAAAAAAAAAA1SZXNlcnZlQ29uZmlnAAAAAAAACwAAAAAAAAAIY19mYWN0b3IAAAAEAAAAAAAAAAhkZWNpbWFscwAAAAQAAAAAAAAABWluZGV4AAAAAAAABAAAAAAAAAAIbF9mYWN0b3IAAAAEAAAAAAAAAAhtYXhfdXRpbAAAAAQAAAAAAAAABnJfYmFzZQAAAAAABAAAAAAAAAAFcl9vbmUAAAAAAAAEAAAAAAAAAAdyX3RocmVlAAAAAAQAAAAAAAAABXJfdHdvAAAAAAAABAAAAAAAAAAKcmVhY3Rpdml0eQAAAAAABAAAAAAAAAAEdXRpbAAAAAQ=',\n            // Struct Reserve\n            'AAAAAQAAAAAAAAAAAAAAB1Jlc2VydmUAAAAADQAAAAAAAAAFYXNzZXQAAAAAAAATAAAAAAAAAAZiX3JhdGUAAAAAAAsAAAAAAAAACGJfc3VwcGx5AAAACwAAAAAAAAAPYmFja3N0b3BfY3JlZGl0AAAAAAsAAAAAAAAACGNfZmFjdG9yAAAABAAAAAAAAAAGZF9yYXRlAAAAAAALAAAAAAAAAAhkX3N1cHBseQAAAAsAAAAAAAAABWluZGV4AAAAAAAABAAAAAAAAAAGaXJfbW9kAAAAAAALAAAAAAAAAAhsX2ZhY3RvcgAAAAQAAAAAAAAACWxhc3RfdGltZQAAAAAAAAYAAAAAAAAACG1heF91dGlsAAAABAAAAAAAAAAGc2NhbGFyAAAAAAAL',\n            // Struct PoolConfig\n            'AAAAAQAAABFUaGUgcG9vbCdzIGNvbmZpZwAAAAAAAAAAAAAKUG9vbENvbmZpZwAAAAAABAAAAAAAAAAKYnN0b3BfcmF0ZQAAAAAABAAAAAAAAAANbWF4X3Bvc2l0aW9ucwAAAAAAAAQAAAAAAAAABm9yYWNsZQAAAAAAEwAAAAAAAAAGc3RhdHVzAAAAAAAE',\n            // Struct ReserveEmissionsConfig\n            'AAAAAQAAAIFUaGUgY29uZmlndXJhdGlvbiBvZiBlbWlzc2lvbnMgZm9yIHRoZSByZXNlcnZlIGIgb3IgZCB0b2tlbgoKYEBkZXZgIElmIHRoaXMgaXMgdXBkYXRlZCwgUmVzZXJ2ZUVtaXNzaW9uc0RhdGEgTVVTVCBhbHNvIGJlIHVwZGF0ZWQAAAAAAAAAAAAAFlJlc2VydmVFbWlzc2lvbnNDb25maWcAAAAAAAIAAAAAAAAAA2VwcwAAAAAGAAAAAAAAAApleHBpcmF0aW9uAAAAAAAG',\n            // Struct ReserveEmissionData\n            'AAAAAQAAAC5UaGUgZW1pc3Npb24gZGF0YSBmb3IgdGhlIHJlc2VydmUgYiBvciBkIHRva2VuAAAAAAAAAAAAFFJlc2VydmVFbWlzc2lvbnNEYXRhAAAAAgAAAAAAAAAFaW5kZXgAAAAAAAALAAAAAAAAAAlsYXN0X3RpbWUAAAAAAAAG',\n        ]).entries,\n    ]);\n    static parsers = {\n        ...PoolContract.parsers,\n        initialize: () => { },\n        newLiquidationAuction: (result) => PoolContractV1.spec.funcResToNative('new_liquidation_auction', result),\n        newBadDebtAuction: (result) => PoolContractV1.spec.funcResToNative('new_bad_debt_auction', result),\n        newInterestAuction: (result) => PoolContractV1.spec.funcResToNative('new_interest_auction', result),\n    };\n    /**\n     * Initializes the pool.\n     *\n     * @param contractArgs - The arguments required for pool initialization.\n     * @param contractArgs.admin - The address for the admin.\n     * @param contractArgs.name - The name of the pool.\n     * @param contractArgs.oracle - The contract address of the oracle.\n     * @param contractArgs.bstop_rate - The take rate for the backstop (7 decimals).\n     * @param contractArgs.max_positions - The maximum number of positions a user is permitted to have.\n     * @param contractArgs.backstop_id - The contract address of the pool's backstop module.\n     * @param contractArgs.blnd_id - The contract ID of the BLND token.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    initialize(contractArgs) {\n        return this.call('initialize', ...PoolContractV1.spec.funcArgsToScVals('initialize', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Updates the pool configuration. Only callable by the admin.\n     *\n     * @param contractArgs - The arguments required to update the pool.\n     * @param contractArgs.backstop_take_rate - The new take rate for the backstop (7 decimals).\n     * @param contractArgs.max_positions - The new maximum number of allowed positions for a single user's account.\n     *\n     * @throws Will throw an error if the caller is not the admin.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    updatePool(contractArgs) {\n        return this.call('update_pool', ...PoolContract.spec.funcArgsToScVals('update_pool', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Queues setting data for a reserve in the pool. Only callable by the admin.\n     *\n     * @param contractArgs - The arguments required for queuing a reserve.\n     * @param contractArgs.asset - The underlying asset to add as a reserve.\n     * @param contractArgs.metadata - The ReserveConfig for the reserve.\n     *\n     * @throws Will throw an error if the caller is not the admin.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    queueSetReserve(contractArgs) {\n        return this.call('queue_set_reserve', ...PoolContractV1.spec.funcArgsToScVals('queue_set_reserve', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Creates a new user liquidation auction.\n     *\n     * @param contractArgs - The arguments required to create a liquidation auction.\n     * @param contractArgs.user - The user getting liquidated through the auction.\n     * @param contractArgs.percent_liquidated - The percent of the user's position being liquidated as a percentage (15 => 15%).\n     *\n     * @throws Will throw an error if the user liquidation auction was unable to be created.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    newLiquidationAuction(contractArgs) {\n        return this.call('new_liquidation_auction', ...PoolContractV1.spec.funcArgsToScVals('new_liquidation_auction', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Creates a new bad debt auction.\n     *\n     * @throws Will throw an error if the auction was unable to be created.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    newBadDebtAuction() {\n        return this.call('new_bad_debt_auction', ...PoolContractV1.spec.funcArgsToScVals('new_bad_debt_auction', {})).toXDR('base64');\n    }\n    /**\n     * Creates a new interest auction.\n     *\n     * @param assets - The assets interest is being auctioned off for.\n     *\n     * @throws Will throw an error if the auction was unable to be created.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    newInterestAuction(assets) {\n        return this.call('new_interest_auction', ...PoolContractV1.spec.funcArgsToScVals('new_interest_auction', { assets })).toXDR('base64');\n    }\n}\nclass PoolContractV2 extends PoolContract {\n    constructor(address) {\n        super(address);\n    }\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        ...PoolContract.spec.entries,\n        ...new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n            // Function constructor\n            'AAAAAAAAAjVJbml0aWFsaXplIHRoZSBwb29sCgojIyMgQXJndW1lbnRzCkNyZWF0b3Igc3VwcGxpZWQ6CiogYGFkbWluYCAtIFRoZSBBZGRyZXNzIGZvciB0aGUgYWRtaW4KKiBgbmFtZWAgLSBUaGUgbmFtZSBvZiB0aGUgcG9vbAoqIGBvcmFjbGVgIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIG9yYWNsZQoqIGBiYWNrc3RvcF90YWtlX3JhdGVgIC0gVGhlIHRha2UgcmF0ZSBmb3IgdGhlIGJhY2tzdG9wICg3IGRlY2ltYWxzKQoqIGBtYXhfcG9zaXRpb25zYCAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwb3NpdGlvbnMgYSB1c2VyIGlzIHBlcm1pdHRlZCB0byBoYXZlCiogYG1pbl9jb2xsYXRlcmFsYCAtIFRoZSBtaW5pbXVtIGNvbGxhdGVyYWwgcmVxdWlyZWQgdG8gb3BlbiBhIGJvcnJvdyBwb3NpdGlvbiBpbiB0aGUgb3JhY2xlcyBiYXNlIGFzc2V0CgpQb29sIEZhY3Rvcnkgc3VwcGxpZWQ6CiogYGJhY2tzdG9wX2lkYCAtIFRoZSBjb250cmFjdCBhZGRyZXNzIG9mIHRoZSBwb29sJ3MgYmFja3N0b3AgbW9kdWxlCiogYGJsbmRfaWRgIC0gVGhlIGNvbnRyYWN0IElEIG9mIHRoZSBCTE5EIHRva2VuAAAAAAAADV9fY29uc3RydWN0b3IAAAAAAAAIAAAAAAAAAAVhZG1pbgAAAAAAABMAAAAAAAAABG5hbWUAAAAQAAAAAAAAAAZvcmFjbGUAAAAAABMAAAAAAAAACmJzdG9wX3JhdGUAAAAAAAQAAAAAAAAADW1heF9wb3NpdGlvbnMAAAAAAAAEAAAAAAAAAA5taW5fY29sbGF0ZXJhbAAAAAAACwAAAAAAAAALYmFja3N0b3BfaWQAAAAAEwAAAAAAAAAHYmxuZF9pZAAAAAATAAAAAA==',\n            // Function submit_with_allowance\n            'AAAAAAAAAAAAAAAVc3VibWl0X3dpdGhfYWxsb3dhbmNlAAAAAAAABAAAAAAAAAAEZnJvbQAAABMAAAAAAAAAB3NwZW5kZXIAAAAAEwAAAAAAAAACdG8AAAAAABMAAAAAAAAACHJlcXVlc3RzAAAD6gAAB9AAAAAHUmVxdWVzdAAAAAABAAAH0AAAAAlQb3NpdGlvbnMAAAA=',\n            // Function flash_loan\n            'AAAAAAAAAAAAAAAKZmxhc2hfbG9hbgAAAAAAAwAAAAAAAAAEZnJvbQAAABMAAAAAAAAACmZsYXNoX2xvYW4AAAAAB9AAAAAJRmxhc2hMb2FuAAAAAAAAAAAAAAhyZXF1ZXN0cwAAA+oAAAfQAAAAB1JlcXVlc3QAAAAAAQAAB9AAAAAJUG9zaXRpb25zAAAA',\n            // Function gulp\n            'AAAAAAAAAAAAAAAEZ3VscAAAAAEAAAAAAAAABWFzc2V0AAAAAAAAEwAAAAEAAAAL',\n            // Function new_auction\n            'AAAAAAAAAAAAAAALbmV3X2F1Y3Rpb24AAAAABQAAAAAAAAAMYXVjdGlvbl90eXBlAAAABAAAAAAAAAAEdXNlcgAAABMAAAAAAAAAA2JpZAAAAAPqAAAAEwAAAAAAAAADbG90AAAAA+oAAAATAAAAAAAAAAdwZXJjZW50AAAAAAQAAAABAAAH0AAAAAtBdWN0aW9uRGF0YQA=',\n            // Function update_pool\n            'AAAAAAAAAAAAAAALdXBkYXRlX3Bvb2wAAAAAAwAAAAAAAAASYmFja3N0b3BfdGFrZV9yYXRlAAAAAAAEAAAAAAAAAA1tYXhfcG9zaXRpb25zAAAAAAAABAAAAAAAAAAObWluX2NvbGxhdGVyYWwAAAAAAAsAAAAA',\n            // Function del_auction\n            'AAAAAAAAAAAAAAALZGVsX2F1Y3Rpb24AAAAAAgAAAAAAAAAMYXVjdGlvbl90eXBlAAAABAAAAAAAAAAEdXNlcgAAABMAAAAA',\n            // Function propose_admin\n            'AAAAAAAAAAAAAAANcHJvcG9zZV9hZG1pbgAAAAAAAAEAAAAAAAAACW5ld19hZG1pbgAAAAAAABMAAAAA',\n            // Function accept_admin\n            'AAAAAAAAAAAAAAAMYWNjZXB0X2FkbWluAAAAAAAAAAA=',\n            // Function get_config\n            'AAAAAAAAAAAAAAAKZ2V0X2NvbmZpZwAAAAAAAAAAAAEAAAfQAAAAClBvb2xDb25maWcAAA==',\n            // Function get_admin\n            'AAAAAAAAAAAAAAAJZ2V0X2FkbWluAAAAAAAAAAAAAAEAAAAT',\n            // Function get_reserve\n            'AAAAAAAAAAAAAAALZ2V0X3Jlc2VydmUAAAAAAQAAAAAAAAAFYXNzZXQAAAAAAAATAAAAAQAAB9AAAAAHUmVzZXJ2ZQA=',\n            // Function get_reserve_list\n            'AAAAAAAAAAAAAAAQZ2V0X3Jlc2VydmVfbGlzdAAAAAAAAAABAAAD6gAAABM=',\n            // Function get_reserve_emissions\n            'AAAAAAAAAAAAAAAVZ2V0X3Jlc2VydmVfZW1pc3Npb25zAAAAAAAAAQAAAAAAAAATcmVzZXJ2ZV90b2tlbl9pbmRleAAAAAAEAAAAAQAAA+gAAAfQAAAAE1Jlc2VydmVFbWlzc2lvbkRhdGEA',\n            // Function get_user_emissions\n            'AAAAAAAAAAAAAAASZ2V0X3VzZXJfZW1pc3Npb25zAAAAAAACAAAAAAAAAAR1c2VyAAAAEwAAAAAAAAATcmVzZXJ2ZV90b2tlbl9pbmRleAAAAAAEAAAAAQAAA+gAAAfQAAAAEFVzZXJFbWlzc2lvbkRhdGE=',\n            // Struct FlashLoan\n            'AAAAAQAAAAAAAAAAAAAACUZsYXNoTG9hbgAAAAAAAAMAAAAAAAAABmFtb3VudAAAAAAACwAAAAAAAAAFYXNzZXQAAAAAAAATAAAAAAAAAAhjb250cmFjdAAAABM=',\n            // Struct Reserve\n            'AAAAAQAAAAAAAAAAAAAAB1Jlc2VydmUAAAAABAAAAAAAAAAFYXNzZXQAAAAAAAATAAAAAAAAAAZjb25maWcAAAAAB9AAAAANUmVzZXJ2ZUNvbmZpZwAAAAAAAAAAAAAEZGF0YQAAB9AAAAALUmVzZXJ2ZURhdGEAAAAAAAAAAAZzY2FsYXIAAAAAAAs=',\n            // Struct Errors\n            'AAAABAAAAJlFcnJvciBjb2RlcyBmb3IgdGhlIHBvb2wgY29udHJhY3QuIENvbW1vbiBlcnJvcnMgYXJlIGNvZGVzIHRoYXQgbWF0Y2ggdXAgd2l0aCB0aGUgYnVpbHQtaW4KY29udHJhY3RzIGVycm9yIHJlcG9ydGluZy4gUG9vbCBzcGVjaWZpYyBlcnJvcnMgc3RhcnQgYXQgMTIwMC4AAAAAAAAAAAAACVBvb2xFcnJvcgAAAAAAAB4AAAAAAAAADUludGVybmFsRXJyb3IAAAAAAAABAAAAAAAAABdBbHJlYWR5SW5pdGlhbGl6ZWRFcnJvcgAAAAADAAAAAAAAABFVbmF1dGhvcml6ZWRFcnJvcgAAAAAAAAQAAAAAAAAAE05lZ2F0aXZlQW1vdW50RXJyb3IAAAAACAAAAAAAAAAMQmFsYW5jZUVycm9yAAAACgAAAAAAAAANT3ZlcmZsb3dFcnJvcgAAAAAAAAwAAAAAAAAACkJhZFJlcXVlc3QAAAAABLAAAAAAAAAAE0ludmFsaWRQb29sSW5pdEFyZ3MAAAAEsQAAAAAAAAAWSW52YWxpZFJlc2VydmVNZXRhZGF0YQAAAAAEsgAAAAAAAAAPSW5pdE5vdFVubG9ja2VkAAAABLMAAAAAAAAAEFN0YXR1c05vdEFsbG93ZWQAAAS0AAAAAAAAAAlJbnZhbGlkSGYAAAAAAAS1AAAAAAAAABFJbnZhbGlkUG9vbFN0YXR1cwAAAAAABLYAAAAAAAAAD0ludmFsaWRVdGlsUmF0ZQAAAAS3AAAAAAAAABRNYXhQb3NpdGlvbnNFeGNlZWRlZAAABLgAAAAAAAAAF0ludGVybmFsUmVzZXJ2ZU5vdEZvdW5kAAAABLkAAAAAAAAAClN0YWxlUHJpY2UAAAAABLoAAAAAAAAAEkludmFsaWRMaXF1aWRhdGlvbgAAAAAEuwAAAAAAAAARQXVjdGlvbkluUHJvZ3Jlc3MAAAAAAAS8AAAAAAAAABJJbnZhbGlkTGlxVG9vTGFyZ2UAAAAABL0AAAAAAAAAEkludmFsaWRMaXFUb29TbWFsbAAAAAAEvgAAAAAAAAAQSW50ZXJlc3RUb29TbWFsbAAABL8AAAAAAAAAF0ludmFsaWRCVG9rZW5NaW50QW1vdW50AAAABMAAAAAAAAAAF0ludmFsaWRCVG9rZW5CdXJuQW1vdW50AAAABMEAAAAAAAAAF0ludmFsaWREVG9rZW5NaW50QW1vdW50AAAABMIAAAAAAAAAF0ludmFsaWREVG9rZW5CdXJuQW1vdW50AAAABMMAAAAAAAAAFUV4Y2VlZGVkQ29sbGF0ZXJhbENhcAAAAAAABMQAAAAAAAAACkludmFsaWRCaWQAAAAABMUAAAAAAAAACkludmFsaWRMb3QAAAAABMYAAAAAAAAAD1Jlc2VydmVEaXNhYmxlZAAAAATH',\n            // Struct ReserveConfig\n            'AAAAAQAAADNUaGUgY29uZmlndXJhdGlvbiBpbmZvcm1hdGlvbiBhYm91dCBhIHJlc2VydmUgYXNzZXQAAAAAAAAAAA1SZXNlcnZlQ29uZmlnAAAAAAAADQAAAAAAAAAIY19mYWN0b3IAAAAEAAAAAAAAAAhkZWNpbWFscwAAAAQAAAAAAAAAB2VuYWJsZWQAAAAAAQAAAAAAAAAFaW5kZXgAAAAAAAAEAAAAAAAAAAhsX2ZhY3RvcgAAAAQAAAAAAAAACG1heF91dGlsAAAABAAAAAAAAAAGcl9iYXNlAAAAAAAEAAAAAAAAAAVyX29uZQAAAAAAAAQAAAAAAAAAB3JfdGhyZWUAAAAABAAAAAAAAAAFcl90d28AAAAAAAAEAAAAAAAAAApyZWFjdGl2aXR5AAAAAAAEAAAAAAAAAApzdXBwbHlfY2FwAAAAAAALAAAAAAAAAAR1dGlsAAAABA==',\n            // Struct ReserveEmissionData\n            'AAAAAQAAAC5UaGUgZW1pc3Npb24gZGF0YSBmb3IgdGhlIHJlc2VydmUgYiBvciBkIHRva2VuAAAAAAAAAAAAE1Jlc2VydmVFbWlzc2lvbkRhdGEAAAAABAAAAAAAAAADZXBzAAAAAAYAAAAAAAAACmV4cGlyYXRpb24AAAAAAAYAAAAAAAAABWluZGV4AAAAAAAACwAAAAAAAAAJbGFzdF90aW1lAAAAAAAABg==',\n            // Struct PoolConfig\n            'AAAAAQAAABFUaGUgcG9vbCdzIGNvbmZpZwAAAAAAAAAAAAAKUG9vbENvbmZpZwAAAAAABQAAAAAAAAAKYnN0b3BfcmF0ZQAAAAAABAAAAAAAAAANbWF4X3Bvc2l0aW9ucwAAAAAAAAQAAAAAAAAADm1pbl9jb2xsYXRlcmFsAAAAAAALAAAAAAAAAAZvcmFjbGUAAAAAABMAAAAAAAAABnN0YXR1cwAAAAAABA==',\n        ]).entries,\n    ]);\n    static parsers = {\n        ...PoolContract.parsers,\n        deploy: (result) => (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(result, 'base64')),\n        submitWithAllowance: (result) => _index_js__WEBPACK_IMPORTED_MODULE_1__.Positions.fromScVal(result),\n        flashLoan: (result) => _index_js__WEBPACK_IMPORTED_MODULE_1__.Positions.fromScVal(result),\n        gulp: (result) => PoolContract.spec.funcResToNative('gulp', result),\n        newAuction: (result) => _index_js__WEBPACK_IMPORTED_MODULE_1__.AuctionData.fromScVal(result),\n        proposeAdmin: () => { },\n        acceptAdmin: () => { },\n        getConfig: (result) => _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolConfig.fromScVal(result),\n        getAdmin: (result) => PoolContract.spec.funcResToNative('get_admin', result),\n        getReserve: (result) => _index_js__WEBPACK_IMPORTED_MODULE_1__.ContractReserve.fromScVal(result),\n        getReserveEmissions: (result) => PoolContractV2.spec.funcResToNative('get_reserve_emissions', result),\n        getUserEmissions: (result) => PoolContractV2.spec.funcResToNative('get_user_emissions', result),\n        getReserveList: (result) => PoolContractV2.spec.funcResToNative('get_reserve_list', result),\n        delAuction: () => { },\n    };\n    /**\n     * Deploys a new instance of the Pool V2 contract.\n     *\n     * @param deployer - The address of the deployer.\n     * @param wasmHash - The hash of the WASM contract code.\n     * @param args - The constructor arguments for the contract.\n     * @param args.admin - The address for the admin.\n     * @param args.name - The name of the pool.\n     * @param args.oracle - The contract address of the oracle.\n     * @param args.bstop_rate - The take rate for the backstop (7 decimals).\n     * @param args.max_positions - The maximum number of positions a user is permitted to have.\n     * @param args.min_collateral - The minimum collateral required to open a borrow position, specified in the oracle's base asset decimals.\n     * @param args.backstop_id - The contract address of the pool's backstop module.\n     * @param args.blnd_id - The contract ID of the BLND token.\n     * @param salt - Optional salt for the contract deployment.\n     * @param format - Optional format for the WASM hash (hex or base64).\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    static deploy(deployer, wasmHash, args, salt, format) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Operation.createCustomContract({\n            address: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(deployer),\n            wasmHash: typeof wasmHash === 'string'\n                ? Buffer.from(wasmHash, format ?? 'hex')\n                : wasmHash,\n            salt,\n            constructorArgs: this.spec.funcArgsToScVals('__constructor', args),\n        }).toXDR('base64');\n    }\n    /**\n     * Updates the pool configuration. Only callable by the admin.\n     *\n     * @param contractArgs - The arguments required to update the pool.\n     * @param contractArgs.backstop_take_rate - The new take rate for the backstop (7 decimals).\n     * @param contractArgs.max_positions - The new maximum number of allowed positions for a single user's account.\n     * @param contractArgs.min_collateral - The new minimum collateral required to open a borrow position,\n     *                                      specified in the oracle's base asset decimals.\n     *\n     * @throws Will throw an error if the caller is not the admin.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    updatePool(contractArgs) {\n        return this.call('update_pool', ...PoolContract.spec.funcArgsToScVals('update_pool', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Queues setting data for a reserve in the pool. Only callable by the admin.\n     *\n     * @param contractArgs - The arguments required for queuing a reserve.\n     * @param contractArgs.asset - The underlying asset to add as a reserve.\n     * @param contractArgs.metadata - The ReserveConfig for the reserve.\n     *\n     * @throws Will throw an error if the caller is not the admin.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    queueSetReserve(contractArgs) {\n        return this.call('queue_set_reserve', ...PoolContractV2.spec.funcArgsToScVals('queue_set_reserve', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Submits a set of requests to the pool using transfer_from for allowances.\n     *\n     * @param contractArgs - The arguments required for the submit operation.\n     * @param contractArgs.from - The address of the user whose positions are being modified.\n     * @param contractArgs.spender - The address of the user who is sending tokens to the pool.\n     * @param contractArgs.to - The address of the user who is receiving tokens from the pool.\n     * @param contractArgs.requests - A list of requests to be processed.\n     *\n     * @throws Will throw an error if the request cannot be completed due to insufficient funds, insufficient allowance, or invalid health factor.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    submitWithAllowance(contractArgs) {\n        return this.call('submit_with_allowance', ...PoolContractV2.spec.funcArgsToScVals('submit_with_allowance', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Executes a flash loan and submits a set of requests to the pool.\n     *\n     * @param contractArgs - The arguments required for the flash loan.\n     * @param contractArgs.from - The address of the user executing the flash loan and whose positions will be modified.\n     * @param contractArgs.contract - The contract that will receive the flash loan callback.\n     * @param contractArgs.asset - The asset to be borrowed in the flash loan.\n     * @param contractArgs.amount - The amount to be borrowed in the flash loan.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    flashLoan(contractArgs) {\n        return this.call('flash_loan', ...PoolContractV2.spec.funcArgsToScVals('flash_loan', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Gulps unaccounted for tokens to the backstop credit so they aren't lost.\n     * This is most relevant for rebasing tokens where the token balance can increase without any corresponding transfer.\n     *\n     * @param asset - The address of the asset to gulp.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    gulp(asset) {\n        return this.call('gulp', ...PoolContractV2.spec.funcArgsToScVals('gulp', { asset })).toXDR('base64');\n    }\n    /**\n     * Creates a new auction. Auctions are used to process liquidations, bad debt, and interest.\n     *\n     * @param contractArgs - The arguments required to create an auction.\n     * @param contractArgs.auction_type - The type of auction: 0 (liquidation), 1 (bad debt), or 2 (interest).\n     * @param contractArgs.user - The address involved in the auction.\n     * @param contractArgs.bid - The set of assets to include in the auction bid.\n     * @param contractArgs.lot - The set of assets to include in the auction lot.\n     * @param contractArgs.percent - The percent of the assets to be auctioned off as a percentage (15 => 15%).\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    newAuction(contractArgs) {\n        return this.call('new_auction', ...PoolContractV2.spec.funcArgsToScVals('new_auction', contractArgs)).toXDR('base64');\n    }\n    /**\n     * Deletes a stale auction. A stale auction is one that has been running for 500 blocks without being filled.\n     *\n     * @param auction_type - The type of auction: 0 (liquidation), 1 (bad debt), or 2 (interest).\n     * @param user - The address involved in the auction.\n     *\n     * @throws Will throw an error if the auction does not exist or if the auction is not stale.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    delAuction(auction_type, user) {\n        return this.call('del_auction', ...PoolContractV2.spec.funcArgsToScVals('del_auction', { auction_type, user })).toXDR('base64');\n    }\n    /**\n     * Proposes a new admin for the pool. Only callable by the current admin.\n     *\n     * @param new_admin - The new admin address.\n     *\n     * @throws Will throw an error if the caller is not the admin.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    proposeAdmin(new_admin) {\n        return this.call('propose_admin', ...PoolContractV2.spec.funcArgsToScVals('propose_admin', { new_admin })).toXDR('base64');\n    }\n    /**\n     * Accepts the admin role. Only callable by the proposed admin.\n     *\n     * @throws Will throw an error if the caller is not the proposed admin.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    acceptAdmin() {\n        return this.call('accept_admin', ...PoolContractV2.spec.funcArgsToScVals('accept_admin', {})).toXDR('base64');\n    }\n    /**\n     * Fetches the pool configuration.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getConfig() {\n        return this.call('get_config', ...PoolContractV2.spec.funcArgsToScVals('get_config', {})).toXDR('base64');\n    }\n    /**\n     * Fetches the admin address of the pool.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getAdmin() {\n        return this.call('get_admin', ...PoolContractV2.spec.funcArgsToScVals('get_admin', {})).toXDR('base64');\n    }\n    /**\n     * Fetches information about a reserve, updated to the current ledger.\n     *\n     * @param asset - The address of the reserve asset.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getReserve(asset) {\n        return this.call('get_reserve', ...PoolContractV2.spec.funcArgsToScVals('get_reserve', { asset })).toXDR('base64');\n    }\n    /**\n     * Fetches the emissions data for a reserve token.\n     *\n     * @param reserve_token_id - The reserve token ID.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getReserveEmissions(reserve_token_id) {\n        return this.call('get_reserve_emissions', ...PoolContractV2.spec.funcArgsToScVals('get_reserve_emissions', { reserve_token_id })).toXDR('base64');\n    }\n    /**\n     * Fetches the emissions data for a user's position in a reserve.\n     *\n     * @param user - The address of the user.\n     * @param reserve_token_id - The reserve token ID.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getUserEmissions(user, reserve_token_id) {\n        return this.call('get_user_emissions', ...PoolContractV2.spec.funcArgsToScVals('get_user_emissions', { user, reserve_token_id })).toXDR('base64');\n    }\n    /**\n     * Fetches the list of all reserve addresses in the pool.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    getReserveList() {\n        return this.call('get_reserve_list', ...PoolContractV2.spec.funcArgsToScVals('get_reserve_list', {})).toXDR('base64');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2xfY29udHJhY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0c7QUFDaEI7QUFDM0UsMkJBQTJCLDBEQUFRO0FBQzFDO0FBQ0Esc0JBQXNCLDBEQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQiw2QkFBNkI7QUFDN0Isa0NBQWtDO0FBQ2xDLG1DQUFtQztBQUNuQztBQUNBLGtDQUFrQyxnREFBUztBQUMzQyw0QkFBNEIsZ0RBQVM7QUFDckMsMEJBQTBCO0FBQzFCO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsZ0NBQWdDLGtEQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsV0FBVztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHLE9BQU87QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixPQUFPO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLE1BQU07QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUc7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixhQUFhO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUdBQXFHO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpSEFBaUgsdUJBQXVCO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixZQUFZO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRyxNQUFNO0FBQ3pHO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwREFBUTtBQUM5QjtBQUNBLGVBQWUsMERBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUhBQW1IO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtSEFBbUgsUUFBUTtBQUMzSDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQVE7QUFDOUI7QUFDQSxlQUFlLDBEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1FQUFhLENBQUMscURBQUc7QUFDN0MseUNBQXlDLGdEQUFTO0FBQ2xELCtCQUErQixnREFBUztBQUN4QztBQUNBLGdDQUFnQyxrREFBVztBQUMzQywrQkFBK0I7QUFDL0IsOEJBQThCO0FBQzlCLCtCQUErQixpREFBVTtBQUN6QztBQUNBLGdDQUFnQyxzREFBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwyREFBUztBQUN4QixxQkFBcUIseURBQU87QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixPQUFPO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxvQkFBb0I7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFHQUFxRyxXQUFXO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsT0FBTztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSEFBcUgsa0JBQWtCO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0dBQStHLHdCQUF3QjtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRztBQUMzRztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2xfY29udHJhY3QuanM/MzZhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCBDb250cmFjdCwgY29udHJhY3QsIE9wZXJhdGlvbiwgc2NWYWxUb05hdGl2ZSwgeGRyIH0gZnJvbSAnQHN0ZWxsYXIvc3RlbGxhci1zZGsnO1xuaW1wb3J0IHsgQXVjdGlvbkRhdGEsIFBvb2xDb25maWcsIENvbnRyYWN0UmVzZXJ2ZSwgUG9zaXRpb25zLCB9IGZyb20gJy4vaW5kZXguanMnO1xuZXhwb3J0IGNsYXNzIFBvb2xDb250cmFjdCBleHRlbmRzIENvbnRyYWN0IHtcbiAgICAvLyBAZGV2OiBHZW5lcmF0ZWQgZnJvbSBzb3JvYmFuLWNsaSBUeXBlc2NyaXB0IGJpbmRpbmdzXG4gICAgc3RhdGljIHNwZWMgPSBuZXcgY29udHJhY3QuU3BlYyhbXG4gICAgICAgIC8vIEZ1bmN0aW9uIHNldF9hZG1pblxuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBSmMyVjBYMkZrYldsdUFBQUFBQUFBQVFBQUFBQUFBQUFKYm1WM1gyRmtiV2x1QUFBQUFBQUFFd0FBQUFBPScsXG4gICAgICAgIC8vIEZ1bmN0aW9uIHF1ZXVlX3NldF9yZXNlcnZlXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFSY1hWbGRXVmZjMlYwWDNKbGMyVnlkbVVBQUFBQUFBQUNBQUFBQUFBQUFBVmhjM05sZEFBQUFBQUFBQk1BQUFBQUFBQUFDRzFsZEdGa1lYUmhBQUFIMEFBQUFBMVNaWE5sY25abFEyOXVabWxuQUFBQUFBQUFBQT09JyxcbiAgICAgICAgLy8gRnVuY3Rpb24gY2FuY2VsX3NldF9yZXNlcnZlXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFTWTJGdVkyVnNYM05sZEY5eVpYTmxjblpsQUFBQUFBQUJBQUFBQUFBQUFBVmhjM05sZEFBQUFBQUFBQk1BQUFBQScsXG4gICAgICAgIC8vIEZ1bmN0aW9uIHNldF9yZXNlcnZlXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFMYzJWMFgzSmxjMlZ5ZG1VQUFBQUFBUUFBQUFBQUFBQUZZWE56WlhRQUFBQUFBQUFUQUFBQUFRQUFBQVE9JyxcbiAgICAgICAgLy8gRnVuY3Rpb24gZ2V0X3Bvc2l0aW9uc1xuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBTloyVjBYM0J2YzJsMGFXOXVjd0FBQUFBQUFBRUFBQUFBQUFBQUIyRmtaSEpsYzNNQUFBQUFFd0FBQUFFQUFBZlFBQUFBQ1ZCdmMybDBhVzl1Y3dBQUFBPT0nLFxuICAgICAgICAvLyBGdW5jdGlvbiBzdWJtaXRcbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUdjM1ZpYldsMEFBQUFBQUFFQUFBQUFBQUFBQVJtY205dEFBQUFFd0FBQUFBQUFBQUhjM0JsYm1SbGNnQUFBQUFUQUFBQUFBQUFBQUowYndBQUFBQUFFd0FBQUFBQUFBQUljbVZ4ZFdWemRITUFBQVBxQUFBSDBBQUFBQWRTWlhGMVpYTjBBQUFBQUFFQUFBZlFBQUFBQ1ZCdmMybDBhVzl1Y3dBQUFBPT0nLFxuICAgICAgICAvLyBGdW5jdGlvbiBiYWRfZGVidFxuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBSVltRmtYMlJsWW5RQUFBQUJBQUFBQUFBQUFBUjFjMlZ5QUFBQUV3QUFBQUE9JyxcbiAgICAgICAgLy8gRnVuY3Rpb24gdXBkYXRlX3N0YXR1c1xuICAgICAgICAnQUFBQUFBQUFBQUFBQUFBTmRYQmtZWFJsWDNOMFlYUjFjd0FBQUFBQUFBQUFBQUFCQUFBQUJBPT0nLFxuICAgICAgICAvLyBGdW5jdGlvbiBzZXRfc3RhdHVzXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFLYzJWMFgzTjBZWFIxY3dBQUFBQUFBUUFBQUFBQUFBQUxjRzl2YkY5emRHRjBkWE1BQUFBQUJBQUFBQUE9JyxcbiAgICAgICAgLy8gRnVuY3Rpb24gZ3VscF9lbWlzc2lvbnNcbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQU9aM1ZzY0Y5bGJXbHpjMmx2Ym5NQUFBQUFBQUFBQUFBQkFBQUFDdz09JyxcbiAgICAgICAgLy8gRnVuY3Rpb24gc2V0X2VtaXNzaW9uc19jb25maWdcbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQVVjMlYwWDJWdGFYTnphVzl1YzE5amIyNW1hV2NBQUFBQkFBQUFBQUFBQUJWeVpYTmZaVzFwYzNOcGIyNWZiV1YwWVdSaGRHRUFBQUFBQUFQcUFBQUgwQUFBQUJkU1pYTmxjblpsUlcxcGMzTnBiMjVOWlhSaFpHRjBZUUFBQUFBQScsXG4gICAgICAgIC8vIEZ1bmN0aW9uIGNsYWltXG4gICAgICAgICdBQUFBQUFBQUFBQUFBQUFGWTJ4aGFXMEFBQUFBQUFBREFBQUFBQUFBQUFSbWNtOXRBQUFBRXdBQUFBQUFBQUFSY21WelpYSjJaVjkwYjJ0bGJsOXBaSE1BQUFBQUFBUHFBQUFBQkFBQUFBQUFBQUFDZEc4QUFBQUFBQk1BQUFBQkFBQUFDdz09JyxcbiAgICAgICAgLy8gRnVuY3Rpb24gZ2V0X2F1Y3Rpb25cbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUxaMlYwWDJGMVkzUnBiMjRBQUFBQUFnQUFBQUFBQUFBTVlYVmpkR2x2Ymw5MGVYQmxBQUFBQkFBQUFBQUFBQUFFZFhObGNnQUFBQk1BQUFBQkFBQUgwQUFBQUF0QmRXTjBhVzl1UkdGMFlRQT0nLFxuICAgICAgICAvLyBTdHJ1Y3QgUmVzZXJ2ZUVtaXNzaW9uTWV0YWRhdGFcbiAgICAgICAgJ0FBQUFBUUFBQURSTlpYUmhaR0YwWVNCbWIzSWdZU0J3YjI5c0ozTWdjbVZ6WlhKMlpTQmxiV2x6YzJsdmJpQmpiMjVtYVdkMWNtRjBhVzl1QUFBQUFBQUFBQmRTWlhObGNuWmxSVzFwYzNOcGIyNU5aWFJoWkdGMFlRQUFBQUFEQUFBQUFBQUFBQWx5WlhOZmFXNWtaWGdBQUFBQUFBQUVBQUFBQUFBQUFBaHlaWE5mZEhsd1pRQUFBQVFBQUFBQUFBQUFCWE5vWVhKbEFBQUFBQUFBQmc9PScsXG4gICAgICAgIC8vIFN0cnVjdCBSZXF1ZXN0XG4gICAgICAgICdBQUFBQVFBQUFDZEJJSEpsY1hWbGMzUWdZU0IxYzJWeUlHMWhhMlZ6SUdGbllXbHVjM1FnZEdobElIQnZiMndBQUFBQUFBQUFBQWRTWlhGMVpYTjBBQUFBQUFNQUFBQUFBQUFBQjJGa1pISmxjM01BQUFBQUV3QUFBQUFBQUFBR1lXMXZkVzUwQUFBQUFBQUxBQUFBQUFBQUFBeHlaWEYxWlhOMFgzUjVjR1VBQUFBRScsXG4gICAgICAgIC8vIFN0cnVjdCBQb3NpdGlvbnNcbiAgICAgICAgJ0FBQUFBUUFBQUUxQklIVnpaWElnTHlCamIyNTBjbUZqZEhNZ2NHOXphWFJwYjI0bmN5QjNhWFJvSUhSb1pTQndiMjlzTENCemRHOXlaV1FnYVc0Z2RHaGxJRkpsYzJWeWRtVW5jeUJrWldOcGJXRnNjd0FBQUFBQUFBQUFBQUFKVUc5emFYUnBiMjV6QUFBQUFBQUFBd0FBQUFBQUFBQUtZMjlzYkdGMFpYSmhiQUFBQUFBRDdBQUFBQVFBQUFBTEFBQUFBQUFBQUF0c2FXRmlhV3hwZEdsbGN3QUFBQVBzQUFBQUJBQUFBQXNBQUFBQUFBQUFCbk4xY0hCc2VRQUFBQUFEN0FBQUFBUUFBQUFMJyxcbiAgICAgICAgLy8gU3RydWN0IFBvb2xFbWlzc2lvbkNvbmZpZ1xuICAgICAgICAnQUFBQUFRQUFBQnBVYUdVZ2NHOXZiQ2R6SUdWdGFYTnphVzl1SUdOdmJtWnBad0FBQUFBQUFBQUFBQkpRYjI5c1JXMXBjM05wYjI1RGIyNW1hV2NBQUFBQUFBSUFBQUFBQUFBQUJtTnZibVpwWndBQUFBQUFDZ0FBQUFBQUFBQUpiR0Z6ZEY5MGFXMWxBQUFBQUFBQUJnPT0nLFxuICAgICAgICAvLyBTdHJ1Y3QgUXVldWVkUmVzZXJ2ZUluaXRcbiAgICAgICAgJ0FBQUFBUUFBQUFBQUFBQUFBQUFBRVZGMVpYVmxaRkpsYzJWeWRtVkpibWwwQUFBQUFBQUFBZ0FBQUFBQUFBQUtibVYzWDJOdmJtWnBad0FBQUFBSDBBQUFBQTFTWlhObGNuWmxRMjl1Wm1sbkFBQUFBQUFBQUFBQUFBdDFibXh2WTJ0ZmRHbHRaUUFBQUFBRycsXG4gICAgICAgIC8vIFN0cnVjdCBSZXNlcnZlRGF0YVxuICAgICAgICAnQUFBQUFRQUFBQnhVYUdVZ1pHRjBZU0JtYjNJZ1lTQnlaWE5sY25abElHRnpjMlYwQUFBQUFBQUFBQXRTWlhObGNuWmxSR0YwWVFBQUFBQUhBQUFBQUFBQUFBWmlYM0poZEdVQUFBQUFBQXNBQUFBQUFBQUFDR0pmYzNWd2NHeDVBQUFBQ3dBQUFBQUFBQUFQWW1GamEzTjBiM0JmWTNKbFpHbDBBQUFBQUFzQUFBQUFBQUFBQm1SZmNtRjBaUUFBQUFBQUN3QUFBQUFBQUFBSVpGOXpkWEJ3YkhrQUFBQUxBQUFBQUFBQUFBWnBjbDl0YjJRQUFBQUFBQXNBQUFBQUFBQUFDV3hoYzNSZmRHbHRaUUFBQUFBQUFBWT0nLFxuICAgICAgICAvLyBTdHJ1Y3QgVXNlckVtaXNzaW9uRGF0YVxuICAgICAgICAnQUFBQUFRQUFBRE5VYUdVZ2RYTmxjaUJsYldsemMybHZiaUJrWVhSaElHWnZjaUIwYUdVZ2NtVnpaWEoyWlNCaUlHOXlJR1FnZEc5clpXNEFBQUFBQUFBQUFCQlZjMlZ5UlcxcGMzTnBiMjVFWVhSaEFBQUFBZ0FBQUFBQUFBQUhZV05qY25WbFpBQUFBQUFMQUFBQUFBQUFBQVZwYm1SbGVBQUFBQUFBQUFzPScsXG4gICAgICAgIC8vIFN0cnVjdCBVc2VyUmVzZXJ2ZUtleVxuICAgICAgICAnQUFBQUFRQUFBQUFBQUFBQUFBQUFEbFZ6WlhKU1pYTmxjblpsUzJWNUFBQUFBQUFDQUFBQUFBQUFBQXB5WlhObGNuWmxYMmxrQUFBQUFBQUVBQUFBQUFBQUFBUjFjMlZ5QUFBQUV3PT0nLFxuICAgICAgICAvLyBTdHJ1Y3QgQXVjdGlvbktleVxuICAgICAgICAnQUFBQUFRQUFBQUFBQUFBQUFBQUFDa0YxWTNScGIyNUxaWGtBQUFBQUFBSUFBQUFBQUFBQUNXRjFZM1JmZEhsd1pRQUFBQUFBQUFRQUFBQUFBQUFBQkhWelpYSUFBQUFUJyxcbiAgICAgICAgLy8gU3RydWN0IFByaWNlRGF0YVxuICAgICAgICAnQUFBQUFRQUFBQzlRY21salpTQmtZWFJoSUdadmNpQmhiaUJoYzNObGRDQmhkQ0JoSUhOd1pXTnBabWxqSUhScGJXVnpkR0Z0Y0FBQUFBQUFBQUFBQ1ZCeWFXTmxSR0YwWVFBQUFBQUFBQUlBQUFBQUFBQUFCWEJ5YVdObEFBQUFBQUFBQ3dBQUFBQUFBQUFKZEdsdFpYTjBZVzF3QUFBQUFBQUFCZz09JyxcbiAgICAgICAgLy8gU3RydWN0IEF1Y3Rpb25EYXRhXG4gICAgICAgICdBQUFBQVFBQUFBQUFBQUFBQUFBQUMwRjFZM1JwYjI1RVlYUmhBQUFBQUFNQUFBRU1RU0J0WVhBZ2IyWWdkR2hsSUdGemMyVjBjeUJpWldsdVp5QmlhV1FnYjI0Z1lXNWtJSFJvWlNCaGJXOTFiblFnWW1WcGJtY2dZbWxrTGlCVWFHVnpaU0JoY21VZ2RHOXJaVzV6SUhOd1pXNTBDbUo1SUhSb1pTQm1hV3hzWlhJZ2IyWWdkR2hsSUdGMVkzUnBiMjR1Q2dwVWFHVWdZbWxrSUdseklHUnBabVpsY21WdWRDQmlZWE5sWkNCdmJpQmxZV05vSUdGMVkzUnBiMjRnZEhsd1pUb0tMU0JWYzJWeVRHbHhkV2xrWVhScGIyNDZJR1JVYjJ0bGJuTUtMU0JDWVdSRVpXSjBRWFZqZEdsdmJqb2daRlJ2YTJWdWN3b3RJRWx1ZEdWeVpYTjBRWFZqZEdsdmJqb2dWVzVrWlhKc2VXbHVaeUJoYzNObGRITWdLR0poWTJ0emRHOXdJSFJ2YTJWdUtRQUFBQU5pYVdRQUFBQUQ3QUFBQUJNQUFBQUxBQUFBbzFSb1pTQmliRzlqYXlCMGFHVWdZWFZqZEdsdmJpQmlaV2RwYm5NZ2IyNHVJRlJvYVhNZ2FYTWdkWE5sWkNCMGJ5QmtaWFJsY20xcGJtVWdhRzkzSUhSb1pTQmhkV04wYVc5dUNuTm9iM1ZzWkNCaVpTQnpZMkZzWldRZ1ltRnpaV1FnYjI0Z2RHaGxJRzUxYldKbGNpQnZaaUJpYkc5amEzTWdkR2hoZENCb1lYWmxJSEJoYzNObFpDQnphVzVqWlNCMGFHVWdZWFZqZEdsdmJpQmlaV2RoYmk0QUFBQUFCV0pzYjJOckFBQUFBQUFBQkFBQUFTWkJJRzFoY0NCdlppQjBhR1VnWVhOelpYUnpJR0psYVc1bklHRjFZM1JwYjI1bFpDQnZabVlnWVc1a0lIUm9aU0JoYlc5MWJuUWdZbVZwYm1jZ1lYVmpkR2x2Ym1Wa0xpQlVhR1Z6WlNCaGNtVWdkRzlyWlc1ekNuSmxZMlZwZG1Wa0lHSjVJSFJvWlNCbWFXeHNaWElnYjJZZ2RHaGxJR0YxWTNScGIyNHVDZ3BVYUdVZ2JHOTBJR2x6SUdScFptWmxjbVZ1ZENCaVlYTmxaQ0J2YmlCbFlXTm9JR0YxWTNScGIyNGdkSGx3WlRvS0xTQlZjMlZ5VEdseGRXbGtZWFJwYjI0NklHSlViMnRsYm5NS0xTQkNZV1JFWldKMFFYVmpkR2x2YmpvZ1ZXNWtaWEpzZVdsdVp5QmhjM05sZEhNZ0tHSmhZMnR6ZEc5d0lIUnZhMlZ1S1FvdElFbHVkR1Z5WlhOMFFYVmpkR2x2YmpvZ1ZXNWtaWEpzZVdsdVp5QmhjM05sZEhNQUFBQUFBQU5zYjNRQUFBQUQ3QUFBQUJNQUFBQUwnLFxuICAgICAgICAvLyBVbmlvbiBBc3NldFxuICAgICAgICAnQUFBQUFnQUFBQXBCYzNObGRDQjBlWEJsQUFBQUFBQUFBQUFBQlVGemMyVjBBQUFBQUFBQUFnQUFBQUVBQUFBQUFBQUFCMU4wWld4c1lYSUFBQUFBQVFBQUFCTUFBQUFCQUFBQUFBQUFBQVZQZEdobGNnQUFBQUFBQUFFQUFBQVInLFxuICAgICAgICAvLyBVbmlvbiBQb29sRGF0YUtleVxuICAgICAgICAnQUFBQUFnQUFBQUFBQUFBQUFBQUFDMUJ2YjJ4RVlYUmhTMlY1QUFBQUFBa0FBQUFCQUFBQUFBQUFBQWxTWlhORGIyNW1hV2NBQUFBQUFBQUJBQUFBRXdBQUFBRUFBQUFBQUFBQUIxSmxjMGx1YVhRQUFBQUFBUUFBQUJNQUFBQUJBQUFBQUFBQUFBZFNaWE5FWVhSaEFBQUFBQUVBQUFBVEFBQUFBUUFBQUFBQUFBQUtSVzFwYzBOdmJtWnBad0FBQUFBQUFRQUFBQVFBQUFBQkFBQUFBQUFBQUFoRmJXbHpSR0YwWVFBQUFBRUFBQUFFQUFBQUFRQUFBQUFBQUFBSlVHOXphWFJwYjI1ekFBQUFBQUFBQVFBQUFCTUFBQUFCQUFBQUFBQUFBQWhWYzJWeVJXMXBjd0FBQUFFQUFBZlFBQUFBRGxWelpYSlNaWE5sY25abFMyVjVBQUFBQUFBQkFBQUFBQUFBQUFkQmRXTjBhVzl1QUFBQUFBRUFBQWZRQUFBQUNrRjFZM1JwYjI1TFpYa0FBQUFBQUFFQUFBQUFBQUFBQ0VGMVkzUkVZWFJoQUFBQUFRQUFBQk09JyxcbiAgICBdKTtcbiAgICBzdGF0aWMgcGFyc2VycyA9IHtcbiAgICAgICAgc2V0QWRtaW46ICgpID0+IHsgfSxcbiAgICAgICAgdXBkYXRlUG9vbDogKCkgPT4geyB9LFxuICAgICAgICBxdWV1ZVNldFJlc2VydmU6ICgpID0+IHsgfSxcbiAgICAgICAgY2FuY2VsU2V0UmVzZXJ2ZTogKCkgPT4geyB9LFxuICAgICAgICBzZXRSZXNlcnZlOiAocmVzdWx0KSA9PiBQb29sQ29udHJhY3Quc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ3NldF9yZXNlcnZlJywgcmVzdWx0KSxcbiAgICAgICAgZ2V0UG9zaXRpb25zOiAocmVzdWx0KSA9PiBQb3NpdGlvbnMuZnJvbVNjVmFsKHJlc3VsdCksXG4gICAgICAgIHN1Ym1pdDogKHJlc3VsdCkgPT4gUG9zaXRpb25zLmZyb21TY1ZhbChyZXN1bHQpLFxuICAgICAgICBiYWREZWJ0OiAoKSA9PiB7IH0sXG4gICAgICAgIHVwZGF0ZVN0YXR1czogKHJlc3VsdCkgPT4gUG9vbENvbnRyYWN0LnNwZWMuZnVuY1Jlc1RvTmF0aXZlKCd1cGRhdGVfc3RhdHVzJywgcmVzdWx0KSxcbiAgICAgICAgc2V0U3RhdHVzOiAoKSA9PiB7IH0sXG4gICAgICAgIGd1bHBFbWlzc2lvbnM6IChyZXN1bHQpID0+IFBvb2xDb250cmFjdC5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgnZ3VscF9lbWlzc2lvbnMnLCByZXN1bHQpLFxuICAgICAgICBzZXRFbWlzc2lvbnNDb25maWc6ICgpID0+IHsgfSxcbiAgICAgICAgY2xhaW06IChyZXN1bHQpID0+IFBvb2xDb250cmFjdC5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgnY2xhaW0nLCByZXN1bHQpLFxuICAgICAgICBnZXRBdWN0aW9uOiAocmVzdWx0KSA9PiBBdWN0aW9uRGF0YS5mcm9tU2NWYWwocmVzdWx0KSxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgYSBuZXcgYWRkcmVzcyBhcyB0aGUgYWRtaW4gb2YgdGhpcyBwb29sLiBPbmx5IGNhbGxhYmxlIGJ5IHRoZSBjdXJyZW50IGFkbWluLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5ld19hZG1pbiAtIFRoZSBuZXcgYWRtaW4gYWRkcmVzcy5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgY2FsbGVyIGlzIG5vdCB0aGUgYWRtaW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBzZXRBZG1pbihuZXdfYWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnc2V0X2FkbWluJywgLi4uUG9vbENvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnc2V0X2FkbWluJywgeyBuZXdfYWRtaW4gfSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyB0aGUgcXVldWVkIHNldCBvZiBhIHJlc2VydmUgaW4gdGhlIHBvb2wuIE9ubHkgY2FsbGFibGUgYnkgdGhlIGFkbWluLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFzc2V0IC0gVGhlIHVuZGVybHlpbmcgYXNzZXQgYWRkcmVzcyB0byBjYW5jZWwgaW5pdGlhbGl6YXRpb24gZm9yLlxuICAgICAqXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBjYWxsZXIgaXMgbm90IHRoZSBhZG1pbiBvciB0aGUgcmVzZXJ2ZSBpcyBub3QgcXVldWVkIGZvciBpbml0aWFsaXphdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGNhbmNlbFNldFJlc2VydmUoYXNzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnY2FuY2VsX3NldF9yZXNlcnZlJywgLi4uUG9vbENvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnY2FuY2VsX3NldF9yZXNlcnZlJywgeyBhc3NldCB9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgcXVldWVkIHNldCBvZiBhIHJlc2VydmUgaW4gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXNzZXQgLSBUaGUgdW5kZXJseWluZyBhc3NldCBhZGRyZXNzIHRvIHNldHVwLlxuICAgICAqXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSByZXNlcnZlIGlzIG5vdCBxdWV1ZWQgZm9yIGluaXRpYWxpemF0aW9uLCBpcyBhbHJlYWR5IHNldHVwLCBvciBoYXMgaW52YWxpZCBtZXRhZGF0YS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHNldFJlc2VydmUoYXNzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnc2V0X3Jlc2VydmUnLCAuLi5Qb29sQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdzZXRfcmVzZXJ2ZScsIHsgYXNzZXQgfSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3VibWl0cyBhIHNldCBvZiByZXF1ZXN0cyB0byB0aGUgcG9vbCB3aGVyZSAnZnJvbScgdGFrZXMgb24gdGhlIHBvc2l0aW9uLCAnc2VuZGVyJyBzZW5kcyBhbnkgcmVxdWlyZWQgdG9rZW5zIHRvIHRoZSBwb29sXG4gICAgICogYW5kICd0bycgcmVjZWl2ZXMgYW55IHRva2VucyBzZW50IGZyb20gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzIC0gVGhlIGFyZ3VtZW50cyByZXF1aXJlZCBmb3IgdGhlIHN1Ym1pdCBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5mcm9tIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXIgd2hvc2UgcG9zaXRpb25zIGFyZSBiZWluZyBtb2RpZmllZC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLnNwZW5kZXIgLSBUaGUgYWRkcmVzcyBvZiB0aGUgdXNlciB3aG8gaXMgc2VuZGluZyB0b2tlbnMgdG8gdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy50byAtIFRoZSBhZGRyZXNzIG9mIHRoZSB1c2VyIHdobyBpcyByZWNlaXZpbmcgdG9rZW5zIGZyb20gdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5yZXF1ZXN0cyAtIEEgbGlzdCBvZiByZXF1ZXN0cyB0byBiZSBwcm9jZXNzZWQuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHJlcXVlc3QgY2Fubm90IGJlIGNvbXBsZXRlZCBkdWUgdG8gaW5zdWZmaWNpZW50IGZ1bmRzIG9yIGludmFsaWQgaGVhbHRoIGZhY3Rvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHN1Ym1pdChjb250cmFjdEFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnc3VibWl0JywgLi4uUG9vbENvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnc3VibWl0JywgY29udHJhY3RBcmdzKSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYW5hZ2VzIGJhZCBkZWJ0LiBEZWJ0IGlzIGNvbnNpZGVyZWQgXCJiYWRcIiBpZiB0aGVyZSBpcyBubyBsb25nZXIgYW55IGNvbGxhdGVyYWwgcG9zdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlciB3aG8gY3VycmVudGx5IHBvc3Nlc3NlcyBiYWQgZGVidC5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgdXNlciBoYXMgY29sbGF0ZXJhbCBwb3N0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBiYWREZWJ0KHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnYmFkX2RlYnQnLCAuLi5Qb29sQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdiYWRfZGVidCcsIHsgdXNlciB9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwb29sIHN0YXR1cyBiYXNlZCBvbiB0aGUgYmFja3N0b3Agc3RhdGUuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHBvb2wgaXMgY3VycmVudGx5IG9uIHN0YXR1cyA0LCBcImFkbWluLWZyZWV6ZVwiLFxuICAgICAqIHdoZXJlIG9ubHkgdGhlIGFkbWluIGNhbiBwZXJmb3JtIGEgc3RhdHVzIHVwZGF0ZSB2aWEgYHNldFN0YXR1c2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICB1cGRhdGVTdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ3VwZGF0ZV9zdGF0dXMnLCAuLi5Qb29sQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCd1cGRhdGVfc3RhdHVzJywge30pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvb2wgc3RhdHVzLiBPbmx5IGNhbGxhYmxlIGJ5IHRoZSBhZG1pbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb29sX3N0YXR1cyAtIFRoZSBwb29sIHN0YXR1cyB0byBiZSBzZXQ6IDAgKGFjdGl2ZSksIDIgKG9uLWljZSksIG9yIDQgKGZyb3plbikuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNhbGxlciBpcyBub3QgdGhlIGFkbWluIG9yIGlmIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9ucyBhcmUgbm90IG1ldCBmb3IgdGhlIHN0YXR1cyB0byBiZSBzZXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBzZXRTdGF0dXMocG9vbF9zdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnc2V0X3N0YXR1cycsIC4uLlBvb2xDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ3NldF9zdGF0dXMnLCB7IHBvb2xfc3RhdHVzIH0pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnN1bWVzIGVtaXNzaW9ucyBmcm9tIHRoZSBiYWNrc3RvcCBhbmQgZGlzdHJpYnV0ZXMgdG8gdGhlIHJlc2VydmVzIGJhc2VkIG9uIHRoZSByZXNlcnZlIGVtaXNzaW9uIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBndWxwRW1pc3Npb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdndWxwX2VtaXNzaW9ucycsIC4uLlBvb2xDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2d1bHBfZW1pc3Npb25zJywge30pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGVtaXNzaW9uIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwb29sLiBPbmx5IGNhbGxhYmxlIGJ5IHRoZSBhZG1pbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXNfZW1pc3Npb25fbWV0YWRhdGEgLSBBIHZlY3RvciBvZiBSZXNlcnZlRW1pc3Npb25NZXRhZGF0YSB0byB1cGRhdGUgbWV0YWRhdGEgdG8uXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNhbGxlciBpcyBub3QgdGhlIGFkbWluLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgc2V0RW1pc3Npb25zQ29uZmlnKHJlc19lbWlzc2lvbl9tZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdzZXRfZW1pc3Npb25zX2NvbmZpZycsIC4uLlBvb2xDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ3NldF9lbWlzc2lvbnNfY29uZmlnJywgeyByZXNfZW1pc3Npb25fbWV0YWRhdGEgfSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xhaW1zIG91dHN0YW5kaW5nIGVtaXNzaW9ucyBmb3IgdGhlIGNhbGxlciBmb3IgdGhlIGdpdmVuIHJlc2VydmUgdG9rZW5zLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncyAtIFRoZSBhcmd1bWVudHMgcmVxdWlyZWQgZm9yIGNsYWltaW5nIGVtaXNzaW9ucy5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmZyb20gLSBUaGUgYWRkcmVzcyBjbGFpbWluZy5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLnJlc2VydmVfdG9rZW5faWRzIC0gTGlzdCBvZiByZXNlcnZlIHRva2VuIElEcy5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLnRvIC0gVGhlIGFkZHJlc3MgdG8gc2VuZCB0aGUgY2xhaW1lZCB0b2tlbnMgdG8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBjbGFpbShjb250cmFjdEFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnY2xhaW0nLCAuLi5Qb29sQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdjbGFpbScsIGNvbnRyYWN0QXJncykpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBhdWN0aW9uIGZyb20gdGhlIGxlZGdlci4gUmV0dXJucyBhIHF1b3RlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGJsb2NrLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF1Y3Rpb25faWQgLSBUaGUgSUQgb2YgdGhlIGF1Y3Rpb24uXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGF1Y3Rpb24gZG9lcyBub3QgZXhpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBnZXRBdWN0aW9uKGF1Y3Rpb25faWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZ2V0X2F1Y3Rpb24nLCAuLi5Qb29sQ29udHJhY3Quc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdnZXRfYXVjdGlvbicsIHsgYXVjdGlvbl9pZCB9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBwb3NpdGlvbnMgZm9yIGFuIGFkZHJlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXNlciAtIFRoZSBhZGRyZXNzIHRvIGZldGNoIHBvc2l0aW9ucyBmb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBnZXRQb3NpdGlvbnModXNlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdnZXRfcG9zaXRpb25zJywgLi4uUG9vbENvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZ2V0X3Bvc2l0aW9ucycsIHsgdXNlciB9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQb29sQ29udHJhY3RWMSBleHRlbmRzIFBvb2xDb250cmFjdCB7XG4gICAgY29uc3RydWN0b3IoYWRkcmVzcykge1xuICAgICAgICBzdXBlcihhZGRyZXNzKTtcbiAgICB9XG4gICAgc3RhdGljIHNwZWMgPSBuZXcgY29udHJhY3QuU3BlYyhbXG4gICAgICAgIC4uLlBvb2xDb250cmFjdC5zcGVjLmVudHJpZXMsXG4gICAgICAgIC4uLm5ldyBjb250cmFjdC5TcGVjKFtcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGluaXRpYWxpemVcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFLYVc1cGRHbGhiR2w2WlFBQUFBQUFCd0FBQUFBQUFBQUZZV1J0YVc0QUFBQUFBQUFUQUFBQUFBQUFBQVJ1WVcxbEFBQUFFQUFBQUFBQUFBQUdiM0poWTJ4bEFBQUFBQUFUQUFBQUFBQUFBQXBpYzNSdmNGOXlZWFJsQUFBQUFBQUVBQUFBQUFBQUFBeHRZWGhmY0c5emRHbHZibk1BQUFBRUFBQUFBQUFBQUF0aVlXTnJjM1J2Y0Y5cFpBQUFBQUFUQUFBQUFBQUFBQWRpYkc1a1gybGtBQUFBQUJNQUFBQUEnLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gbmV3X2xpcXVpZGF0aW9uX2F1Y3Rpb25cbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFYYm1WM1gyeHBjWFZwWkdGMGFXOXVYMkYxWTNScGIyNEFBQUFBQWdBQUFBQUFBQUFFZFhObGNnQUFBQk1BQUFBQUFBQUFFbkJsY21ObGJuUmZiR2x4ZFdsa1lYUmxaQUFBQUFBQUJnQUFBQUVBQUFmUUFBQUFDMEYxWTNScGIyNUVZWFJoQUE9PScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBuZXdfYmFkX2RlYnRfYXVjdGlvblxuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQVVibVYzWDJKaFpGOWtaV0owWDJGMVkzUnBiMjRBQUFBQUFBQUFBUUFBQjlBQUFBQUxRWFZqZEdsdmJrUmhkR0VBJyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIG5ld19pbnRlcmVzdF9hdWN0aW9uXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBVWJtVjNYMmx1ZEdWeVpYTjBYMkYxWTNScGIyNEFBQUFCQUFBQUFBQUFBQVpoYzNObGRITUFBQUFBQStvQUFBQVRBQUFBQVFBQUI5QUFBQUFMUVhWamRHbHZia1JoZEdFQScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiB1cGRhdGVfcG9vbFxuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUxkWEJrWVhSbFgzQnZiMndBQUFBQUFnQUFBQUFBQUFBU1ltRmphM04wYjNCZmRHRnJaVjl5WVhSbEFBQUFBQUFFQUFBQUFBQUFBQTF0WVhoZmNHOXphWFJwYjI1ekFBQUFBQUFBQkFBQUFBQT0nLFxuICAgICAgICAgICAgLy8gU3RydWN0IEVycm9yc1xuICAgICAgICAgICAgJ0FBQUFCQUFBQUpsRmNuSnZjaUJqYjJSbGN5Qm1iM0lnZEdobElIQnZiMndnWTI5dWRISmhZM1F1SUVOdmJXMXZiaUJsY25KdmNuTWdZWEpsSUdOdlpHVnpJSFJvWVhRZ2JXRjBZMmdnZFhBZ2QybDBhQ0IwYUdVZ1luVnBiSFF0YVc0S1kyOXVkSEpoWTNSeklHVnljbTl5SUhKbGNHOXlkR2x1Wnk0Z1VHOXZiQ0J6Y0dWamFXWnBZeUJsY25KdmNuTWdjM1JoY25RZ1lYUWdNVEl3TUM0QUFBQUFBQUFBQUFBQUNWQnZiMnhGY25KdmNnQUFBQUFBQUJvQUFBQUFBQUFBRFVsdWRHVnlibUZzUlhKeWIzSUFBQUFBQUFBQkFBQUFBQUFBQUJkQmJISmxZV1I1U1c1cGRHbGhiR2w2WldSRmNuSnZjZ0FBQUFBREFBQUFBQUFBQUJGVmJtRjFkR2h2Y21sNlpXUkZjbkp2Y2dBQUFBQUFBQVFBQUFBQUFBQUFFMDVsWjJGMGFYWmxRVzF2ZFc1MFJYSnliM0lBQUFBQUNBQUFBQUFBQUFBTVFtRnNZVzVqWlVWeWNtOXlBQUFBQ2dBQUFBQUFBQUFOVDNabGNtWnNiM2RGY25KdmNnQUFBQUFBQUF3QUFBQUFBQUFBQ2tKaFpGSmxjWFZsYzNRQUFBQUFCTEFBQUFBQUFBQUFFMGx1ZG1Gc2FXUlFiMjlzU1c1cGRFRnlaM01BQUFBRXNRQUFBQUFBQUFBV1NXNTJZV3hwWkZKbGMyVnlkbVZOWlhSaFpHRjBZUUFBQUFBRXNnQUFBQUFBQUFBUFNXNXBkRTV2ZEZWdWJHOWphMlZrQUFBQUJMTUFBQUFBQUFBQUVGTjBZWFIxYzA1dmRFRnNiRzkzWldRQUFBUzBBQUFBQUFBQUFBbEpiblpoYkdsa1NHWUFBQUFBQUFTMUFBQUFBQUFBQUJGSmJuWmhiR2xrVUc5dmJGTjBZWFIxY3dBQUFBQUFCTFlBQUFBQUFBQUFEMGx1ZG1Gc2FXUlZkR2xzVW1GMFpRQUFBQVMzQUFBQUFBQUFBQlJOWVhoUWIzTnBkR2x2Ym5ORmVHTmxaV1JsWkFBQUJMZ0FBQUFBQUFBQUYwbHVkR1Z5Ym1Gc1VtVnpaWEoyWlU1dmRFWnZkVzVrQUFBQUJMa0FBQUFBQUFBQUNsTjBZV3hsVUhKcFkyVUFBQUFBQkxvQUFBQUFBQUFBRWtsdWRtRnNhV1JNYVhGMWFXUmhkR2x2YmdBQUFBQUV1d0FBQUFBQUFBQVJRWFZqZEdsdmJrbHVVSEp2WjNKbGMzTUFBQUFBQUFTOEFBQUFBQUFBQUJKSmJuWmhiR2xrVEdseFZHOXZUR0Z5WjJVQUFBQUFCTDBBQUFBQUFBQUFFa2x1ZG1Gc2FXUk1hWEZVYjI5VGJXRnNiQUFBQUFBRXZnQUFBQUFBQUFBUVNXNTBaWEpsYzNSVWIyOVRiV0ZzYkFBQUJMOEFBQUFBQUFBQUYwbHVkbUZzYVdSQ1ZHOXJaVzVOYVc1MFFXMXZkVzUwQUFBQUJNQUFBQUFBQUFBQUYwbHVkbUZzYVdSQ1ZHOXJaVzVDZFhKdVFXMXZkVzUwQUFBQUJNRUFBQUFBQUFBQUYwbHVkbUZzYVdSRVZHOXJaVzVOYVc1MFFXMXZkVzUwQUFBQUJNSUFBQUFBQUFBQUYwbHVkbUZzYVdSRVZHOXJaVzVDZFhKdVFXMXZkVzUwQUFBQUJNTT0nLFxuICAgICAgICAgICAgLy8gU3RydWN0IFJlc2VydmVDb25maWdcbiAgICAgICAgICAgICdBQUFBQVFBQUFETlVhR1VnWTI5dVptbG5kWEpoZEdsdmJpQnBibVp2Y20xaGRHbHZiaUJoWW05MWRDQmhJSEpsYzJWeWRtVWdZWE56WlhRQUFBQUFBQUFBQUExU1pYTmxjblpsUTI5dVptbG5BQUFBQUFBQUN3QUFBQUFBQUFBSVkxOW1ZV04wYjNJQUFBQUVBQUFBQUFBQUFBaGtaV05wYldGc2N3QUFBQVFBQUFBQUFBQUFCV2x1WkdWNEFBQUFBQUFBQkFBQUFBQUFBQUFJYkY5bVlXTjBiM0lBQUFBRUFBQUFBQUFBQUFodFlYaGZkWFJwYkFBQUFBUUFBQUFBQUFBQUJuSmZZbUZ6WlFBQUFBQUFCQUFBQUFBQUFBQUZjbDl2Ym1VQUFBQUFBQUFFQUFBQUFBQUFBQWR5WDNSb2NtVmxBQUFBQUFRQUFBQUFBQUFBQlhKZmRIZHZBQUFBQUFBQUJBQUFBQUFBQUFBS2NtVmhZM1JwZG1sMGVRQUFBQUFBQkFBQUFBQUFBQUFFZFhScGJBQUFBQVE9JyxcbiAgICAgICAgICAgIC8vIFN0cnVjdCBSZXNlcnZlXG4gICAgICAgICAgICAnQUFBQUFRQUFBQUFBQUFBQUFBQUFCMUpsYzJWeWRtVUFBQUFBRFFBQUFBQUFBQUFGWVhOelpYUUFBQUFBQUFBVEFBQUFBQUFBQUFaaVgzSmhkR1VBQUFBQUFBc0FBQUFBQUFBQUNHSmZjM1Z3Y0d4NUFBQUFDd0FBQUFBQUFBQVBZbUZqYTNOMGIzQmZZM0psWkdsMEFBQUFBQXNBQUFBQUFBQUFDR05mWm1GamRHOXlBQUFBQkFBQUFBQUFBQUFHWkY5eVlYUmxBQUFBQUFBTEFBQUFBQUFBQUFoa1gzTjFjSEJzZVFBQUFBc0FBQUFBQUFBQUJXbHVaR1Y0QUFBQUFBQUFCQUFBQUFBQUFBQUdhWEpmYlc5a0FBQUFBQUFMQUFBQUFBQUFBQWhzWDJaaFkzUnZjZ0FBQUFRQUFBQUFBQUFBQ1d4aGMzUmZkR2x0WlFBQUFBQUFBQVlBQUFBQUFBQUFDRzFoZUY5MWRHbHNBQUFBQkFBQUFBQUFBQUFHYzJOaGJHRnlBQUFBQUFBTCcsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgUG9vbENvbmZpZ1xuICAgICAgICAgICAgJ0FBQUFBUUFBQUJGVWFHVWdjRzl2YkNkeklHTnZibVpwWndBQUFBQUFBQUFBQUFBS1VHOXZiRU52Ym1acFp3QUFBQUFBQkFBQUFBQUFBQUFLWW5OMGIzQmZjbUYwWlFBQUFBQUFCQUFBQUFBQUFBQU5iV0Y0WDNCdmMybDBhVzl1Y3dBQUFBQUFBQVFBQUFBQUFBQUFCbTl5WVdOc1pRQUFBQUFBRXdBQUFBQUFBQUFHYzNSaGRIVnpBQUFBQUFBRScsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgUmVzZXJ2ZUVtaXNzaW9uc0NvbmZpZ1xuICAgICAgICAgICAgJ0FBQUFBUUFBQUlGVWFHVWdZMjl1Wm1sbmRYSmhkR2x2YmlCdlppQmxiV2x6YzJsdmJuTWdabTl5SUhSb1pTQnlaWE5sY25abElHSWdiM0lnWkNCMGIydGxiZ29LWUVCa1pYWmdJRWxtSUhSb2FYTWdhWE1nZFhCa1lYUmxaQ3dnVW1WelpYSjJaVVZ0YVhOemFXOXVjMFJoZEdFZ1RWVlRWQ0JoYkhOdklHSmxJSFZ3WkdGMFpXUUFBQUFBQUFBQUFBQUFGbEpsYzJWeWRtVkZiV2x6YzJsdmJuTkRiMjVtYVdjQUFBQUFBQUlBQUFBQUFBQUFBMlZ3Y3dBQUFBQUdBQUFBQUFBQUFBcGxlSEJwY21GMGFXOXVBQUFBQUFBRycsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgUmVzZXJ2ZUVtaXNzaW9uRGF0YVxuICAgICAgICAgICAgJ0FBQUFBUUFBQUM1VWFHVWdaVzFwYzNOcGIyNGdaR0YwWVNCbWIzSWdkR2hsSUhKbGMyVnlkbVVnWWlCdmNpQmtJSFJ2YTJWdUFBQUFBQUFBQUFBQUZGSmxjMlZ5ZG1WRmJXbHpjMmx2Ym5ORVlYUmhBQUFBQWdBQUFBQUFBQUFGYVc1a1pYZ0FBQUFBQUFBTEFBQUFBQUFBQUFsc1lYTjBYM1JwYldVQUFBQUFBQUFHJyxcbiAgICAgICAgXSkuZW50cmllcyxcbiAgICBdKTtcbiAgICBzdGF0aWMgcGFyc2VycyA9IHtcbiAgICAgICAgLi4uUG9vbENvbnRyYWN0LnBhcnNlcnMsXG4gICAgICAgIGluaXRpYWxpemU6ICgpID0+IHsgfSxcbiAgICAgICAgbmV3TGlxdWlkYXRpb25BdWN0aW9uOiAocmVzdWx0KSA9PiBQb29sQ29udHJhY3RWMS5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgnbmV3X2xpcXVpZGF0aW9uX2F1Y3Rpb24nLCByZXN1bHQpLFxuICAgICAgICBuZXdCYWREZWJ0QXVjdGlvbjogKHJlc3VsdCkgPT4gUG9vbENvbnRyYWN0VjEuc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ25ld19iYWRfZGVidF9hdWN0aW9uJywgcmVzdWx0KSxcbiAgICAgICAgbmV3SW50ZXJlc3RBdWN0aW9uOiAocmVzdWx0KSA9PiBQb29sQ29udHJhY3RWMS5zcGVjLmZ1bmNSZXNUb05hdGl2ZSgnbmV3X2ludGVyZXN0X2F1Y3Rpb24nLCByZXN1bHQpLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzIC0gVGhlIGFyZ3VtZW50cyByZXF1aXJlZCBmb3IgcG9vbCBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmFkbWluIC0gVGhlIGFkZHJlc3MgZm9yIHRoZSBhZG1pbi5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLm9yYWNsZSAtIFRoZSBjb250cmFjdCBhZGRyZXNzIG9mIHRoZSBvcmFjbGUuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5ic3RvcF9yYXRlIC0gVGhlIHRha2UgcmF0ZSBmb3IgdGhlIGJhY2tzdG9wICg3IGRlY2ltYWxzKS5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLm1heF9wb3NpdGlvbnMgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcG9zaXRpb25zIGEgdXNlciBpcyBwZXJtaXR0ZWQgdG8gaGF2ZS5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmJhY2tzdG9wX2lkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIHBvb2wncyBiYWNrc3RvcCBtb2R1bGUuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5ibG5kX2lkIC0gVGhlIGNvbnRyYWN0IElEIG9mIHRoZSBCTE5EIHRva2VuLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZShjb250cmFjdEFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnaW5pdGlhbGl6ZScsIC4uLlBvb2xDb250cmFjdFYxLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnaW5pdGlhbGl6ZScsIGNvbnRyYWN0QXJncykpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcG9vbCBjb25maWd1cmF0aW9uLiBPbmx5IGNhbGxhYmxlIGJ5IHRoZSBhZG1pbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIHRvIHVwZGF0ZSB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmJhY2tzdG9wX3Rha2VfcmF0ZSAtIFRoZSBuZXcgdGFrZSByYXRlIGZvciB0aGUgYmFja3N0b3AgKDcgZGVjaW1hbHMpLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MubWF4X3Bvc2l0aW9ucyAtIFRoZSBuZXcgbWF4aW11bSBudW1iZXIgb2YgYWxsb3dlZCBwb3NpdGlvbnMgZm9yIGEgc2luZ2xlIHVzZXIncyBhY2NvdW50LlxuICAgICAqXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBjYWxsZXIgaXMgbm90IHRoZSBhZG1pbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHVwZGF0ZVBvb2woY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ3VwZGF0ZV9wb29sJywgLi4uUG9vbENvbnRyYWN0LnNwZWMuZnVuY0FyZ3NUb1NjVmFscygndXBkYXRlX3Bvb2wnLCBjb250cmFjdEFyZ3MpKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXVlcyBzZXR0aW5nIGRhdGEgZm9yIGEgcmVzZXJ2ZSBpbiB0aGUgcG9vbC4gT25seSBjYWxsYWJsZSBieSB0aGUgYWRtaW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzIC0gVGhlIGFyZ3VtZW50cyByZXF1aXJlZCBmb3IgcXVldWluZyBhIHJlc2VydmUuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5hc3NldCAtIFRoZSB1bmRlcmx5aW5nIGFzc2V0IHRvIGFkZCBhcyBhIHJlc2VydmUuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5tZXRhZGF0YSAtIFRoZSBSZXNlcnZlQ29uZmlnIGZvciB0aGUgcmVzZXJ2ZS5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgY2FsbGVyIGlzIG5vdCB0aGUgYWRtaW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBxdWV1ZVNldFJlc2VydmUoY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ3F1ZXVlX3NldF9yZXNlcnZlJywgLi4uUG9vbENvbnRyYWN0VjEuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdxdWV1ZV9zZXRfcmVzZXJ2ZScsIGNvbnRyYWN0QXJncykpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB1c2VyIGxpcXVpZGF0aW9uIGF1Y3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzIC0gVGhlIGFyZ3VtZW50cyByZXF1aXJlZCB0byBjcmVhdGUgYSBsaXF1aWRhdGlvbiBhdWN0aW9uLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MudXNlciAtIFRoZSB1c2VyIGdldHRpbmcgbGlxdWlkYXRlZCB0aHJvdWdoIHRoZSBhdWN0aW9uLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MucGVyY2VudF9saXF1aWRhdGVkIC0gVGhlIHBlcmNlbnQgb2YgdGhlIHVzZXIncyBwb3NpdGlvbiBiZWluZyBsaXF1aWRhdGVkIGFzIGEgcGVyY2VudGFnZSAoMTUgPT4gMTUlKS5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgdXNlciBsaXF1aWRhdGlvbiBhdWN0aW9uIHdhcyB1bmFibGUgdG8gYmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIG5ld0xpcXVpZGF0aW9uQXVjdGlvbihjb250cmFjdEFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnbmV3X2xpcXVpZGF0aW9uX2F1Y3Rpb24nLCAuLi5Qb29sQ29udHJhY3RWMS5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ25ld19saXF1aWRhdGlvbl9hdWN0aW9uJywgY29udHJhY3RBcmdzKSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGJhZCBkZWJ0IGF1Y3Rpb24uXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGF1Y3Rpb24gd2FzIHVuYWJsZSB0byBiZSBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgbmV3QmFkRGVidEF1Y3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ25ld19iYWRfZGVidF9hdWN0aW9uJywgLi4uUG9vbENvbnRyYWN0VjEuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCduZXdfYmFkX2RlYnRfYXVjdGlvbicsIHt9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGludGVyZXN0IGF1Y3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXNzZXRzIC0gVGhlIGFzc2V0cyBpbnRlcmVzdCBpcyBiZWluZyBhdWN0aW9uZWQgb2ZmIGZvci5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgYXVjdGlvbiB3YXMgdW5hYmxlIHRvIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBuZXdJbnRlcmVzdEF1Y3Rpb24oYXNzZXRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ25ld19pbnRlcmVzdF9hdWN0aW9uJywgLi4uUG9vbENvbnRyYWN0VjEuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCduZXdfaW50ZXJlc3RfYXVjdGlvbicsIHsgYXNzZXRzIH0pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBvb2xDb250cmFjdFYyIGV4dGVuZHMgUG9vbENvbnRyYWN0IHtcbiAgICBjb25zdHJ1Y3RvcihhZGRyZXNzKSB7XG4gICAgICAgIHN1cGVyKGFkZHJlc3MpO1xuICAgIH1cbiAgICBzdGF0aWMgc3BlYyA9IG5ldyBjb250cmFjdC5TcGVjKFtcbiAgICAgICAgLi4uUG9vbENvbnRyYWN0LnNwZWMuZW50cmllcyxcbiAgICAgICAgLi4ubmV3IGNvbnRyYWN0LlNwZWMoW1xuICAgICAgICAgICAgLy8gRnVuY3Rpb24gY29uc3RydWN0b3JcbiAgICAgICAgICAgICdBQUFBQUFBQUFqVkpibWwwYVdGc2FYcGxJSFJvWlNCd2IyOXNDZ29qSXlNZ1FYSm5kVzFsYm5SekNrTnlaV0YwYjNJZ2MzVndjR3hwWldRNkNpb2dZR0ZrYldsdVlDQXRJRlJvWlNCQlpHUnlaWE56SUdadmNpQjBhR1VnWVdSdGFXNEtLaUJnYm1GdFpXQWdMU0JVYUdVZ2JtRnRaU0J2WmlCMGFHVWdjRzl2YkFvcUlHQnZjbUZqYkdWZ0lDMGdWR2hsSUdOdmJuUnlZV04wSUdGa1pISmxjM01nYjJZZ2RHaGxJRzl5WVdOc1pRb3FJR0JpWVdOcmMzUnZjRjkwWVd0bFgzSmhkR1ZnSUMwZ1ZHaGxJSFJoYTJVZ2NtRjBaU0JtYjNJZ2RHaGxJR0poWTJ0emRHOXdJQ2czSUdSbFkybHRZV3h6S1FvcUlHQnRZWGhmY0c5emFYUnBiMjV6WUNBdElGUm9aU0J0WVhocGJYVnRJRzUxYldKbGNpQnZaaUJ3YjNOcGRHbHZibk1nWVNCMWMyVnlJR2x6SUhCbGNtMXBkSFJsWkNCMGJ5Qm9ZWFpsQ2lvZ1lHMXBibDlqYjJ4c1lYUmxjbUZzWUNBdElGUm9aU0J0YVc1cGJYVnRJR052Ykd4aGRHVnlZV3dnY21WeGRXbHlaV1FnZEc4Z2IzQmxiaUJoSUdKdmNuSnZkeUJ3YjNOcGRHbHZiaUJwYmlCMGFHVWdiM0poWTJ4bGN5QmlZWE5sSUdGemMyVjBDZ3BRYjI5c0lFWmhZM1J2Y25rZ2MzVndjR3hwWldRNkNpb2dZR0poWTJ0emRHOXdYMmxrWUNBdElGUm9aU0JqYjI1MGNtRmpkQ0JoWkdSeVpYTnpJRzltSUhSb1pTQndiMjlzSjNNZ1ltRmphM04wYjNBZ2JXOWtkV3hsQ2lvZ1lHSnNibVJmYVdSZ0lDMGdWR2hsSUdOdmJuUnlZV04wSUVsRUlHOW1JSFJvWlNCQ1RFNUVJSFJ2YTJWdUFBQUFBQUFBRFY5ZlkyOXVjM1J5ZFdOMGIzSUFBQUFBQUFBSUFBQUFBQUFBQUFWaFpHMXBiZ0FBQUFBQUFCTUFBQUFBQUFBQUJHNWhiV1VBQUFBUUFBQUFBQUFBQUFadmNtRmpiR1VBQUFBQUFCTUFBQUFBQUFBQUNtSnpkRzl3WDNKaGRHVUFBQUFBQUFRQUFBQUFBQUFBRFcxaGVGOXdiM05wZEdsdmJuTUFBQUFBQUFBRUFBQUFBQUFBQUE1dGFXNWZZMjlzYkdGMFpYSmhiQUFBQUFBQUN3QUFBQUFBQUFBTFltRmphM04wYjNCZmFXUUFBQUFBRXdBQUFBQUFBQUFIWW14dVpGOXBaQUFBQUFBVEFBQUFBQT09JyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHN1Ym1pdF93aXRoX2FsbG93YW5jZVxuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQVZjM1ZpYldsMFgzZHBkR2hmWVd4c2IzZGhibU5sQUFBQUFBQUFCQUFBQUFBQUFBQUVabkp2YlFBQUFCTUFBQUFBQUFBQUIzTndaVzVrWlhJQUFBQUFFd0FBQUFBQUFBQUNkRzhBQUFBQUFCTUFBQUFBQUFBQUNISmxjWFZsYzNSekFBQUQ2Z0FBQjlBQUFBQUhVbVZ4ZFdWemRBQUFBQUFCQUFBSDBBQUFBQWxRYjNOcGRHbHZibk1BQUFBPScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBmbGFzaF9sb2FuXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBS1pteGhjMmhmYkc5aGJnQUFBQUFBQXdBQUFBQUFBQUFFWm5KdmJRQUFBQk1BQUFBQUFBQUFDbVpzWVhOb1gyeHZZVzRBQUFBQUI5QUFBQUFKUm14aGMyaE1iMkZ1QUFBQUFBQUFBQUFBQUFoeVpYRjFaWE4wY3dBQUErb0FBQWZRQUFBQUIxSmxjWFZsYzNRQUFBQUFBUUFBQjlBQUFBQUpVRzl6YVhScGIyNXpBQUFBJyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGd1bHBcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFFWjNWc2NBQUFBQUVBQUFBQUFBQUFCV0Z6YzJWMEFBQUFBQUFBRXdBQUFBRUFBQUFMJyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIG5ld19hdWN0aW9uXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBTGJtVjNYMkYxWTNScGIyNEFBQUFBQlFBQUFBQUFBQUFNWVhWamRHbHZibDkwZVhCbEFBQUFCQUFBQUFBQUFBQUVkWE5sY2dBQUFCTUFBQUFBQUFBQUEySnBaQUFBQUFQcUFBQUFFd0FBQUFBQUFBQURiRzkwQUFBQUErb0FBQUFUQUFBQUFBQUFBQWR3WlhKalpXNTBBQUFBQUFRQUFBQUJBQUFIMEFBQUFBdEJkV04wYVc5dVJHRjBZUUE9JyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHVwZGF0ZV9wb29sXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBTGRYQmtZWFJsWDNCdmIyd0FBQUFBQXdBQUFBQUFBQUFTWW1GamEzTjBiM0JmZEdGclpWOXlZWFJsQUFBQUFBQUVBQUFBQUFBQUFBMXRZWGhmY0c5emFYUnBiMjV6QUFBQUFBQUFCQUFBQUFBQUFBQU9iV2x1WDJOdmJHeGhkR1Z5WVd3QUFBQUFBQXNBQUFBQScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBkZWxfYXVjdGlvblxuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUxaR1ZzWDJGMVkzUnBiMjRBQUFBQUFnQUFBQUFBQUFBTVlYVmpkR2x2Ymw5MGVYQmxBQUFBQkFBQUFBQUFBQUFFZFhObGNnQUFBQk1BQUFBQScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBwcm9wb3NlX2FkbWluXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBTmNISnZjRzl6WlY5aFpHMXBiZ0FBQUFBQUFBRUFBQUFBQUFBQUNXNWxkMTloWkcxcGJnQUFBQUFBQUJNQUFBQUEnLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gYWNjZXB0X2FkbWluXG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBTVlXTmpaWEIwWDJGa2JXbHVBQUFBQUFBQUFBQT0nLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gZ2V0X2NvbmZpZ1xuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUtaMlYwWDJOdmJtWnBad0FBQUFBQUFBQUFBQUVBQUFmUUFBQUFDbEJ2YjJ4RGIyNW1hV2NBQUE9PScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBnZXRfYWRtaW5cbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFKWjJWMFgyRmtiV2x1QUFBQUFBQUFBQUFBQUFFQUFBQVQnLFxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gZ2V0X3Jlc2VydmVcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFMWjJWMFgzSmxjMlZ5ZG1VQUFBQUFBUUFBQUFBQUFBQUZZWE56WlhRQUFBQUFBQUFUQUFBQUFRQUFCOUFBQUFBSFVtVnpaWEoyWlFBPScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBnZXRfcmVzZXJ2ZV9saXN0XG4gICAgICAgICAgICAnQUFBQUFBQUFBQUFBQUFBUVoyVjBYM0psYzJWeWRtVmZiR2x6ZEFBQUFBQUFBQUFCQUFBRDZnQUFBQk09JyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIGdldF9yZXNlcnZlX2VtaXNzaW9uc1xuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQVZaMlYwWDNKbGMyVnlkbVZmWlcxcGMzTnBiMjV6QUFBQUFBQUFBUUFBQUFBQUFBQVRjbVZ6WlhKMlpWOTBiMnRsYmw5cGJtUmxlQUFBQUFBRUFBQUFBUUFBQStnQUFBZlFBQUFBRTFKbGMyVnlkbVZGYldsemMybHZia1JoZEdFQScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBnZXRfdXNlcl9lbWlzc2lvbnNcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFTWjJWMFgzVnpaWEpmWlcxcGMzTnBiMjV6QUFBQUFBQUNBQUFBQUFBQUFBUjFjMlZ5QUFBQUV3QUFBQUFBQUFBVGNtVnpaWEoyWlY5MGIydGxibDlwYm1SbGVBQUFBQUFFQUFBQUFRQUFBK2dBQUFmUUFBQUFFRlZ6WlhKRmJXbHpjMmx2YmtSaGRHRT0nLFxuICAgICAgICAgICAgLy8gU3RydWN0IEZsYXNoTG9hblxuICAgICAgICAgICAgJ0FBQUFBUUFBQUFBQUFBQUFBQUFBQ1Vac1lYTm9URzloYmdBQUFBQUFBQU1BQUFBQUFBQUFCbUZ0YjNWdWRBQUFBQUFBQ3dBQUFBQUFBQUFGWVhOelpYUUFBQUFBQUFBVEFBQUFBQUFBQUFoamIyNTBjbUZqZEFBQUFCTT0nLFxuICAgICAgICAgICAgLy8gU3RydWN0IFJlc2VydmVcbiAgICAgICAgICAgICdBQUFBQVFBQUFBQUFBQUFBQUFBQUIxSmxjMlZ5ZG1VQUFBQUFCQUFBQUFBQUFBQUZZWE56WlhRQUFBQUFBQUFUQUFBQUFBQUFBQVpqYjI1bWFXY0FBQUFBQjlBQUFBQU5VbVZ6WlhKMlpVTnZibVpwWndBQUFBQUFBQUFBQUFBRVpHRjBZUUFBQjlBQUFBQUxVbVZ6WlhKMlpVUmhkR0VBQUFBQUFBQUFBQVp6WTJGc1lYSUFBQUFBQUFzPScsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgRXJyb3JzXG4gICAgICAgICAgICAnQUFBQUJBQUFBSmxGY25KdmNpQmpiMlJsY3lCbWIzSWdkR2hsSUhCdmIyd2dZMjl1ZEhKaFkzUXVJRU52YlcxdmJpQmxjbkp2Y25NZ1lYSmxJR052WkdWeklIUm9ZWFFnYldGMFkyZ2dkWEFnZDJsMGFDQjBhR1VnWW5WcGJIUXRhVzRLWTI5dWRISmhZM1J6SUdWeWNtOXlJSEpsY0c5eWRHbHVaeTRnVUc5dmJDQnpjR1ZqYVdacFl5Qmxjbkp2Y25NZ2MzUmhjblFnWVhRZ01USXdNQzRBQUFBQUFBQUFBQUFBQ1ZCdmIyeEZjbkp2Y2dBQUFBQUFBQjRBQUFBQUFBQUFEVWx1ZEdWeWJtRnNSWEp5YjNJQUFBQUFBQUFCQUFBQUFBQUFBQmRCYkhKbFlXUjVTVzVwZEdsaGJHbDZaV1JGY25KdmNnQUFBQUFEQUFBQUFBQUFBQkZWYm1GMWRHaHZjbWw2WldSRmNuSnZjZ0FBQUFBQUFBUUFBQUFBQUFBQUUwNWxaMkYwYVhabFFXMXZkVzUwUlhKeWIzSUFBQUFBQ0FBQUFBQUFBQUFNUW1Gc1lXNWpaVVZ5Y205eUFBQUFDZ0FBQUFBQUFBQU5UM1psY21ac2IzZEZjbkp2Y2dBQUFBQUFBQXdBQUFBQUFBQUFDa0poWkZKbGNYVmxjM1FBQUFBQUJMQUFBQUFBQUFBQUUwbHVkbUZzYVdSUWIyOXNTVzVwZEVGeVozTUFBQUFFc1FBQUFBQUFBQUFXU1c1MllXeHBaRkpsYzJWeWRtVk5aWFJoWkdGMFlRQUFBQUFFc2dBQUFBQUFBQUFQU1c1cGRFNXZkRlZ1Ykc5amEyVmtBQUFBQkxNQUFBQUFBQUFBRUZOMFlYUjFjMDV2ZEVGc2JHOTNaV1FBQUFTMEFBQUFBQUFBQUFsSmJuWmhiR2xrU0dZQUFBQUFBQVMxQUFBQUFBQUFBQkZKYm5aaGJHbGtVRzl2YkZOMFlYUjFjd0FBQUFBQUJMWUFBQUFBQUFBQUQwbHVkbUZzYVdSVmRHbHNVbUYwWlFBQUFBUzNBQUFBQUFBQUFCUk5ZWGhRYjNOcGRHbHZibk5GZUdObFpXUmxaQUFBQkxnQUFBQUFBQUFBRjBsdWRHVnlibUZzVW1WelpYSjJaVTV2ZEVadmRXNWtBQUFBQkxrQUFBQUFBQUFBQ2xOMFlXeGxVSEpwWTJVQUFBQUFCTG9BQUFBQUFBQUFFa2x1ZG1Gc2FXUk1hWEYxYVdSaGRHbHZiZ0FBQUFBRXV3QUFBQUFBQUFBUlFYVmpkR2x2YmtsdVVISnZaM0psYzNNQUFBQUFBQVM4QUFBQUFBQUFBQkpKYm5aaGJHbGtUR2x4Vkc5dlRHRnlaMlVBQUFBQUJMMEFBQUFBQUFBQUVrbHVkbUZzYVdSTWFYRlViMjlUYldGc2JBQUFBQUFFdmdBQUFBQUFBQUFRU1c1MFpYSmxjM1JVYjI5VGJXRnNiQUFBQkw4QUFBQUFBQUFBRjBsdWRtRnNhV1JDVkc5clpXNU5hVzUwUVcxdmRXNTBBQUFBQk1BQUFBQUFBQUFBRjBsdWRtRnNhV1JDVkc5clpXNUNkWEp1UVcxdmRXNTBBQUFBQk1FQUFBQUFBQUFBRjBsdWRtRnNhV1JFVkc5clpXNU5hVzUwUVcxdmRXNTBBQUFBQk1JQUFBQUFBQUFBRjBsdWRtRnNhV1JFVkc5clpXNUNkWEp1UVcxdmRXNTBBQUFBQk1NQUFBQUFBQUFBRlVWNFkyVmxaR1ZrUTI5c2JHRjBaWEpoYkVOaGNBQUFBQUFBQk1RQUFBQUFBQUFBQ2tsdWRtRnNhV1JDYVdRQUFBQUFCTVVBQUFBQUFBQUFDa2x1ZG1Gc2FXUk1iM1FBQUFBQUJNWUFBQUFBQUFBQUQxSmxjMlZ5ZG1WRWFYTmhZbXhsWkFBQUFBVEgnLFxuICAgICAgICAgICAgLy8gU3RydWN0IFJlc2VydmVDb25maWdcbiAgICAgICAgICAgICdBQUFBQVFBQUFETlVhR1VnWTI5dVptbG5kWEpoZEdsdmJpQnBibVp2Y20xaGRHbHZiaUJoWW05MWRDQmhJSEpsYzJWeWRtVWdZWE56WlhRQUFBQUFBQUFBQUExU1pYTmxjblpsUTI5dVptbG5BQUFBQUFBQURRQUFBQUFBQUFBSVkxOW1ZV04wYjNJQUFBQUVBQUFBQUFBQUFBaGtaV05wYldGc2N3QUFBQVFBQUFBQUFBQUFCMlZ1WVdKc1pXUUFBQUFBQVFBQUFBQUFBQUFGYVc1a1pYZ0FBQUFBQUFBRUFBQUFBQUFBQUFoc1gyWmhZM1J2Y2dBQUFBUUFBQUFBQUFBQUNHMWhlRjkxZEdsc0FBQUFCQUFBQUFBQUFBQUdjbDlpWVhObEFBQUFBQUFFQUFBQUFBQUFBQVZ5WDI5dVpRQUFBQUFBQUFRQUFBQUFBQUFBQjNKZmRHaHlaV1VBQUFBQUJBQUFBQUFBQUFBRmNsOTBkMjhBQUFBQUFBQUVBQUFBQUFBQUFBcHlaV0ZqZEdsMmFYUjVBQUFBQUFBRUFBQUFBQUFBQUFwemRYQndiSGxmWTJGd0FBQUFBQUFMQUFBQUFBQUFBQVIxZEdsc0FBQUFCQT09JyxcbiAgICAgICAgICAgIC8vIFN0cnVjdCBSZXNlcnZlRW1pc3Npb25EYXRhXG4gICAgICAgICAgICAnQUFBQUFRQUFBQzVVYUdVZ1pXMXBjM05wYjI0Z1pHRjBZU0JtYjNJZ2RHaGxJSEpsYzJWeWRtVWdZaUJ2Y2lCa0lIUnZhMlZ1QUFBQUFBQUFBQUFBRTFKbGMyVnlkbVZGYldsemMybHZia1JoZEdFQUFBQUFCQUFBQUFBQUFBQURaWEJ6QUFBQUFBWUFBQUFBQUFBQUNtVjRjR2x5WVhScGIyNEFBQUFBQUFZQUFBQUFBQUFBQldsdVpHVjRBQUFBQUFBQUN3QUFBQUFBQUFBSmJHRnpkRjkwYVcxbEFBQUFBQUFBQmc9PScsXG4gICAgICAgICAgICAvLyBTdHJ1Y3QgUG9vbENvbmZpZ1xuICAgICAgICAgICAgJ0FBQUFBUUFBQUJGVWFHVWdjRzl2YkNkeklHTnZibVpwWndBQUFBQUFBQUFBQUFBS1VHOXZiRU52Ym1acFp3QUFBQUFBQlFBQUFBQUFBQUFLWW5OMGIzQmZjbUYwWlFBQUFBQUFCQUFBQUFBQUFBQU5iV0Y0WDNCdmMybDBhVzl1Y3dBQUFBQUFBQVFBQUFBQUFBQUFEbTFwYmw5amIyeHNZWFJsY21Gc0FBQUFBQUFMQUFBQUFBQUFBQVp2Y21GamJHVUFBQUFBQUJNQUFBQUFBQUFBQm5OMFlYUjFjd0FBQUFBQUJBPT0nLFxuICAgICAgICBdKS5lbnRyaWVzLFxuICAgIF0pO1xuICAgIHN0YXRpYyBwYXJzZXJzID0ge1xuICAgICAgICAuLi5Qb29sQ29udHJhY3QucGFyc2VycyxcbiAgICAgICAgZGVwbG95OiAocmVzdWx0KSA9PiBzY1ZhbFRvTmF0aXZlKHhkci5TY1ZhbC5mcm9tWERSKHJlc3VsdCwgJ2Jhc2U2NCcpKSxcbiAgICAgICAgc3VibWl0V2l0aEFsbG93YW5jZTogKHJlc3VsdCkgPT4gUG9zaXRpb25zLmZyb21TY1ZhbChyZXN1bHQpLFxuICAgICAgICBmbGFzaExvYW46IChyZXN1bHQpID0+IFBvc2l0aW9ucy5mcm9tU2NWYWwocmVzdWx0KSxcbiAgICAgICAgZ3VscDogKHJlc3VsdCkgPT4gUG9vbENvbnRyYWN0LnNwZWMuZnVuY1Jlc1RvTmF0aXZlKCdndWxwJywgcmVzdWx0KSxcbiAgICAgICAgbmV3QXVjdGlvbjogKHJlc3VsdCkgPT4gQXVjdGlvbkRhdGEuZnJvbVNjVmFsKHJlc3VsdCksXG4gICAgICAgIHByb3Bvc2VBZG1pbjogKCkgPT4geyB9LFxuICAgICAgICBhY2NlcHRBZG1pbjogKCkgPT4geyB9LFxuICAgICAgICBnZXRDb25maWc6IChyZXN1bHQpID0+IFBvb2xDb25maWcuZnJvbVNjVmFsKHJlc3VsdCksXG4gICAgICAgIGdldEFkbWluOiAocmVzdWx0KSA9PiBQb29sQ29udHJhY3Quc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2dldF9hZG1pbicsIHJlc3VsdCksXG4gICAgICAgIGdldFJlc2VydmU6IChyZXN1bHQpID0+IENvbnRyYWN0UmVzZXJ2ZS5mcm9tU2NWYWwocmVzdWx0KSxcbiAgICAgICAgZ2V0UmVzZXJ2ZUVtaXNzaW9uczogKHJlc3VsdCkgPT4gUG9vbENvbnRyYWN0VjIuc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2dldF9yZXNlcnZlX2VtaXNzaW9ucycsIHJlc3VsdCksXG4gICAgICAgIGdldFVzZXJFbWlzc2lvbnM6IChyZXN1bHQpID0+IFBvb2xDb250cmFjdFYyLnNwZWMuZnVuY1Jlc1RvTmF0aXZlKCdnZXRfdXNlcl9lbWlzc2lvbnMnLCByZXN1bHQpLFxuICAgICAgICBnZXRSZXNlcnZlTGlzdDogKHJlc3VsdCkgPT4gUG9vbENvbnRyYWN0VjIuc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2dldF9yZXNlcnZlX2xpc3QnLCByZXN1bHQpLFxuICAgICAgICBkZWxBdWN0aW9uOiAoKSA9PiB7IH0sXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXBsb3lzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBQb29sIFYyIGNvbnRyYWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlcGxveWVyIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIGRlcGxveWVyLlxuICAgICAqIEBwYXJhbSB3YXNtSGFzaCAtIFRoZSBoYXNoIG9mIHRoZSBXQVNNIGNvbnRyYWN0IGNvZGUuXG4gICAgICogQHBhcmFtIGFyZ3MgLSBUaGUgY29uc3RydWN0b3IgYXJndW1lbnRzIGZvciB0aGUgY29udHJhY3QuXG4gICAgICogQHBhcmFtIGFyZ3MuYWRtaW4gLSBUaGUgYWRkcmVzcyBmb3IgdGhlIGFkbWluLlxuICAgICAqIEBwYXJhbSBhcmdzLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gYXJncy5vcmFjbGUgLSBUaGUgY29udHJhY3QgYWRkcmVzcyBvZiB0aGUgb3JhY2xlLlxuICAgICAqIEBwYXJhbSBhcmdzLmJzdG9wX3JhdGUgLSBUaGUgdGFrZSByYXRlIGZvciB0aGUgYmFja3N0b3AgKDcgZGVjaW1hbHMpLlxuICAgICAqIEBwYXJhbSBhcmdzLm1heF9wb3NpdGlvbnMgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcG9zaXRpb25zIGEgdXNlciBpcyBwZXJtaXR0ZWQgdG8gaGF2ZS5cbiAgICAgKiBAcGFyYW0gYXJncy5taW5fY29sbGF0ZXJhbCAtIFRoZSBtaW5pbXVtIGNvbGxhdGVyYWwgcmVxdWlyZWQgdG8gb3BlbiBhIGJvcnJvdyBwb3NpdGlvbiwgc3BlY2lmaWVkIGluIHRoZSBvcmFjbGUncyBiYXNlIGFzc2V0IGRlY2ltYWxzLlxuICAgICAqIEBwYXJhbSBhcmdzLmJhY2tzdG9wX2lkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIHBvb2wncyBiYWNrc3RvcCBtb2R1bGUuXG4gICAgICogQHBhcmFtIGFyZ3MuYmxuZF9pZCAtIFRoZSBjb250cmFjdCBJRCBvZiB0aGUgQkxORCB0b2tlbi5cbiAgICAgKiBAcGFyYW0gc2FsdCAtIE9wdGlvbmFsIHNhbHQgZm9yIHRoZSBjb250cmFjdCBkZXBsb3ltZW50LlxuICAgICAqIEBwYXJhbSBmb3JtYXQgLSBPcHRpb25hbCBmb3JtYXQgZm9yIHRoZSBXQVNNIGhhc2ggKGhleCBvciBiYXNlNjQpLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgc3RhdGljIGRlcGxveShkZXBsb3llciwgd2FzbUhhc2gsIGFyZ3MsIHNhbHQsIGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gT3BlcmF0aW9uLmNyZWF0ZUN1c3RvbUNvbnRyYWN0KHtcbiAgICAgICAgICAgIGFkZHJlc3M6IEFkZHJlc3MuZnJvbVN0cmluZyhkZXBsb3llciksXG4gICAgICAgICAgICB3YXNtSGFzaDogdHlwZW9mIHdhc21IYXNoID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gQnVmZmVyLmZyb20od2FzbUhhc2gsIGZvcm1hdCA/PyAnaGV4JylcbiAgICAgICAgICAgICAgICA6IHdhc21IYXNoLFxuICAgICAgICAgICAgc2FsdCxcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yQXJnczogdGhpcy5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ19fY29uc3RydWN0b3InLCBhcmdzKSxcbiAgICAgICAgfSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwb29sIGNvbmZpZ3VyYXRpb24uIE9ubHkgY2FsbGFibGUgYnkgdGhlIGFkbWluLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncyAtIFRoZSBhcmd1bWVudHMgcmVxdWlyZWQgdG8gdXBkYXRlIHRoZSBwb29sLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuYmFja3N0b3BfdGFrZV9yYXRlIC0gVGhlIG5ldyB0YWtlIHJhdGUgZm9yIHRoZSBiYWNrc3RvcCAoNyBkZWNpbWFscykuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5tYXhfcG9zaXRpb25zIC0gVGhlIG5ldyBtYXhpbXVtIG51bWJlciBvZiBhbGxvd2VkIHBvc2l0aW9ucyBmb3IgYSBzaW5nbGUgdXNlcidzIGFjY291bnQuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5taW5fY29sbGF0ZXJhbCAtIFRoZSBuZXcgbWluaW11bSBjb2xsYXRlcmFsIHJlcXVpcmVkIHRvIG9wZW4gYSBib3Jyb3cgcG9zaXRpb24sXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmllZCBpbiB0aGUgb3JhY2xlJ3MgYmFzZSBhc3NldCBkZWNpbWFscy5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgY2FsbGVyIGlzIG5vdCB0aGUgYWRtaW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICB1cGRhdGVQb29sKGNvbnRyYWN0QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCd1cGRhdGVfcG9vbCcsIC4uLlBvb2xDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ3VwZGF0ZV9wb29sJywgY29udHJhY3RBcmdzKSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWV1ZXMgc2V0dGluZyBkYXRhIGZvciBhIHJlc2VydmUgaW4gdGhlIHBvb2wuIE9ubHkgY2FsbGFibGUgYnkgdGhlIGFkbWluLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncyAtIFRoZSBhcmd1bWVudHMgcmVxdWlyZWQgZm9yIHF1ZXVpbmcgYSByZXNlcnZlLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuYXNzZXQgLSBUaGUgdW5kZXJseWluZyBhc3NldCB0byBhZGQgYXMgYSByZXNlcnZlLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MubWV0YWRhdGEgLSBUaGUgUmVzZXJ2ZUNvbmZpZyBmb3IgdGhlIHJlc2VydmUuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNhbGxlciBpcyBub3QgdGhlIGFkbWluLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgcXVldWVTZXRSZXNlcnZlKGNvbnRyYWN0QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdxdWV1ZV9zZXRfcmVzZXJ2ZScsIC4uLlBvb2xDb250cmFjdFYyLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygncXVldWVfc2V0X3Jlc2VydmUnLCBjb250cmFjdEFyZ3MpKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1Ym1pdHMgYSBzZXQgb2YgcmVxdWVzdHMgdG8gdGhlIHBvb2wgdXNpbmcgdHJhbnNmZXJfZnJvbSBmb3IgYWxsb3dhbmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIGZvciB0aGUgc3VibWl0IG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmZyb20gLSBUaGUgYWRkcmVzcyBvZiB0aGUgdXNlciB3aG9zZSBwb3NpdGlvbnMgYXJlIGJlaW5nIG1vZGlmaWVkLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3Muc3BlbmRlciAtIFRoZSBhZGRyZXNzIG9mIHRoZSB1c2VyIHdobyBpcyBzZW5kaW5nIHRva2VucyB0byB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLnRvIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXIgd2hvIGlzIHJlY2VpdmluZyB0b2tlbnMgZnJvbSB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLnJlcXVlc3RzIC0gQSBsaXN0IG9mIHJlcXVlc3RzIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgcmVxdWVzdCBjYW5ub3QgYmUgY29tcGxldGVkIGR1ZSB0byBpbnN1ZmZpY2llbnQgZnVuZHMsIGluc3VmZmljaWVudCBhbGxvd2FuY2UsIG9yIGludmFsaWQgaGVhbHRoIGZhY3Rvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHN1Ym1pdFdpdGhBbGxvd2FuY2UoY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ3N1Ym1pdF93aXRoX2FsbG93YW5jZScsIC4uLlBvb2xDb250cmFjdFYyLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnc3VibWl0X3dpdGhfYWxsb3dhbmNlJywgY29udHJhY3RBcmdzKSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyBhIGZsYXNoIGxvYW4gYW5kIHN1Ym1pdHMgYSBzZXQgb2YgcmVxdWVzdHMgdG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzIC0gVGhlIGFyZ3VtZW50cyByZXF1aXJlZCBmb3IgdGhlIGZsYXNoIGxvYW4uXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5mcm9tIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIHVzZXIgZXhlY3V0aW5nIHRoZSBmbGFzaCBsb2FuIGFuZCB3aG9zZSBwb3NpdGlvbnMgd2lsbCBiZSBtb2RpZmllZC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmNvbnRyYWN0IC0gVGhlIGNvbnRyYWN0IHRoYXQgd2lsbCByZWNlaXZlIHRoZSBmbGFzaCBsb2FuIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuYXNzZXQgLSBUaGUgYXNzZXQgdG8gYmUgYm9ycm93ZWQgaW4gdGhlIGZsYXNoIGxvYW4uXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5hbW91bnQgLSBUaGUgYW1vdW50IHRvIGJlIGJvcnJvd2VkIGluIHRoZSBmbGFzaCBsb2FuLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZmxhc2hMb2FuKGNvbnRyYWN0QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdmbGFzaF9sb2FuJywgLi4uUG9vbENvbnRyYWN0VjIuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdmbGFzaF9sb2FuJywgY29udHJhY3RBcmdzKSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHdWxwcyB1bmFjY291bnRlZCBmb3IgdG9rZW5zIHRvIHRoZSBiYWNrc3RvcCBjcmVkaXQgc28gdGhleSBhcmVuJ3QgbG9zdC5cbiAgICAgKiBUaGlzIGlzIG1vc3QgcmVsZXZhbnQgZm9yIHJlYmFzaW5nIHRva2VucyB3aGVyZSB0aGUgdG9rZW4gYmFsYW5jZSBjYW4gaW5jcmVhc2Ugd2l0aG91dCBhbnkgY29ycmVzcG9uZGluZyB0cmFuc2Zlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhc3NldCAtIFRoZSBhZGRyZXNzIG9mIHRoZSBhc3NldCB0byBndWxwLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZ3VscChhc3NldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdndWxwJywgLi4uUG9vbENvbnRyYWN0VjIuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdndWxwJywgeyBhc3NldCB9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGF1Y3Rpb24uIEF1Y3Rpb25zIGFyZSB1c2VkIHRvIHByb2Nlc3MgbGlxdWlkYXRpb25zLCBiYWQgZGVidCwgYW5kIGludGVyZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncyAtIFRoZSBhcmd1bWVudHMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIGF1Y3Rpb24uXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5hdWN0aW9uX3R5cGUgLSBUaGUgdHlwZSBvZiBhdWN0aW9uOiAwIChsaXF1aWRhdGlvbiksIDEgKGJhZCBkZWJ0KSwgb3IgMiAoaW50ZXJlc3QpLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MudXNlciAtIFRoZSBhZGRyZXNzIGludm9sdmVkIGluIHRoZSBhdWN0aW9uLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuYmlkIC0gVGhlIHNldCBvZiBhc3NldHMgdG8gaW5jbHVkZSBpbiB0aGUgYXVjdGlvbiBiaWQuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5sb3QgLSBUaGUgc2V0IG9mIGFzc2V0cyB0byBpbmNsdWRlIGluIHRoZSBhdWN0aW9uIGxvdC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLnBlcmNlbnQgLSBUaGUgcGVyY2VudCBvZiB0aGUgYXNzZXRzIHRvIGJlIGF1Y3Rpb25lZCBvZmYgYXMgYSBwZXJjZW50YWdlICgxNSA9PiAxNSUpLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgbmV3QXVjdGlvbihjb250cmFjdEFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnbmV3X2F1Y3Rpb24nLCAuLi5Qb29sQ29udHJhY3RWMi5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ25ld19hdWN0aW9uJywgY29udHJhY3RBcmdzKSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgc3RhbGUgYXVjdGlvbi4gQSBzdGFsZSBhdWN0aW9uIGlzIG9uZSB0aGF0IGhhcyBiZWVuIHJ1bm5pbmcgZm9yIDUwMCBibG9ja3Mgd2l0aG91dCBiZWluZyBmaWxsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXVjdGlvbl90eXBlIC0gVGhlIHR5cGUgb2YgYXVjdGlvbjogMCAobGlxdWlkYXRpb24pLCAxIChiYWQgZGVidCksIG9yIDIgKGludGVyZXN0KS5cbiAgICAgKiBAcGFyYW0gdXNlciAtIFRoZSBhZGRyZXNzIGludm9sdmVkIGluIHRoZSBhdWN0aW9uLlxuICAgICAqXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBhdWN0aW9uIGRvZXMgbm90IGV4aXN0IG9yIGlmIHRoZSBhdWN0aW9uIGlzIG5vdCBzdGFsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGRlbEF1Y3Rpb24oYXVjdGlvbl90eXBlLCB1c2VyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2RlbF9hdWN0aW9uJywgLi4uUG9vbENvbnRyYWN0VjIuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdkZWxfYXVjdGlvbicsIHsgYXVjdGlvbl90eXBlLCB1c2VyIH0pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb3Bvc2VzIGEgbmV3IGFkbWluIGZvciB0aGUgcG9vbC4gT25seSBjYWxsYWJsZSBieSB0aGUgY3VycmVudCBhZG1pbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdfYWRtaW4gLSBUaGUgbmV3IGFkbWluIGFkZHJlc3MuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNhbGxlciBpcyBub3QgdGhlIGFkbWluLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgcHJvcG9zZUFkbWluKG5ld19hZG1pbikge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdwcm9wb3NlX2FkbWluJywgLi4uUG9vbENvbnRyYWN0VjIuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdwcm9wb3NlX2FkbWluJywgeyBuZXdfYWRtaW4gfSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWNjZXB0cyB0aGUgYWRtaW4gcm9sZS4gT25seSBjYWxsYWJsZSBieSB0aGUgcHJvcG9zZWQgYWRtaW4uXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNhbGxlciBpcyBub3QgdGhlIHByb3Bvc2VkIGFkbWluLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgYWNjZXB0QWRtaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2FjY2VwdF9hZG1pbicsIC4uLlBvb2xDb250cmFjdFYyLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnYWNjZXB0X2FkbWluJywge30pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIHBvb2wgY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGdldENvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZ2V0X2NvbmZpZycsIC4uLlBvb2xDb250cmFjdFYyLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZ2V0X2NvbmZpZycsIHt9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBhZG1pbiBhZGRyZXNzIG9mIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZ2V0QWRtaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2dldF9hZG1pbicsIC4uLlBvb2xDb250cmFjdFYyLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZ2V0X2FkbWluJywge30pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgaW5mb3JtYXRpb24gYWJvdXQgYSByZXNlcnZlLCB1cGRhdGVkIHRvIHRoZSBjdXJyZW50IGxlZGdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhc3NldCAtIFRoZSBhZGRyZXNzIG9mIHRoZSByZXNlcnZlIGFzc2V0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZ2V0UmVzZXJ2ZShhc3NldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdnZXRfcmVzZXJ2ZScsIC4uLlBvb2xDb250cmFjdFYyLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZ2V0X3Jlc2VydmUnLCB7IGFzc2V0IH0pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGVtaXNzaW9ucyBkYXRhIGZvciBhIHJlc2VydmUgdG9rZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzZXJ2ZV90b2tlbl9pZCAtIFRoZSByZXNlcnZlIHRva2VuIElELlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBvcGVyYXRpb24uXG4gICAgICovXG4gICAgZ2V0UmVzZXJ2ZUVtaXNzaW9ucyhyZXNlcnZlX3Rva2VuX2lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2dldF9yZXNlcnZlX2VtaXNzaW9ucycsIC4uLlBvb2xDb250cmFjdFYyLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZ2V0X3Jlc2VydmVfZW1pc3Npb25zJywgeyByZXNlcnZlX3Rva2VuX2lkIH0pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGVtaXNzaW9ucyBkYXRhIGZvciBhIHVzZXIncyBwb3NpdGlvbiBpbiBhIHJlc2VydmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXNlciAtIFRoZSBhZGRyZXNzIG9mIHRoZSB1c2VyLlxuICAgICAqIEBwYXJhbSByZXNlcnZlX3Rva2VuX2lkIC0gVGhlIHJlc2VydmUgdG9rZW4gSUQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBnZXRVc2VyRW1pc3Npb25zKHVzZXIsIHJlc2VydmVfdG9rZW5faWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZ2V0X3VzZXJfZW1pc3Npb25zJywgLi4uUG9vbENvbnRyYWN0VjIuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdnZXRfdXNlcl9lbWlzc2lvbnMnLCB7IHVzZXIsIHJlc2VydmVfdG9rZW5faWQgfSkpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgbGlzdCBvZiBhbGwgcmVzZXJ2ZSBhZGRyZXNzZXMgaW4gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBnZXRSZXNlcnZlTGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZ2V0X3Jlc2VydmVfbGlzdCcsIC4uLlBvb2xDb250cmFjdFYyLnNwZWMuZnVuY0FyZ3NUb1NjVmFscygnZ2V0X3Jlc2VydmVfbGlzdCcsIHt9KSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_contract.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_est.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_est.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolEstimate: () => (/* binding */ PoolEstimate)\n/* harmony export */ });\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js\");\n\n/**\n * Aggregate floating point data for a pool. These numbers are not guaranteed to be exact, but\n * are suitable for display purposes.\n */\nclass PoolEstimate {\n    totalSupply;\n    totalBorrowed;\n    avgBorrowApy;\n    constructor(\n    /**\n     * The total value of all tokens supplied to the pool in the pool's oracle denomination\n     */\n    totalSupply, \n    /**\n     * The total value of all tokens borrowed from the pool in the pool's oracle denomination\n     */\n    totalBorrowed, \n    /**\n     * The average APY accrued by all borrowed tokens\n     */\n    avgBorrowApy) {\n        this.totalSupply = totalSupply;\n        this.totalBorrowed = totalBorrowed;\n        this.avgBorrowApy = avgBorrowApy;\n    }\n    static build(reserves, poolOracle) {\n        let totalSupply = 0;\n        let totalBorrowed = 0;\n        let totalInterestInYear = 0;\n        for (const reserve of reserves.values()) {\n            const oraclePrice = poolOracle.getPriceFloat(reserve.assetId);\n            if (oraclePrice !== undefined) {\n                totalSupply += (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.toFloat)(reserve.totalSupply(), reserve.config.decimals) * oraclePrice;\n                const reserveLiabilitiesBase = (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.toFloat)(reserve.totalLiabilities(), reserve.config.decimals) * oraclePrice;\n                totalBorrowed += reserveLiabilitiesBase;\n                totalInterestInYear += reserveLiabilitiesBase * reserve.estBorrowApy;\n            }\n        }\n        const avgBorrowApy = totalBorrowed != 0 ? totalInterestInYear / totalBorrowed : 0;\n        return new PoolEstimate(totalSupply, totalBorrowed, avgBorrowApy);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2xfZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaURBQU87QUFDdEMsK0NBQStDLGlEQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL3Bvb2wvcG9vbF9lc3QuanM/Njg0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b0Zsb2F0IH0gZnJvbSAnLi4vbWF0aC5qcyc7XG4vKipcbiAqIEFnZ3JlZ2F0ZSBmbG9hdGluZyBwb2ludCBkYXRhIGZvciBhIHBvb2wuIFRoZXNlIG51bWJlcnMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIGV4YWN0LCBidXRcbiAqIGFyZSBzdWl0YWJsZSBmb3IgZGlzcGxheSBwdXJwb3Nlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBvb2xFc3RpbWF0ZSB7XG4gICAgdG90YWxTdXBwbHk7XG4gICAgdG90YWxCb3Jyb3dlZDtcbiAgICBhdmdCb3Jyb3dBcHk7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIHZhbHVlIG9mIGFsbCB0b2tlbnMgc3VwcGxpZWQgdG8gdGhlIHBvb2wgaW4gdGhlIHBvb2wncyBvcmFjbGUgZGVub21pbmF0aW9uXG4gICAgICovXG4gICAgdG90YWxTdXBwbHksIFxuICAgIC8qKlxuICAgICAqIFRoZSB0b3RhbCB2YWx1ZSBvZiBhbGwgdG9rZW5zIGJvcnJvd2VkIGZyb20gdGhlIHBvb2wgaW4gdGhlIHBvb2wncyBvcmFjbGUgZGVub21pbmF0aW9uXG4gICAgICovXG4gICAgdG90YWxCb3Jyb3dlZCwgXG4gICAgLyoqXG4gICAgICogVGhlIGF2ZXJhZ2UgQVBZIGFjY3J1ZWQgYnkgYWxsIGJvcnJvd2VkIHRva2Vuc1xuICAgICAqL1xuICAgIGF2Z0JvcnJvd0FweSkge1xuICAgICAgICB0aGlzLnRvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHk7XG4gICAgICAgIHRoaXMudG90YWxCb3Jyb3dlZCA9IHRvdGFsQm9ycm93ZWQ7XG4gICAgICAgIHRoaXMuYXZnQm9ycm93QXB5ID0gYXZnQm9ycm93QXB5O1xuICAgIH1cbiAgICBzdGF0aWMgYnVpbGQocmVzZXJ2ZXMsIHBvb2xPcmFjbGUpIHtcbiAgICAgICAgbGV0IHRvdGFsU3VwcGx5ID0gMDtcbiAgICAgICAgbGV0IHRvdGFsQm9ycm93ZWQgPSAwO1xuICAgICAgICBsZXQgdG90YWxJbnRlcmVzdEluWWVhciA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcmVzZXJ2ZSBvZiByZXNlcnZlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgb3JhY2xlUHJpY2UgPSBwb29sT3JhY2xlLmdldFByaWNlRmxvYXQocmVzZXJ2ZS5hc3NldElkKTtcbiAgICAgICAgICAgIGlmIChvcmFjbGVQcmljZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG90YWxTdXBwbHkgKz0gdG9GbG9hdChyZXNlcnZlLnRvdGFsU3VwcGx5KCksIHJlc2VydmUuY29uZmlnLmRlY2ltYWxzKSAqIG9yYWNsZVByaWNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2VydmVMaWFiaWxpdGllc0Jhc2UgPSB0b0Zsb2F0KHJlc2VydmUudG90YWxMaWFiaWxpdGllcygpLCByZXNlcnZlLmNvbmZpZy5kZWNpbWFscykgKiBvcmFjbGVQcmljZTtcbiAgICAgICAgICAgICAgICB0b3RhbEJvcnJvd2VkICs9IHJlc2VydmVMaWFiaWxpdGllc0Jhc2U7XG4gICAgICAgICAgICAgICAgdG90YWxJbnRlcmVzdEluWWVhciArPSByZXNlcnZlTGlhYmlsaXRpZXNCYXNlICogcmVzZXJ2ZS5lc3RCb3Jyb3dBcHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXZnQm9ycm93QXB5ID0gdG90YWxCb3Jyb3dlZCAhPSAwID8gdG90YWxJbnRlcmVzdEluWWVhciAvIHRvdGFsQm9ycm93ZWQgOiAwO1xuICAgICAgICByZXR1cm4gbmV3IFBvb2xFc3RpbWF0ZSh0b3RhbFN1cHBseSwgdG90YWxCb3Jyb3dlZCwgYXZnQm9ycm93QXB5KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_est.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_events.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_events.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolEventType: () => (/* binding */ PoolEventType),\n/* harmony export */   poolEventV1FromEventResponse: () => (/* binding */ poolEventV1FromEventResponse),\n/* harmony export */   poolEventV2FromEventResponse: () => (/* binding */ poolEventV2FromEventResponse)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _base_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base_event.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/base_event.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/index.js\");\n/* harmony import */ var _reserve_types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reserve_types.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve_types.js\");\n\n\n\n\nvar PoolEventType;\n(function (PoolEventType) {\n    PoolEventType[\"SetAdmin\"] = \"set_admin\";\n    PoolEventType[\"UpdatePool\"] = \"update_pool\";\n    PoolEventType[\"QueueSetReserve\"] = \"queue_set_reserve\";\n    PoolEventType[\"CancelSetReserve\"] = \"cancel_set_reserve\";\n    PoolEventType[\"SetReserve\"] = \"set_reserve\";\n    PoolEventType[\"SetStatus\"] = \"set_status\";\n    PoolEventType[\"UpdateEmissions\"] = \"update_emissions\";\n    PoolEventType[\"ReserveEmissionUpdate\"] = \"reserve_emission_update\";\n    PoolEventType[\"Claim\"] = \"claim\";\n    PoolEventType[\"NewLiquidationAuction\"] = \"new_liquidation_auction\";\n    PoolEventType[\"NewAuction\"] = \"new_auction\";\n    PoolEventType[\"BadDebt\"] = \"bad_debt\";\n    PoolEventType[\"Supply\"] = \"supply\";\n    PoolEventType[\"Withdraw\"] = \"withdraw\";\n    PoolEventType[\"SupplyCollateral\"] = \"supply_collateral\";\n    PoolEventType[\"WithdrawCollateral\"] = \"withdraw_collateral\";\n    PoolEventType[\"Borrow\"] = \"borrow\";\n    PoolEventType[\"Repay\"] = \"repay\";\n    PoolEventType[\"FillAuction\"] = \"fill_auction\";\n    PoolEventType[\"DeleteLiquidationAuction\"] = \"delete_liquidation_auction\";\n    PoolEventType[\"GulpEmissions\"] = \"gulp_emissions\";\n    PoolEventType[\"Gulp\"] = \"gulp\";\n    PoolEventType[\"DefaultedDebt\"] = \"defaulted_debt\";\n    PoolEventType[\"DeleteAuction\"] = \"delete_auction\";\n    PoolEventType[\"FlashLoan\"] = \"flash_loan\";\n})(PoolEventType || (PoolEventType = {}));\n/**\n * Create a PoolV1Event from a RawEventResponse.\n * @param eventResponse - The RawEventResponse from the RPC to convert\n * @returns The PoolV1Event or undefined if the EventResponse is not a PoolV1Event\n */\nfunction poolEventV1FromEventResponse(eventResponse) {\n    if (eventResponse.type !== 'contract' ||\n        eventResponse.topic.length === 0 ||\n        eventResponse.contractId === undefined) {\n        return undefined;\n    }\n    const baseEvent = poolEventFromEventResponse(eventResponse);\n    if (baseEvent === undefined) {\n        try {\n            // NOTE: Decode RawEventResponse to ScVals. Do not update to `rpc.Api.EventResponse`. This\n            // will cause failures in the conversion functions due to the requirement that the exact same\n            // `js-xdr` code is used. (the same version from two different sources does not work)\n            const topic_scval = eventResponse.topic.map((topic) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(topic, 'base64'));\n            const value_scval = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(eventResponse.value, 'base64');\n            // The first topic is the event name as a symbol\n            const eventString = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[0]);\n            const baseEvent = {\n                id: eventResponse.id,\n                contractId: eventResponse.contractId,\n                contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                ledger: eventResponse.ledger,\n                ledgerClosedAt: eventResponse.ledgerClosedAt,\n                txHash: eventResponse.txHash,\n            };\n            switch (eventString) {\n                case PoolEventType.UpdatePool: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 2 || valueAsVec?.length !== 2) {\n                        return undefined;\n                    }\n                    const admin = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const backstopTakeRate = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                    const maxPositions = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                    if (isNaN(backstopTakeRate) || isNaN(maxPositions)) {\n                        return undefined;\n                    }\n                    return {\n                        ...baseEvent,\n                        eventType: PoolEventType.UpdatePool,\n                        admin: admin,\n                        backstopTakeRate: backstopTakeRate,\n                        maxPositions: maxPositions,\n                    };\n                }\n                case PoolEventType.QueueSetReserve: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 2 || valueAsVec?.length !== 2) {\n                        return undefined;\n                    }\n                    const admin = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const asset_id = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                    const reserve_config = _reserve_types_js__WEBPACK_IMPORTED_MODULE_3__.ReserveConfig.fromScVal(valueAsVec[1]);\n                    return {\n                        ...baseEvent,\n                        eventType: PoolEventType.QueueSetReserve,\n                        admin: admin,\n                        assetId: asset_id,\n                        reserveConfig: reserve_config,\n                    };\n                }\n                case PoolEventType.UpdateEmissions: {\n                    if (topic_scval.length !== 1) {\n                        return undefined;\n                    }\n                    const new_blnd = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.UpdateEmissions,\n                        newBLND: new_blnd,\n                    };\n                }\n                case PoolEventType.NewLiquidationAuction: {\n                    if (topic_scval.length !== 2) {\n                        return undefined;\n                    }\n                    const user = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const auctionData = _index_js__WEBPACK_IMPORTED_MODULE_2__.AuctionData.fromScVal(value_scval);\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.NewLiquidationAuction,\n                        user: user,\n                        auctionData: auctionData,\n                    };\n                }\n                case PoolEventType.NewAuction: {\n                    if (topic_scval.length !== 2) {\n                        return undefined;\n                    }\n                    const auctionType = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[1]));\n                    const auctionData = _index_js__WEBPACK_IMPORTED_MODULE_2__.AuctionData.fromScVal(value_scval);\n                    if (isNaN(auctionType)) {\n                        return undefined;\n                    }\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.NewAuction,\n                        auctionType: auctionType,\n                        auctionData: auctionData,\n                    };\n                }\n                case PoolEventType.FillAuction: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 3 && valueAsVec.length == 2) {\n                        return undefined;\n                    }\n                    const user = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const auctionType = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[2]));\n                    if (isNaN(auctionType)) {\n                        return undefined;\n                    }\n                    const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                    const fillAmount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.FillAuction,\n                        user: user,\n                        auctionType: auctionType,\n                        from: from,\n                        fillAmount: fillAmount,\n                    };\n                }\n                default:\n                    return undefined;\n            }\n        }\n        catch (e) {\n            // conversion functions throw on a malformed (or non-pool) events\n            // return undefined in this case\n            return undefined;\n        }\n    }\n    else {\n        return baseEvent;\n    }\n}\n/**\n * Create a PoolV2Event from a RawEventResponse.\n * @param eventResponse - The RawEventResponse from the RPC to convert\n * @returns The PoolV2Event or undefined if the EventResponse is not a PoolV2Event\n */\nfunction poolEventV2FromEventResponse(eventResponse) {\n    if (eventResponse.type !== 'contract' ||\n        eventResponse.topic.length === 0 ||\n        eventResponse.contractId === undefined) {\n        return undefined;\n    }\n    const baseEvent = poolEventFromEventResponse(eventResponse);\n    if (baseEvent === undefined) {\n        try {\n            // NOTE: Decode RawEventResponse to ScVals. Do not update to `rpc.Api.EventResponse`. This\n            // will cause failures in the conversion functions due to the requirement that the exact same\n            // `js-xdr` code is used. (the same version from two different sources does not work)\n            const topic_scval = eventResponse.topic.map((topic) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(topic, 'base64'));\n            const value_scval = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(eventResponse.value, 'base64');\n            // The first topic is the event name as a symbol\n            const eventString = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[0]);\n            const baseEvent = {\n                id: eventResponse.id,\n                contractId: eventResponse.contractId,\n                ledger: eventResponse.ledger,\n                ledgerClosedAt: eventResponse.ledgerClosedAt,\n                txHash: eventResponse.txHash,\n            };\n            switch (eventString) {\n                case PoolEventType.UpdatePool: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 2 || valueAsVec?.length !== 3) {\n                        return undefined;\n                    }\n                    const admin = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const backstopTakeRate = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                    const maxPositions = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                    const minCollateral = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[2]);\n                    if (isNaN(backstopTakeRate) || isNaN(maxPositions) || typeof minCollateral !== 'bigint') {\n                        return undefined;\n                    }\n                    return {\n                        ...baseEvent,\n                        eventType: PoolEventType.UpdatePool,\n                        admin: admin,\n                        backstopTakeRate: backstopTakeRate,\n                        maxPositions: maxPositions,\n                        minCollateral: BigInt(minCollateral),\n                    };\n                }\n                case PoolEventType.QueueSetReserve: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 2 || valueAsVec?.length !== 2) {\n                        return undefined;\n                    }\n                    const admin = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const asset_id = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                    const reserve_config = _reserve_types_js__WEBPACK_IMPORTED_MODULE_3__.ReserveConfigV2.fromScVal(valueAsVec[1]);\n                    return {\n                        ...baseEvent,\n                        eventType: PoolEventType.QueueSetReserve,\n                        admin: admin,\n                        assetId: asset_id,\n                        reserveConfig: reserve_config,\n                    };\n                }\n                case PoolEventType.GulpEmissions: {\n                    if (topic_scval.length !== 1) {\n                        return undefined;\n                    }\n                    const new_blnd = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.GulpEmissions,\n                        newBLND: new_blnd,\n                    };\n                }\n                case PoolEventType.NewAuction: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 3 && valueAsVec.length !== 2) {\n                        return undefined;\n                    }\n                    const auctionType = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[1]));\n                    if (isNaN(auctionType)) {\n                        return undefined;\n                    }\n                    const auctionData = _index_js__WEBPACK_IMPORTED_MODULE_2__.AuctionData.fromScVal(valueAsVec[1]);\n                    const percent = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.NewAuction,\n                        user: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString(),\n                        auctionType: auctionType,\n                        auctionData: auctionData,\n                        percent: percent,\n                    };\n                }\n                case PoolEventType.FillAuction: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 3 && valueAsVec.length !== 3) {\n                        return undefined;\n                    }\n                    const auctionType = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[1]));\n                    const user = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                    if (isNaN(auctionType)) {\n                        return undefined;\n                    }\n                    const filler = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                    const fillAmount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                    const filledAuctionData = _index_js__WEBPACK_IMPORTED_MODULE_2__.AuctionData.fromScVal(valueAsVec[2]);\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.FillAuction,\n                        user: user,\n                        auctionType: auctionType,\n                        filler: filler,\n                        fillAmount: fillAmount,\n                        filledAuctionData: filledAuctionData,\n                    };\n                }\n                case PoolEventType.DeleteLiquidationAuction: {\n                    if (topic_scval.length !== 2) {\n                        return undefined;\n                    }\n                    const user = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.DeleteLiquidationAuction,\n                        user: user,\n                    };\n                }\n                case PoolEventType.DefaultedDebt: {\n                    if (topic_scval.length !== 2) {\n                        return undefined;\n                    }\n                    const assetId = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const dTokens = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.DefaultedDebt,\n                        assetId: assetId,\n                        dTokens: dTokens,\n                    };\n                }\n                case PoolEventType.Gulp: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 2 || valueAsVec?.length !== 2) {\n                        return undefined;\n                    }\n                    const assetId = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const tokenDelta = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                    const newBRate = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.Gulp,\n                        assetId: assetId,\n                        tokenDelta: tokenDelta,\n                        newBRate: newBRate,\n                    };\n                }\n                case PoolEventType.DeleteAuction: {\n                    if (topic_scval.length !== 3) {\n                        return undefined;\n                    }\n                    const auctionType = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[1]));\n                    const user = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                    if (isNaN(auctionType)) {\n                        return undefined;\n                    }\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.DeleteAuction,\n                        user: user,\n                        auctionType: auctionType,\n                    };\n                }\n                case PoolEventType.FlashLoan: {\n                    const valueAsVec = value_scval.vec();\n                    if (topic_scval.length !== 4 && valueAsVec?.length !== 2) {\n                        return undefined;\n                    }\n                    const asset = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                    const contract = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[3]).toString();\n                    const tokensOut = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                    const dTokensMinted = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                    return {\n                        ...baseEvent,\n                        contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n                        eventType: PoolEventType.FlashLoan,\n                        asset: asset,\n                        from: from,\n                        contract: contract,\n                        tokensOut: tokensOut,\n                        dTokensMinted: dTokensMinted,\n                    };\n                }\n                default:\n                    return undefined;\n            }\n        }\n        catch (e) {\n            // conversion functions throw on a malformed (or non-pool) events\n            // return undefined in this case\n            return undefined;\n        }\n    }\n    else {\n        return baseEvent;\n    }\n}\n/**\n * Create a base PoolEvent from a RawEventResponse.\n * @param eventResponse - The RawEventResponse from the RPC to convert\n * @returns The PoolEvent or undefined if the EventResponse is not a PoolEvent\n */\nfunction poolEventFromEventResponse(eventResponse) {\n    try {\n        // NOTE: Decode RawEventResponse to ScVals. Do not update to `rpc.Api.EventResponse`. This\n        // will cause failures in the conversion functions due to the requirement that the exact same\n        // `js-xdr` code is used. (the same version from two different sources does not work)\n        const topic_scval = eventResponse.topic.map((topic) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(topic, 'base64'));\n        const value_scval = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(eventResponse.value, 'base64');\n        // The first topic is the event name as a symbol\n        const eventString = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[0]);\n        const baseEvent = {\n            id: eventResponse.id,\n            contractId: eventResponse.contractId,\n            contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.Pool,\n            ledger: eventResponse.ledger,\n            ledgerClosedAt: eventResponse.ledgerClosedAt,\n            txHash: eventResponse.txHash,\n        };\n        switch (eventString) {\n            case PoolEventType.SetAdmin: {\n                if (topic_scval.length !== 2) {\n                    return undefined;\n                }\n                const old_admin = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const new_admin = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(value_scval).toString();\n                return {\n                    ...baseEvent,\n                    eventType: PoolEventType.SetAdmin,\n                    oldAdmin: old_admin,\n                    newAdmin: new_admin,\n                };\n            }\n            case PoolEventType.CancelSetReserve: {\n                if (topic_scval.length !== 2) {\n                    return undefined;\n                }\n                const admin = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const asset_id = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(value_scval).toString();\n                return {\n                    ...baseEvent,\n                    eventType: PoolEventType.CancelSetReserve,\n                    admin: admin,\n                    assetId: asset_id,\n                };\n            }\n            case PoolEventType.SetReserve: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 1 || valueAsVec?.length !== 2) {\n                    return undefined;\n                }\n                const asset_id = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                const asset_index = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                if (isNaN(asset_index)) {\n                    return undefined;\n                }\n                return {\n                    ...baseEvent,\n                    eventType: PoolEventType.SetReserve,\n                    assetId: asset_id,\n                    assetIndex: asset_index,\n                };\n            }\n            case PoolEventType.SetStatus: {\n                if (topic_scval.length !== 1 && topic_scval.length !== 2) {\n                    return undefined;\n                }\n                const admin = topic_scval.length === 2 ? _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString() : undefined;\n                const status = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                if (isNaN(status)) {\n                    return undefined;\n                }\n                return {\n                    ...baseEvent,\n                    eventType: PoolEventType.SetStatus,\n                    admin: admin,\n                    status: status,\n                };\n            }\n            case PoolEventType.ReserveEmissionUpdate: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 1 || valueAsVec?.length !== 3) {\n                    return undefined;\n                }\n                const reserveTokenId = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]);\n                const eps = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                const expiration = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[2]));\n                if (isNaN(eps) || isNaN(expiration)) {\n                    return undefined;\n                }\n                return {\n                    ...baseEvent,\n                    eventType: PoolEventType.ReserveEmissionUpdate,\n                    reserveTokenId: reserveTokenId,\n                    eps: eps,\n                    expiration: expiration,\n                };\n            }\n            case PoolEventType.Claim: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 2 || valueAsVec?.length !== 2) {\n                    return undefined;\n                }\n                const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const reserveTokenIds = valueAsVec[0].vec().map((val) => {\n                    const as_num = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(val));\n                    if (isNaN(as_num)) {\n                        throw Error('Invalid event');\n                    }\n                    return as_num;\n                });\n                const amount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                return {\n                    ...baseEvent,\n                    eventType: PoolEventType.Claim,\n                    from: from,\n                    reserveTokenIds: reserveTokenIds,\n                    amount: amount,\n                };\n            }\n            case PoolEventType.BadDebt: {\n                if (topic_scval.length == 2) {\n                    const valueAsVec = value_scval.vec();\n                    if (valueAsVec?.length !== 2) {\n                        return undefined;\n                    }\n                    const backstop = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const assetId = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(valueAsVec[0]).toString();\n                    const dTokens = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                    return {\n                        ...baseEvent,\n                        eventType: PoolEventType.BadDebt,\n                        user: backstop,\n                        assetId: assetId,\n                        dTokens: dTokens,\n                    };\n                }\n                else if (topic_scval.length == 3) {\n                    const user = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                    const assetId = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                    const dTokens = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(value_scval));\n                    return {\n                        ...baseEvent,\n                        eventType: PoolEventType.BadDebt,\n                        user: user,\n                        assetId: assetId,\n                        dTokens: dTokens,\n                    };\n                }\n                else {\n                    return undefined;\n                }\n            }\n            case PoolEventType.Supply:\n            case PoolEventType.Withdraw:\n            case PoolEventType.SupplyCollateral:\n            case PoolEventType.WithdrawCollateral:\n            case PoolEventType.Borrow:\n            case PoolEventType.Repay: {\n                const valueAsVec = value_scval.vec();\n                if (topic_scval.length !== 3 || valueAsVec?.length !== 2) {\n                    return undefined;\n                }\n                const assetId = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                const from = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[2]).toString();\n                const amount = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[0]));\n                const reserveTokens = BigInt((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(valueAsVec[1]));\n                switch (eventString) {\n                    case PoolEventType.Supply:\n                        return {\n                            ...baseEvent,\n                            eventType: PoolEventType.Supply,\n                            assetId: assetId,\n                            from: from,\n                            amount: amount,\n                            bTokensMinted: reserveTokens,\n                        };\n                    case PoolEventType.Withdraw:\n                        return {\n                            ...baseEvent,\n                            eventType: PoolEventType.Withdraw,\n                            assetId: assetId,\n                            from: from,\n                            amount: amount,\n                            bTokensBurned: reserveTokens,\n                        };\n                    case PoolEventType.SupplyCollateral:\n                        return {\n                            ...baseEvent,\n                            eventType: PoolEventType.SupplyCollateral,\n                            assetId: assetId,\n                            from: from,\n                            amount: amount,\n                            bTokensMinted: reserveTokens,\n                        };\n                    case PoolEventType.WithdrawCollateral:\n                        return {\n                            ...baseEvent,\n                            eventType: PoolEventType.WithdrawCollateral,\n                            assetId: assetId,\n                            from: from,\n                            amount: amount,\n                            bTokensBurned: reserveTokens,\n                        };\n                    case PoolEventType.Borrow:\n                        return {\n                            ...baseEvent,\n                            eventType: PoolEventType.Borrow,\n                            assetId: assetId,\n                            from: from,\n                            amount: amount,\n                            dTokensMinted: reserveTokens,\n                        };\n                    case PoolEventType.Repay:\n                        return {\n                            ...baseEvent,\n                            eventType: PoolEventType.Repay,\n                            assetId: assetId,\n                            from: from,\n                            amount: amount,\n                            dTokensBurned: reserveTokens,\n                        };\n                    default:\n                        return undefined;\n                }\n            }\n            case PoolEventType.DeleteLiquidationAuction: {\n                if (topic_scval.length !== 2) {\n                    return undefined;\n                }\n                const user = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(topic_scval[1]).toString();\n                return {\n                    ...baseEvent,\n                    eventType: PoolEventType.DeleteLiquidationAuction,\n                    user: user,\n                };\n            }\n            default:\n                return undefined;\n        }\n    }\n    catch (e) {\n        // conversion functions throw on a malformed (or non-pool) events\n        // return undefined in this case\n        return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2xfZXZlbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUU7QUFDZDtBQUNaO0FBQzJCO0FBQzdEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0NBQXNDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUscURBQUc7QUFDdEUsZ0NBQWdDLHFEQUFHO0FBQ25DO0FBQ0EsZ0NBQWdDLG1FQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw2REFBaUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MseURBQU87QUFDekMsb0RBQW9ELG1FQUFhO0FBQ2pFLGdEQUFnRCxtRUFBYTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx5REFBTztBQUN6QyxxQ0FBcUMseURBQU87QUFDNUMsMkNBQTJDLDREQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxtRUFBYTtBQUN6RDtBQUNBO0FBQ0Esc0NBQXNDLDZEQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFPO0FBQ3hDLHdDQUF3QyxrREFBVztBQUNuRDtBQUNBO0FBQ0Esc0NBQXNDLDZEQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsbUVBQWE7QUFDNUQsd0NBQXdDLGtEQUFXO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFPO0FBQ3hDLCtDQUErQyxtRUFBYTtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMseURBQU87QUFDeEMsOENBQThDLG1FQUFhO0FBQzNEO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUscURBQUc7QUFDdEUsZ0NBQWdDLHFEQUFHO0FBQ25DO0FBQ0EsZ0NBQWdDLG1FQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHlEQUFPO0FBQ3pDLG9EQUFvRCxtRUFBYTtBQUNqRSxnREFBZ0QsbUVBQWE7QUFDN0QsMENBQTBDLG1FQUFhO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MseURBQU87QUFDekMscUNBQXFDLHlEQUFPO0FBQzVDLDJDQUEyQyw4REFBZTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsbUVBQWE7QUFDekQ7QUFDQTtBQUNBLHNDQUFzQyw2REFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLG1FQUFhO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxrREFBVztBQUNuRCwyQ0FBMkMsbUVBQWE7QUFDeEQ7QUFDQTtBQUNBLHNDQUFzQyw2REFBaUI7QUFDdkQ7QUFDQSw4QkFBOEIseURBQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsbUVBQWE7QUFDNUQsaUNBQWlDLHlEQUFPO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx5REFBTztBQUMxQyw4Q0FBOEMsbUVBQWE7QUFDM0QsOENBQThDLGtEQUFXO0FBQ3pEO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5REFBTztBQUN4QztBQUNBO0FBQ0Esc0NBQXNDLDZEQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHlEQUFPO0FBQzNDLDJDQUEyQyxtRUFBYTtBQUN4RDtBQUNBO0FBQ0Esc0NBQXNDLDZEQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5REFBTztBQUMzQyw4Q0FBOEMsbUVBQWE7QUFDM0QsNENBQTRDLG1FQUFhO0FBQ3pEO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLG1FQUFhO0FBQzVELGlDQUFpQyx5REFBTztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDZEQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx5REFBTztBQUN6QyxpQ0FBaUMseURBQU87QUFDeEMscUNBQXFDLHlEQUFPO0FBQzVDLDZDQUE2QyxtRUFBYTtBQUMxRCxpREFBaUQsbUVBQWE7QUFDOUQ7QUFDQTtBQUNBLHNDQUFzQyw2REFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxxREFBRztBQUNsRSw0QkFBNEIscURBQUc7QUFDL0I7QUFDQSw0QkFBNEIsbUVBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZEQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MseURBQU87QUFDekMsa0NBQWtDLHlEQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIseURBQU87QUFDckMsaUNBQWlDLHlEQUFPO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5REFBTztBQUN4QywyQ0FBMkMsbUVBQWE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx5REFBTztBQUNoRSxzQ0FBc0MsbUVBQWE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLG1FQUFhO0FBQ3BELG1DQUFtQyxtRUFBYTtBQUNoRCwwQ0FBMEMsbUVBQWE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIseURBQU87QUFDcEM7QUFDQSwwQ0FBMEMsbUVBQWE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsc0NBQXNDLG1FQUFhO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMseURBQU87QUFDNUMsb0NBQW9DLHlEQUFPO0FBQzNDLDJDQUEyQyxtRUFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMseURBQU87QUFDeEMsb0NBQW9DLHlEQUFPO0FBQzNDLDJDQUEyQyxtRUFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5REFBTztBQUN2Qyw2QkFBNkIseURBQU87QUFDcEMsc0NBQXNDLG1FQUFhO0FBQ25ELDZDQUE2QyxtRUFBYTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIseURBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL3Bvb2wvcG9vbF9ldmVudHMuanM/MjI2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCBzY1ZhbFRvTmF0aXZlLCB4ZHIgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBCbGVuZENvbnRyYWN0VHlwZSB9IGZyb20gJy4uL2Jhc2VfZXZlbnQuanMnO1xuaW1wb3J0IHsgQXVjdGlvbkRhdGEgfSBmcm9tICcuL2luZGV4LmpzJztcbmltcG9ydCB7IFJlc2VydmVDb25maWcsIFJlc2VydmVDb25maWdWMiB9IGZyb20gJy4vcmVzZXJ2ZV90eXBlcy5qcyc7XG5leHBvcnQgdmFyIFBvb2xFdmVudFR5cGU7XG4oZnVuY3Rpb24gKFBvb2xFdmVudFR5cGUpIHtcbiAgICBQb29sRXZlbnRUeXBlW1wiU2V0QWRtaW5cIl0gPSBcInNldF9hZG1pblwiO1xuICAgIFBvb2xFdmVudFR5cGVbXCJVcGRhdGVQb29sXCJdID0gXCJ1cGRhdGVfcG9vbFwiO1xuICAgIFBvb2xFdmVudFR5cGVbXCJRdWV1ZVNldFJlc2VydmVcIl0gPSBcInF1ZXVlX3NldF9yZXNlcnZlXCI7XG4gICAgUG9vbEV2ZW50VHlwZVtcIkNhbmNlbFNldFJlc2VydmVcIl0gPSBcImNhbmNlbF9zZXRfcmVzZXJ2ZVwiO1xuICAgIFBvb2xFdmVudFR5cGVbXCJTZXRSZXNlcnZlXCJdID0gXCJzZXRfcmVzZXJ2ZVwiO1xuICAgIFBvb2xFdmVudFR5cGVbXCJTZXRTdGF0dXNcIl0gPSBcInNldF9zdGF0dXNcIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiVXBkYXRlRW1pc3Npb25zXCJdID0gXCJ1cGRhdGVfZW1pc3Npb25zXCI7XG4gICAgUG9vbEV2ZW50VHlwZVtcIlJlc2VydmVFbWlzc2lvblVwZGF0ZVwiXSA9IFwicmVzZXJ2ZV9lbWlzc2lvbl91cGRhdGVcIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiQ2xhaW1cIl0gPSBcImNsYWltXCI7XG4gICAgUG9vbEV2ZW50VHlwZVtcIk5ld0xpcXVpZGF0aW9uQXVjdGlvblwiXSA9IFwibmV3X2xpcXVpZGF0aW9uX2F1Y3Rpb25cIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiTmV3QXVjdGlvblwiXSA9IFwibmV3X2F1Y3Rpb25cIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiQmFkRGVidFwiXSA9IFwiYmFkX2RlYnRcIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiU3VwcGx5XCJdID0gXCJzdXBwbHlcIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiV2l0aGRyYXdcIl0gPSBcIndpdGhkcmF3XCI7XG4gICAgUG9vbEV2ZW50VHlwZVtcIlN1cHBseUNvbGxhdGVyYWxcIl0gPSBcInN1cHBseV9jb2xsYXRlcmFsXCI7XG4gICAgUG9vbEV2ZW50VHlwZVtcIldpdGhkcmF3Q29sbGF0ZXJhbFwiXSA9IFwid2l0aGRyYXdfY29sbGF0ZXJhbFwiO1xuICAgIFBvb2xFdmVudFR5cGVbXCJCb3Jyb3dcIl0gPSBcImJvcnJvd1wiO1xuICAgIFBvb2xFdmVudFR5cGVbXCJSZXBheVwiXSA9IFwicmVwYXlcIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiRmlsbEF1Y3Rpb25cIl0gPSBcImZpbGxfYXVjdGlvblwiO1xuICAgIFBvb2xFdmVudFR5cGVbXCJEZWxldGVMaXF1aWRhdGlvbkF1Y3Rpb25cIl0gPSBcImRlbGV0ZV9saXF1aWRhdGlvbl9hdWN0aW9uXCI7XG4gICAgUG9vbEV2ZW50VHlwZVtcIkd1bHBFbWlzc2lvbnNcIl0gPSBcImd1bHBfZW1pc3Npb25zXCI7XG4gICAgUG9vbEV2ZW50VHlwZVtcIkd1bHBcIl0gPSBcImd1bHBcIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiRGVmYXVsdGVkRGVidFwiXSA9IFwiZGVmYXVsdGVkX2RlYnRcIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiRGVsZXRlQXVjdGlvblwiXSA9IFwiZGVsZXRlX2F1Y3Rpb25cIjtcbiAgICBQb29sRXZlbnRUeXBlW1wiRmxhc2hMb2FuXCJdID0gXCJmbGFzaF9sb2FuXCI7XG59KShQb29sRXZlbnRUeXBlIHx8IChQb29sRXZlbnRUeXBlID0ge30pKTtcbi8qKlxuICogQ3JlYXRlIGEgUG9vbFYxRXZlbnQgZnJvbSBhIFJhd0V2ZW50UmVzcG9uc2UuXG4gKiBAcGFyYW0gZXZlbnRSZXNwb25zZSAtIFRoZSBSYXdFdmVudFJlc3BvbnNlIGZyb20gdGhlIFJQQyB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyBUaGUgUG9vbFYxRXZlbnQgb3IgdW5kZWZpbmVkIGlmIHRoZSBFdmVudFJlc3BvbnNlIGlzIG5vdCBhIFBvb2xWMUV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb29sRXZlbnRWMUZyb21FdmVudFJlc3BvbnNlKGV2ZW50UmVzcG9uc2UpIHtcbiAgICBpZiAoZXZlbnRSZXNwb25zZS50eXBlICE9PSAnY29udHJhY3QnIHx8XG4gICAgICAgIGV2ZW50UmVzcG9uc2UudG9waWMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgIGV2ZW50UmVzcG9uc2UuY29udHJhY3RJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGJhc2VFdmVudCA9IHBvb2xFdmVudEZyb21FdmVudFJlc3BvbnNlKGV2ZW50UmVzcG9uc2UpO1xuICAgIGlmIChiYXNlRXZlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTk9URTogRGVjb2RlIFJhd0V2ZW50UmVzcG9uc2UgdG8gU2NWYWxzLiBEbyBub3QgdXBkYXRlIHRvIGBycGMuQXBpLkV2ZW50UmVzcG9uc2VgLiBUaGlzXG4gICAgICAgICAgICAvLyB3aWxsIGNhdXNlIGZhaWx1cmVzIGluIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9ucyBkdWUgdG8gdGhlIHJlcXVpcmVtZW50IHRoYXQgdGhlIGV4YWN0IHNhbWVcbiAgICAgICAgICAgIC8vIGBqcy14ZHJgIGNvZGUgaXMgdXNlZC4gKHRoZSBzYW1lIHZlcnNpb24gZnJvbSB0d28gZGlmZmVyZW50IHNvdXJjZXMgZG9lcyBub3Qgd29yaylcbiAgICAgICAgICAgIGNvbnN0IHRvcGljX3NjdmFsID0gZXZlbnRSZXNwb25zZS50b3BpYy5tYXAoKHRvcGljKSA9PiB4ZHIuU2NWYWwuZnJvbVhEUih0b3BpYywgJ2Jhc2U2NCcpKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlX3NjdmFsID0geGRyLlNjVmFsLmZyb21YRFIoZXZlbnRSZXNwb25zZS52YWx1ZSwgJ2Jhc2U2NCcpO1xuICAgICAgICAgICAgLy8gVGhlIGZpcnN0IHRvcGljIGlzIHRoZSBldmVudCBuYW1lIGFzIGEgc3ltYm9sXG4gICAgICAgICAgICBjb25zdCBldmVudFN0cmluZyA9IHNjVmFsVG9OYXRpdmUodG9waWNfc2N2YWxbMF0pO1xuICAgICAgICAgICAgY29uc3QgYmFzZUV2ZW50ID0ge1xuICAgICAgICAgICAgICAgIGlkOiBldmVudFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgIGNvbnRyYWN0SWQ6IGV2ZW50UmVzcG9uc2UuY29udHJhY3RJZCxcbiAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLlBvb2wsXG4gICAgICAgICAgICAgICAgbGVkZ2VyOiBldmVudFJlc3BvbnNlLmxlZGdlcixcbiAgICAgICAgICAgICAgICBsZWRnZXJDbG9zZWRBdDogZXZlbnRSZXNwb25zZS5sZWRnZXJDbG9zZWRBdCxcbiAgICAgICAgICAgICAgICB0eEhhc2g6IGV2ZW50UmVzcG9uc2UudHhIYXNoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuVXBkYXRlUG9vbDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzVmVjID0gdmFsdWVfc2N2YWwudmVjKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDIgfHwgdmFsdWVBc1ZlYz8ubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkbWluID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tzdG9wVGFrZVJhdGUgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFBvc2l0aW9ucyA9IE51bWJlcihzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGJhY2tzdG9wVGFrZVJhdGUpIHx8IGlzTmFOKG1heFBvc2l0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5VcGRhdGVQb29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW46IGFkbWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja3N0b3BUYWtlUmF0ZTogYmFja3N0b3BUYWtlUmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFBvc2l0aW9uczogbWF4UG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuUXVldWVTZXRSZXNlcnZlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNWZWMgPSB2YWx1ZV9zY3ZhbC52ZWMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMiB8fCB2YWx1ZUFzVmVjPy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRtaW4gPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzZXRfaWQgPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZUFzVmVjWzBdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNlcnZlX2NvbmZpZyA9IFJlc2VydmVDb25maWcuZnJvbVNjVmFsKHZhbHVlQXNWZWNbMV0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBQb29sRXZlbnRUeXBlLlF1ZXVlU2V0UmVzZXJ2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluOiBhZG1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0SWQ6IGFzc2V0X2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXJ2ZUNvbmZpZzogcmVzZXJ2ZV9jb25maWcsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5VcGRhdGVFbWlzc2lvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdfYmxuZCA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlX3NjdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLlBvb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuVXBkYXRlRW1pc3Npb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QkxORDogbmV3X2JsbmQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5OZXdMaXF1aWRhdGlvbkF1Y3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1Y3Rpb25EYXRhID0gQXVjdGlvbkRhdGEuZnJvbVNjVmFsKHZhbHVlX3NjdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0VHlwZTogQmxlbmRDb250cmFjdFR5cGUuUG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5OZXdMaXF1aWRhdGlvbkF1Y3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXVjdGlvbkRhdGE6IGF1Y3Rpb25EYXRhLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuTmV3QXVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1Y3Rpb25UeXBlID0gTnVtYmVyKHNjVmFsVG9OYXRpdmUodG9waWNfc2N2YWxbMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVjdGlvbkRhdGEgPSBBdWN0aW9uRGF0YS5mcm9tU2NWYWwodmFsdWVfc2N2YWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oYXVjdGlvblR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLlBvb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuTmV3QXVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25UeXBlOiBhdWN0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25EYXRhOiBhdWN0aW9uRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLkZpbGxBdWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNWZWMgPSB2YWx1ZV9zY3ZhbC52ZWMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMyAmJiB2YWx1ZUFzVmVjLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVjdGlvblR5cGUgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh0b3BpY19zY3ZhbFsyXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oYXVjdGlvblR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZUFzVmVjWzBdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxsQW1vdW50ID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5Qb29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBQb29sRXZlbnRUeXBlLkZpbGxBdWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogdXNlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25UeXBlOiBhdWN0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsQW1vdW50OiBmaWxsQW1vdW50LFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBjb252ZXJzaW9uIGZ1bmN0aW9ucyB0aHJvdyBvbiBhIG1hbGZvcm1lZCAob3Igbm9uLXBvb2wpIGV2ZW50c1xuICAgICAgICAgICAgLy8gcmV0dXJuIHVuZGVmaW5lZCBpbiB0aGlzIGNhc2VcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBiYXNlRXZlbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSBQb29sVjJFdmVudCBmcm9tIGEgUmF3RXZlbnRSZXNwb25zZS5cbiAqIEBwYXJhbSBldmVudFJlc3BvbnNlIC0gVGhlIFJhd0V2ZW50UmVzcG9uc2UgZnJvbSB0aGUgUlBDIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIFRoZSBQb29sVjJFdmVudCBvciB1bmRlZmluZWQgaWYgdGhlIEV2ZW50UmVzcG9uc2UgaXMgbm90IGEgUG9vbFYyRXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvb2xFdmVudFYyRnJvbUV2ZW50UmVzcG9uc2UoZXZlbnRSZXNwb25zZSkge1xuICAgIGlmIChldmVudFJlc3BvbnNlLnR5cGUgIT09ICdjb250cmFjdCcgfHxcbiAgICAgICAgZXZlbnRSZXNwb25zZS50b3BpYy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgZXZlbnRSZXNwb25zZS5jb250cmFjdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgYmFzZUV2ZW50ID0gcG9vbEV2ZW50RnJvbUV2ZW50UmVzcG9uc2UoZXZlbnRSZXNwb25zZSk7XG4gICAgaWYgKGJhc2VFdmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBEZWNvZGUgUmF3RXZlbnRSZXNwb25zZSB0byBTY1ZhbHMuIERvIG5vdCB1cGRhdGUgdG8gYHJwYy5BcGkuRXZlbnRSZXNwb25zZWAuIFRoaXNcbiAgICAgICAgICAgIC8vIHdpbGwgY2F1c2UgZmFpbHVyZXMgaW4gdGhlIGNvbnZlcnNpb24gZnVuY3Rpb25zIGR1ZSB0byB0aGUgcmVxdWlyZW1lbnQgdGhhdCB0aGUgZXhhY3Qgc2FtZVxuICAgICAgICAgICAgLy8gYGpzLXhkcmAgY29kZSBpcyB1c2VkLiAodGhlIHNhbWUgdmVyc2lvbiBmcm9tIHR3byBkaWZmZXJlbnQgc291cmNlcyBkb2VzIG5vdCB3b3JrKVxuICAgICAgICAgICAgY29uc3QgdG9waWNfc2N2YWwgPSBldmVudFJlc3BvbnNlLnRvcGljLm1hcCgodG9waWMpID0+IHhkci5TY1ZhbC5mcm9tWERSKHRvcGljLCAnYmFzZTY0JykpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVfc2N2YWwgPSB4ZHIuU2NWYWwuZnJvbVhEUihldmVudFJlc3BvbnNlLnZhbHVlLCAnYmFzZTY0Jyk7XG4gICAgICAgICAgICAvLyBUaGUgZmlyc3QgdG9waWMgaXMgdGhlIGV2ZW50IG5hbWUgYXMgYSBzeW1ib2xcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50U3RyaW5nID0gc2NWYWxUb05hdGl2ZSh0b3BpY19zY3ZhbFswXSk7XG4gICAgICAgICAgICBjb25zdCBiYXNlRXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50UmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgY29udHJhY3RJZDogZXZlbnRSZXNwb25zZS5jb250cmFjdElkLFxuICAgICAgICAgICAgICAgIGxlZGdlcjogZXZlbnRSZXNwb25zZS5sZWRnZXIsXG4gICAgICAgICAgICAgICAgbGVkZ2VyQ2xvc2VkQXQ6IGV2ZW50UmVzcG9uc2UubGVkZ2VyQ2xvc2VkQXQsXG4gICAgICAgICAgICAgICAgdHhIYXNoOiBldmVudFJlc3BvbnNlLnR4SGFzaCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50U3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLlVwZGF0ZVBvb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVBc1ZlYyA9IHZhbHVlX3NjdmFsLnZlYygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAyIHx8IHZhbHVlQXNWZWM/Lmxlbmd0aCAhPT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZG1pbiA9IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzFdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWNrc3RvcFRha2VSYXRlID0gTnVtYmVyKHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1swXSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhQb3NpdGlvbnMgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbkNvbGxhdGVyYWwgPSBzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMl0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oYmFja3N0b3BUYWtlUmF0ZSkgfHwgaXNOYU4obWF4UG9zaXRpb25zKSB8fCB0eXBlb2YgbWluQ29sbGF0ZXJhbCAhPT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5VcGRhdGVQb29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW46IGFkbWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja3N0b3BUYWtlUmF0ZTogYmFja3N0b3BUYWtlUmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFBvc2l0aW9uczogbWF4UG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluQ29sbGF0ZXJhbDogQmlnSW50KG1pbkNvbGxhdGVyYWwpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuUXVldWVTZXRSZXNlcnZlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNWZWMgPSB2YWx1ZV9zY3ZhbC52ZWMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMiB8fCB2YWx1ZUFzVmVjPy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRtaW4gPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzZXRfaWQgPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZUFzVmVjWzBdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNlcnZlX2NvbmZpZyA9IFJlc2VydmVDb25maWdWMi5mcm9tU2NWYWwodmFsdWVBc1ZlY1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuUXVldWVTZXRSZXNlcnZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW46IGFkbWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRJZDogYXNzZXRfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZlQ29uZmlnOiByZXNlcnZlX2NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLkd1bHBFbWlzc2lvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdfYmxuZCA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlX3NjdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLlBvb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuR3VscEVtaXNzaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JMTkQ6IG5ld19ibG5kLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuTmV3QXVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzVmVjID0gdmFsdWVfc2N2YWwudmVjKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDMgJiYgdmFsdWVBc1ZlYy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVjdGlvblR5cGUgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh0b3BpY19zY3ZhbFsxXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oYXVjdGlvblR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1Y3Rpb25EYXRhID0gQXVjdGlvbkRhdGEuZnJvbVNjVmFsKHZhbHVlQXNWZWNbMV0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gTnVtYmVyKHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1swXSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5Qb29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBQb29sRXZlbnRUeXBlLk5ld0F1Y3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsyXSkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25UeXBlOiBhdWN0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25EYXRhOiBhdWN0aW9uRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHBlcmNlbnQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5GaWxsQXVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzVmVjID0gdmFsdWVfc2N2YWwudmVjKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDMgJiYgdmFsdWVBc1ZlYy5sZW5ndGggIT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVjdGlvblR5cGUgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh0b3BpY19zY3ZhbFsxXSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMl0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihhdWN0aW9uVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsbGVyID0gQWRkcmVzcy5mcm9tU2NWYWwodmFsdWVBc1ZlY1swXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsbEFtb3VudCA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsbGVkQXVjdGlvbkRhdGEgPSBBdWN0aW9uRGF0YS5mcm9tU2NWYWwodmFsdWVBc1ZlY1syXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLlBvb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuRmlsbEF1Y3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXVjdGlvblR5cGU6IGF1Y3Rpb25UeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbGVyOiBmaWxsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsQW1vdW50OiBmaWxsQW1vdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbGVkQXVjdGlvbkRhdGE6IGZpbGxlZEF1Y3Rpb25EYXRhLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuRGVsZXRlTGlxdWlkYXRpb25BdWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzFdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5Qb29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBQb29sRXZlbnRUeXBlLkRlbGV0ZUxpcXVpZGF0aW9uQXVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5EZWZhdWx0ZWREZWJ0OiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzZXRJZCA9IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzFdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkVG9rZW5zID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVfc2N2YWwpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0VHlwZTogQmxlbmRDb250cmFjdFR5cGUuUG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5EZWZhdWx0ZWREZWJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRJZDogYXNzZXRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRUb2tlbnM6IGRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5HdWxwOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNWZWMgPSB2YWx1ZV9zY3ZhbC52ZWMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMiB8fCB2YWx1ZUFzVmVjPy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNzZXRJZCA9IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzFdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkRlbHRhID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1swXSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdCUmF0ZSA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0VHlwZTogQmxlbmRDb250cmFjdFR5cGUuUG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5HdWxwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRJZDogYXNzZXRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuRGVsdGE6IHRva2VuRGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCUmF0ZTogbmV3QlJhdGUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5EZWxldGVBdWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVjdGlvblR5cGUgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh0b3BpY19zY3ZhbFsxXSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMl0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihhdWN0aW9uVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0VHlwZTogQmxlbmRDb250cmFjdFR5cGUuUG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5EZWxldGVBdWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogdXNlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1Y3Rpb25UeXBlOiBhdWN0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLkZsYXNoTG9hbjoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzVmVjID0gdmFsdWVfc2N2YWwudmVjKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDQgJiYgdmFsdWVBc1ZlYz8ubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0ID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsyXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJhY3QgPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFszXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zT3V0ID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1swXSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkVG9rZW5zTWludGVkID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5Qb29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBQb29sRXZlbnRUeXBlLkZsYXNoTG9hbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0OiBhc3NldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdDogY29udHJhY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnNPdXQ6IHRva2Vuc091dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRUb2tlbnNNaW50ZWQ6IGRUb2tlbnNNaW50ZWQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGNvbnZlcnNpb24gZnVuY3Rpb25zIHRocm93IG9uIGEgbWFsZm9ybWVkIChvciBub24tcG9vbCkgZXZlbnRzXG4gICAgICAgICAgICAvLyByZXR1cm4gdW5kZWZpbmVkIGluIHRoaXMgY2FzZVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJhc2VFdmVudDtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIGJhc2UgUG9vbEV2ZW50IGZyb20gYSBSYXdFdmVudFJlc3BvbnNlLlxuICogQHBhcmFtIGV2ZW50UmVzcG9uc2UgLSBUaGUgUmF3RXZlbnRSZXNwb25zZSBmcm9tIHRoZSBSUEMgdG8gY29udmVydFxuICogQHJldHVybnMgVGhlIFBvb2xFdmVudCBvciB1bmRlZmluZWQgaWYgdGhlIEV2ZW50UmVzcG9uc2UgaXMgbm90IGEgUG9vbEV2ZW50XG4gKi9cbmZ1bmN0aW9uIHBvb2xFdmVudEZyb21FdmVudFJlc3BvbnNlKGV2ZW50UmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBOT1RFOiBEZWNvZGUgUmF3RXZlbnRSZXNwb25zZSB0byBTY1ZhbHMuIERvIG5vdCB1cGRhdGUgdG8gYHJwYy5BcGkuRXZlbnRSZXNwb25zZWAuIFRoaXNcbiAgICAgICAgLy8gd2lsbCBjYXVzZSBmYWlsdXJlcyBpbiB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgZHVlIHRvIHRoZSByZXF1aXJlbWVudCB0aGF0IHRoZSBleGFjdCBzYW1lXG4gICAgICAgIC8vIGBqcy14ZHJgIGNvZGUgaXMgdXNlZC4gKHRoZSBzYW1lIHZlcnNpb24gZnJvbSB0d28gZGlmZmVyZW50IHNvdXJjZXMgZG9lcyBub3Qgd29yaylcbiAgICAgICAgY29uc3QgdG9waWNfc2N2YWwgPSBldmVudFJlc3BvbnNlLnRvcGljLm1hcCgodG9waWMpID0+IHhkci5TY1ZhbC5mcm9tWERSKHRvcGljLCAnYmFzZTY0JykpO1xuICAgICAgICBjb25zdCB2YWx1ZV9zY3ZhbCA9IHhkci5TY1ZhbC5mcm9tWERSKGV2ZW50UmVzcG9uc2UudmFsdWUsICdiYXNlNjQnKTtcbiAgICAgICAgLy8gVGhlIGZpcnN0IHRvcGljIGlzIHRoZSBldmVudCBuYW1lIGFzIGEgc3ltYm9sXG4gICAgICAgIGNvbnN0IGV2ZW50U3RyaW5nID0gc2NWYWxUb05hdGl2ZSh0b3BpY19zY3ZhbFswXSk7XG4gICAgICAgIGNvbnN0IGJhc2VFdmVudCA9IHtcbiAgICAgICAgICAgIGlkOiBldmVudFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgY29udHJhY3RJZDogZXZlbnRSZXNwb25zZS5jb250cmFjdElkLFxuICAgICAgICAgICAgY29udHJhY3RUeXBlOiBCbGVuZENvbnRyYWN0VHlwZS5Qb29sLFxuICAgICAgICAgICAgbGVkZ2VyOiBldmVudFJlc3BvbnNlLmxlZGdlcixcbiAgICAgICAgICAgIGxlZGdlckNsb3NlZEF0OiBldmVudFJlc3BvbnNlLmxlZGdlckNsb3NlZEF0LFxuICAgICAgICAgICAgdHhIYXNoOiBldmVudFJlc3BvbnNlLnR4SGFzaCxcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChldmVudFN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLlNldEFkbWluOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvbGRfYWRtaW4gPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsxXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdfYWRtaW4gPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZV9zY3ZhbCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5TZXRBZG1pbixcbiAgICAgICAgICAgICAgICAgICAgb2xkQWRtaW46IG9sZF9hZG1pbixcbiAgICAgICAgICAgICAgICAgICAgbmV3QWRtaW46IG5ld19hZG1pbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLkNhbmNlbFNldFJlc2VydmU6IHtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGFkbWluID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXNzZXRfaWQgPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZV9zY3ZhbCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5DYW5jZWxTZXRSZXNlcnZlLFxuICAgICAgICAgICAgICAgICAgICBhZG1pbjogYWRtaW4sXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0SWQ6IGFzc2V0X2lkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuU2V0UmVzZXJ2ZToge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNWZWMgPSB2YWx1ZV9zY3ZhbC52ZWMoKTtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAxIHx8IHZhbHVlQXNWZWM/Lmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhc3NldF9pZCA9IEFkZHJlc3MuZnJvbVNjVmFsKHZhbHVlQXNWZWNbMF0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXNzZXRfaW5kZXggPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzFdKSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGFzc2V0X2luZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5TZXRSZXNlcnZlLFxuICAgICAgICAgICAgICAgICAgICBhc3NldElkOiBhc3NldF9pZCxcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRJbmRleDogYXNzZXRfaW5kZXgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5TZXRTdGF0dXM6IHtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAxICYmIHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhZG1pbiA9IHRvcGljX3NjdmFsLmxlbmd0aCA9PT0gMiA/IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzFdKS50b1N0cmluZygpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IE51bWJlcihzY1ZhbFRvTmF0aXZlKHZhbHVlX3NjdmFsKSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuU2V0U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBhZG1pbjogYWRtaW4sXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuUmVzZXJ2ZUVtaXNzaW9uVXBkYXRlOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVBc1ZlYyA9IHZhbHVlX3NjdmFsLnZlYygpO1xuICAgICAgICAgICAgICAgIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggIT09IDEgfHwgdmFsdWVBc1ZlYz8ubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2VydmVUb2tlbklkID0gc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzBdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcHMgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzFdKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwaXJhdGlvbiA9IE51bWJlcihzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMl0pKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZXBzKSB8fCBpc05hTihleHBpcmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5SZXNlcnZlRW1pc3Npb25VcGRhdGUsXG4gICAgICAgICAgICAgICAgICAgIHJlc2VydmVUb2tlbklkOiByZXNlcnZlVG9rZW5JZCxcbiAgICAgICAgICAgICAgICAgICAgZXBzOiBlcHMsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb246IGV4cGlyYXRpb24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5DbGFpbToge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXNWZWMgPSB2YWx1ZV9zY3ZhbC52ZWMoKTtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoICE9PSAyIHx8IHZhbHVlQXNWZWM/Lmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzZXJ2ZVRva2VuSWRzID0gdmFsdWVBc1ZlY1swXS52ZWMoKS5tYXAoKHZhbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhc19udW0gPSBOdW1iZXIoc2NWYWxUb05hdGl2ZSh2YWwpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGFzX251bSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIGV2ZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzX251bTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBCaWdJbnQoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzFdKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuQ2xhaW0sXG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHJlc2VydmVUb2tlbklkczogcmVzZXJ2ZVRva2VuSWRzLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLkJhZERlYnQ6IHtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNfc2N2YWwubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVBc1ZlYyA9IHZhbHVlX3NjdmFsLnZlYygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVBc1ZlYz8ubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tzdG9wID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0SWQgPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZUFzVmVjWzBdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkVG9rZW5zID0gQmlnSW50KHNjVmFsVG9OYXRpdmUodmFsdWVBc1ZlY1sxXSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBQb29sRXZlbnRUeXBlLkJhZERlYnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBiYWNrc3RvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0SWQ6IGFzc2V0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkVG9rZW5zOiBkVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b3BpY19zY3ZhbC5sZW5ndGggPT0gMykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0SWQgPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsyXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZFRva2VucyA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlX3NjdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuQmFkRGVidCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NldElkOiBhc3NldElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZFRva2VuczogZFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLlN1cHBseTpcbiAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5XaXRoZHJhdzpcbiAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5TdXBwbHlDb2xsYXRlcmFsOlxuICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLldpdGhkcmF3Q29sbGF0ZXJhbDpcbiAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5Cb3Jyb3c6XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuUmVwYXk6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFzVmVjID0gdmFsdWVfc2N2YWwudmVjKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMyB8fCB2YWx1ZUFzVmVjPy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYXNzZXRJZCA9IEFkZHJlc3MuZnJvbVNjVmFsKHRvcGljX3NjdmFsWzFdKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSBBZGRyZXNzLmZyb21TY1ZhbCh0b3BpY19zY3ZhbFsyXSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBCaWdJbnQoc2NWYWxUb05hdGl2ZSh2YWx1ZUFzVmVjWzBdKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzZXJ2ZVRva2VucyA9IEJpZ0ludChzY1ZhbFRvTmF0aXZlKHZhbHVlQXNWZWNbMV0pKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50U3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5TdXBwbHk6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuU3VwcGx5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0SWQ6IGFzc2V0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiVG9rZW5zTWludGVkOiByZXNlcnZlVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLldpdGhkcmF3OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBQb29sRXZlbnRUeXBlLldpdGhkcmF3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0SWQ6IGFzc2V0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiVG9rZW5zQnVybmVkOiByZXNlcnZlVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLlN1cHBseUNvbGxhdGVyYWw6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuU3VwcGx5Q29sbGF0ZXJhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldElkOiBhc3NldElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYlRva2Vuc01pbnRlZDogcmVzZXJ2ZVRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUG9vbEV2ZW50VHlwZS5XaXRoZHJhd0NvbGxhdGVyYWw6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuV2l0aGRyYXdDb2xsYXRlcmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0SWQ6IGFzc2V0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiVG9rZW5zQnVybmVkOiByZXNlcnZlVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBQb29sRXZlbnRUeXBlLkJvcnJvdzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEV2ZW50VHlwZS5Cb3Jyb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRJZDogYXNzZXRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRUb2tlbnNNaW50ZWQ6IHJlc2VydmVUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuUmVwYXk6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuUmVwYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRJZDogYXNzZXRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRUb2tlbnNCdXJuZWQ6IHJlc2VydmVUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFBvb2xFdmVudFR5cGUuRGVsZXRlTGlxdWlkYXRpb25BdWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gQWRkcmVzcy5mcm9tU2NWYWwodG9waWNfc2N2YWxbMV0pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IFBvb2xFdmVudFR5cGUuRGVsZXRlTGlxdWlkYXRpb25BdWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gY29udmVyc2lvbiBmdW5jdGlvbnMgdGhyb3cgb24gYSBtYWxmb3JtZWQgKG9yIG5vbi1wb29sKSBldmVudHNcbiAgICAgICAgLy8gcmV0dXJuIHVuZGVmaW5lZCBpbiB0aGlzIGNhc2VcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_events.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_metadata.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_metadata.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolMetadata: () => (/* binding */ PoolMetadata)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\n\nclass PoolMetadata {\n    wasmHash;\n    admin;\n    name;\n    backstop;\n    backstopRate;\n    maxPositions;\n    minCollateral;\n    oracle;\n    status;\n    reserveList;\n    latestLedger;\n    constructor(wasmHash, admin, name, backstop, backstopRate, maxPositions, minCollateral, oracle, status, reserveList, latestLedger) {\n        this.wasmHash = wasmHash;\n        this.admin = admin;\n        this.name = name;\n        this.backstop = backstop;\n        this.backstopRate = backstopRate;\n        this.maxPositions = maxPositions;\n        this.minCollateral = minCollateral;\n        this.oracle = oracle;\n        this.status = status;\n        this.reserveList = reserveList;\n        this.latestLedger = latestLedger;\n    }\n    static async load(network, poolId) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const contractInstanceKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvLedgerKeyContractInstance(),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        const reserveListDataKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('ResList'),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        let washHash;\n        let admin;\n        let name;\n        let backstop;\n        let poolConfig;\n        let reserveList;\n        const poolConfigEntries = await stellarRpc.getLedgerEntries(contractInstanceKey, reserveListDataKey);\n        for (const entry of poolConfigEntries.entries ?? []) {\n            const ledgerData = entry.val.contractData();\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(ledgerData.key());\n            switch (key) {\n                case 'ContractInstance': {\n                    const instance = ledgerData.val().instance();\n                    instance.storage()?.map((entry) => {\n                        const instanceKey = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(entry.key());\n                        switch (instanceKey) {\n                            case 'Admin':\n                                admin = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                return;\n                            case 'Backstop':\n                                backstop = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(entry.val()).toString();\n                                return;\n                            case 'BLNDTkn':\n                                return;\n                            case 'Config':\n                                poolConfig = _index_js__WEBPACK_IMPORTED_MODULE_1__.PoolConfig.fromScVal(entry.val());\n                                return;\n                            case 'Name':\n                                name = entry.val().str().toString();\n                                return;\n                            case 'IsInit':\n                                // do nothing\n                                break;\n                            default:\n                                throw Error(`${_index_js__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.LedgerEntryParseError}: pool instance storage key: should not contain ${instanceKey}`);\n                        }\n                    });\n                    washHash = instance.executable()?.wasmHash()?.toString('hex');\n                    break;\n                }\n                case 'ResList':\n                    reserveList = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(ledgerData.val());\n                    break;\n                default:\n                    throw Error(`${_index_js__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.LedgerEntryParseError}: Invalid PoolConfig key: should not contain ${key}`);\n            }\n        }\n        if (washHash == undefined ||\n            admin == undefined ||\n            name == undefined ||\n            backstop == undefined ||\n            poolConfig == undefined ||\n            reserveList == undefined ||\n            poolConfigEntries.entries.length == 0) {\n            throw Error(`${_index_js__WEBPACK_IMPORTED_MODULE_1__.ErrorTypes.LedgerEntryParseError}: Unable to parse data for pool config`);\n        }\n        return new PoolMetadata(washHash, admin, name, backstop, poolConfig.backstopRate, poolConfig.maxPositions, poolConfig.minCollateral ?? 0n, poolConfig.oracle, poolConfig.status, reserveList, poolConfigEntries.latestLedger);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2xfbWV0YWRhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RTtBQUNuQjtBQUNNO0FBQ3BEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQUc7QUFDbEMsb0NBQW9DLHFEQUFHLDRCQUE0QixxREFBRztBQUN0RSxzQkFBc0IseURBQU87QUFDN0IsaUJBQWlCLHFEQUFHO0FBQ3BCLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1QsbUNBQW1DLHFEQUFHLDRCQUE0QixxREFBRztBQUNyRSxzQkFBc0IseURBQU87QUFDN0IsaUJBQWlCLHFEQUFHO0FBQ3BCLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHVFQUFjO0FBQzFEO0FBQ0E7QUFDQSx3Q0FBd0MseURBQU87QUFDL0M7QUFDQTtBQUNBLDJDQUEyQyx5REFBTztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxpREFBVTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGlEQUFVLHVCQUF1QixrREFBa0QsWUFBWTtBQUM5STtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtRUFBYTtBQUMvQztBQUNBO0FBQ0EsbUNBQW1DLGlEQUFVLHVCQUF1QiwrQ0FBK0MsSUFBSTtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsaURBQVUsdUJBQXVCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2xfbWV0YWRhdGEuanM/OTc4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCBycGMsIHNjVmFsVG9OYXRpdmUsIHhkciB9IGZyb20gJ0BzdGVsbGFyL3N0ZWxsYXItc2RrJztcbmltcG9ydCB7IEVycm9yVHlwZXMsIFBvb2xDb25maWcgfSBmcm9tICcuLi9pbmRleC5qcyc7XG5pbXBvcnQgeyBkZWNvZGVFbnRyeUtleSB9IGZyb20gJy4uL2xlZGdlcl9lbnRyeV9oZWxwZXIuanMnO1xuZXhwb3J0IGNsYXNzIFBvb2xNZXRhZGF0YSB7XG4gICAgd2FzbUhhc2g7XG4gICAgYWRtaW47XG4gICAgbmFtZTtcbiAgICBiYWNrc3RvcDtcbiAgICBiYWNrc3RvcFJhdGU7XG4gICAgbWF4UG9zaXRpb25zO1xuICAgIG1pbkNvbGxhdGVyYWw7XG4gICAgb3JhY2xlO1xuICAgIHN0YXR1cztcbiAgICByZXNlcnZlTGlzdDtcbiAgICBsYXRlc3RMZWRnZXI7XG4gICAgY29uc3RydWN0b3Iod2FzbUhhc2gsIGFkbWluLCBuYW1lLCBiYWNrc3RvcCwgYmFja3N0b3BSYXRlLCBtYXhQb3NpdGlvbnMsIG1pbkNvbGxhdGVyYWwsIG9yYWNsZSwgc3RhdHVzLCByZXNlcnZlTGlzdCwgbGF0ZXN0TGVkZ2VyKSB7XG4gICAgICAgIHRoaXMud2FzbUhhc2ggPSB3YXNtSGFzaDtcbiAgICAgICAgdGhpcy5hZG1pbiA9IGFkbWluO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmJhY2tzdG9wID0gYmFja3N0b3A7XG4gICAgICAgIHRoaXMuYmFja3N0b3BSYXRlID0gYmFja3N0b3BSYXRlO1xuICAgICAgICB0aGlzLm1heFBvc2l0aW9ucyA9IG1heFBvc2l0aW9ucztcbiAgICAgICAgdGhpcy5taW5Db2xsYXRlcmFsID0gbWluQ29sbGF0ZXJhbDtcbiAgICAgICAgdGhpcy5vcmFjbGUgPSBvcmFjbGU7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLnJlc2VydmVMaXN0ID0gcmVzZXJ2ZUxpc3Q7XG4gICAgICAgIHRoaXMubGF0ZXN0TGVkZ2VyID0gbGF0ZXN0TGVkZ2VyO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbG9hZChuZXR3b3JrLCBwb29sSWQpIHtcbiAgICAgICAgY29uc3Qgc3RlbGxhclJwYyA9IG5ldyBycGMuU2VydmVyKG5ldHdvcmsucnBjLCBuZXR3b3JrLm9wdHMpO1xuICAgICAgICBjb25zdCBjb250cmFjdEluc3RhbmNlS2V5ID0geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhwb29sSWQpLnRvU2NBZGRyZXNzKCksXG4gICAgICAgICAgICBrZXk6IHhkci5TY1ZhbC5zY3ZMZWRnZXJLZXlDb250cmFjdEluc3RhbmNlKCksXG4gICAgICAgICAgICBkdXJhYmlsaXR5OiB4ZHIuQ29udHJhY3REYXRhRHVyYWJpbGl0eS5wZXJzaXN0ZW50KCksXG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgcmVzZXJ2ZUxpc3REYXRhS2V5ID0geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhwb29sSWQpLnRvU2NBZGRyZXNzKCksXG4gICAgICAgICAgICBrZXk6IHhkci5TY1ZhbC5zY3ZTeW1ib2woJ1Jlc0xpc3QnKSxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkci5Db250cmFjdERhdGFEdXJhYmlsaXR5LnBlcnNpc3RlbnQoKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgd2FzaEhhc2g7XG4gICAgICAgIGxldCBhZG1pbjtcbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGxldCBiYWNrc3RvcDtcbiAgICAgICAgbGV0IHBvb2xDb25maWc7XG4gICAgICAgIGxldCByZXNlcnZlTGlzdDtcbiAgICAgICAgY29uc3QgcG9vbENvbmZpZ0VudHJpZXMgPSBhd2FpdCBzdGVsbGFyUnBjLmdldExlZGdlckVudHJpZXMoY29udHJhY3RJbnN0YW5jZUtleSwgcmVzZXJ2ZUxpc3REYXRhS2V5KTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBwb29sQ29uZmlnRW50cmllcy5lbnRyaWVzID8/IFtdKSB7XG4gICAgICAgICAgICBjb25zdCBsZWRnZXJEYXRhID0gZW50cnkudmFsLmNvbnRyYWN0RGF0YSgpO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobGVkZ2VyRGF0YS5rZXkoKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRyYWN0SW5zdGFuY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gbGVkZ2VyRGF0YS52YWwoKS5pbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdG9yYWdlKCk/Lm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlS2V5ID0gZGVjb2RlRW50cnlLZXkoZW50cnkua2V5KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpbnN0YW5jZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0FkbWluJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW4gPSBBZGRyZXNzLmZyb21TY1ZhbChlbnRyeS52YWwoKSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0JhY2tzdG9wJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja3N0b3AgPSBBZGRyZXNzLmZyb21TY1ZhbChlbnRyeS52YWwoKSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0JMTkRUa24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ29uZmlnJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9vbENvbmZpZyA9IFBvb2xDb25maWcuZnJvbVNjVmFsKGVudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ05hbWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gZW50cnkudmFsKCkuc3RyKCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0lzSW5pdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYCR7RXJyb3JUeXBlcy5MZWRnZXJFbnRyeVBhcnNlRXJyb3J9OiBwb29sIGluc3RhbmNlIHN0b3JhZ2Uga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtpbnN0YW5jZUtleX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHdhc2hIYXNoID0gaW5zdGFuY2UuZXhlY3V0YWJsZSgpPy53YXNtSGFzaCgpPy50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdSZXNMaXN0JzpcbiAgICAgICAgICAgICAgICAgICAgcmVzZXJ2ZUxpc3QgPSBzY1ZhbFRvTmF0aXZlKGxlZGdlckRhdGEudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgJHtFcnJvclR5cGVzLkxlZGdlckVudHJ5UGFyc2VFcnJvcn06IEludmFsaWQgUG9vbENvbmZpZyBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzaEhhc2ggPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBhZG1pbiA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIG5hbWUgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBiYWNrc3RvcCA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHBvb2xDb25maWcgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICByZXNlcnZlTGlzdCA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHBvb2xDb25maWdFbnRyaWVzLmVudHJpZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGAke0Vycm9yVHlwZXMuTGVkZ2VyRW50cnlQYXJzZUVycm9yfTogVW5hYmxlIHRvIHBhcnNlIGRhdGEgZm9yIHBvb2wgY29uZmlnYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb29sTWV0YWRhdGEod2FzaEhhc2gsIGFkbWluLCBuYW1lLCBiYWNrc3RvcCwgcG9vbENvbmZpZy5iYWNrc3RvcFJhdGUsIHBvb2xDb25maWcubWF4UG9zaXRpb25zLCBwb29sQ29uZmlnLm1pbkNvbGxhdGVyYWwgPz8gMG4sIHBvb2xDb25maWcub3JhY2xlLCBwb29sQ29uZmlnLnN0YXR1cywgcmVzZXJ2ZUxpc3QsIHBvb2xDb25maWdFbnRyaWVzLmxhdGVzdExlZGdlcik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_metadata.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_oracle.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_oracle.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolOracle: () => (/* binding */ PoolOracle)\n/* harmony export */ });\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js\");\n/* harmony import */ var _oracle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../oracle.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/oracle.js\");\n\n\nclass PoolOracle {\n    oracleId;\n    prices;\n    decimals;\n    latestLedger;\n    constructor(oracleId, prices, decimals, latestLedger) {\n        this.oracleId = oracleId;\n        this.prices = prices;\n        this.decimals = decimals;\n        this.latestLedger = latestLedger;\n    }\n    static async load(network, oracleId, assets) {\n        const decimalPromise = (0,_oracle_js__WEBPACK_IMPORTED_MODULE_1__.getOracleDecimals)(network, oracleId);\n        const pricesPromise = assets.map((asset) => (0,_oracle_js__WEBPACK_IMPORTED_MODULE_1__.getOraclePrice)(network, oracleId, asset));\n        const [decimalsResult, pricesResult] = await Promise.all([\n            decimalPromise,\n            Promise.all(pricesPromise),\n        ]);\n        if (pricesResult.length !== assets.length) {\n            throw Error('Failed to load all prices');\n        }\n        const prices = new Map();\n        for (let i = 0; i < assets.length; i++) {\n            prices.set(assets[i], pricesResult[i]);\n        }\n        return new PoolOracle(oracleId, prices, decimalsResult.decimals, decimalsResult.latestLedger);\n    }\n    /**\n     * Get the price of an asset as a fixed point number with the oracle's decimals\n     * @param assetId - The asset to get the price of\n     * @returns The price as a fixed point number, or undefined if no price is available\n     */\n    getPrice(assetId) {\n        return this.prices.get(assetId)?.price;\n    }\n    /**\n     * Get the price of an asset as a floating point number\n     * @param assetId - The asset to get the price of\n     * @returns The price as a floating point number, or undefined if no price is available\n     */\n    getPriceFloat(assetId) {\n        const price = this.getPrice(assetId);\n        if (price) {\n            return (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.toFloat)(price, this.decimals);\n        }\n        else {\n            return undefined;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2xfb3JhY2xlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQztBQUM0QjtBQUMxRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNkRBQWlCO0FBQ2hELG9EQUFvRCwwREFBYztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlEQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vcG9vbC9wb29sX29yYWNsZS5qcz9jZDVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvRmxvYXQgfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7IGdldE9yYWNsZURlY2ltYWxzLCBnZXRPcmFjbGVQcmljZSB9IGZyb20gJy4uL29yYWNsZS5qcyc7XG5leHBvcnQgY2xhc3MgUG9vbE9yYWNsZSB7XG4gICAgb3JhY2xlSWQ7XG4gICAgcHJpY2VzO1xuICAgIGRlY2ltYWxzO1xuICAgIGxhdGVzdExlZGdlcjtcbiAgICBjb25zdHJ1Y3RvcihvcmFjbGVJZCwgcHJpY2VzLCBkZWNpbWFscywgbGF0ZXN0TGVkZ2VyKSB7XG4gICAgICAgIHRoaXMub3JhY2xlSWQgPSBvcmFjbGVJZDtcbiAgICAgICAgdGhpcy5wcmljZXMgPSBwcmljZXM7XG4gICAgICAgIHRoaXMuZGVjaW1hbHMgPSBkZWNpbWFscztcbiAgICAgICAgdGhpcy5sYXRlc3RMZWRnZXIgPSBsYXRlc3RMZWRnZXI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIG9yYWNsZUlkLCBhc3NldHMpIHtcbiAgICAgICAgY29uc3QgZGVjaW1hbFByb21pc2UgPSBnZXRPcmFjbGVEZWNpbWFscyhuZXR3b3JrLCBvcmFjbGVJZCk7XG4gICAgICAgIGNvbnN0IHByaWNlc1Byb21pc2UgPSBhc3NldHMubWFwKChhc3NldCkgPT4gZ2V0T3JhY2xlUHJpY2UobmV0d29yaywgb3JhY2xlSWQsIGFzc2V0KSk7XG4gICAgICAgIGNvbnN0IFtkZWNpbWFsc1Jlc3VsdCwgcHJpY2VzUmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIGRlY2ltYWxQcm9taXNlLFxuICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJpY2VzUHJvbWlzZSksXG4gICAgICAgIF0pO1xuICAgICAgICBpZiAocHJpY2VzUmVzdWx0Lmxlbmd0aCAhPT0gYXNzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGFsbCBwcmljZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmljZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcmljZXMuc2V0KGFzc2V0c1tpXSwgcHJpY2VzUmVzdWx0W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvb2xPcmFjbGUob3JhY2xlSWQsIHByaWNlcywgZGVjaW1hbHNSZXN1bHQuZGVjaW1hbHMsIGRlY2ltYWxzUmVzdWx0LmxhdGVzdExlZGdlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcHJpY2Ugb2YgYW4gYXNzZXQgYXMgYSBmaXhlZCBwb2ludCBudW1iZXIgd2l0aCB0aGUgb3JhY2xlJ3MgZGVjaW1hbHNcbiAgICAgKiBAcGFyYW0gYXNzZXRJZCAtIFRoZSBhc3NldCB0byBnZXQgdGhlIHByaWNlIG9mXG4gICAgICogQHJldHVybnMgVGhlIHByaWNlIGFzIGEgZml4ZWQgcG9pbnQgbnVtYmVyLCBvciB1bmRlZmluZWQgaWYgbm8gcHJpY2UgaXMgYXZhaWxhYmxlXG4gICAgICovXG4gICAgZ2V0UHJpY2UoYXNzZXRJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmljZXMuZ2V0KGFzc2V0SWQpPy5wcmljZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwcmljZSBvZiBhbiBhc3NldCBhcyBhIGZsb2F0aW5nIHBvaW50IG51bWJlclxuICAgICAqIEBwYXJhbSBhc3NldElkIC0gVGhlIGFzc2V0IHRvIGdldCB0aGUgcHJpY2Ugb2ZcbiAgICAgKiBAcmV0dXJucyBUaGUgcHJpY2UgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXIsIG9yIHVuZGVmaW5lZCBpZiBubyBwcmljZSBpcyBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBnZXRQcmljZUZsb2F0KGFzc2V0SWQpIHtcbiAgICAgICAgY29uc3QgcHJpY2UgPSB0aGlzLmdldFByaWNlKGFzc2V0SWQpO1xuICAgICAgICBpZiAocHJpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0b0Zsb2F0KHByaWNlLCB0aGlzLmRlY2ltYWxzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_oracle.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_user.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_user.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolUser: () => (/* binding */ PoolUser)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n/* harmony import */ var _user_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user_types.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_types.js\");\n\n\n\nclass PoolUser {\n    userId;\n    positions;\n    emissions;\n    constructor(userId, positions, emissions) {\n        this.userId = userId;\n        this.positions = positions;\n        this.emissions = emissions;\n    }\n    static async load(network, poolId, pool, userId) {\n        const ledgerKeys = [_user_types_js__WEBPACK_IMPORTED_MODULE_2__.Positions.ledgerKey(poolId, userId)];\n        for (const reserve of pool.reserves.values()) {\n            ledgerKeys.push(_user_types_js__WEBPACK_IMPORTED_MODULE_2__.PoolUserEmissionData.ledgerKey(poolId, userId, reserve.getDTokenEmissionIndex()));\n            ledgerKeys.push(_user_types_js__WEBPACK_IMPORTED_MODULE_2__.PoolUserEmissionData.ledgerKey(poolId, userId, reserve.getBTokenEmissionIndex()));\n        }\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const ledgerEntries = await stellarRpc.getLedgerEntries(...ledgerKeys);\n        let positions = new _user_types_js__WEBPACK_IMPORTED_MODULE_2__.Positions(new Map(), new Map(), new Map());\n        const emissions = new Map();\n        for (const entry of ledgerEntries.entries) {\n            const ledgerEntry = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerEntry.contractData().key());\n            switch (key) {\n                case 'Positions':\n                    positions = _user_types_js__WEBPACK_IMPORTED_MODULE_2__.Positions.fromLedgerEntryData(ledgerEntry);\n                    break;\n                case `UserEmis`: {\n                    const reserve_emis_id = _user_types_js__WEBPACK_IMPORTED_MODULE_2__.PoolUserEmissionData.getEmissionIndexFromLedgerEntryData(ledgerEntry);\n                    const reserve_data = _user_types_js__WEBPACK_IMPORTED_MODULE_2__.PoolUserEmissionData.fromLedgerEntryData(ledgerEntry);\n                    emissions.set(reserve_emis_id, reserve_data);\n                    break;\n                }\n                default:\n                    throw Error(`Invalid reserve key: should not contain ${key}`);\n            }\n        }\n        return new PoolUser(userId, positions, emissions);\n    }\n    /**\n     * Get a non-collaterized supply position in bTokens\n     * @param reserve\n     * @returns\n     */\n    getSupplyBTokens(reserve) {\n        const supply = this.positions.supply.get(reserve.config.index);\n        if (supply == undefined) {\n            return BigInt(0);\n        }\n        return supply;\n    }\n    /**\n     * Get the non-collaterized supply position for a given reserve\n     * @param reserve - The reserve\n     * @returns The supply, or 0 if the position does not have any supply\n     */\n    getSupply(reserve) {\n        const supply = this.positions.supply.get(reserve.config.index);\n        return reserve.toAssetFromBToken(supply);\n    }\n    /**\n     * Get the non-collaterized supply position for a given reserve as a floating point number\n     * @param reserve - The reserve\n     * @returns The supply, or 0 if the position does not have any supply\n     */\n    getSupplyFloat(reserve) {\n        const supply = this.positions.supply.get(reserve.config.index);\n        return reserve.toAssetFromBTokenFloat(supply);\n    }\n    /**\n     * Get the collaterized supply position in bTokens\n     * @param reserve\n     * @returns\n     */\n    getCollateralBTokens(reserve) {\n        const collateral = this.positions.collateral.get(reserve.config.index);\n        if (collateral == undefined) {\n            return BigInt(0);\n        }\n        return collateral;\n    }\n    /**\n     * Get the collateral position for a given reserve\n     * @param reserve - The reserve\n     * @returns The collateral, or 0 if the position does not have any collateral\n     */\n    getCollateral(reserve) {\n        const collateral = this.positions.collateral.get(reserve.config.index);\n        return reserve.toAssetFromBToken(collateral);\n    }\n    /**\n     * Get the collateral position for a given reserve as a floating point number\n     * @param reserve - The reserve\n     * @returns The collateral, or 0 if the position does not have any collateral\n     */\n    getCollateralFloat(reserve) {\n        const collateral = this.positions.collateral.get(reserve.config.index);\n        return reserve.toAssetFromBTokenFloat(collateral);\n    }\n    /**\n     * Get the liability position in dTokens\n     * @param reserve\n     * @returns\n     */\n    getLiabilityDTokens(reserve) {\n        const liability = this.positions.liabilities.get(reserve.config.index);\n        if (liability == undefined) {\n            return BigInt(0);\n        }\n        return liability;\n    }\n    /**\n     * Get the liabilities position for a given reserve\n     * @param reserve - The reserve\n     * @returns The liabilities, or 0 if the position does not have any liabilities\n     */\n    getLiabilities(reserve) {\n        const liability = this.positions.liabilities.get(reserve.config.index);\n        return reserve.toAssetFromDToken(liability);\n    }\n    /**\n     * Get the liabilities position for a given reserve as a floating point number\n     * @param reserve - The reserve\n     * @returns The liabilities, or 0 if the position does not have any liabilities\n     */\n    getLiabilitiesFloat(reserve) {\n        const liability = this.positions.liabilities.get(reserve.config.index);\n        return reserve.toAssetFromDTokenFloat(liability);\n    }\n    /**\n     * Estimate the total emissions for the user as a floating point number\n     * @returns The estimated emissions\n     */\n    estimateEmissions(reserves) {\n        let totalEmissions = 0;\n        const claimedTokens = [];\n        for (const reserve of reserves) {\n            // handle dToken emissions\n            const d_token_id = reserve.getDTokenEmissionIndex();\n            const d_token_data = this.emissions.get(d_token_id);\n            const d_token_position = this.getLiabilityDTokens(reserve);\n            if (reserve.borrowEmissions && (d_token_data || d_token_position > BigInt(0))) {\n                let dTokenAccrual = 0;\n                if (d_token_data) {\n                    dTokenAccrual = d_token_data.estimateAccrual(reserve.borrowEmissions, reserve.config.decimals, d_token_position);\n                }\n                else if (d_token_position > BigInt(0)) {\n                    // emissions began after user position was created, accrue all emissions\n                    const temp_d_token_data = new _user_types_js__WEBPACK_IMPORTED_MODULE_2__.PoolUserEmissionData(BigInt(0), BigInt(0));\n                    dTokenAccrual = temp_d_token_data.estimateAccrual(reserve.borrowEmissions, reserve.config.decimals, d_token_position);\n                }\n                if (dTokenAccrual > 0) {\n                    claimedTokens.push(d_token_id);\n                    totalEmissions += dTokenAccrual;\n                }\n            }\n            // handle bToken emissions\n            const b_token_id = reserve.getBTokenEmissionIndex();\n            const b_token_data = this.emissions.get(b_token_id);\n            const b_token_position = this.getSupplyBTokens(reserve) + this.getCollateralBTokens(reserve);\n            if (reserve.supplyEmissions && (b_token_data || b_token_position > BigInt(0))) {\n                let bTokenAccrual = 0;\n                if (b_token_data) {\n                    bTokenAccrual = b_token_data.estimateAccrual(reserve.supplyEmissions, reserve.config.decimals, b_token_position);\n                }\n                else if (b_token_position > BigInt(0)) {\n                    // emissions began after user position was created, accrue all emissions\n                    const temp_b_token_data = new _user_types_js__WEBPACK_IMPORTED_MODULE_2__.PoolUserEmissionData(BigInt(0), BigInt(0));\n                    bTokenAccrual = temp_b_token_data.estimateAccrual(reserve.supplyEmissions, reserve.config.decimals, b_token_position);\n                }\n                if (bTokenAccrual > 0) {\n                    claimedTokens.push(b_token_id);\n                    totalEmissions += bTokenAccrual;\n                }\n            }\n        }\n        return {\n            emissions: totalEmissions,\n            claimedTokens,\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Bvb2xfdXNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ2dCO0FBQ087QUFDM0Q7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscURBQVM7QUFDckM7QUFDQSw0QkFBNEIsZ0VBQW9CO0FBQ2hELDRCQUE0QixnRUFBb0I7QUFDaEQ7QUFDQSwrQkFBK0IscURBQUc7QUFDbEM7QUFDQSw0QkFBNEIscURBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQVM7QUFDekM7QUFDQTtBQUNBLDRDQUE0QyxnRUFBb0I7QUFDaEUseUNBQXlDLGdFQUFvQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxJQUFJO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsZ0VBQW9CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxnRUFBb0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vcG9vbC9wb29sX3VzZXIuanM/NzZjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBycGMgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBkZWNvZGVFbnRyeUtleSB9IGZyb20gJy4uL2xlZGdlcl9lbnRyeV9oZWxwZXIuanMnO1xuaW1wb3J0IHsgUG9vbFVzZXJFbWlzc2lvbkRhdGEsIFBvc2l0aW9ucyB9IGZyb20gJy4vdXNlcl90eXBlcy5qcyc7XG5leHBvcnQgY2xhc3MgUG9vbFVzZXIge1xuICAgIHVzZXJJZDtcbiAgICBwb3NpdGlvbnM7XG4gICAgZW1pc3Npb25zO1xuICAgIGNvbnN0cnVjdG9yKHVzZXJJZCwgcG9zaXRpb25zLCBlbWlzc2lvbnMpIHtcbiAgICAgICAgdGhpcy51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgICAgICB0aGlzLmVtaXNzaW9ucyA9IGVtaXNzaW9ucztcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGxvYWQobmV0d29yaywgcG9vbElkLCBwb29sLCB1c2VySWQpIHtcbiAgICAgICAgY29uc3QgbGVkZ2VyS2V5cyA9IFtQb3NpdGlvbnMubGVkZ2VyS2V5KHBvb2xJZCwgdXNlcklkKV07XG4gICAgICAgIGZvciAoY29uc3QgcmVzZXJ2ZSBvZiBwb29sLnJlc2VydmVzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBsZWRnZXJLZXlzLnB1c2goUG9vbFVzZXJFbWlzc2lvbkRhdGEubGVkZ2VyS2V5KHBvb2xJZCwgdXNlcklkLCByZXNlcnZlLmdldERUb2tlbkVtaXNzaW9uSW5kZXgoKSkpO1xuICAgICAgICAgICAgbGVkZ2VyS2V5cy5wdXNoKFBvb2xVc2VyRW1pc3Npb25EYXRhLmxlZGdlcktleShwb29sSWQsIHVzZXJJZCwgcmVzZXJ2ZS5nZXRCVG9rZW5FbWlzc2lvbkluZGV4KCkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGVsbGFyUnBjID0gbmV3IHJwYy5TZXJ2ZXIobmV0d29yay5ycGMsIG5ldHdvcmsub3B0cyk7XG4gICAgICAgIGNvbnN0IGxlZGdlckVudHJpZXMgPSBhd2FpdCBzdGVsbGFyUnBjLmdldExlZGdlckVudHJpZXMoLi4ubGVkZ2VyS2V5cyk7XG4gICAgICAgIGxldCBwb3NpdGlvbnMgPSBuZXcgUG9zaXRpb25zKG5ldyBNYXAoKSwgbmV3IE1hcCgpLCBuZXcgTWFwKCkpO1xuICAgICAgICBjb25zdCBlbWlzc2lvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgbGVkZ2VyRW50cmllcy5lbnRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBsZWRnZXJFbnRyeSA9IGVudHJ5LnZhbDtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KGxlZGdlckVudHJ5LmNvbnRyYWN0RGF0YSgpLmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnUG9zaXRpb25zJzpcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zID0gUG9zaXRpb25zLmZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGBVc2VyRW1pc2A6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXJ2ZV9lbWlzX2lkID0gUG9vbFVzZXJFbWlzc2lvbkRhdGEuZ2V0RW1pc3Npb25JbmRleEZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNlcnZlX2RhdGEgPSBQb29sVXNlckVtaXNzaW9uRGF0YS5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgZW1pc3Npb25zLnNldChyZXNlcnZlX2VtaXNfaWQsIHJlc2VydmVfZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCByZXNlcnZlIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9vbFVzZXIodXNlcklkLCBwb3NpdGlvbnMsIGVtaXNzaW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIG5vbi1jb2xsYXRlcml6ZWQgc3VwcGx5IHBvc2l0aW9uIGluIGJUb2tlbnNcbiAgICAgKiBAcGFyYW0gcmVzZXJ2ZVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZ2V0U3VwcGx5QlRva2VucyhyZXNlcnZlKSB7XG4gICAgICAgIGNvbnN0IHN1cHBseSA9IHRoaXMucG9zaXRpb25zLnN1cHBseS5nZXQocmVzZXJ2ZS5jb25maWcuaW5kZXgpO1xuICAgICAgICBpZiAoc3VwcGx5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCgwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwcGx5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG5vbi1jb2xsYXRlcml6ZWQgc3VwcGx5IHBvc2l0aW9uIGZvciBhIGdpdmVuIHJlc2VydmVcbiAgICAgKiBAcGFyYW0gcmVzZXJ2ZSAtIFRoZSByZXNlcnZlXG4gICAgICogQHJldHVybnMgVGhlIHN1cHBseSwgb3IgMCBpZiB0aGUgcG9zaXRpb24gZG9lcyBub3QgaGF2ZSBhbnkgc3VwcGx5XG4gICAgICovXG4gICAgZ2V0U3VwcGx5KHJlc2VydmUpIHtcbiAgICAgICAgY29uc3Qgc3VwcGx5ID0gdGhpcy5wb3NpdGlvbnMuc3VwcGx5LmdldChyZXNlcnZlLmNvbmZpZy5pbmRleCk7XG4gICAgICAgIHJldHVybiByZXNlcnZlLnRvQXNzZXRGcm9tQlRva2VuKHN1cHBseSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbm9uLWNvbGxhdGVyaXplZCBzdXBwbHkgcG9zaXRpb24gZm9yIGEgZ2l2ZW4gcmVzZXJ2ZSBhcyBhIGZsb2F0aW5nIHBvaW50IG51bWJlclxuICAgICAqIEBwYXJhbSByZXNlcnZlIC0gVGhlIHJlc2VydmVcbiAgICAgKiBAcmV0dXJucyBUaGUgc3VwcGx5LCBvciAwIGlmIHRoZSBwb3NpdGlvbiBkb2VzIG5vdCBoYXZlIGFueSBzdXBwbHlcbiAgICAgKi9cbiAgICBnZXRTdXBwbHlGbG9hdChyZXNlcnZlKSB7XG4gICAgICAgIGNvbnN0IHN1cHBseSA9IHRoaXMucG9zaXRpb25zLnN1cHBseS5nZXQocmVzZXJ2ZS5jb25maWcuaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVzZXJ2ZS50b0Fzc2V0RnJvbUJUb2tlbkZsb2F0KHN1cHBseSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29sbGF0ZXJpemVkIHN1cHBseSBwb3NpdGlvbiBpbiBiVG9rZW5zXG4gICAgICogQHBhcmFtIHJlc2VydmVcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGdldENvbGxhdGVyYWxCVG9rZW5zKHJlc2VydmUpIHtcbiAgICAgICAgY29uc3QgY29sbGF0ZXJhbCA9IHRoaXMucG9zaXRpb25zLmNvbGxhdGVyYWwuZ2V0KHJlc2VydmUuY29uZmlnLmluZGV4KTtcbiAgICAgICAgaWYgKGNvbGxhdGVyYWwgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsYXRlcmFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbGxhdGVyYWwgcG9zaXRpb24gZm9yIGEgZ2l2ZW4gcmVzZXJ2ZVxuICAgICAqIEBwYXJhbSByZXNlcnZlIC0gVGhlIHJlc2VydmVcbiAgICAgKiBAcmV0dXJucyBUaGUgY29sbGF0ZXJhbCwgb3IgMCBpZiB0aGUgcG9zaXRpb24gZG9lcyBub3QgaGF2ZSBhbnkgY29sbGF0ZXJhbFxuICAgICAqL1xuICAgIGdldENvbGxhdGVyYWwocmVzZXJ2ZSkge1xuICAgICAgICBjb25zdCBjb2xsYXRlcmFsID0gdGhpcy5wb3NpdGlvbnMuY29sbGF0ZXJhbC5nZXQocmVzZXJ2ZS5jb25maWcuaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVzZXJ2ZS50b0Fzc2V0RnJvbUJUb2tlbihjb2xsYXRlcmFsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb2xsYXRlcmFsIHBvc2l0aW9uIGZvciBhIGdpdmVuIHJlc2VydmUgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXJcbiAgICAgKiBAcGFyYW0gcmVzZXJ2ZSAtIFRoZSByZXNlcnZlXG4gICAgICogQHJldHVybnMgVGhlIGNvbGxhdGVyYWwsIG9yIDAgaWYgdGhlIHBvc2l0aW9uIGRvZXMgbm90IGhhdmUgYW55IGNvbGxhdGVyYWxcbiAgICAgKi9cbiAgICBnZXRDb2xsYXRlcmFsRmxvYXQocmVzZXJ2ZSkge1xuICAgICAgICBjb25zdCBjb2xsYXRlcmFsID0gdGhpcy5wb3NpdGlvbnMuY29sbGF0ZXJhbC5nZXQocmVzZXJ2ZS5jb25maWcuaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVzZXJ2ZS50b0Fzc2V0RnJvbUJUb2tlbkZsb2F0KGNvbGxhdGVyYWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpYWJpbGl0eSBwb3NpdGlvbiBpbiBkVG9rZW5zXG4gICAgICogQHBhcmFtIHJlc2VydmVcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGdldExpYWJpbGl0eURUb2tlbnMocmVzZXJ2ZSkge1xuICAgICAgICBjb25zdCBsaWFiaWxpdHkgPSB0aGlzLnBvc2l0aW9ucy5saWFiaWxpdGllcy5nZXQocmVzZXJ2ZS5jb25maWcuaW5kZXgpO1xuICAgICAgICBpZiAobGlhYmlsaXR5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCgwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlhYmlsaXR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxpYWJpbGl0aWVzIHBvc2l0aW9uIGZvciBhIGdpdmVuIHJlc2VydmVcbiAgICAgKiBAcGFyYW0gcmVzZXJ2ZSAtIFRoZSByZXNlcnZlXG4gICAgICogQHJldHVybnMgVGhlIGxpYWJpbGl0aWVzLCBvciAwIGlmIHRoZSBwb3NpdGlvbiBkb2VzIG5vdCBoYXZlIGFueSBsaWFiaWxpdGllc1xuICAgICAqL1xuICAgIGdldExpYWJpbGl0aWVzKHJlc2VydmUpIHtcbiAgICAgICAgY29uc3QgbGlhYmlsaXR5ID0gdGhpcy5wb3NpdGlvbnMubGlhYmlsaXRpZXMuZ2V0KHJlc2VydmUuY29uZmlnLmluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlc2VydmUudG9Bc3NldEZyb21EVG9rZW4obGlhYmlsaXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsaWFiaWxpdGllcyBwb3NpdGlvbiBmb3IgYSBnaXZlbiByZXNlcnZlIGFzIGEgZmxvYXRpbmcgcG9pbnQgbnVtYmVyXG4gICAgICogQHBhcmFtIHJlc2VydmUgLSBUaGUgcmVzZXJ2ZVxuICAgICAqIEByZXR1cm5zIFRoZSBsaWFiaWxpdGllcywgb3IgMCBpZiB0aGUgcG9zaXRpb24gZG9lcyBub3QgaGF2ZSBhbnkgbGlhYmlsaXRpZXNcbiAgICAgKi9cbiAgICBnZXRMaWFiaWxpdGllc0Zsb2F0KHJlc2VydmUpIHtcbiAgICAgICAgY29uc3QgbGlhYmlsaXR5ID0gdGhpcy5wb3NpdGlvbnMubGlhYmlsaXRpZXMuZ2V0KHJlc2VydmUuY29uZmlnLmluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlc2VydmUudG9Bc3NldEZyb21EVG9rZW5GbG9hdChsaWFiaWxpdHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFc3RpbWF0ZSB0aGUgdG90YWwgZW1pc3Npb25zIGZvciB0aGUgdXNlciBhcyBhIGZsb2F0aW5nIHBvaW50IG51bWJlclxuICAgICAqIEByZXR1cm5zIFRoZSBlc3RpbWF0ZWQgZW1pc3Npb25zXG4gICAgICovXG4gICAgZXN0aW1hdGVFbWlzc2lvbnMocmVzZXJ2ZXMpIHtcbiAgICAgICAgbGV0IHRvdGFsRW1pc3Npb25zID0gMDtcbiAgICAgICAgY29uc3QgY2xhaW1lZFRva2VucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJlc2VydmUgb2YgcmVzZXJ2ZXMpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBkVG9rZW4gZW1pc3Npb25zXG4gICAgICAgICAgICBjb25zdCBkX3Rva2VuX2lkID0gcmVzZXJ2ZS5nZXREVG9rZW5FbWlzc2lvbkluZGV4KCk7XG4gICAgICAgICAgICBjb25zdCBkX3Rva2VuX2RhdGEgPSB0aGlzLmVtaXNzaW9ucy5nZXQoZF90b2tlbl9pZCk7XG4gICAgICAgICAgICBjb25zdCBkX3Rva2VuX3Bvc2l0aW9uID0gdGhpcy5nZXRMaWFiaWxpdHlEVG9rZW5zKHJlc2VydmUpO1xuICAgICAgICAgICAgaWYgKHJlc2VydmUuYm9ycm93RW1pc3Npb25zICYmIChkX3Rva2VuX2RhdGEgfHwgZF90b2tlbl9wb3NpdGlvbiA+IEJpZ0ludCgwKSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZFRva2VuQWNjcnVhbCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRfdG9rZW5fZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBkVG9rZW5BY2NydWFsID0gZF90b2tlbl9kYXRhLmVzdGltYXRlQWNjcnVhbChyZXNlcnZlLmJvcnJvd0VtaXNzaW9ucywgcmVzZXJ2ZS5jb25maWcuZGVjaW1hbHMsIGRfdG9rZW5fcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkX3Rva2VuX3Bvc2l0aW9uID4gQmlnSW50KDApKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtaXNzaW9ucyBiZWdhbiBhZnRlciB1c2VyIHBvc2l0aW9uIHdhcyBjcmVhdGVkLCBhY2NydWUgYWxsIGVtaXNzaW9uc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wX2RfdG9rZW5fZGF0YSA9IG5ldyBQb29sVXNlckVtaXNzaW9uRGF0YShCaWdJbnQoMCksIEJpZ0ludCgwKSk7XG4gICAgICAgICAgICAgICAgICAgIGRUb2tlbkFjY3J1YWwgPSB0ZW1wX2RfdG9rZW5fZGF0YS5lc3RpbWF0ZUFjY3J1YWwocmVzZXJ2ZS5ib3Jyb3dFbWlzc2lvbnMsIHJlc2VydmUuY29uZmlnLmRlY2ltYWxzLCBkX3Rva2VuX3Bvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRUb2tlbkFjY3J1YWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYWltZWRUb2tlbnMucHVzaChkX3Rva2VuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxFbWlzc2lvbnMgKz0gZFRva2VuQWNjcnVhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoYW5kbGUgYlRva2VuIGVtaXNzaW9uc1xuICAgICAgICAgICAgY29uc3QgYl90b2tlbl9pZCA9IHJlc2VydmUuZ2V0QlRva2VuRW1pc3Npb25JbmRleCgpO1xuICAgICAgICAgICAgY29uc3QgYl90b2tlbl9kYXRhID0gdGhpcy5lbWlzc2lvbnMuZ2V0KGJfdG9rZW5faWQpO1xuICAgICAgICAgICAgY29uc3QgYl90b2tlbl9wb3NpdGlvbiA9IHRoaXMuZ2V0U3VwcGx5QlRva2VucyhyZXNlcnZlKSArIHRoaXMuZ2V0Q29sbGF0ZXJhbEJUb2tlbnMocmVzZXJ2ZSk7XG4gICAgICAgICAgICBpZiAocmVzZXJ2ZS5zdXBwbHlFbWlzc2lvbnMgJiYgKGJfdG9rZW5fZGF0YSB8fCBiX3Rva2VuX3Bvc2l0aW9uID4gQmlnSW50KDApKSkge1xuICAgICAgICAgICAgICAgIGxldCBiVG9rZW5BY2NydWFsID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoYl90b2tlbl9kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGJUb2tlbkFjY3J1YWwgPSBiX3Rva2VuX2RhdGEuZXN0aW1hdGVBY2NydWFsKHJlc2VydmUuc3VwcGx5RW1pc3Npb25zLCByZXNlcnZlLmNvbmZpZy5kZWNpbWFscywgYl90b2tlbl9wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJfdG9rZW5fcG9zaXRpb24gPiBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1pc3Npb25zIGJlZ2FuIGFmdGVyIHVzZXIgcG9zaXRpb24gd2FzIGNyZWF0ZWQsIGFjY3J1ZSBhbGwgZW1pc3Npb25zXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBfYl90b2tlbl9kYXRhID0gbmV3IFBvb2xVc2VyRW1pc3Npb25EYXRhKEJpZ0ludCgwKSwgQmlnSW50KDApKTtcbiAgICAgICAgICAgICAgICAgICAgYlRva2VuQWNjcnVhbCA9IHRlbXBfYl90b2tlbl9kYXRhLmVzdGltYXRlQWNjcnVhbChyZXNlcnZlLnN1cHBseUVtaXNzaW9ucywgcmVzZXJ2ZS5jb25maWcuZGVjaW1hbHMsIGJfdG9rZW5fcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYlRva2VuQWNjcnVhbCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhaW1lZFRva2Vucy5wdXNoKGJfdG9rZW5faWQpO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbEVtaXNzaW9ucyArPSBiVG9rZW5BY2NydWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1pc3Npb25zOiB0b3RhbEVtaXNzaW9ucyxcbiAgICAgICAgICAgIGNsYWltZWRUb2tlbnMsXG4gICAgICAgIH07XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/pool_user.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Reserve: () => (/* binding */ Reserve),\n/* harmony export */   ReserveV1: () => (/* binding */ ReserveV1),\n/* harmony export */   ReserveV2: () => (/* binding */ ReserveV2)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _emissions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../emissions.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../math.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/math.js\");\n/* harmony import */ var _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reserve_types.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve_types.js\");\n\n\n\n\n\n\n/**\n * Manage ledger data for a reserve in a Blend pool\n */\nclass Reserve {\n    poolId;\n    assetId;\n    config;\n    data;\n    borrowEmissions;\n    supplyEmissions;\n    borrowApr;\n    estBorrowApy;\n    supplyApr;\n    estSupplyApy;\n    latestLedger;\n    constructor(\n    /**\n     * The contract address of the Pool the reserve belongs to\n     */\n    poolId, \n    /**\n     * The contract address of the Reserve asset\n     */\n    assetId, \n    /**\n     * The configuration of the Reserve\n     */\n    config, \n    /**\n     * The data of the Reserve\n     */\n    data, \n    /**\n     * The borrow emissions for the Reserve. This will be undefined if there are no borrow emissions\n     */\n    borrowEmissions, \n    /**\n     * The supply emissions for the Reserve. This will be undefined if there are no supply emissions\n     */\n    supplyEmissions, \n    /**\n     * The current APR being charged to borrowers\n     */\n    borrowApr, \n    /**\n     * The estimated APY for borrowers based on the current APR and\n     * a daily compounding period\n     */\n    estBorrowApy, \n    /**\n     * The current APR being earned by suppliers\n     */\n    supplyApr, \n    /**\n     * The estimated APY for suppliers based on the current APR and\n     * a weekly compounding period\n     */\n    estSupplyApy, \n    /**\n     * The ledger number of the latest ledger entry\n     */\n    latestLedger) {\n        this.poolId = poolId;\n        this.assetId = assetId;\n        this.config = config;\n        this.data = data;\n        this.borrowEmissions = borrowEmissions;\n        this.supplyEmissions = supplyEmissions;\n        this.borrowApr = borrowApr;\n        this.estBorrowApy = estBorrowApy;\n        this.supplyApr = supplyApr;\n        this.estSupplyApy = estSupplyApy;\n        this.latestLedger = latestLedger;\n    }\n    /********** Data Helpers **********/\n    /**\n     * Get the borrow (dToken) emission index\n     */\n    getDTokenEmissionIndex() {\n        return this.config.index * 2;\n    }\n    /**\n     * Get the supply (bToken) emission index\n     */\n    getBTokenEmissionIndex() {\n        return this.config.index * 2 + 1;\n    }\n    /**\n     * Get the liability factor as a floating point decimal percentage.\n     * (e.g 1.23 == 95%). This inverts the stored value on chain to make\n     * computing the effective liability easier.\n     *\n     * The effective liability of a position is:\n     * ```\n     * effective_liability = liability * liability_factor\n     * ```\n     */\n    getLiabilityFactor() {\n        return 1 / _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(BigInt(this.config.l_factor), 7);\n    }\n    /**\n     * Get the collateral factor as a floating point decimal percentage\n     * (e.g 0.95 == 95%)\n     *\n     * The effective collateral of a positions is:\n     * ```\n     * effective_collateral = collateral * collateral_factor\n     * ```\n     */\n    getCollateralFactor() {\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(BigInt(this.config.c_factor), 7);\n    }\n    /**\n     * Get the utilization of the Reserve as a fixed point number\n     */\n    getUtilization() {\n        const totalSupply = this.totalSupply();\n        if (totalSupply === BigInt(0)) {\n            return BigInt(0);\n        }\n        else {\n            return _math_js__WEBPACK_IMPORTED_MODULE_4__.divCeil(this.totalLiabilities(), totalSupply, _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.config.decimals));\n        }\n    }\n    /**\n     * Get the utilization of the Reserve as a floating point number\n     */\n    getUtilizationFloat() {\n        const totalSupply = this.totalSupply();\n        if (totalSupply === BigInt(0)) {\n            return 0;\n        }\n        else {\n            return _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(_math_js__WEBPACK_IMPORTED_MODULE_4__.divCeil(this.totalLiabilities(), totalSupply, _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.config.decimals)), 7);\n        }\n    }\n    /**\n     * Get the total liabilities of the Reserve\n     */\n    totalLiabilities() {\n        return this.toAssetFromDToken(this.data.dSupply);\n    }\n    /**\n     * Get the total liabilities of the Reserve as a floating point number\n     */\n    totalLiabilitiesFloat() {\n        return this.toAssetFromDTokenFloat(this.data.dSupply);\n    }\n    /**\n     * Get the total supply of the Reserve\n     */\n    totalSupply() {\n        return this.toAssetFromBToken(this.data.bSupply);\n    }\n    /**\n     * Get the total supply of the Reserve as a floating point number\n     */\n    totalSupplyFloat() {\n        return this.toAssetFromBTokenFloat(this.data.bSupply);\n    }\n    /********** Conversion Functions ***********/\n    /**\n     * Convert dTokens to assets\n     * @param dTokens - The number of dTokens to convert\n     * @returns The asset amount\n     */\n    toAssetFromDToken(dTokens) {\n        if (dTokens === undefined) {\n            return BigInt(0);\n        }\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(dTokens, this.data.dRate, _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.rateDecimals));\n    }\n    /**\n     * Convert bTokens to assets\n     * @param bTokens - The number of bTokens to convert\n     * @returns The asset amount\n     */\n    toAssetFromBToken(bTokens) {\n        if (bTokens === undefined) {\n            return BigInt(0);\n        }\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.mulFloor(bTokens, this.data.bRate, _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.rateDecimals));\n    }\n    /**\n     * Convert dTokens to their corresponding effective asset value. This takes\n     * into account the liability factor\n     * @param dTokens - The number of dTokens to convert\n     * @returns The liability amount in assets\n     */\n    toEffectiveAssetFromDToken(dTokens) {\n        if (dTokens === undefined) {\n            return BigInt(0);\n        }\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.divCeil(this.toAssetFromDToken(dTokens), BigInt(this.config.l_factor), _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n    }\n    /**\n     * Convert bTokens to their corresponding effective asset value. This takes\n     * into account the collateral factor\n     * @param bTokens - The number of bTokens to convert\n     * @returns The collateral amount in assets\n     */\n    toEffectiveAssetFromBToken(bTokens) {\n        if (bTokens === undefined) {\n            return BigInt(0);\n        }\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.mulFloor(this.toAssetFromBToken(bTokens), BigInt(this.config.c_factor), _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n    }\n    /**\n     * Convert dTokens to assets as a floating point number\n     * @param dTokens - The number of dTokens to convert\n     * @returns The asset amount\n     */\n    toAssetFromDTokenFloat(dTokens) {\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(this.toAssetFromDToken(dTokens), this.config.decimals);\n    }\n    /**\n     * Convert bTokens to assets as a floating point number\n     * @param bTokens - The number of bTokens to convert\n     * @returns The asset amount\n     */\n    toAssetFromBTokenFloat(bTokens) {\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(this.toAssetFromBToken(bTokens), this.config.decimals);\n    }\n    /**\n     * Convert dTokens to their corresponding effective asset value as a floating point number.\n     * This takes into account the liability factor.\n     * @param dTokens - The number of dTokens to convert\n     * @returns The liability amount in assets\n     */\n    toEffectiveAssetFromDTokenFloat(dTokens) {\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(this.toEffectiveAssetFromDToken(dTokens), this.config.decimals);\n    }\n    /**\n     * Convert bTokens to their corresponding effective asset value. This takes\n     * into account the collateral factor\n     * @param bTokens - The number of bTokens to convert\n     * @returns The collateral amount in assets\n     */\n    toEffectiveAssetFromBTokenFloat(bTokens) {\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(this.toEffectiveAssetFromBToken(bTokens), this.config.decimals);\n    }\n    /**\n     * Convert an asset amount to dTokens taking the floor\n     * @param asset - The asset amount to convert\n     * @returns The number of dTokens\n     */\n    toDTokensFromAssetFloor(asset) {\n        if (asset === undefined) {\n            return BigInt(0);\n        }\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.divFloor(asset, this.data.dRate, _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.rateDecimals));\n    }\n    /**\n     * Convert an asset amount to dTokens taking the ceiling\n     * @param asset - The asset amount to convert\n     * @returns The number of dTokens\n     */\n    toDTokensFromAssetCeil(asset) {\n        if (asset === undefined) {\n            return BigInt(0);\n        }\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.divCeil(asset, this.data.dRate, _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.rateDecimals));\n    }\n    /**\n     * Convert an asset amount to bTokens taking the floor\n     * @param asset - The asset amount to convert\n     * @returns The number of bTokens\n     */\n    toBTokensFromAssetFloor(asset) {\n        if (asset === undefined) {\n            return BigInt(0);\n        }\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.divFloor(asset, this.data.bRate, _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.rateDecimals));\n    }\n    /**\n     * Convert an asset amount to bTokens taking the ceiling\n     * @param asset - The asset amount to convert\n     * @returns The number of bTokens\n     */\n    toBTokensFromAssetCeil(asset) {\n        if (asset === undefined) {\n            return BigInt(0);\n        }\n        return _math_js__WEBPACK_IMPORTED_MODULE_4__.divCeil(asset, this.data.bRate, _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.rateDecimals));\n    }\n    /********** Math Helpers **********/\n    /**\n     * Set the borrow and supply APRs and APYs based on the current state of the Reserve\n     *\n     * @param backstopTakeRate - The backstop take rate (as a fixed point number w/ 7 decimals)\n     * @returns the APR as a bigint with 7 decimals.\n     */\n    setRates(backstopTakeRate) {\n        const curUtil = this.getUtilization();\n        if (curUtil === BigInt(0)) {\n            this.borrowApr = _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(BigInt(this.config.r_base), 7);\n            this.supplyApr = 0;\n            return 0n;\n        }\n        const IR_MOD_SCALAR = _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.irmodDecimals);\n        let curIr;\n        const targetUtil = BigInt(this.config.util);\n        const fixed_95_percent = BigInt(9_500_000);\n        const fixed_5_percent = BigInt(500_000);\n        // calculate current IR\n        if (curUtil <= targetUtil) {\n            const utilScalar = _math_js__WEBPACK_IMPORTED_MODULE_4__.divCeil(curUtil, targetUtil, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            const baseRate = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(utilScalar, BigInt(this.config.r_one), _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7) +\n                BigInt(this.config.r_base);\n            curIr = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(baseRate, this.data.interestRateModifier, IR_MOD_SCALAR);\n        }\n        else if (curUtil <= fixed_95_percent) {\n            const utilScalar = _math_js__WEBPACK_IMPORTED_MODULE_4__.divCeil(curUtil - targetUtil, fixed_95_percent - targetUtil, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            const baseRate = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(utilScalar, BigInt(this.config.r_two), _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7) +\n                BigInt(this.config.r_one) +\n                BigInt(this.config.r_base);\n            curIr = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(baseRate, this.data.interestRateModifier, IR_MOD_SCALAR);\n        }\n        else {\n            const utilScalar = _math_js__WEBPACK_IMPORTED_MODULE_4__.divCeil(curUtil - fixed_95_percent, fixed_5_percent, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            const extraRate = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(utilScalar, BigInt(this.config.r_three), _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            const intersection = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(this.data.interestRateModifier, BigInt(this.config.r_two) + BigInt(this.config.r_one) + BigInt(this.config.r_base), IR_MOD_SCALAR);\n            curIr = extraRate + intersection;\n        }\n        const borrowApr = _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(curIr, 7);\n        const supplyCapture = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulFloor(_math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7 - backstopTakeRate, curUtil, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n        const supplyApr = _math_js__WEBPACK_IMPORTED_MODULE_4__.toFloat(_math_js__WEBPACK_IMPORTED_MODULE_4__.mulFloor(curIr, supplyCapture, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7), 7);\n        // est borrow apy at a higher compounding rate than supply such that each is a \"safer\" estimate\n        // for the user\n        const estBorrowApy = (1 + borrowApr / 365) ** 365 - 1;\n        const estSupplyApy = (1 + supplyApr / 52) ** 52 - 1;\n        this.borrowApr = borrowApr;\n        this.supplyApr = supplyApr;\n        this.estBorrowApy = estBorrowApy;\n        this.estSupplyApy = estSupplyApy;\n        return curIr;\n    }\n    /**\n     * Accrue interest on the Reserve to the given timestamp, or now if no timestamp is provided.\n     *\n     * Calls `setRates` internally and updates ReserveData based on the accrual.\n     *\n     * @param backstopTakeRate - The backstop take rate (as a fixed point number)\n     * @param timestamp - The timestamp to accrue interest to (in seconds since epoch)\n     */\n    accrue(backstopTakeRate, timestamp) {\n        if (timestamp === undefined) {\n            timestamp = Math.floor(Date.now() / 1000);\n        }\n        const curIr = this.setRates(backstopTakeRate);\n        const curUtil = this.getUtilization();\n        if (curUtil === BigInt(0)) {\n            this.data.lastTime = timestamp;\n            return;\n        }\n        const IR_MOD_SCALAR = _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.irmodDecimals);\n        const RATE_SCALAR = _math_js__WEBPACK_IMPORTED_MODULE_4__.toFixed(1, this.rateDecimals);\n        const targetUtil = BigInt(this.config.util);\n        // update rate_modifier on reserve data\n        const deltaTime = timestamp - this.data.lastTime;\n        if (deltaTime <= 0) {\n            return;\n        }\n        if (curUtil > targetUtil) {\n            // rate modifier increasing - scale to IR_MOD_SCALAR\n            const utilDif = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulFloor(IR_MOD_SCALAR, curUtil - targetUtil, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            // util and reactivity are 7 decimals\n            const utilError = BigInt(deltaTime) * utilDif;\n            const rateDif = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulFloor(utilError, BigInt(this.config.reactivity), _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            const nextIrMod = this.data.interestRateModifier + rateDif;\n            const irModMax = BigInt(10) * IR_MOD_SCALAR;\n            this.data.interestRateModifier = nextIrMod > irModMax ? irModMax : nextIrMod;\n        }\n        else if (curUtil < targetUtil) {\n            // rate modifier decreasing - scale to IR_MOD_SCALAR\n            const utilDif = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulFloor(IR_MOD_SCALAR, targetUtil - curUtil, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            // util and reactivity are 7 decimals\n            const utilError = BigInt(deltaTime) * utilDif;\n            const rateDif = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(utilError, BigInt(this.config.reactivity), _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            const nextIrMod = this.data.interestRateModifier - rateDif;\n            const irModMin = IR_MOD_SCALAR / 10n;\n            this.data.interestRateModifier = nextIrMod < irModMin ? irModMin : nextIrMod;\n        }\n        // calc accrual amount over blocks\n        // scale time weight to RATE_SCALAR\n        const timeWeight = (BigInt(deltaTime) * RATE_SCALAR) / BigInt(31536000);\n        // curIr is 7 decimals\n        const accrualRate = RATE_SCALAR + _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(timeWeight, curIr, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n        // apply accrual to reserveData\n        const preUpdateSupply = this.totalSupply();\n        const preUpdateLiabilities = this.totalLiabilities();\n        this.data.dRate = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulCeil(accrualRate, this.data.dRate, RATE_SCALAR);\n        const accruedInterest = this.totalLiabilities() - preUpdateLiabilities;\n        if (accruedInterest > 0) {\n            const newBackstopCredit = _math_js__WEBPACK_IMPORTED_MODULE_4__.mulFloor(accruedInterest, backstopTakeRate, _math_js__WEBPACK_IMPORTED_MODULE_4__.SCALAR_7);\n            this.data.backstopCredit += newBackstopCredit;\n            this.data.bRate = _math_js__WEBPACK_IMPORTED_MODULE_4__.divFloor(preUpdateSupply + accruedInterest - newBackstopCredit, this.data.bSupply, RATE_SCALAR);\n        }\n        this.data.lastTime = timestamp;\n    }\n}\nclass ReserveV1 extends Reserve {\n    rateDecimals = 9;\n    irmodDecimals = 9;\n    version = _index_js__WEBPACK_IMPORTED_MODULE_2__.Version.V1;\n    /**\n     * Load a Reserve from asset `assetId` from the pool `poolId` on the network `network`\n     * @param network - The network configuration\n     * @param poolId - The contract address of the Pool\n     * @param backstopTakeRate - The backstop take rate (as a fixed point number with 7 decimals)\n     * @param assetId - The contract address of the Reserve asset\n     * @param index - The index of the Reserve in the Pool\n     * @param timestamp - The timestamp to project the Reserve data to (in seconds since epoch)\n     * @returns A Reserve object\n     */\n    static async load(network, poolId, backstopTakeRate, assetId, index, timestamp) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const dTokenIndex = index * 2;\n        const bTokenIndex = index * 2 + 1;\n        const ledgerKeys = [\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveConfig.ledgerKey(poolId, assetId),\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveData.ledgerKey(poolId, assetId),\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionConfig.ledgerKey(poolId, bTokenIndex),\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionData.ledgerKey(poolId, bTokenIndex),\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionConfig.ledgerKey(poolId, dTokenIndex),\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionData.ledgerKey(poolId, dTokenIndex),\n        ];\n        const reserveLedgerEntries = await stellarRpc.getLedgerEntries(...ledgerKeys);\n        // not all reserves have emissions, but the first 2 entries are required\n        if (reserveLedgerEntries.entries.length < 2) {\n            throw new Error('Unable to load reserve: missing ledger entries.');\n        }\n        let reserveConfig;\n        let reserveData;\n        let emissionBorrowConfig;\n        let emissionBorrowData;\n        let emissionSupplyConfig;\n        let emissionSupplyData;\n        for (const entry of reserveLedgerEntries.entries) {\n            const ledgerEntry = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__.decodeEntryKey)(ledgerEntry.contractData().key());\n            switch (key) {\n                case 'ResConfig':\n                    reserveConfig = _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveConfig.fromLedgerEntryData(ledgerEntry);\n                    break;\n                case 'ResData':\n                    reserveData = _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveData.fromLedgerEntryData(ledgerEntry);\n                    break;\n                case `EmisConfig`: {\n                    const index = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getEmissionIndex)(ledgerEntry);\n                    if (index % 2 == 0) {\n                        emissionBorrowConfig = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionConfig.fromLedgerEntryData(ledgerEntry);\n                    }\n                    else {\n                        emissionSupplyConfig = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionConfig.fromLedgerEntryData(ledgerEntry);\n                    }\n                    break;\n                }\n                case `EmisData`: {\n                    const index = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getEmissionIndex)(ledgerEntry);\n                    if (index % 2 == 0) {\n                        emissionBorrowData = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionData.fromLedgerEntryData(ledgerEntry);\n                    }\n                    else {\n                        emissionSupplyData = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionData.fromLedgerEntryData(ledgerEntry);\n                    }\n                    break;\n                }\n                default:\n                    throw Error(`Invalid reserve key: should not contain ${key}`);\n            }\n        }\n        if (reserveConfig == undefined || reserveData == undefined) {\n            throw new Error('Unable to load reserve: missing data.');\n        }\n        let borrowEmissions = undefined;\n        if (emissionBorrowConfig && emissionBorrowData) {\n            borrowEmissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV1(emissionBorrowConfig, emissionBorrowData, reserveLedgerEntries.latestLedger);\n            borrowEmissions.accrue(reserveData.dSupply, reserveConfig.decimals, timestamp);\n        }\n        let supplyEmissions = undefined;\n        if (emissionSupplyConfig && emissionSupplyData) {\n            supplyEmissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV1(emissionSupplyConfig, emissionSupplyData, reserveLedgerEntries.latestLedger);\n            supplyEmissions.accrue(reserveData.bSupply, reserveConfig.decimals, timestamp);\n        }\n        const reserve = new ReserveV1(poolId, assetId, reserveConfig, reserveData, borrowEmissions, supplyEmissions, 0, 0, 0, 0, reserveLedgerEntries.latestLedger);\n        reserve.accrue(backstopTakeRate, timestamp);\n        return reserve;\n    }\n    static async loadList(network, poolId, backstopTakeRate, reserveList, timestamp) {\n        const reserves = new Array();\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const ledgerKeys = [];\n        for (const [index, reserveId] of reserveList.entries()) {\n            const dTokenIndex = index * 2;\n            const bTokenIndex = index * 2 + 1;\n            ledgerKeys.push(...[\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveConfig.ledgerKey(poolId, reserveId),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveData.ledgerKey(poolId, reserveId),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionConfig.ledgerKey(poolId, bTokenIndex),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionData.ledgerKey(poolId, bTokenIndex),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionConfig.ledgerKey(poolId, dTokenIndex),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionData.ledgerKey(poolId, dTokenIndex),\n            ]);\n        }\n        const reserveLedgerEntries = await stellarRpc.getLedgerEntries(...ledgerKeys);\n        const reserveConfigMap = new Map();\n        const reserveDataMap = new Map();\n        const emissionConfigMap = new Map();\n        const emissionDataMap = new Map();\n        for (const entry of reserveLedgerEntries.entries) {\n            const ledgerEntry = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__.decodeEntryKey)(ledgerEntry.contractData().key());\n            switch (key) {\n                case 'ResConfig': {\n                    const reserveId = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getReserveId)(ledgerEntry);\n                    reserveConfigMap.set(reserveId, _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveConfig.fromLedgerEntryData(ledgerEntry));\n                    break;\n                }\n                case 'ResData': {\n                    const reserveId = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getReserveId)(ledgerEntry);\n                    reserveDataMap.set(reserveId, _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveData.fromLedgerEntryData(ledgerEntry));\n                    break;\n                }\n                case `EmisConfig`: {\n                    const emissionIndex = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getEmissionIndex)(ledgerEntry);\n                    emissionConfigMap.set(emissionIndex, _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionConfig.fromLedgerEntryData(ledgerEntry));\n                    break;\n                }\n                case `EmisData`: {\n                    const emissionIndex = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getEmissionIndex)(ledgerEntry);\n                    emissionDataMap.set(emissionIndex, _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionData.fromLedgerEntryData(ledgerEntry));\n                    break;\n                }\n                default:\n                    throw Error(`Invalid reserve key: should not contain ${key}`);\n            }\n        }\n        for (const [index, reserveId] of reserveList.entries()) {\n            const reserveConfig = reserveConfigMap.get(reserveId);\n            const reserveData = reserveDataMap.get(reserveId);\n            if (reserveConfig == undefined || reserveData == undefined) {\n                throw new Error('Unable to load reserve: missing data.');\n            }\n            const dTokenIndex = index * 2;\n            const bTokenIndex = index * 2 + 1;\n            const emissionBorrowConfig = emissionConfigMap.get(dTokenIndex);\n            const emissionBorrowData = emissionDataMap.get(dTokenIndex);\n            const emissionSupplyConfig = emissionConfigMap.get(bTokenIndex);\n            const emissionSupplyData = emissionDataMap.get(bTokenIndex);\n            let borrowEmissions = undefined;\n            if (emissionBorrowConfig && emissionBorrowData) {\n                borrowEmissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV1(emissionBorrowConfig, emissionBorrowData, reserveLedgerEntries.latestLedger);\n                borrowEmissions.accrue(reserveData.dSupply, reserveConfig.decimals, timestamp);\n            }\n            let supplyEmissions = undefined;\n            if (emissionSupplyConfig && emissionSupplyData) {\n                supplyEmissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV1(emissionSupplyConfig, emissionSupplyData, reserveLedgerEntries.latestLedger);\n                supplyEmissions.accrue(reserveData.bSupply, reserveConfig.decimals, timestamp);\n            }\n            const reserve = new ReserveV1(poolId, reserveId, reserveConfig, reserveData, borrowEmissions, supplyEmissions, 0, 0, 0, 0, reserveLedgerEntries.latestLedger);\n            reserve.accrue(backstopTakeRate, timestamp);\n            reserves.push(reserve);\n        }\n        return reserves;\n    }\n}\nclass ReserveV2 extends Reserve {\n    rateDecimals = 12;\n    irmodDecimals = 7;\n    version = _index_js__WEBPACK_IMPORTED_MODULE_2__.Version.V2;\n    /**\n     * Load a Reserve from asset `assetId` from the pool `poolId` on the network `network`\n     * @param network - The network configuration\n     * @param poolId - The contract address of the Pool\n     * @param backstopTakeRate - The backstop take rate of the pool\n     * @param assetId - The contract address of the Reserve asset\n     * @param index - The index of the Reserve in the Pool\n     * @param timestamp - The timestamp to project the Reserve data to (in seconds since epoch)\n     * @returns A Reserve object\n     */\n    static async load(network, poolId, backstopTakeRate, assetId, index, timestamp) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const dTokenIndex = index * 2;\n        const bTokenIndex = index * 2 + 1;\n        const ledgerKeys = [\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveConfig.ledgerKey(poolId, assetId),\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveData.ledgerKey(poolId, assetId),\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionData.ledgerKey(poolId, bTokenIndex),\n            _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionData.ledgerKey(poolId, dTokenIndex),\n        ];\n        const reserveLedgerEntries = await stellarRpc.getLedgerEntries(...ledgerKeys);\n        // not all reserves have emissions, but the first 2 entries are required\n        if (reserveLedgerEntries.entries.length < 2) {\n            throw new Error('Unable to load reserve: missing ledger entries.');\n        }\n        let reserveConfig;\n        let reserveData;\n        let emissionBorrowData;\n        let emissionSupplyData;\n        for (const entry of reserveLedgerEntries.entries) {\n            const ledgerEntry = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__.decodeEntryKey)(ledgerEntry.contractData().key());\n            switch (key) {\n                case 'ResConfig':\n                    reserveConfig = _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveConfig.fromLedgerEntryData(ledgerEntry);\n                    break;\n                case 'ResData':\n                    reserveData = _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveData.fromLedgerEntryData(ledgerEntry);\n                    break;\n                case `EmisData`: {\n                    const index = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getEmissionIndex)(ledgerEntry);\n                    if (index % 2 == 0) {\n                        emissionBorrowData = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionDataV2.fromLedgerEntryData(ledgerEntry);\n                    }\n                    else {\n                        emissionSupplyData = _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionDataV2.fromLedgerEntryData(ledgerEntry);\n                    }\n                    break;\n                }\n                default:\n                    throw Error(`Invalid reserve key: should not contain ${key}`);\n            }\n        }\n        if (reserveConfig == undefined || reserveData == undefined) {\n            throw new Error('Unable to load reserve: missing data.');\n        }\n        let borrowEmissions = undefined;\n        if (emissionBorrowData) {\n            borrowEmissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV2(emissionBorrowData, reserveLedgerEntries.latestLedger);\n            borrowEmissions.accrue(reserveData.dSupply, reserveConfig.decimals, timestamp);\n        }\n        let supplyEmissions = undefined;\n        if (emissionSupplyData) {\n            supplyEmissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV2(emissionSupplyData, reserveLedgerEntries.latestLedger);\n            supplyEmissions.accrue(reserveData.bSupply, reserveConfig.decimals, timestamp);\n        }\n        const reserve = new ReserveV2(poolId, assetId, reserveConfig, reserveData, borrowEmissions, supplyEmissions, 0, 0, 0, 0, reserveLedgerEntries.latestLedger);\n        reserve.accrue(backstopTakeRate, timestamp);\n        return reserve;\n    }\n    static async loadList(network, poolId, backstopTakeRate, reserveList, timestamp) {\n        const reserves = new Array();\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const ledgerKeys = [];\n        for (const [index, reserveId] of reserveList.entries()) {\n            const dTokenIndex = index * 2;\n            const bTokenIndex = index * 2 + 1;\n            ledgerKeys.push(...[\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveConfigV2.ledgerKey(poolId, reserveId),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveData.ledgerKey(poolId, reserveId),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionConfig.ledgerKey(poolId, bTokenIndex),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionData.ledgerKey(poolId, bTokenIndex),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionConfig.ledgerKey(poolId, dTokenIndex),\n                _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveEmissionData.ledgerKey(poolId, dTokenIndex),\n            ]);\n        }\n        const reserveLedgerEntries = await stellarRpc.getLedgerEntries(...ledgerKeys);\n        const reserveConfigMap = new Map();\n        const reserveDataMap = new Map();\n        const emissionDataMap = new Map();\n        for (const entry of reserveLedgerEntries.entries) {\n            const ledgerEntry = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_3__.decodeEntryKey)(ledgerEntry.contractData().key());\n            switch (key) {\n                case 'ResConfig': {\n                    const reserveId = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getReserveId)(ledgerEntry);\n                    reserveConfigMap.set(reserveId, _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveConfigV2.fromLedgerEntryData(ledgerEntry));\n                    break;\n                }\n                case 'ResData': {\n                    const reserveId = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getReserveId)(ledgerEntry);\n                    reserveDataMap.set(reserveId, _reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.ReserveData.fromLedgerEntryData(ledgerEntry));\n                    break;\n                }\n                case `EmisData`: {\n                    const emissionIndex = (0,_reserve_types_js__WEBPACK_IMPORTED_MODULE_5__.getEmissionIndex)(ledgerEntry);\n                    emissionDataMap.set(emissionIndex, _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionDataV2.fromLedgerEntryData(ledgerEntry));\n                    break;\n                }\n                default:\n                    throw Error(`Invalid reserve key: should not contain ${key}`);\n            }\n        }\n        for (const [index, reserveId] of reserveList.entries()) {\n            const reserveConfig = reserveConfigMap.get(reserveId);\n            const reserveData = reserveDataMap.get(reserveId);\n            if (reserveConfig == undefined || reserveData == undefined) {\n                throw new Error('Unable to load reserve: missing data.');\n            }\n            const dTokenIndex = index * 2;\n            const bTokenIndex = index * 2 + 1;\n            const emissionBorrowData = emissionDataMap.get(dTokenIndex);\n            const emissionSupplyData = emissionDataMap.get(bTokenIndex);\n            let borrowEmissions = undefined;\n            if (emissionBorrowData) {\n                borrowEmissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV2(emissionBorrowData, reserveLedgerEntries.latestLedger);\n                borrowEmissions.accrue(reserveData.dSupply, reserveConfig.decimals, timestamp);\n            }\n            let supplyEmissions = undefined;\n            if (emissionSupplyData) {\n                supplyEmissions = new _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionsV2(emissionSupplyData, reserveLedgerEntries.latestLedger);\n                supplyEmissions.accrue(reserveData.bSupply, reserveConfig.decimals, timestamp);\n            }\n            const reserve = new ReserveV2(poolId, reserveId, reserveConfig, reserveData, borrowEmissions, supplyEmissions, 0, 0, 0, 0, reserveLedgerEntries.latestLedger);\n            reserve.accrue(backstopTakeRate, timestamp);\n            reserves.push(reserve);\n        }\n        return reserves;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Jlc2VydmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQytEO0FBQ3BFO0FBQ3FCO0FBQ25CO0FBQ3NIO0FBQzlKO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkNBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZDQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2Q0FBaUIsdUNBQXVDLDZDQUFpQjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDZDQUFpQixDQUFDLDZDQUFpQix1Q0FBdUMsNkNBQWlCO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkNBQWlCLDJCQUEyQiw2Q0FBaUI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFrQiwyQkFBMkIsNkNBQWlCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZDQUFpQixnRUFBZ0UsOENBQWtCO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFrQixnRUFBZ0UsOENBQWtCO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw2Q0FBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZDQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw2Q0FBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkNBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4Q0FBa0IseUJBQXlCLDZDQUFpQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkNBQWlCLHlCQUF5Qiw2Q0FBaUI7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFrQix5QkFBeUIsNkNBQWlCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw2Q0FBaUIseUJBQXlCLDZDQUFpQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDZDQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNkNBQWlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2Q0FBaUIsc0JBQXNCLDhDQUFrQjtBQUN4Riw2QkFBNkIsNkNBQWlCLHdDQUF3Qyw4Q0FBa0I7QUFDeEc7QUFDQSxvQkFBb0IsNkNBQWlCO0FBQ3JDO0FBQ0E7QUFDQSwrQkFBK0IsNkNBQWlCLHNEQUFzRCw4Q0FBa0I7QUFDeEgsNkJBQTZCLDZDQUFpQix3Q0FBd0MsOENBQWtCO0FBQ3hHO0FBQ0E7QUFDQSxvQkFBb0IsNkNBQWlCO0FBQ3JDO0FBQ0E7QUFDQSwrQkFBK0IsNkNBQWlCLDhDQUE4Qyw4Q0FBa0I7QUFDaEgsOEJBQThCLDZDQUFpQiwwQ0FBMEMsOENBQWtCO0FBQzNHLGlDQUFpQyw2Q0FBaUI7QUFDbEQ7QUFDQTtBQUNBLDBCQUEwQiw2Q0FBaUI7QUFDM0MsOEJBQThCLDhDQUFrQixDQUFDLDhDQUFrQiw4QkFBOEIsOENBQWtCO0FBQ25ILDBCQUEwQiw2Q0FBaUIsQ0FBQyw4Q0FBa0IsdUJBQXVCLDhDQUFrQjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw2Q0FBaUI7QUFDL0MsNEJBQTRCLDZDQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhDQUFrQixzQ0FBc0MsOENBQWtCO0FBQ3RHO0FBQ0E7QUFDQSw0QkFBNEIsOENBQWtCLDRDQUE0Qyw4Q0FBa0I7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhDQUFrQixzQ0FBc0MsOENBQWtCO0FBQ3RHO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQWlCLDRDQUE0Qyw4Q0FBa0I7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyw2Q0FBaUIsb0JBQW9CLDhDQUFrQjtBQUNqRztBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkNBQWlCO0FBQzNDO0FBQ0E7QUFDQSxzQ0FBc0MsOENBQWtCLG9DQUFvQyw4Q0FBa0I7QUFDOUc7QUFDQSw4QkFBOEIsOENBQWtCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsY0FBYyw4Q0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFEQUFHO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQWE7QUFDekIsWUFBWSwwREFBVztBQUN2QixZQUFZLG9FQUFxQjtBQUNqQyxZQUFZLGtFQUFtQjtBQUMvQixZQUFZLG9FQUFxQjtBQUNqQyxZQUFZLGtFQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSxvQ0FBb0MsNERBQWE7QUFDakQ7QUFDQTtBQUNBLGtDQUFrQywwREFBVztBQUM3QztBQUNBO0FBQ0Esa0NBQWtDLG1FQUFnQjtBQUNsRDtBQUNBLCtDQUErQyx5REFBYztBQUM3RDtBQUNBO0FBQ0EsK0NBQStDLHlEQUFjO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG1FQUFnQjtBQUNsRDtBQUNBLDZDQUE2Qyx1REFBWTtBQUN6RDtBQUNBO0FBQ0EsNkNBQTZDLHVEQUFZO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLElBQUk7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0RBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0RBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFhO0FBQzdCLGdCQUFnQiwwREFBVztBQUMzQixnQkFBZ0Isb0VBQXFCO0FBQ3JDLGdCQUFnQixrRUFBbUI7QUFDbkMsZ0JBQWdCLG9FQUFxQjtBQUNyQyxnQkFBZ0Isa0VBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0Esc0NBQXNDLCtEQUFZO0FBQ2xELG9EQUFvRCw0REFBYTtBQUNqRTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0RBQVk7QUFDbEQsa0RBQWtELDBEQUFXO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxtRUFBZ0I7QUFDMUQseURBQXlELHlEQUFjO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxtRUFBZ0I7QUFDMUQsdURBQXVELHVEQUFZO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxJQUFJO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGNBQWMsOENBQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQztBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFhO0FBQ3pCLFlBQVksMERBQVc7QUFDdkIsWUFBWSxrRUFBbUI7QUFDL0IsWUFBWSxrRUFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSxvQ0FBb0MsNERBQWE7QUFDakQ7QUFDQTtBQUNBLGtDQUFrQywwREFBVztBQUM3QztBQUNBO0FBQ0Esa0NBQWtDLG1FQUFnQjtBQUNsRDtBQUNBLDZDQUE2Qyx5REFBYztBQUMzRDtBQUNBO0FBQ0EsNkNBQTZDLHlEQUFjO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLElBQUk7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0RBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0RBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFlO0FBQy9CLGdCQUFnQiwwREFBVztBQUMzQixnQkFBZ0Isb0VBQXFCO0FBQ3JDLGdCQUFnQixrRUFBbUI7QUFDbkMsZ0JBQWdCLG9FQUFxQjtBQUNyQyxnQkFBZ0Isa0VBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUVBQWM7QUFDdEM7QUFDQTtBQUNBLHNDQUFzQywrREFBWTtBQUNsRCxvREFBb0QsOERBQWU7QUFDbkU7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLCtEQUFZO0FBQ2xELGtEQUFrRCwwREFBVztBQUM3RDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsbUVBQWdCO0FBQzFELHVEQUF1RCx5REFBYztBQUNyRTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsSUFBSTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vcG9vbC9yZXNlcnZlLmpzP2E0Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcnBjIH0gZnJvbSAnQHN0ZWxsYXIvc3RlbGxhci1zZGsnO1xuaW1wb3J0IHsgRW1pc3Npb25Db25maWcsIEVtaXNzaW9uRGF0YSwgRW1pc3Npb25EYXRhVjIsIEVtaXNzaW9uc1YxLCBFbWlzc2lvbnNWMiwgfSBmcm9tICcuLi9lbWlzc2lvbnMuanMnO1xuaW1wb3J0IHsgVmVyc2lvbiB9IGZyb20gJy4uL2luZGV4LmpzJztcbmltcG9ydCB7IGRlY29kZUVudHJ5S2V5IH0gZnJvbSAnLi4vbGVkZ2VyX2VudHJ5X2hlbHBlci5qcyc7XG5pbXBvcnQgKiBhcyBGaXhlZE1hdGggZnJvbSAnLi4vbWF0aC5qcyc7XG5pbXBvcnQgeyBnZXRFbWlzc2lvbkluZGV4LCBnZXRSZXNlcnZlSWQsIFJlc2VydmVDb25maWcsIFJlc2VydmVDb25maWdWMiwgUmVzZXJ2ZURhdGEsIFJlc2VydmVFbWlzc2lvbkNvbmZpZywgUmVzZXJ2ZUVtaXNzaW9uRGF0YSwgfSBmcm9tICcuL3Jlc2VydmVfdHlwZXMuanMnO1xuLyoqXG4gKiBNYW5hZ2UgbGVkZ2VyIGRhdGEgZm9yIGEgcmVzZXJ2ZSBpbiBhIEJsZW5kIHBvb2xcbiAqL1xuZXhwb3J0IGNsYXNzIFJlc2VydmUge1xuICAgIHBvb2xJZDtcbiAgICBhc3NldElkO1xuICAgIGNvbmZpZztcbiAgICBkYXRhO1xuICAgIGJvcnJvd0VtaXNzaW9ucztcbiAgICBzdXBwbHlFbWlzc2lvbnM7XG4gICAgYm9ycm93QXByO1xuICAgIGVzdEJvcnJvd0FweTtcbiAgICBzdXBwbHlBcHI7XG4gICAgZXN0U3VwcGx5QXB5O1xuICAgIGxhdGVzdExlZGdlcjtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgY29udHJhY3QgYWRkcmVzcyBvZiB0aGUgUG9vbCB0aGUgcmVzZXJ2ZSBiZWxvbmdzIHRvXG4gICAgICovXG4gICAgcG9vbElkLCBcbiAgICAvKipcbiAgICAgKiBUaGUgY29udHJhY3QgYWRkcmVzcyBvZiB0aGUgUmVzZXJ2ZSBhc3NldFxuICAgICAqL1xuICAgIGFzc2V0SWQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBSZXNlcnZlXG4gICAgICovXG4gICAgY29uZmlnLCBcbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSBvZiB0aGUgUmVzZXJ2ZVxuICAgICAqL1xuICAgIGRhdGEsIFxuICAgIC8qKlxuICAgICAqIFRoZSBib3Jyb3cgZW1pc3Npb25zIGZvciB0aGUgUmVzZXJ2ZS4gVGhpcyB3aWxsIGJlIHVuZGVmaW5lZCBpZiB0aGVyZSBhcmUgbm8gYm9ycm93IGVtaXNzaW9uc1xuICAgICAqL1xuICAgIGJvcnJvd0VtaXNzaW9ucywgXG4gICAgLyoqXG4gICAgICogVGhlIHN1cHBseSBlbWlzc2lvbnMgZm9yIHRoZSBSZXNlcnZlLiBUaGlzIHdpbGwgYmUgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBubyBzdXBwbHkgZW1pc3Npb25zXG4gICAgICovXG4gICAgc3VwcGx5RW1pc3Npb25zLCBcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBBUFIgYmVpbmcgY2hhcmdlZCB0byBib3Jyb3dlcnNcbiAgICAgKi9cbiAgICBib3Jyb3dBcHIsIFxuICAgIC8qKlxuICAgICAqIFRoZSBlc3RpbWF0ZWQgQVBZIGZvciBib3Jyb3dlcnMgYmFzZWQgb24gdGhlIGN1cnJlbnQgQVBSIGFuZFxuICAgICAqIGEgZGFpbHkgY29tcG91bmRpbmcgcGVyaW9kXG4gICAgICovXG4gICAgZXN0Qm9ycm93QXB5LCBcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBBUFIgYmVpbmcgZWFybmVkIGJ5IHN1cHBsaWVyc1xuICAgICAqL1xuICAgIHN1cHBseUFwciwgXG4gICAgLyoqXG4gICAgICogVGhlIGVzdGltYXRlZCBBUFkgZm9yIHN1cHBsaWVycyBiYXNlZCBvbiB0aGUgY3VycmVudCBBUFIgYW5kXG4gICAgICogYSB3ZWVrbHkgY29tcG91bmRpbmcgcGVyaW9kXG4gICAgICovXG4gICAgZXN0U3VwcGx5QXB5LCBcbiAgICAvKipcbiAgICAgKiBUaGUgbGVkZ2VyIG51bWJlciBvZiB0aGUgbGF0ZXN0IGxlZGdlciBlbnRyeVxuICAgICAqL1xuICAgIGxhdGVzdExlZGdlcikge1xuICAgICAgICB0aGlzLnBvb2xJZCA9IHBvb2xJZDtcbiAgICAgICAgdGhpcy5hc3NldElkID0gYXNzZXRJZDtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuYm9ycm93RW1pc3Npb25zID0gYm9ycm93RW1pc3Npb25zO1xuICAgICAgICB0aGlzLnN1cHBseUVtaXNzaW9ucyA9IHN1cHBseUVtaXNzaW9ucztcbiAgICAgICAgdGhpcy5ib3Jyb3dBcHIgPSBib3Jyb3dBcHI7XG4gICAgICAgIHRoaXMuZXN0Qm9ycm93QXB5ID0gZXN0Qm9ycm93QXB5O1xuICAgICAgICB0aGlzLnN1cHBseUFwciA9IHN1cHBseUFwcjtcbiAgICAgICAgdGhpcy5lc3RTdXBwbHlBcHkgPSBlc3RTdXBwbHlBcHk7XG4gICAgICAgIHRoaXMubGF0ZXN0TGVkZ2VyID0gbGF0ZXN0TGVkZ2VyO1xuICAgIH1cbiAgICAvKioqKioqKioqKiBEYXRhIEhlbHBlcnMgKioqKioqKioqKi9cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGJvcnJvdyAoZFRva2VuKSBlbWlzc2lvbiBpbmRleFxuICAgICAqL1xuICAgIGdldERUb2tlbkVtaXNzaW9uSW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5pbmRleCAqIDI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3VwcGx5IChiVG9rZW4pIGVtaXNzaW9uIGluZGV4XG4gICAgICovXG4gICAgZ2V0QlRva2VuRW1pc3Npb25JbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmluZGV4ICogMiArIDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlhYmlsaXR5IGZhY3RvciBhcyBhIGZsb2F0aW5nIHBvaW50IGRlY2ltYWwgcGVyY2VudGFnZS5cbiAgICAgKiAoZS5nIDEuMjMgPT0gOTUlKS4gVGhpcyBpbnZlcnRzIHRoZSBzdG9yZWQgdmFsdWUgb24gY2hhaW4gdG8gbWFrZVxuICAgICAqIGNvbXB1dGluZyB0aGUgZWZmZWN0aXZlIGxpYWJpbGl0eSBlYXNpZXIuXG4gICAgICpcbiAgICAgKiBUaGUgZWZmZWN0aXZlIGxpYWJpbGl0eSBvZiBhIHBvc2l0aW9uIGlzOlxuICAgICAqIGBgYFxuICAgICAqIGVmZmVjdGl2ZV9saWFiaWxpdHkgPSBsaWFiaWxpdHkgKiBsaWFiaWxpdHlfZmFjdG9yXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0TGlhYmlsaXR5RmFjdG9yKCkge1xuICAgICAgICByZXR1cm4gMSAvIEZpeGVkTWF0aC50b0Zsb2F0KEJpZ0ludCh0aGlzLmNvbmZpZy5sX2ZhY3RvciksIDcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbGxhdGVyYWwgZmFjdG9yIGFzIGEgZmxvYXRpbmcgcG9pbnQgZGVjaW1hbCBwZXJjZW50YWdlXG4gICAgICogKGUuZyAwLjk1ID09IDk1JSlcbiAgICAgKlxuICAgICAqIFRoZSBlZmZlY3RpdmUgY29sbGF0ZXJhbCBvZiBhIHBvc2l0aW9ucyBpczpcbiAgICAgKiBgYGBcbiAgICAgKiBlZmZlY3RpdmVfY29sbGF0ZXJhbCA9IGNvbGxhdGVyYWwgKiBjb2xsYXRlcmFsX2ZhY3RvclxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGdldENvbGxhdGVyYWxGYWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGgudG9GbG9hdChCaWdJbnQodGhpcy5jb25maWcuY19mYWN0b3IpLCA3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1dGlsaXphdGlvbiBvZiB0aGUgUmVzZXJ2ZSBhcyBhIGZpeGVkIHBvaW50IG51bWJlclxuICAgICAqL1xuICAgIGdldFV0aWxpemF0aW9uKCkge1xuICAgICAgICBjb25zdCB0b3RhbFN1cHBseSA9IHRoaXMudG90YWxTdXBwbHkoKTtcbiAgICAgICAgaWYgKHRvdGFsU3VwcGx5ID09PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBCaWdJbnQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRml4ZWRNYXRoLmRpdkNlaWwodGhpcy50b3RhbExpYWJpbGl0aWVzKCksIHRvdGFsU3VwcGx5LCBGaXhlZE1hdGgudG9GaXhlZCgxLCB0aGlzLmNvbmZpZy5kZWNpbWFscykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdXRpbGl6YXRpb24gb2YgdGhlIFJlc2VydmUgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXJcbiAgICAgKi9cbiAgICBnZXRVdGlsaXphdGlvbkZsb2F0KCkge1xuICAgICAgICBjb25zdCB0b3RhbFN1cHBseSA9IHRoaXMudG90YWxTdXBwbHkoKTtcbiAgICAgICAgaWYgKHRvdGFsU3VwcGx5ID09PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEZpeGVkTWF0aC50b0Zsb2F0KEZpeGVkTWF0aC5kaXZDZWlsKHRoaXMudG90YWxMaWFiaWxpdGllcygpLCB0b3RhbFN1cHBseSwgRml4ZWRNYXRoLnRvRml4ZWQoMSwgdGhpcy5jb25maWcuZGVjaW1hbHMpKSwgNyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0b3RhbCBsaWFiaWxpdGllcyBvZiB0aGUgUmVzZXJ2ZVxuICAgICAqL1xuICAgIHRvdGFsTGlhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXNzZXRGcm9tRFRva2VuKHRoaXMuZGF0YS5kU3VwcGx5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0b3RhbCBsaWFiaWxpdGllcyBvZiB0aGUgUmVzZXJ2ZSBhcyBhIGZsb2F0aW5nIHBvaW50IG51bWJlclxuICAgICAqL1xuICAgIHRvdGFsTGlhYmlsaXRpZXNGbG9hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9Bc3NldEZyb21EVG9rZW5GbG9hdCh0aGlzLmRhdGEuZFN1cHBseSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdG90YWwgc3VwcGx5IG9mIHRoZSBSZXNlcnZlXG4gICAgICovXG4gICAgdG90YWxTdXBwbHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXNzZXRGcm9tQlRva2VuKHRoaXMuZGF0YS5iU3VwcGx5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0b3RhbCBzdXBwbHkgb2YgdGhlIFJlc2VydmUgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXJcbiAgICAgKi9cbiAgICB0b3RhbFN1cHBseUZsb2F0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0Fzc2V0RnJvbUJUb2tlbkZsb2F0KHRoaXMuZGF0YS5iU3VwcGx5KTtcbiAgICB9XG4gICAgLyoqKioqKioqKiogQ29udmVyc2lvbiBGdW5jdGlvbnMgKioqKioqKioqKiovXG4gICAgLyoqXG4gICAgICogQ29udmVydCBkVG9rZW5zIHRvIGFzc2V0c1xuICAgICAqIEBwYXJhbSBkVG9rZW5zIC0gVGhlIG51bWJlciBvZiBkVG9rZW5zIHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJucyBUaGUgYXNzZXQgYW1vdW50XG4gICAgICovXG4gICAgdG9Bc3NldEZyb21EVG9rZW4oZFRva2Vucykge1xuICAgICAgICBpZiAoZFRva2VucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGgubXVsQ2VpbChkVG9rZW5zLCB0aGlzLmRhdGEuZFJhdGUsIEZpeGVkTWF0aC50b0ZpeGVkKDEsIHRoaXMucmF0ZURlY2ltYWxzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYlRva2VucyB0byBhc3NldHNcbiAgICAgKiBAcGFyYW0gYlRva2VucyAtIFRoZSBudW1iZXIgb2YgYlRva2VucyB0byBjb252ZXJ0XG4gICAgICogQHJldHVybnMgVGhlIGFzc2V0IGFtb3VudFxuICAgICAqL1xuICAgIHRvQXNzZXRGcm9tQlRva2VuKGJUb2tlbnMpIHtcbiAgICAgICAgaWYgKGJUb2tlbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCgwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRml4ZWRNYXRoLm11bEZsb29yKGJUb2tlbnMsIHRoaXMuZGF0YS5iUmF0ZSwgRml4ZWRNYXRoLnRvRml4ZWQoMSwgdGhpcy5yYXRlRGVjaW1hbHMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBkVG9rZW5zIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgZWZmZWN0aXZlIGFzc2V0IHZhbHVlLiBUaGlzIHRha2VzXG4gICAgICogaW50byBhY2NvdW50IHRoZSBsaWFiaWxpdHkgZmFjdG9yXG4gICAgICogQHBhcmFtIGRUb2tlbnMgLSBUaGUgbnVtYmVyIG9mIGRUb2tlbnMgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIFRoZSBsaWFiaWxpdHkgYW1vdW50IGluIGFzc2V0c1xuICAgICAqL1xuICAgIHRvRWZmZWN0aXZlQXNzZXRGcm9tRFRva2VuKGRUb2tlbnMpIHtcbiAgICAgICAgaWYgKGRUb2tlbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCgwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRml4ZWRNYXRoLmRpdkNlaWwodGhpcy50b0Fzc2V0RnJvbURUb2tlbihkVG9rZW5zKSwgQmlnSW50KHRoaXMuY29uZmlnLmxfZmFjdG9yKSwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBiVG9rZW5zIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgZWZmZWN0aXZlIGFzc2V0IHZhbHVlLiBUaGlzIHRha2VzXG4gICAgICogaW50byBhY2NvdW50IHRoZSBjb2xsYXRlcmFsIGZhY3RvclxuICAgICAqIEBwYXJhbSBiVG9rZW5zIC0gVGhlIG51bWJlciBvZiBiVG9rZW5zIHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJucyBUaGUgY29sbGF0ZXJhbCBhbW91bnQgaW4gYXNzZXRzXG4gICAgICovXG4gICAgdG9FZmZlY3RpdmVBc3NldEZyb21CVG9rZW4oYlRva2Vucykge1xuICAgICAgICBpZiAoYlRva2VucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGgubXVsRmxvb3IodGhpcy50b0Fzc2V0RnJvbUJUb2tlbihiVG9rZW5zKSwgQmlnSW50KHRoaXMuY29uZmlnLmNfZmFjdG9yKSwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBkVG9rZW5zIHRvIGFzc2V0cyBhcyBhIGZsb2F0aW5nIHBvaW50IG51bWJlclxuICAgICAqIEBwYXJhbSBkVG9rZW5zIC0gVGhlIG51bWJlciBvZiBkVG9rZW5zIHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJucyBUaGUgYXNzZXQgYW1vdW50XG4gICAgICovXG4gICAgdG9Bc3NldEZyb21EVG9rZW5GbG9hdChkVG9rZW5zKSB7XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGgudG9GbG9hdCh0aGlzLnRvQXNzZXRGcm9tRFRva2VuKGRUb2tlbnMpLCB0aGlzLmNvbmZpZy5kZWNpbWFscyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYlRva2VucyB0byBhc3NldHMgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXJcbiAgICAgKiBAcGFyYW0gYlRva2VucyAtIFRoZSBudW1iZXIgb2YgYlRva2VucyB0byBjb252ZXJ0XG4gICAgICogQHJldHVybnMgVGhlIGFzc2V0IGFtb3VudFxuICAgICAqL1xuICAgIHRvQXNzZXRGcm9tQlRva2VuRmxvYXQoYlRva2Vucykge1xuICAgICAgICByZXR1cm4gRml4ZWRNYXRoLnRvRmxvYXQodGhpcy50b0Fzc2V0RnJvbUJUb2tlbihiVG9rZW5zKSwgdGhpcy5jb25maWcuZGVjaW1hbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGRUb2tlbnMgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBlZmZlY3RpdmUgYXNzZXQgdmFsdWUgYXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICogVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGxpYWJpbGl0eSBmYWN0b3IuXG4gICAgICogQHBhcmFtIGRUb2tlbnMgLSBUaGUgbnVtYmVyIG9mIGRUb2tlbnMgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIFRoZSBsaWFiaWxpdHkgYW1vdW50IGluIGFzc2V0c1xuICAgICAqL1xuICAgIHRvRWZmZWN0aXZlQXNzZXRGcm9tRFRva2VuRmxvYXQoZFRva2Vucykge1xuICAgICAgICByZXR1cm4gRml4ZWRNYXRoLnRvRmxvYXQodGhpcy50b0VmZmVjdGl2ZUFzc2V0RnJvbURUb2tlbihkVG9rZW5zKSwgdGhpcy5jb25maWcuZGVjaW1hbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGJUb2tlbnMgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBlZmZlY3RpdmUgYXNzZXQgdmFsdWUuIFRoaXMgdGFrZXNcbiAgICAgKiBpbnRvIGFjY291bnQgdGhlIGNvbGxhdGVyYWwgZmFjdG9yXG4gICAgICogQHBhcmFtIGJUb2tlbnMgLSBUaGUgbnVtYmVyIG9mIGJUb2tlbnMgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIFRoZSBjb2xsYXRlcmFsIGFtb3VudCBpbiBhc3NldHNcbiAgICAgKi9cbiAgICB0b0VmZmVjdGl2ZUFzc2V0RnJvbUJUb2tlbkZsb2F0KGJUb2tlbnMpIHtcbiAgICAgICAgcmV0dXJuIEZpeGVkTWF0aC50b0Zsb2F0KHRoaXMudG9FZmZlY3RpdmVBc3NldEZyb21CVG9rZW4oYlRva2VucyksIHRoaXMuY29uZmlnLmRlY2ltYWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBhbiBhc3NldCBhbW91bnQgdG8gZFRva2VucyB0YWtpbmcgdGhlIGZsb29yXG4gICAgICogQHBhcmFtIGFzc2V0IC0gVGhlIGFzc2V0IGFtb3VudCB0byBjb252ZXJ0XG4gICAgICogQHJldHVybnMgVGhlIG51bWJlciBvZiBkVG9rZW5zXG4gICAgICovXG4gICAgdG9EVG9rZW5zRnJvbUFzc2V0Rmxvb3IoYXNzZXQpIHtcbiAgICAgICAgaWYgKGFzc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCaWdJbnQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZpeGVkTWF0aC5kaXZGbG9vcihhc3NldCwgdGhpcy5kYXRhLmRSYXRlLCBGaXhlZE1hdGgudG9GaXhlZCgxLCB0aGlzLnJhdGVEZWNpbWFscykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGFuIGFzc2V0IGFtb3VudCB0byBkVG9rZW5zIHRha2luZyB0aGUgY2VpbGluZ1xuICAgICAqIEBwYXJhbSBhc3NldCAtIFRoZSBhc3NldCBhbW91bnQgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgZFRva2Vuc1xuICAgICAqL1xuICAgIHRvRFRva2Vuc0Zyb21Bc3NldENlaWwoYXNzZXQpIHtcbiAgICAgICAgaWYgKGFzc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCaWdJbnQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZpeGVkTWF0aC5kaXZDZWlsKGFzc2V0LCB0aGlzLmRhdGEuZFJhdGUsIEZpeGVkTWF0aC50b0ZpeGVkKDEsIHRoaXMucmF0ZURlY2ltYWxzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYW4gYXNzZXQgYW1vdW50IHRvIGJUb2tlbnMgdGFraW5nIHRoZSBmbG9vclxuICAgICAqIEBwYXJhbSBhc3NldCAtIFRoZSBhc3NldCBhbW91bnQgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgYlRva2Vuc1xuICAgICAqL1xuICAgIHRvQlRva2Vuc0Zyb21Bc3NldEZsb29yKGFzc2V0KSB7XG4gICAgICAgIGlmIChhc3NldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGguZGl2Rmxvb3IoYXNzZXQsIHRoaXMuZGF0YS5iUmF0ZSwgRml4ZWRNYXRoLnRvRml4ZWQoMSwgdGhpcy5yYXRlRGVjaW1hbHMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBhbiBhc3NldCBhbW91bnQgdG8gYlRva2VucyB0YWtpbmcgdGhlIGNlaWxpbmdcbiAgICAgKiBAcGFyYW0gYXNzZXQgLSBUaGUgYXNzZXQgYW1vdW50IHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIGJUb2tlbnNcbiAgICAgKi9cbiAgICB0b0JUb2tlbnNGcm9tQXNzZXRDZWlsKGFzc2V0KSB7XG4gICAgICAgIGlmIChhc3NldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGaXhlZE1hdGguZGl2Q2VpbChhc3NldCwgdGhpcy5kYXRhLmJSYXRlLCBGaXhlZE1hdGgudG9GaXhlZCgxLCB0aGlzLnJhdGVEZWNpbWFscykpO1xuICAgIH1cbiAgICAvKioqKioqKioqKiBNYXRoIEhlbHBlcnMgKioqKioqKioqKi9cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJvcnJvdyBhbmQgc3VwcGx5IEFQUnMgYW5kIEFQWXMgYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIFJlc2VydmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBiYWNrc3RvcFRha2VSYXRlIC0gVGhlIGJhY2tzdG9wIHRha2UgcmF0ZSAoYXMgYSBmaXhlZCBwb2ludCBudW1iZXIgdy8gNyBkZWNpbWFscylcbiAgICAgKiBAcmV0dXJucyB0aGUgQVBSIGFzIGEgYmlnaW50IHdpdGggNyBkZWNpbWFscy5cbiAgICAgKi9cbiAgICBzZXRSYXRlcyhiYWNrc3RvcFRha2VSYXRlKSB7XG4gICAgICAgIGNvbnN0IGN1clV0aWwgPSB0aGlzLmdldFV0aWxpemF0aW9uKCk7XG4gICAgICAgIGlmIChjdXJVdGlsID09PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgIHRoaXMuYm9ycm93QXByID0gRml4ZWRNYXRoLnRvRmxvYXQoQmlnSW50KHRoaXMuY29uZmlnLnJfYmFzZSksIDcpO1xuICAgICAgICAgICAgdGhpcy5zdXBwbHlBcHIgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIDBuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IElSX01PRF9TQ0FMQVIgPSBGaXhlZE1hdGgudG9GaXhlZCgxLCB0aGlzLmlybW9kRGVjaW1hbHMpO1xuICAgICAgICBsZXQgY3VySXI7XG4gICAgICAgIGNvbnN0IHRhcmdldFV0aWwgPSBCaWdJbnQodGhpcy5jb25maWcudXRpbCk7XG4gICAgICAgIGNvbnN0IGZpeGVkXzk1X3BlcmNlbnQgPSBCaWdJbnQoOV81MDBfMDAwKTtcbiAgICAgICAgY29uc3QgZml4ZWRfNV9wZXJjZW50ID0gQmlnSW50KDUwMF8wMDApO1xuICAgICAgICAvLyBjYWxjdWxhdGUgY3VycmVudCBJUlxuICAgICAgICBpZiAoY3VyVXRpbCA8PSB0YXJnZXRVdGlsKSB7XG4gICAgICAgICAgICBjb25zdCB1dGlsU2NhbGFyID0gRml4ZWRNYXRoLmRpdkNlaWwoY3VyVXRpbCwgdGFyZ2V0VXRpbCwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VSYXRlID0gRml4ZWRNYXRoLm11bENlaWwodXRpbFNjYWxhciwgQmlnSW50KHRoaXMuY29uZmlnLnJfb25lKSwgRml4ZWRNYXRoLlNDQUxBUl83KSArXG4gICAgICAgICAgICAgICAgQmlnSW50KHRoaXMuY29uZmlnLnJfYmFzZSk7XG4gICAgICAgICAgICBjdXJJciA9IEZpeGVkTWF0aC5tdWxDZWlsKGJhc2VSYXRlLCB0aGlzLmRhdGEuaW50ZXJlc3RSYXRlTW9kaWZpZXIsIElSX01PRF9TQ0FMQVIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1clV0aWwgPD0gZml4ZWRfOTVfcGVyY2VudCkge1xuICAgICAgICAgICAgY29uc3QgdXRpbFNjYWxhciA9IEZpeGVkTWF0aC5kaXZDZWlsKGN1clV0aWwgLSB0YXJnZXRVdGlsLCBmaXhlZF85NV9wZXJjZW50IC0gdGFyZ2V0VXRpbCwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VSYXRlID0gRml4ZWRNYXRoLm11bENlaWwodXRpbFNjYWxhciwgQmlnSW50KHRoaXMuY29uZmlnLnJfdHdvKSwgRml4ZWRNYXRoLlNDQUxBUl83KSArXG4gICAgICAgICAgICAgICAgQmlnSW50KHRoaXMuY29uZmlnLnJfb25lKSArXG4gICAgICAgICAgICAgICAgQmlnSW50KHRoaXMuY29uZmlnLnJfYmFzZSk7XG4gICAgICAgICAgICBjdXJJciA9IEZpeGVkTWF0aC5tdWxDZWlsKGJhc2VSYXRlLCB0aGlzLmRhdGEuaW50ZXJlc3RSYXRlTW9kaWZpZXIsIElSX01PRF9TQ0FMQVIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdXRpbFNjYWxhciA9IEZpeGVkTWF0aC5kaXZDZWlsKGN1clV0aWwgLSBmaXhlZF85NV9wZXJjZW50LCBmaXhlZF81X3BlcmNlbnQsIEZpeGVkTWF0aC5TQ0FMQVJfNyk7XG4gICAgICAgICAgICBjb25zdCBleHRyYVJhdGUgPSBGaXhlZE1hdGgubXVsQ2VpbCh1dGlsU2NhbGFyLCBCaWdJbnQodGhpcy5jb25maWcucl90aHJlZSksIEZpeGVkTWF0aC5TQ0FMQVJfNyk7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBGaXhlZE1hdGgubXVsQ2VpbCh0aGlzLmRhdGEuaW50ZXJlc3RSYXRlTW9kaWZpZXIsIEJpZ0ludCh0aGlzLmNvbmZpZy5yX3R3bykgKyBCaWdJbnQodGhpcy5jb25maWcucl9vbmUpICsgQmlnSW50KHRoaXMuY29uZmlnLnJfYmFzZSksIElSX01PRF9TQ0FMQVIpO1xuICAgICAgICAgICAgY3VySXIgPSBleHRyYVJhdGUgKyBpbnRlcnNlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9ycm93QXByID0gRml4ZWRNYXRoLnRvRmxvYXQoY3VySXIsIDcpO1xuICAgICAgICBjb25zdCBzdXBwbHlDYXB0dXJlID0gRml4ZWRNYXRoLm11bEZsb29yKEZpeGVkTWF0aC5TQ0FMQVJfNyAtIGJhY2tzdG9wVGFrZVJhdGUsIGN1clV0aWwsIEZpeGVkTWF0aC5TQ0FMQVJfNyk7XG4gICAgICAgIGNvbnN0IHN1cHBseUFwciA9IEZpeGVkTWF0aC50b0Zsb2F0KEZpeGVkTWF0aC5tdWxGbG9vcihjdXJJciwgc3VwcGx5Q2FwdHVyZSwgRml4ZWRNYXRoLlNDQUxBUl83KSwgNyk7XG4gICAgICAgIC8vIGVzdCBib3Jyb3cgYXB5IGF0IGEgaGlnaGVyIGNvbXBvdW5kaW5nIHJhdGUgdGhhbiBzdXBwbHkgc3VjaCB0aGF0IGVhY2ggaXMgYSBcInNhZmVyXCIgZXN0aW1hdGVcbiAgICAgICAgLy8gZm9yIHRoZSB1c2VyXG4gICAgICAgIGNvbnN0IGVzdEJvcnJvd0FweSA9ICgxICsgYm9ycm93QXByIC8gMzY1KSAqKiAzNjUgLSAxO1xuICAgICAgICBjb25zdCBlc3RTdXBwbHlBcHkgPSAoMSArIHN1cHBseUFwciAvIDUyKSAqKiA1MiAtIDE7XG4gICAgICAgIHRoaXMuYm9ycm93QXByID0gYm9ycm93QXByO1xuICAgICAgICB0aGlzLnN1cHBseUFwciA9IHN1cHBseUFwcjtcbiAgICAgICAgdGhpcy5lc3RCb3Jyb3dBcHkgPSBlc3RCb3Jyb3dBcHk7XG4gICAgICAgIHRoaXMuZXN0U3VwcGx5QXB5ID0gZXN0U3VwcGx5QXB5O1xuICAgICAgICByZXR1cm4gY3VySXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjY3J1ZSBpbnRlcmVzdCBvbiB0aGUgUmVzZXJ2ZSB0byB0aGUgZ2l2ZW4gdGltZXN0YW1wLCBvciBub3cgaWYgbm8gdGltZXN0YW1wIGlzIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQ2FsbHMgYHNldFJhdGVzYCBpbnRlcm5hbGx5IGFuZCB1cGRhdGVzIFJlc2VydmVEYXRhIGJhc2VkIG9uIHRoZSBhY2NydWFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJhY2tzdG9wVGFrZVJhdGUgLSBUaGUgYmFja3N0b3AgdGFrZSByYXRlIChhcyBhIGZpeGVkIHBvaW50IG51bWJlcilcbiAgICAgKiBAcGFyYW0gdGltZXN0YW1wIC0gVGhlIHRpbWVzdGFtcCB0byBhY2NydWUgaW50ZXJlc3QgdG8gKGluIHNlY29uZHMgc2luY2UgZXBvY2gpXG4gICAgICovXG4gICAgYWNjcnVlKGJhY2tzdG9wVGFrZVJhdGUsIHRpbWVzdGFtcCkge1xuICAgICAgICBpZiAodGltZXN0YW1wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cklyID0gdGhpcy5zZXRSYXRlcyhiYWNrc3RvcFRha2VSYXRlKTtcbiAgICAgICAgY29uc3QgY3VyVXRpbCA9IHRoaXMuZ2V0VXRpbGl6YXRpb24oKTtcbiAgICAgICAgaWYgKGN1clV0aWwgPT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmxhc3RUaW1lID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IElSX01PRF9TQ0FMQVIgPSBGaXhlZE1hdGgudG9GaXhlZCgxLCB0aGlzLmlybW9kRGVjaW1hbHMpO1xuICAgICAgICBjb25zdCBSQVRFX1NDQUxBUiA9IEZpeGVkTWF0aC50b0ZpeGVkKDEsIHRoaXMucmF0ZURlY2ltYWxzKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VXRpbCA9IEJpZ0ludCh0aGlzLmNvbmZpZy51dGlsKTtcbiAgICAgICAgLy8gdXBkYXRlIHJhdGVfbW9kaWZpZXIgb24gcmVzZXJ2ZSBkYXRhXG4gICAgICAgIGNvbnN0IGRlbHRhVGltZSA9IHRpbWVzdGFtcCAtIHRoaXMuZGF0YS5sYXN0VGltZTtcbiAgICAgICAgaWYgKGRlbHRhVGltZSA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1clV0aWwgPiB0YXJnZXRVdGlsKSB7XG4gICAgICAgICAgICAvLyByYXRlIG1vZGlmaWVyIGluY3JlYXNpbmcgLSBzY2FsZSB0byBJUl9NT0RfU0NBTEFSXG4gICAgICAgICAgICBjb25zdCB1dGlsRGlmID0gRml4ZWRNYXRoLm11bEZsb29yKElSX01PRF9TQ0FMQVIsIGN1clV0aWwgLSB0YXJnZXRVdGlsLCBGaXhlZE1hdGguU0NBTEFSXzcpO1xuICAgICAgICAgICAgLy8gdXRpbCBhbmQgcmVhY3Rpdml0eSBhcmUgNyBkZWNpbWFsc1xuICAgICAgICAgICAgY29uc3QgdXRpbEVycm9yID0gQmlnSW50KGRlbHRhVGltZSkgKiB1dGlsRGlmO1xuICAgICAgICAgICAgY29uc3QgcmF0ZURpZiA9IEZpeGVkTWF0aC5tdWxGbG9vcih1dGlsRXJyb3IsIEJpZ0ludCh0aGlzLmNvbmZpZy5yZWFjdGl2aXR5KSwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRJck1vZCA9IHRoaXMuZGF0YS5pbnRlcmVzdFJhdGVNb2RpZmllciArIHJhdGVEaWY7XG4gICAgICAgICAgICBjb25zdCBpck1vZE1heCA9IEJpZ0ludCgxMCkgKiBJUl9NT0RfU0NBTEFSO1xuICAgICAgICAgICAgdGhpcy5kYXRhLmludGVyZXN0UmF0ZU1vZGlmaWVyID0gbmV4dElyTW9kID4gaXJNb2RNYXggPyBpck1vZE1heCA6IG5leHRJck1vZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJVdGlsIDwgdGFyZ2V0VXRpbCkge1xuICAgICAgICAgICAgLy8gcmF0ZSBtb2RpZmllciBkZWNyZWFzaW5nIC0gc2NhbGUgdG8gSVJfTU9EX1NDQUxBUlxuICAgICAgICAgICAgY29uc3QgdXRpbERpZiA9IEZpeGVkTWF0aC5tdWxGbG9vcihJUl9NT0RfU0NBTEFSLCB0YXJnZXRVdGlsIC0gY3VyVXRpbCwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICAgICAgICAgIC8vIHV0aWwgYW5kIHJlYWN0aXZpdHkgYXJlIDcgZGVjaW1hbHNcbiAgICAgICAgICAgIGNvbnN0IHV0aWxFcnJvciA9IEJpZ0ludChkZWx0YVRpbWUpICogdXRpbERpZjtcbiAgICAgICAgICAgIGNvbnN0IHJhdGVEaWYgPSBGaXhlZE1hdGgubXVsQ2VpbCh1dGlsRXJyb3IsIEJpZ0ludCh0aGlzLmNvbmZpZy5yZWFjdGl2aXR5KSwgRml4ZWRNYXRoLlNDQUxBUl83KTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRJck1vZCA9IHRoaXMuZGF0YS5pbnRlcmVzdFJhdGVNb2RpZmllciAtIHJhdGVEaWY7XG4gICAgICAgICAgICBjb25zdCBpck1vZE1pbiA9IElSX01PRF9TQ0FMQVIgLyAxMG47XG4gICAgICAgICAgICB0aGlzLmRhdGEuaW50ZXJlc3RSYXRlTW9kaWZpZXIgPSBuZXh0SXJNb2QgPCBpck1vZE1pbiA/IGlyTW9kTWluIDogbmV4dElyTW9kO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGMgYWNjcnVhbCBhbW91bnQgb3ZlciBibG9ja3NcbiAgICAgICAgLy8gc2NhbGUgdGltZSB3ZWlnaHQgdG8gUkFURV9TQ0FMQVJcbiAgICAgICAgY29uc3QgdGltZVdlaWdodCA9IChCaWdJbnQoZGVsdGFUaW1lKSAqIFJBVEVfU0NBTEFSKSAvIEJpZ0ludCgzMTUzNjAwMCk7XG4gICAgICAgIC8vIGN1cklyIGlzIDcgZGVjaW1hbHNcbiAgICAgICAgY29uc3QgYWNjcnVhbFJhdGUgPSBSQVRFX1NDQUxBUiArIEZpeGVkTWF0aC5tdWxDZWlsKHRpbWVXZWlnaHQsIGN1cklyLCBGaXhlZE1hdGguU0NBTEFSXzcpO1xuICAgICAgICAvLyBhcHBseSBhY2NydWFsIHRvIHJlc2VydmVEYXRhXG4gICAgICAgIGNvbnN0IHByZVVwZGF0ZVN1cHBseSA9IHRoaXMudG90YWxTdXBwbHkoKTtcbiAgICAgICAgY29uc3QgcHJlVXBkYXRlTGlhYmlsaXRpZXMgPSB0aGlzLnRvdGFsTGlhYmlsaXRpZXMoKTtcbiAgICAgICAgdGhpcy5kYXRhLmRSYXRlID0gRml4ZWRNYXRoLm11bENlaWwoYWNjcnVhbFJhdGUsIHRoaXMuZGF0YS5kUmF0ZSwgUkFURV9TQ0FMQVIpO1xuICAgICAgICBjb25zdCBhY2NydWVkSW50ZXJlc3QgPSB0aGlzLnRvdGFsTGlhYmlsaXRpZXMoKSAtIHByZVVwZGF0ZUxpYWJpbGl0aWVzO1xuICAgICAgICBpZiAoYWNjcnVlZEludGVyZXN0ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbmV3QmFja3N0b3BDcmVkaXQgPSBGaXhlZE1hdGgubXVsRmxvb3IoYWNjcnVlZEludGVyZXN0LCBiYWNrc3RvcFRha2VSYXRlLCBGaXhlZE1hdGguU0NBTEFSXzcpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLmJhY2tzdG9wQ3JlZGl0ICs9IG5ld0JhY2tzdG9wQ3JlZGl0O1xuICAgICAgICAgICAgdGhpcy5kYXRhLmJSYXRlID0gRml4ZWRNYXRoLmRpdkZsb29yKHByZVVwZGF0ZVN1cHBseSArIGFjY3J1ZWRJbnRlcmVzdCAtIG5ld0JhY2tzdG9wQ3JlZGl0LCB0aGlzLmRhdGEuYlN1cHBseSwgUkFURV9TQ0FMQVIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YS5sYXN0VGltZSA9IHRpbWVzdGFtcDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzZXJ2ZVYxIGV4dGVuZHMgUmVzZXJ2ZSB7XG4gICAgcmF0ZURlY2ltYWxzID0gOTtcbiAgICBpcm1vZERlY2ltYWxzID0gOTtcbiAgICB2ZXJzaW9uID0gVmVyc2lvbi5WMTtcbiAgICAvKipcbiAgICAgKiBMb2FkIGEgUmVzZXJ2ZSBmcm9tIGFzc2V0IGBhc3NldElkYCBmcm9tIHRoZSBwb29sIGBwb29sSWRgIG9uIHRoZSBuZXR3b3JrIGBuZXR3b3JrYFxuICAgICAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgY29uZmlndXJhdGlvblxuICAgICAqIEBwYXJhbSBwb29sSWQgLSBUaGUgY29udHJhY3QgYWRkcmVzcyBvZiB0aGUgUG9vbFxuICAgICAqIEBwYXJhbSBiYWNrc3RvcFRha2VSYXRlIC0gVGhlIGJhY2tzdG9wIHRha2UgcmF0ZSAoYXMgYSBmaXhlZCBwb2ludCBudW1iZXIgd2l0aCA3IGRlY2ltYWxzKVxuICAgICAqIEBwYXJhbSBhc3NldElkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIFJlc2VydmUgYXNzZXRcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgaW5kZXggb2YgdGhlIFJlc2VydmUgaW4gdGhlIFBvb2xcbiAgICAgKiBAcGFyYW0gdGltZXN0YW1wIC0gVGhlIHRpbWVzdGFtcCB0byBwcm9qZWN0IHRoZSBSZXNlcnZlIGRhdGEgdG8gKGluIHNlY29uZHMgc2luY2UgZXBvY2gpXG4gICAgICogQHJldHVybnMgQSBSZXNlcnZlIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIHBvb2xJZCwgYmFja3N0b3BUYWtlUmF0ZSwgYXNzZXRJZCwgaW5kZXgsIHRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCBzdGVsbGFyUnBjID0gbmV3IHJwYy5TZXJ2ZXIobmV0d29yay5ycGMsIG5ldHdvcmsub3B0cyk7XG4gICAgICAgIGNvbnN0IGRUb2tlbkluZGV4ID0gaW5kZXggKiAyO1xuICAgICAgICBjb25zdCBiVG9rZW5JbmRleCA9IGluZGV4ICogMiArIDE7XG4gICAgICAgIGNvbnN0IGxlZGdlcktleXMgPSBbXG4gICAgICAgICAgICBSZXNlcnZlQ29uZmlnLmxlZGdlcktleShwb29sSWQsIGFzc2V0SWQpLFxuICAgICAgICAgICAgUmVzZXJ2ZURhdGEubGVkZ2VyS2V5KHBvb2xJZCwgYXNzZXRJZCksXG4gICAgICAgICAgICBSZXNlcnZlRW1pc3Npb25Db25maWcubGVkZ2VyS2V5KHBvb2xJZCwgYlRva2VuSW5kZXgpLFxuICAgICAgICAgICAgUmVzZXJ2ZUVtaXNzaW9uRGF0YS5sZWRnZXJLZXkocG9vbElkLCBiVG9rZW5JbmRleCksXG4gICAgICAgICAgICBSZXNlcnZlRW1pc3Npb25Db25maWcubGVkZ2VyS2V5KHBvb2xJZCwgZFRva2VuSW5kZXgpLFxuICAgICAgICAgICAgUmVzZXJ2ZUVtaXNzaW9uRGF0YS5sZWRnZXJLZXkocG9vbElkLCBkVG9rZW5JbmRleCksXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHJlc2VydmVMZWRnZXJFbnRyaWVzID0gYXdhaXQgc3RlbGxhclJwYy5nZXRMZWRnZXJFbnRyaWVzKC4uLmxlZGdlcktleXMpO1xuICAgICAgICAvLyBub3QgYWxsIHJlc2VydmVzIGhhdmUgZW1pc3Npb25zLCBidXQgdGhlIGZpcnN0IDIgZW50cmllcyBhcmUgcmVxdWlyZWRcbiAgICAgICAgaWYgKHJlc2VydmVMZWRnZXJFbnRyaWVzLmVudHJpZXMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbG9hZCByZXNlcnZlOiBtaXNzaW5nIGxlZGdlciBlbnRyaWVzLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXNlcnZlQ29uZmlnO1xuICAgICAgICBsZXQgcmVzZXJ2ZURhdGE7XG4gICAgICAgIGxldCBlbWlzc2lvbkJvcnJvd0NvbmZpZztcbiAgICAgICAgbGV0IGVtaXNzaW9uQm9ycm93RGF0YTtcbiAgICAgICAgbGV0IGVtaXNzaW9uU3VwcGx5Q29uZmlnO1xuICAgICAgICBsZXQgZW1pc3Npb25TdXBwbHlEYXRhO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHJlc2VydmVMZWRnZXJFbnRyaWVzLmVudHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlZGdlckVudHJ5ID0gZW50cnkudmFsO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobGVkZ2VyRW50cnkuY29udHJhY3REYXRhKCkua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdSZXNDb25maWcnOlxuICAgICAgICAgICAgICAgICAgICByZXNlcnZlQ29uZmlnID0gUmVzZXJ2ZUNvbmZpZy5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnUmVzRGF0YSc6XG4gICAgICAgICAgICAgICAgICAgIHJlc2VydmVEYXRhID0gUmVzZXJ2ZURhdGEuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYEVtaXNDb25maWdgOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZ2V0RW1pc3Npb25JbmRleChsZWRnZXJFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAlIDIgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pc3Npb25Cb3Jyb3dDb25maWcgPSBFbWlzc2lvbkNvbmZpZy5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXNzaW9uU3VwcGx5Q29uZmlnID0gRW1pc3Npb25Db25maWcuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgYEVtaXNEYXRhYDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGdldEVtaXNzaW9uSW5kZXgobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggJSAyID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXNzaW9uQm9ycm93RGF0YSA9IEVtaXNzaW9uRGF0YS5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXNzaW9uU3VwcGx5RGF0YSA9IEVtaXNzaW9uRGF0YS5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgcmVzZXJ2ZSBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzZXJ2ZUNvbmZpZyA9PSB1bmRlZmluZWQgfHwgcmVzZXJ2ZURhdGEgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2FkIHJlc2VydmU6IG1pc3NpbmcgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYm9ycm93RW1pc3Npb25zID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZW1pc3Npb25Cb3Jyb3dDb25maWcgJiYgZW1pc3Npb25Cb3Jyb3dEYXRhKSB7XG4gICAgICAgICAgICBib3Jyb3dFbWlzc2lvbnMgPSBuZXcgRW1pc3Npb25zVjEoZW1pc3Npb25Cb3Jyb3dDb25maWcsIGVtaXNzaW9uQm9ycm93RGF0YSwgcmVzZXJ2ZUxlZGdlckVudHJpZXMubGF0ZXN0TGVkZ2VyKTtcbiAgICAgICAgICAgIGJvcnJvd0VtaXNzaW9ucy5hY2NydWUocmVzZXJ2ZURhdGEuZFN1cHBseSwgcmVzZXJ2ZUNvbmZpZy5kZWNpbWFscywgdGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VwcGx5RW1pc3Npb25zID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZW1pc3Npb25TdXBwbHlDb25maWcgJiYgZW1pc3Npb25TdXBwbHlEYXRhKSB7XG4gICAgICAgICAgICBzdXBwbHlFbWlzc2lvbnMgPSBuZXcgRW1pc3Npb25zVjEoZW1pc3Npb25TdXBwbHlDb25maWcsIGVtaXNzaW9uU3VwcGx5RGF0YSwgcmVzZXJ2ZUxlZGdlckVudHJpZXMubGF0ZXN0TGVkZ2VyKTtcbiAgICAgICAgICAgIHN1cHBseUVtaXNzaW9ucy5hY2NydWUocmVzZXJ2ZURhdGEuYlN1cHBseSwgcmVzZXJ2ZUNvbmZpZy5kZWNpbWFscywgdGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNlcnZlID0gbmV3IFJlc2VydmVWMShwb29sSWQsIGFzc2V0SWQsIHJlc2VydmVDb25maWcsIHJlc2VydmVEYXRhLCBib3Jyb3dFbWlzc2lvbnMsIHN1cHBseUVtaXNzaW9ucywgMCwgMCwgMCwgMCwgcmVzZXJ2ZUxlZGdlckVudHJpZXMubGF0ZXN0TGVkZ2VyKTtcbiAgICAgICAgcmVzZXJ2ZS5hY2NydWUoYmFja3N0b3BUYWtlUmF0ZSwgdGltZXN0YW1wKTtcbiAgICAgICAgcmV0dXJuIHJlc2VydmU7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBsb2FkTGlzdChuZXR3b3JrLCBwb29sSWQsIGJhY2tzdG9wVGFrZVJhdGUsIHJlc2VydmVMaXN0LCB0aW1lc3RhbXApIHtcbiAgICAgICAgY29uc3QgcmVzZXJ2ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgY29uc3Qgc3RlbGxhclJwYyA9IG5ldyBycGMuU2VydmVyKG5ldHdvcmsucnBjLCBuZXR3b3JrLm9wdHMpO1xuICAgICAgICBjb25zdCBsZWRnZXJLZXlzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2luZGV4LCByZXNlcnZlSWRdIG9mIHJlc2VydmVMaXN0LmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3QgZFRva2VuSW5kZXggPSBpbmRleCAqIDI7XG4gICAgICAgICAgICBjb25zdCBiVG9rZW5JbmRleCA9IGluZGV4ICogMiArIDE7XG4gICAgICAgICAgICBsZWRnZXJLZXlzLnB1c2goLi4uW1xuICAgICAgICAgICAgICAgIFJlc2VydmVDb25maWcubGVkZ2VyS2V5KHBvb2xJZCwgcmVzZXJ2ZUlkKSxcbiAgICAgICAgICAgICAgICBSZXNlcnZlRGF0YS5sZWRnZXJLZXkocG9vbElkLCByZXNlcnZlSWQpLFxuICAgICAgICAgICAgICAgIFJlc2VydmVFbWlzc2lvbkNvbmZpZy5sZWRnZXJLZXkocG9vbElkLCBiVG9rZW5JbmRleCksXG4gICAgICAgICAgICAgICAgUmVzZXJ2ZUVtaXNzaW9uRGF0YS5sZWRnZXJLZXkocG9vbElkLCBiVG9rZW5JbmRleCksXG4gICAgICAgICAgICAgICAgUmVzZXJ2ZUVtaXNzaW9uQ29uZmlnLmxlZGdlcktleShwb29sSWQsIGRUb2tlbkluZGV4KSxcbiAgICAgICAgICAgICAgICBSZXNlcnZlRW1pc3Npb25EYXRhLmxlZGdlcktleShwb29sSWQsIGRUb2tlbkluZGV4KSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc2VydmVMZWRnZXJFbnRyaWVzID0gYXdhaXQgc3RlbGxhclJwYy5nZXRMZWRnZXJFbnRyaWVzKC4uLmxlZGdlcktleXMpO1xuICAgICAgICBjb25zdCByZXNlcnZlQ29uZmlnTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCByZXNlcnZlRGF0YU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgZW1pc3Npb25Db25maWdNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGVtaXNzaW9uRGF0YU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiByZXNlcnZlTGVkZ2VyRW50cmllcy5lbnRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBsZWRnZXJFbnRyeSA9IGVudHJ5LnZhbDtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KGxlZGdlckVudHJ5LmNvbnRyYWN0RGF0YSgpLmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnUmVzQ29uZmlnJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNlcnZlSWQgPSBnZXRSZXNlcnZlSWQobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICByZXNlcnZlQ29uZmlnTWFwLnNldChyZXNlcnZlSWQsIFJlc2VydmVDb25maWcuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJFbnRyeSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnUmVzRGF0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXJ2ZUlkID0gZ2V0UmVzZXJ2ZUlkKGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXJ2ZURhdGFNYXAuc2V0KHJlc2VydmVJZCwgUmVzZXJ2ZURhdGEuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJFbnRyeSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBgRW1pc0NvbmZpZ2A6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1pc3Npb25JbmRleCA9IGdldEVtaXNzaW9uSW5kZXgobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBlbWlzc2lvbkNvbmZpZ01hcC5zZXQoZW1pc3Npb25JbmRleCwgRW1pc3Npb25Db25maWcuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJFbnRyeSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBgRW1pc0RhdGFgOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtaXNzaW9uSW5kZXggPSBnZXRFbWlzc2lvbkluZGV4KGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgZW1pc3Npb25EYXRhTWFwLnNldChlbWlzc2lvbkluZGV4LCBFbWlzc2lvbkRhdGEuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJFbnRyeSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgcmVzZXJ2ZSBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgcmVzZXJ2ZUlkXSBvZiByZXNlcnZlTGlzdC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc2VydmVDb25maWcgPSByZXNlcnZlQ29uZmlnTWFwLmdldChyZXNlcnZlSWQpO1xuICAgICAgICAgICAgY29uc3QgcmVzZXJ2ZURhdGEgPSByZXNlcnZlRGF0YU1hcC5nZXQocmVzZXJ2ZUlkKTtcbiAgICAgICAgICAgIGlmIChyZXNlcnZlQ29uZmlnID09IHVuZGVmaW5lZCB8fCByZXNlcnZlRGF0YSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2FkIHJlc2VydmU6IG1pc3NpbmcgZGF0YS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRUb2tlbkluZGV4ID0gaW5kZXggKiAyO1xuICAgICAgICAgICAgY29uc3QgYlRva2VuSW5kZXggPSBpbmRleCAqIDIgKyAxO1xuICAgICAgICAgICAgY29uc3QgZW1pc3Npb25Cb3Jyb3dDb25maWcgPSBlbWlzc2lvbkNvbmZpZ01hcC5nZXQoZFRva2VuSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgZW1pc3Npb25Cb3Jyb3dEYXRhID0gZW1pc3Npb25EYXRhTWFwLmdldChkVG9rZW5JbmRleCk7XG4gICAgICAgICAgICBjb25zdCBlbWlzc2lvblN1cHBseUNvbmZpZyA9IGVtaXNzaW9uQ29uZmlnTWFwLmdldChiVG9rZW5JbmRleCk7XG4gICAgICAgICAgICBjb25zdCBlbWlzc2lvblN1cHBseURhdGEgPSBlbWlzc2lvbkRhdGFNYXAuZ2V0KGJUb2tlbkluZGV4KTtcbiAgICAgICAgICAgIGxldCBib3Jyb3dFbWlzc2lvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZW1pc3Npb25Cb3Jyb3dDb25maWcgJiYgZW1pc3Npb25Cb3Jyb3dEYXRhKSB7XG4gICAgICAgICAgICAgICAgYm9ycm93RW1pc3Npb25zID0gbmV3IEVtaXNzaW9uc1YxKGVtaXNzaW9uQm9ycm93Q29uZmlnLCBlbWlzc2lvbkJvcnJvd0RhdGEsIHJlc2VydmVMZWRnZXJFbnRyaWVzLmxhdGVzdExlZGdlcik7XG4gICAgICAgICAgICAgICAgYm9ycm93RW1pc3Npb25zLmFjY3J1ZShyZXNlcnZlRGF0YS5kU3VwcGx5LCByZXNlcnZlQ29uZmlnLmRlY2ltYWxzLCB0aW1lc3RhbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHN1cHBseUVtaXNzaW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChlbWlzc2lvblN1cHBseUNvbmZpZyAmJiBlbWlzc2lvblN1cHBseURhdGEpIHtcbiAgICAgICAgICAgICAgICBzdXBwbHlFbWlzc2lvbnMgPSBuZXcgRW1pc3Npb25zVjEoZW1pc3Npb25TdXBwbHlDb25maWcsIGVtaXNzaW9uU3VwcGx5RGF0YSwgcmVzZXJ2ZUxlZGdlckVudHJpZXMubGF0ZXN0TGVkZ2VyKTtcbiAgICAgICAgICAgICAgICBzdXBwbHlFbWlzc2lvbnMuYWNjcnVlKHJlc2VydmVEYXRhLmJTdXBwbHksIHJlc2VydmVDb25maWcuZGVjaW1hbHMsIHRpbWVzdGFtcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXNlcnZlID0gbmV3IFJlc2VydmVWMShwb29sSWQsIHJlc2VydmVJZCwgcmVzZXJ2ZUNvbmZpZywgcmVzZXJ2ZURhdGEsIGJvcnJvd0VtaXNzaW9ucywgc3VwcGx5RW1pc3Npb25zLCAwLCAwLCAwLCAwLCByZXNlcnZlTGVkZ2VyRW50cmllcy5sYXRlc3RMZWRnZXIpO1xuICAgICAgICAgICAgcmVzZXJ2ZS5hY2NydWUoYmFja3N0b3BUYWtlUmF0ZSwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgIHJlc2VydmVzLnB1c2gocmVzZXJ2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc2VydmVzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNlcnZlVjIgZXh0ZW5kcyBSZXNlcnZlIHtcbiAgICByYXRlRGVjaW1hbHMgPSAxMjtcbiAgICBpcm1vZERlY2ltYWxzID0gNztcbiAgICB2ZXJzaW9uID0gVmVyc2lvbi5WMjtcbiAgICAvKipcbiAgICAgKiBMb2FkIGEgUmVzZXJ2ZSBmcm9tIGFzc2V0IGBhc3NldElkYCBmcm9tIHRoZSBwb29sIGBwb29sSWRgIG9uIHRoZSBuZXR3b3JrIGBuZXR3b3JrYFxuICAgICAqIEBwYXJhbSBuZXR3b3JrIC0gVGhlIG5ldHdvcmsgY29uZmlndXJhdGlvblxuICAgICAqIEBwYXJhbSBwb29sSWQgLSBUaGUgY29udHJhY3QgYWRkcmVzcyBvZiB0aGUgUG9vbFxuICAgICAqIEBwYXJhbSBiYWNrc3RvcFRha2VSYXRlIC0gVGhlIGJhY2tzdG9wIHRha2UgcmF0ZSBvZiB0aGUgcG9vbFxuICAgICAqIEBwYXJhbSBhc3NldElkIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb2YgdGhlIFJlc2VydmUgYXNzZXRcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgaW5kZXggb2YgdGhlIFJlc2VydmUgaW4gdGhlIFBvb2xcbiAgICAgKiBAcGFyYW0gdGltZXN0YW1wIC0gVGhlIHRpbWVzdGFtcCB0byBwcm9qZWN0IHRoZSBSZXNlcnZlIGRhdGEgdG8gKGluIHNlY29uZHMgc2luY2UgZXBvY2gpXG4gICAgICogQHJldHVybnMgQSBSZXNlcnZlIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIHBvb2xJZCwgYmFja3N0b3BUYWtlUmF0ZSwgYXNzZXRJZCwgaW5kZXgsIHRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCBzdGVsbGFyUnBjID0gbmV3IHJwYy5TZXJ2ZXIobmV0d29yay5ycGMsIG5ldHdvcmsub3B0cyk7XG4gICAgICAgIGNvbnN0IGRUb2tlbkluZGV4ID0gaW5kZXggKiAyO1xuICAgICAgICBjb25zdCBiVG9rZW5JbmRleCA9IGluZGV4ICogMiArIDE7XG4gICAgICAgIGNvbnN0IGxlZGdlcktleXMgPSBbXG4gICAgICAgICAgICBSZXNlcnZlQ29uZmlnLmxlZGdlcktleShwb29sSWQsIGFzc2V0SWQpLFxuICAgICAgICAgICAgUmVzZXJ2ZURhdGEubGVkZ2VyS2V5KHBvb2xJZCwgYXNzZXRJZCksXG4gICAgICAgICAgICBSZXNlcnZlRW1pc3Npb25EYXRhLmxlZGdlcktleShwb29sSWQsIGJUb2tlbkluZGV4KSxcbiAgICAgICAgICAgIFJlc2VydmVFbWlzc2lvbkRhdGEubGVkZ2VyS2V5KHBvb2xJZCwgZFRva2VuSW5kZXgpLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCByZXNlcnZlTGVkZ2VyRW50cmllcyA9IGF3YWl0IHN0ZWxsYXJScGMuZ2V0TGVkZ2VyRW50cmllcyguLi5sZWRnZXJLZXlzKTtcbiAgICAgICAgLy8gbm90IGFsbCByZXNlcnZlcyBoYXZlIGVtaXNzaW9ucywgYnV0IHRoZSBmaXJzdCAyIGVudHJpZXMgYXJlIHJlcXVpcmVkXG4gICAgICAgIGlmIChyZXNlcnZlTGVkZ2VyRW50cmllcy5lbnRyaWVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGxvYWQgcmVzZXJ2ZTogbWlzc2luZyBsZWRnZXIgZW50cmllcy4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzZXJ2ZUNvbmZpZztcbiAgICAgICAgbGV0IHJlc2VydmVEYXRhO1xuICAgICAgICBsZXQgZW1pc3Npb25Cb3Jyb3dEYXRhO1xuICAgICAgICBsZXQgZW1pc3Npb25TdXBwbHlEYXRhO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHJlc2VydmVMZWRnZXJFbnRyaWVzLmVudHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlZGdlckVudHJ5ID0gZW50cnkudmFsO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobGVkZ2VyRW50cnkuY29udHJhY3REYXRhKCkua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdSZXNDb25maWcnOlxuICAgICAgICAgICAgICAgICAgICByZXNlcnZlQ29uZmlnID0gUmVzZXJ2ZUNvbmZpZy5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnUmVzRGF0YSc6XG4gICAgICAgICAgICAgICAgICAgIHJlc2VydmVEYXRhID0gUmVzZXJ2ZURhdGEuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYEVtaXNEYXRhYDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGdldEVtaXNzaW9uSW5kZXgobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggJSAyID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXNzaW9uQm9ycm93RGF0YSA9IEVtaXNzaW9uRGF0YVYyLmZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pc3Npb25TdXBwbHlEYXRhID0gRW1pc3Npb25EYXRhVjIuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIHJlc2VydmUga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc2VydmVDb25maWcgPT0gdW5kZWZpbmVkIHx8IHJlc2VydmVEYXRhID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbG9hZCByZXNlcnZlOiBtaXNzaW5nIGRhdGEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJvcnJvd0VtaXNzaW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGVtaXNzaW9uQm9ycm93RGF0YSkge1xuICAgICAgICAgICAgYm9ycm93RW1pc3Npb25zID0gbmV3IEVtaXNzaW9uc1YyKGVtaXNzaW9uQm9ycm93RGF0YSwgcmVzZXJ2ZUxlZGdlckVudHJpZXMubGF0ZXN0TGVkZ2VyKTtcbiAgICAgICAgICAgIGJvcnJvd0VtaXNzaW9ucy5hY2NydWUocmVzZXJ2ZURhdGEuZFN1cHBseSwgcmVzZXJ2ZUNvbmZpZy5kZWNpbWFscywgdGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VwcGx5RW1pc3Npb25zID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZW1pc3Npb25TdXBwbHlEYXRhKSB7XG4gICAgICAgICAgICBzdXBwbHlFbWlzc2lvbnMgPSBuZXcgRW1pc3Npb25zVjIoZW1pc3Npb25TdXBwbHlEYXRhLCByZXNlcnZlTGVkZ2VyRW50cmllcy5sYXRlc3RMZWRnZXIpO1xuICAgICAgICAgICAgc3VwcGx5RW1pc3Npb25zLmFjY3J1ZShyZXNlcnZlRGF0YS5iU3VwcGx5LCByZXNlcnZlQ29uZmlnLmRlY2ltYWxzLCB0aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc2VydmUgPSBuZXcgUmVzZXJ2ZVYyKHBvb2xJZCwgYXNzZXRJZCwgcmVzZXJ2ZUNvbmZpZywgcmVzZXJ2ZURhdGEsIGJvcnJvd0VtaXNzaW9ucywgc3VwcGx5RW1pc3Npb25zLCAwLCAwLCAwLCAwLCByZXNlcnZlTGVkZ2VyRW50cmllcy5sYXRlc3RMZWRnZXIpO1xuICAgICAgICByZXNlcnZlLmFjY3J1ZShiYWNrc3RvcFRha2VSYXRlLCB0aW1lc3RhbXApO1xuICAgICAgICByZXR1cm4gcmVzZXJ2ZTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGxvYWRMaXN0KG5ldHdvcmssIHBvb2xJZCwgYmFja3N0b3BUYWtlUmF0ZSwgcmVzZXJ2ZUxpc3QsIHRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCByZXNlcnZlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBjb25zdCBzdGVsbGFyUnBjID0gbmV3IHJwYy5TZXJ2ZXIobmV0d29yay5ycGMsIG5ldHdvcmsub3B0cyk7XG4gICAgICAgIGNvbnN0IGxlZGdlcktleXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHJlc2VydmVJZF0gb2YgcmVzZXJ2ZUxpc3QuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBkVG9rZW5JbmRleCA9IGluZGV4ICogMjtcbiAgICAgICAgICAgIGNvbnN0IGJUb2tlbkluZGV4ID0gaW5kZXggKiAyICsgMTtcbiAgICAgICAgICAgIGxlZGdlcktleXMucHVzaCguLi5bXG4gICAgICAgICAgICAgICAgUmVzZXJ2ZUNvbmZpZ1YyLmxlZGdlcktleShwb29sSWQsIHJlc2VydmVJZCksXG4gICAgICAgICAgICAgICAgUmVzZXJ2ZURhdGEubGVkZ2VyS2V5KHBvb2xJZCwgcmVzZXJ2ZUlkKSxcbiAgICAgICAgICAgICAgICBSZXNlcnZlRW1pc3Npb25Db25maWcubGVkZ2VyS2V5KHBvb2xJZCwgYlRva2VuSW5kZXgpLFxuICAgICAgICAgICAgICAgIFJlc2VydmVFbWlzc2lvbkRhdGEubGVkZ2VyS2V5KHBvb2xJZCwgYlRva2VuSW5kZXgpLFxuICAgICAgICAgICAgICAgIFJlc2VydmVFbWlzc2lvbkNvbmZpZy5sZWRnZXJLZXkocG9vbElkLCBkVG9rZW5JbmRleCksXG4gICAgICAgICAgICAgICAgUmVzZXJ2ZUVtaXNzaW9uRGF0YS5sZWRnZXJLZXkocG9vbElkLCBkVG9rZW5JbmRleCksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNlcnZlTGVkZ2VyRW50cmllcyA9IGF3YWl0IHN0ZWxsYXJScGMuZ2V0TGVkZ2VyRW50cmllcyguLi5sZWRnZXJLZXlzKTtcbiAgICAgICAgY29uc3QgcmVzZXJ2ZUNvbmZpZ01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgcmVzZXJ2ZURhdGFNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGVtaXNzaW9uRGF0YU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiByZXNlcnZlTGVkZ2VyRW50cmllcy5lbnRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBsZWRnZXJFbnRyeSA9IGVudHJ5LnZhbDtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KGxlZGdlckVudHJ5LmNvbnRyYWN0RGF0YSgpLmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnUmVzQ29uZmlnJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNlcnZlSWQgPSBnZXRSZXNlcnZlSWQobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICByZXNlcnZlQ29uZmlnTWFwLnNldChyZXNlcnZlSWQsIFJlc2VydmVDb25maWdWMi5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdSZXNEYXRhJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNlcnZlSWQgPSBnZXRSZXNlcnZlSWQobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICByZXNlcnZlRGF0YU1hcC5zZXQocmVzZXJ2ZUlkLCBSZXNlcnZlRGF0YS5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIGBFbWlzRGF0YWA6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1pc3Npb25JbmRleCA9IGdldEVtaXNzaW9uSW5kZXgobGVkZ2VyRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBlbWlzc2lvbkRhdGFNYXAuc2V0KGVtaXNzaW9uSW5kZXgsIEVtaXNzaW9uRGF0YVYyLmZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyRW50cnkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIHJlc2VydmUga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHJlc2VydmVJZF0gb2YgcmVzZXJ2ZUxpc3QuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCByZXNlcnZlQ29uZmlnID0gcmVzZXJ2ZUNvbmZpZ01hcC5nZXQocmVzZXJ2ZUlkKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc2VydmVEYXRhID0gcmVzZXJ2ZURhdGFNYXAuZ2V0KHJlc2VydmVJZCk7XG4gICAgICAgICAgICBpZiAocmVzZXJ2ZUNvbmZpZyA9PSB1bmRlZmluZWQgfHwgcmVzZXJ2ZURhdGEgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbG9hZCByZXNlcnZlOiBtaXNzaW5nIGRhdGEuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkVG9rZW5JbmRleCA9IGluZGV4ICogMjtcbiAgICAgICAgICAgIGNvbnN0IGJUb2tlbkluZGV4ID0gaW5kZXggKiAyICsgMTtcbiAgICAgICAgICAgIGNvbnN0IGVtaXNzaW9uQm9ycm93RGF0YSA9IGVtaXNzaW9uRGF0YU1hcC5nZXQoZFRva2VuSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgZW1pc3Npb25TdXBwbHlEYXRhID0gZW1pc3Npb25EYXRhTWFwLmdldChiVG9rZW5JbmRleCk7XG4gICAgICAgICAgICBsZXQgYm9ycm93RW1pc3Npb25zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGVtaXNzaW9uQm9ycm93RGF0YSkge1xuICAgICAgICAgICAgICAgIGJvcnJvd0VtaXNzaW9ucyA9IG5ldyBFbWlzc2lvbnNWMihlbWlzc2lvbkJvcnJvd0RhdGEsIHJlc2VydmVMZWRnZXJFbnRyaWVzLmxhdGVzdExlZGdlcik7XG4gICAgICAgICAgICAgICAgYm9ycm93RW1pc3Npb25zLmFjY3J1ZShyZXNlcnZlRGF0YS5kU3VwcGx5LCByZXNlcnZlQ29uZmlnLmRlY2ltYWxzLCB0aW1lc3RhbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHN1cHBseUVtaXNzaW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChlbWlzc2lvblN1cHBseURhdGEpIHtcbiAgICAgICAgICAgICAgICBzdXBwbHlFbWlzc2lvbnMgPSBuZXcgRW1pc3Npb25zVjIoZW1pc3Npb25TdXBwbHlEYXRhLCByZXNlcnZlTGVkZ2VyRW50cmllcy5sYXRlc3RMZWRnZXIpO1xuICAgICAgICAgICAgICAgIHN1cHBseUVtaXNzaW9ucy5hY2NydWUocmVzZXJ2ZURhdGEuYlN1cHBseSwgcmVzZXJ2ZUNvbmZpZy5kZWNpbWFscywgdGltZXN0YW1wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc2VydmUgPSBuZXcgUmVzZXJ2ZVYyKHBvb2xJZCwgcmVzZXJ2ZUlkLCByZXNlcnZlQ29uZmlnLCByZXNlcnZlRGF0YSwgYm9ycm93RW1pc3Npb25zLCBzdXBwbHlFbWlzc2lvbnMsIDAsIDAsIDAsIDAsIHJlc2VydmVMZWRnZXJFbnRyaWVzLmxhdGVzdExlZGdlcik7XG4gICAgICAgICAgICByZXNlcnZlLmFjY3J1ZShiYWNrc3RvcFRha2VSYXRlLCB0aW1lc3RhbXApO1xuICAgICAgICAgICAgcmVzZXJ2ZXMucHVzaChyZXNlcnZlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzZXJ2ZXM7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve_types.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve_types.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContractReserve: () => (/* binding */ ContractReserve),\n/* harmony export */   ReserveConfig: () => (/* binding */ ReserveConfig),\n/* harmony export */   ReserveConfigV2: () => (/* binding */ ReserveConfigV2),\n/* harmony export */   ReserveData: () => (/* binding */ ReserveData),\n/* harmony export */   ReserveEmissionConfig: () => (/* binding */ ReserveEmissionConfig),\n/* harmony export */   ReserveEmissionData: () => (/* binding */ ReserveEmissionData),\n/* harmony export */   getEmissionIndex: () => (/* binding */ getEmissionIndex),\n/* harmony export */   getReserveId: () => (/* binding */ getReserveId)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _emissions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../emissions.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\n\nclass ReserveConfig {\n    index;\n    decimals;\n    c_factor;\n    l_factor;\n    util;\n    max_util;\n    r_base;\n    r_one;\n    r_two;\n    r_three;\n    reactivity;\n    constructor(index, decimals, c_factor, l_factor, util, max_util, r_base, r_one, r_two, r_three, reactivity) {\n        this.index = index;\n        this.decimals = decimals;\n        this.c_factor = c_factor;\n        this.l_factor = l_factor;\n        this.util = util;\n        this.max_util = max_util;\n        this.r_base = r_base;\n        this.r_one = r_one;\n        this.r_two = r_two;\n        this.r_three = r_three;\n        this.reactivity = reactivity;\n    }\n    static async load(network, poolId, assetId) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const ledger_key = this.ledgerKey(poolId, assetId);\n        const result = await stellarRpc.getLedgerEntries(ledger_key);\n        if (result.entries.length > 0) {\n            return this.fromLedgerEntryData(result.entries[0].val);\n        }\n        else {\n            throw Error(`Unable to find ReserveConfig with key: ${ledger_key.toXDR('base64')}`);\n        }\n    }\n    static ledgerKey(poolId, assetId) {\n        const res = [\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('ResConfig'),\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(assetId).toScVal(),\n        ];\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const as_scval = ledger_entry_data.contractData().val();\n        if (as_scval === undefined) {\n            throw Error('ReserveConfig contract data value invalid');\n        }\n        return this.fromScVal(as_scval);\n    }\n    static fromScVal(scval_data) {\n        if (typeof scval_data == 'string') {\n            scval_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(scval_data, 'base64');\n        }\n        const data_entry_map = scval_data.map();\n        if (data_entry_map == undefined) {\n            throw Error('ReserveConfig contract data value is not a map');\n        }\n        let index;\n        let decimals;\n        let c_factor;\n        let l_factor;\n        let util;\n        let max_util;\n        let r_base;\n        let r_one;\n        let r_two;\n        let r_three;\n        let reactivity;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'index':\n                    index = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'decimals':\n                    decimals = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'c_factor':\n                    c_factor = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'l_factor':\n                    l_factor = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'util':\n                    util = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'max_util':\n                    max_util = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'r_base':\n                    r_base = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'r_one':\n                    r_one = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'r_two':\n                    r_two = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'r_three':\n                    r_three = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'reactivity':\n                    reactivity = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                default:\n                    throw Error(`Invalid ReserveConfig key should not contain ${key}`);\n            }\n        }\n        if (index == undefined ||\n            c_factor == undefined ||\n            decimals == undefined ||\n            index == undefined ||\n            l_factor == undefined ||\n            max_util == undefined ||\n            r_one == undefined ||\n            r_three == undefined ||\n            r_two == undefined ||\n            reactivity == undefined ||\n            util == undefined) {\n            throw Error('ReserveConfig scvMap value malformed');\n        }\n        return new ReserveConfig(index, decimals, c_factor, l_factor, util, max_util, r_base, r_one, r_two, r_three, reactivity);\n    }\n}\nclass ReserveConfigV2 extends ReserveConfig {\n    index;\n    decimals;\n    c_factor;\n    l_factor;\n    util;\n    max_util;\n    r_base;\n    r_one;\n    r_two;\n    r_three;\n    reactivity;\n    supply_cap;\n    enabled;\n    constructor(index, decimals, c_factor, l_factor, util, max_util, r_base, r_one, r_two, r_three, reactivity, supply_cap, enabled) {\n        super(index, decimals, c_factor, l_factor, util, max_util, r_base, r_one, r_two, r_three, reactivity);\n        this.index = index;\n        this.decimals = decimals;\n        this.c_factor = c_factor;\n        this.l_factor = l_factor;\n        this.util = util;\n        this.max_util = max_util;\n        this.r_base = r_base;\n        this.r_one = r_one;\n        this.r_two = r_two;\n        this.r_three = r_three;\n        this.reactivity = reactivity;\n        this.supply_cap = supply_cap;\n        this.enabled = enabled;\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const as_scval = ledger_entry_data.contractData().val();\n        if (as_scval === undefined) {\n            throw Error('ReserveConfig contract data value invalid');\n        }\n        return this.fromScVal(as_scval);\n    }\n    static fromScVal(scval_data) {\n        if (typeof scval_data == 'string') {\n            scval_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(scval_data, 'base64');\n        }\n        const data_entry_map = scval_data.map();\n        if (data_entry_map == undefined) {\n            throw Error('ReserveConfig contract data value is not a map');\n        }\n        let index;\n        let decimals;\n        let c_factor;\n        let l_factor;\n        let util;\n        let max_util;\n        let r_base;\n        let r_one;\n        let r_two;\n        let r_three;\n        let reactivity;\n        let supply_cap;\n        let enabled;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'index':\n                    index = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'decimals':\n                    decimals = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'c_factor':\n                    c_factor = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'l_factor':\n                    l_factor = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'util':\n                    util = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'max_util':\n                    max_util = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'r_base':\n                    r_base = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'r_one':\n                    r_one = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'r_two':\n                    r_two = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'r_three':\n                    r_three = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'reactivity':\n                    reactivity = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'supply_cap':\n                    supply_cap = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'enabled':\n                    enabled = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                default:\n                    throw Error(`Invalid ReserveConfig key should not contain ${key}`);\n            }\n        }\n        if (index == undefined ||\n            c_factor == undefined ||\n            decimals == undefined ||\n            index == undefined ||\n            l_factor == undefined ||\n            max_util == undefined ||\n            r_one == undefined ||\n            r_three == undefined ||\n            r_two == undefined ||\n            reactivity == undefined ||\n            util == undefined ||\n            supply_cap == undefined ||\n            enabled == undefined) {\n            throw Error('ReserveConfig scvMap value malformed');\n        }\n        return new ReserveConfigV2(index, decimals, c_factor, l_factor, util, max_util, r_base, r_one, r_two, r_three, reactivity, supply_cap, enabled);\n    }\n}\nclass ReserveData {\n    dRate;\n    bRate;\n    interestRateModifier;\n    dSupply;\n    bSupply;\n    backstopCredit;\n    lastTime;\n    constructor(dRate, bRate, interestRateModifier, dSupply, bSupply, backstopCredit, lastTime) {\n        this.dRate = dRate;\n        this.bRate = bRate;\n        this.interestRateModifier = interestRateModifier;\n        this.dSupply = dSupply;\n        this.bSupply = bSupply;\n        this.backstopCredit = backstopCredit;\n        this.lastTime = lastTime;\n    }\n    static async load(network, poolId, assetId) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const ledger_key = this.ledgerKey(poolId, assetId);\n        const result = await stellarRpc.getLedgerEntries(ledger_key);\n        if (result.entries.length > 0) {\n            return this.fromLedgerEntryData(result.entries[0].val);\n        }\n        else {\n            throw Error(`Unable to find ReserveData with key: ${ledger_key.toXDR('base64')}`);\n        }\n    }\n    static ledgerKey(poolId, assetId) {\n        const res = [\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('ResData'),\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(assetId).toScVal(),\n        ];\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const reserve_scval = ledger_entry_data.contractData().val();\n        const reserveData = ReserveData.fromScVal(reserve_scval);\n        return reserveData;\n    }\n    static fromScVal(sc_val) {\n        if (typeof sc_val == 'string') {\n            sc_val = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(sc_val, 'base64');\n        }\n        const data_entry_map = sc_val.map();\n        if (data_entry_map == undefined) {\n            throw Error('ReserveData contract data value is not a map');\n        }\n        let d_rate;\n        let b_rate;\n        let ir_mod;\n        let d_supply;\n        let b_supply;\n        let backstop_credit;\n        let last_time;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'd_rate':\n                    d_rate = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'b_rate':\n                    b_rate = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'ir_mod':\n                    ir_mod = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'd_supply':\n                    d_supply = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'b_supply':\n                    b_supply = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'backstop_credit':\n                    backstop_credit = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                case 'last_time':\n                    last_time = Number((0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val()));\n                    break;\n                default:\n                    throw Error(`Invalid ReserveData key should not contain ${key}`);\n            }\n        }\n        if (d_rate == undefined ||\n            b_rate == undefined ||\n            ir_mod == undefined ||\n            d_supply == undefined ||\n            b_supply == undefined ||\n            backstop_credit == undefined ||\n            last_time == undefined) {\n            throw Error('Error: ReserveData scvMap value malformed');\n        }\n        return new ReserveData(d_rate, b_rate, ir_mod, d_supply, b_supply, backstop_credit, last_time);\n    }\n}\nclass ReserveEmissionConfig extends _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionConfig {\n    static ledgerKey(poolId, reserveIndex) {\n        const res = [_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('EmisConfig'), _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU32(reserveIndex)];\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n}\nclass ReserveEmissionData extends _emissions_js__WEBPACK_IMPORTED_MODULE_1__.EmissionData {\n    static ledgerKey(poolId, reserveIndex) {\n        const res = [_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('EmisData'), _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU32(reserveIndex)];\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n}\n/**\n * A object representing the reserve object on the contract\n */\nclass ContractReserve {\n    asset;\n    config;\n    data;\n    scalar;\n    constructor(asset, config, data, scalar) {\n        this.asset = asset;\n        this.config = config;\n        this.data = data;\n        this.scalar = scalar;\n    }\n    static fromScVal(sc_val) {\n        if (typeof sc_val == 'string') {\n            sc_val = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(sc_val, 'base64');\n        }\n        const data_entry_map = sc_val.map();\n        if (data_entry_map == undefined) {\n            throw Error('Reserve contract data value is not a map');\n        }\n        let asset;\n        let config;\n        let data;\n        let scalar;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'asset':\n                    asset = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(map_entry.val()).toString();\n                    break;\n                case 'config':\n                    config = ReserveConfigV2.fromScVal(map_entry.val());\n                    break;\n                case 'data':\n                    data = ReserveData.fromScVal(map_entry.val());\n                    break;\n                case 'scalar':\n                    scalar = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(map_entry.val());\n                    break;\n                default:\n                    throw Error(`Invalid Reserve key: should not contain ${key}`);\n            }\n        }\n        if (asset == undefined || config == undefined || data == undefined) {\n            throw Error('Invalid Reserve: missing fields');\n        }\n        return new ContractReserve(asset, config, data, scalar);\n    }\n}\n/**\n * Decode the reserve token type (0 = dToken, 1 = bToken) from a Reserve Emission LedgerEntryData\n */\nfunction getEmissionIndex(ledger_entry_data) {\n    if (typeof ledger_entry_data == 'string') {\n        ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n    }\n    const ledgerEntryKey = ledger_entry_data.contractData()?.key()?.vec()?.at(1)?.u32();\n    if (ledgerEntryKey == undefined) {\n        throw new Error('Unable to parse emission entry token type');\n    }\n    return ledgerEntryKey;\n}\nfunction getReserveId(ledger_entry_data) {\n    if (typeof ledger_entry_data == 'string') {\n        ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n    }\n    const ledgerEntryKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScAddress(ledger_entry_data.contractData()?.key()?.vec()?.at(1)?.address()).toString();\n    if (ledgerEntryKey == undefined) {\n        throw new Error('Unable to parse asset id from ledger entry data');\n    }\n    return ledgerEntryKey;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Jlc2VydmVfdHlwZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDVDtBQUNKO0FBQ3BEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLDJCQUEyQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQUc7QUFDZixZQUFZLHlEQUFPO0FBQ25CO0FBQ0EsZUFBZSxxREFBRyw0QkFBNEIscURBQUc7QUFDakQsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQix3QkFBd0IscURBQUc7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscURBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0EsNEJBQTRCLG1FQUFhO0FBQ3pDO0FBQ0E7QUFDQSwrQkFBK0IsbUVBQWE7QUFDNUM7QUFDQTtBQUNBLCtCQUErQixtRUFBYTtBQUM1QztBQUNBO0FBQ0EsK0JBQStCLG1FQUFhO0FBQzVDO0FBQ0E7QUFDQSwyQkFBMkIsbUVBQWE7QUFDeEM7QUFDQTtBQUNBLCtCQUErQixtRUFBYTtBQUM1QztBQUNBO0FBQ0EsNkJBQTZCLG1FQUFhO0FBQzFDO0FBQ0E7QUFDQSw0QkFBNEIsbUVBQWE7QUFDekM7QUFDQTtBQUNBLDRCQUE0QixtRUFBYTtBQUN6QztBQUNBO0FBQ0EsOEJBQThCLG1FQUFhO0FBQzNDO0FBQ0E7QUFDQSxpQ0FBaUMsbUVBQWE7QUFDOUM7QUFDQTtBQUNBLGdGQUFnRixJQUFJO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQUc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFEQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUFjO0FBQ3RDO0FBQ0E7QUFDQSw0QkFBNEIsbUVBQWE7QUFDekM7QUFDQTtBQUNBLCtCQUErQixtRUFBYTtBQUM1QztBQUNBO0FBQ0EsK0JBQStCLG1FQUFhO0FBQzVDO0FBQ0E7QUFDQSwrQkFBK0IsbUVBQWE7QUFDNUM7QUFDQTtBQUNBLDJCQUEyQixtRUFBYTtBQUN4QztBQUNBO0FBQ0EsK0JBQStCLG1FQUFhO0FBQzVDO0FBQ0E7QUFDQSw2QkFBNkIsbUVBQWE7QUFDMUM7QUFDQTtBQUNBLDRCQUE0QixtRUFBYTtBQUN6QztBQUNBO0FBQ0EsNEJBQTRCLG1FQUFhO0FBQ3pDO0FBQ0E7QUFDQSw4QkFBOEIsbUVBQWE7QUFDM0M7QUFDQTtBQUNBLGlDQUFpQyxtRUFBYTtBQUM5QztBQUNBO0FBQ0EsaUNBQWlDLG1FQUFhO0FBQzlDO0FBQ0E7QUFDQSw4QkFBOEIsbUVBQWE7QUFDM0M7QUFDQTtBQUNBLGdGQUFnRixJQUFJO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLDJCQUEyQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQUc7QUFDZixZQUFZLHlEQUFPO0FBQ25CO0FBQ0EsZUFBZSxxREFBRyw0QkFBNEIscURBQUc7QUFDakQsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQix3QkFBd0IscURBQUc7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0EsNkJBQTZCLG1FQUFhO0FBQzFDO0FBQ0E7QUFDQSw2QkFBNkIsbUVBQWE7QUFDMUM7QUFDQTtBQUNBLDZCQUE2QixtRUFBYTtBQUMxQztBQUNBO0FBQ0EsK0JBQStCLG1FQUFhO0FBQzVDO0FBQ0E7QUFDQSwrQkFBK0IsbUVBQWE7QUFDNUM7QUFDQTtBQUNBLHNDQUFzQyxtRUFBYTtBQUNuRDtBQUNBO0FBQ0EsdUNBQXVDLG1FQUFhO0FBQ3BEO0FBQ0E7QUFDQSw4RUFBOEUsSUFBSTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0NBQW9DLHlEQUFjO0FBQ3pEO0FBQ0EscUJBQXFCLHFEQUFHLGdDQUFnQyxxREFBRztBQUMzRCxlQUFlLHFEQUFHLDRCQUE0QixxREFBRztBQUNqRCxzQkFBc0IseURBQU87QUFDN0IsaUJBQWlCLHFEQUFHO0FBQ3BCLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNPLGtDQUFrQyx1REFBWTtBQUNyRDtBQUNBLHFCQUFxQixxREFBRyw4QkFBOEIscURBQUc7QUFDekQsZUFBZSxxREFBRyw0QkFBNEIscURBQUc7QUFDakQsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQix3QkFBd0IscURBQUc7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBRztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0EsNEJBQTRCLHlEQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUVBQWE7QUFDMUM7QUFDQTtBQUNBLDJFQUEyRSxJQUFJO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsNEJBQTRCLHFEQUFHO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDRCQUE0QixxREFBRztBQUMvQjtBQUNBLDJCQUEyQix5REFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3Jlc2VydmVfdHlwZXMuanM/MmU1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCBycGMsIHNjVmFsVG9OYXRpdmUsIHhkciB9IGZyb20gJ0BzdGVsbGFyL3N0ZWxsYXItc2RrJztcbmltcG9ydCB7IEVtaXNzaW9uQ29uZmlnLCBFbWlzc2lvbkRhdGEgfSBmcm9tICcuLi9lbWlzc2lvbnMuanMnO1xuaW1wb3J0IHsgZGVjb2RlRW50cnlLZXkgfSBmcm9tICcuLi9sZWRnZXJfZW50cnlfaGVscGVyLmpzJztcbmV4cG9ydCBjbGFzcyBSZXNlcnZlQ29uZmlnIHtcbiAgICBpbmRleDtcbiAgICBkZWNpbWFscztcbiAgICBjX2ZhY3RvcjtcbiAgICBsX2ZhY3RvcjtcbiAgICB1dGlsO1xuICAgIG1heF91dGlsO1xuICAgIHJfYmFzZTtcbiAgICByX29uZTtcbiAgICByX3R3bztcbiAgICByX3RocmVlO1xuICAgIHJlYWN0aXZpdHk7XG4gICAgY29uc3RydWN0b3IoaW5kZXgsIGRlY2ltYWxzLCBjX2ZhY3RvciwgbF9mYWN0b3IsIHV0aWwsIG1heF91dGlsLCByX2Jhc2UsIHJfb25lLCByX3R3bywgcl90aHJlZSwgcmVhY3Rpdml0eSkge1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuZGVjaW1hbHMgPSBkZWNpbWFscztcbiAgICAgICAgdGhpcy5jX2ZhY3RvciA9IGNfZmFjdG9yO1xuICAgICAgICB0aGlzLmxfZmFjdG9yID0gbF9mYWN0b3I7XG4gICAgICAgIHRoaXMudXRpbCA9IHV0aWw7XG4gICAgICAgIHRoaXMubWF4X3V0aWwgPSBtYXhfdXRpbDtcbiAgICAgICAgdGhpcy5yX2Jhc2UgPSByX2Jhc2U7XG4gICAgICAgIHRoaXMucl9vbmUgPSByX29uZTtcbiAgICAgICAgdGhpcy5yX3R3byA9IHJfdHdvO1xuICAgICAgICB0aGlzLnJfdGhyZWUgPSByX3RocmVlO1xuICAgICAgICB0aGlzLnJlYWN0aXZpdHkgPSByZWFjdGl2aXR5O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbG9hZChuZXR3b3JrLCBwb29sSWQsIGFzc2V0SWQpIHtcbiAgICAgICAgY29uc3Qgc3RlbGxhclJwYyA9IG5ldyBycGMuU2VydmVyKG5ldHdvcmsucnBjLCBuZXR3b3JrLm9wdHMpO1xuICAgICAgICBjb25zdCBsZWRnZXJfa2V5ID0gdGhpcy5sZWRnZXJLZXkocG9vbElkLCBhc3NldElkKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RlbGxhclJwYy5nZXRMZWRnZXJFbnRyaWVzKGxlZGdlcl9rZXkpO1xuICAgICAgICBpZiAocmVzdWx0LmVudHJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUxlZGdlckVudHJ5RGF0YShyZXN1bHQuZW50cmllc1swXS52YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFVuYWJsZSB0byBmaW5kIFJlc2VydmVDb25maWcgd2l0aCBrZXk6ICR7bGVkZ2VyX2tleS50b1hEUignYmFzZTY0Jyl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGxlZGdlcktleShwb29sSWQsIGFzc2V0SWQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gW1xuICAgICAgICAgICAgeGRyLlNjVmFsLnNjdlN5bWJvbCgnUmVzQ29uZmlnJyksXG4gICAgICAgICAgICBBZGRyZXNzLmZyb21TdHJpbmcoYXNzZXRJZCkudG9TY1ZhbCgpLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhwb29sSWQpLnRvU2NBZGRyZXNzKCksXG4gICAgICAgICAgICBrZXk6IHhkci5TY1ZhbC5zY3ZWZWMocmVzKSxcbiAgICAgICAgICAgIGR1cmFiaWxpdHk6IHhkci5Db250cmFjdERhdGFEdXJhYmlsaXR5LnBlcnNpc3RlbnQoKSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJfZW50cnlfZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGxlZGdlcl9lbnRyeV9kYXRhID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsZWRnZXJfZW50cnlfZGF0YSA9IHhkci5MZWRnZXJFbnRyeURhdGEuZnJvbVhEUihsZWRnZXJfZW50cnlfZGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFzX3NjdmFsID0gbGVkZ2VyX2VudHJ5X2RhdGEuY29udHJhY3REYXRhKCkudmFsKCk7XG4gICAgICAgIGlmIChhc19zY3ZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignUmVzZXJ2ZUNvbmZpZyBjb250cmFjdCBkYXRhIHZhbHVlIGludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tU2NWYWwoYXNfc2N2YWwpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNjVmFsKHNjdmFsX2RhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY3ZhbF9kYXRhID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzY3ZhbF9kYXRhID0geGRyLlNjVmFsLmZyb21YRFIoc2N2YWxfZGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGFfZW50cnlfbWFwID0gc2N2YWxfZGF0YS5tYXAoKTtcbiAgICAgICAgaWYgKGRhdGFfZW50cnlfbWFwID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Jlc2VydmVDb25maWcgY29udHJhY3QgZGF0YSB2YWx1ZSBpcyBub3QgYSBtYXAnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5kZXg7XG4gICAgICAgIGxldCBkZWNpbWFscztcbiAgICAgICAgbGV0IGNfZmFjdG9yO1xuICAgICAgICBsZXQgbF9mYWN0b3I7XG4gICAgICAgIGxldCB1dGlsO1xuICAgICAgICBsZXQgbWF4X3V0aWw7XG4gICAgICAgIGxldCByX2Jhc2U7XG4gICAgICAgIGxldCByX29uZTtcbiAgICAgICAgbGV0IHJfdHdvO1xuICAgICAgICBsZXQgcl90aHJlZTtcbiAgICAgICAgbGV0IHJlYWN0aXZpdHk7XG4gICAgICAgIGZvciAoY29uc3QgbWFwX2VudHJ5IG9mIGRhdGFfZW50cnlfbWFwKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShtYXBfZW50cnkua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpbmRleCc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkZWNpbWFscyc6XG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxzID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjX2ZhY3Rvcic6XG4gICAgICAgICAgICAgICAgICAgIGNfZmFjdG9yID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsX2ZhY3Rvcic6XG4gICAgICAgICAgICAgICAgICAgIGxfZmFjdG9yID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1dGlsJzpcbiAgICAgICAgICAgICAgICAgICAgdXRpbCA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWF4X3V0aWwnOlxuICAgICAgICAgICAgICAgICAgICBtYXhfdXRpbCA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncl9iYXNlJzpcbiAgICAgICAgICAgICAgICAgICAgcl9iYXNlID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyX29uZSc6XG4gICAgICAgICAgICAgICAgICAgIHJfb25lID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyX3R3byc6XG4gICAgICAgICAgICAgICAgICAgIHJfdHdvID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyX3RocmVlJzpcbiAgICAgICAgICAgICAgICAgICAgcl90aHJlZSA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVhY3Rpdml0eSc6XG4gICAgICAgICAgICAgICAgICAgIHJlYWN0aXZpdHkgPSBzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIFJlc2VydmVDb25maWcga2V5IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBjX2ZhY3RvciA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGRlY2ltYWxzID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgaW5kZXggPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBsX2ZhY3RvciA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIG1heF91dGlsID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgcl9vbmUgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICByX3RocmVlID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgcl90d28gPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICByZWFjdGl2aXR5ID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgdXRpbCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdSZXNlcnZlQ29uZmlnIHNjdk1hcCB2YWx1ZSBtYWxmb3JtZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlc2VydmVDb25maWcoaW5kZXgsIGRlY2ltYWxzLCBjX2ZhY3RvciwgbF9mYWN0b3IsIHV0aWwsIG1heF91dGlsLCByX2Jhc2UsIHJfb25lLCByX3R3bywgcl90aHJlZSwgcmVhY3Rpdml0eSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc2VydmVDb25maWdWMiBleHRlbmRzIFJlc2VydmVDb25maWcge1xuICAgIGluZGV4O1xuICAgIGRlY2ltYWxzO1xuICAgIGNfZmFjdG9yO1xuICAgIGxfZmFjdG9yO1xuICAgIHV0aWw7XG4gICAgbWF4X3V0aWw7XG4gICAgcl9iYXNlO1xuICAgIHJfb25lO1xuICAgIHJfdHdvO1xuICAgIHJfdGhyZWU7XG4gICAgcmVhY3Rpdml0eTtcbiAgICBzdXBwbHlfY2FwO1xuICAgIGVuYWJsZWQ7XG4gICAgY29uc3RydWN0b3IoaW5kZXgsIGRlY2ltYWxzLCBjX2ZhY3RvciwgbF9mYWN0b3IsIHV0aWwsIG1heF91dGlsLCByX2Jhc2UsIHJfb25lLCByX3R3bywgcl90aHJlZSwgcmVhY3Rpdml0eSwgc3VwcGx5X2NhcCwgZW5hYmxlZCkge1xuICAgICAgICBzdXBlcihpbmRleCwgZGVjaW1hbHMsIGNfZmFjdG9yLCBsX2ZhY3RvciwgdXRpbCwgbWF4X3V0aWwsIHJfYmFzZSwgcl9vbmUsIHJfdHdvLCByX3RocmVlLCByZWFjdGl2aXR5KTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmRlY2ltYWxzID0gZGVjaW1hbHM7XG4gICAgICAgIHRoaXMuY19mYWN0b3IgPSBjX2ZhY3RvcjtcbiAgICAgICAgdGhpcy5sX2ZhY3RvciA9IGxfZmFjdG9yO1xuICAgICAgICB0aGlzLnV0aWwgPSB1dGlsO1xuICAgICAgICB0aGlzLm1heF91dGlsID0gbWF4X3V0aWw7XG4gICAgICAgIHRoaXMucl9iYXNlID0gcl9iYXNlO1xuICAgICAgICB0aGlzLnJfb25lID0gcl9vbmU7XG4gICAgICAgIHRoaXMucl90d28gPSByX3R3bztcbiAgICAgICAgdGhpcy5yX3RocmVlID0gcl90aHJlZTtcbiAgICAgICAgdGhpcy5yZWFjdGl2aXR5ID0gcmVhY3Rpdml0eTtcbiAgICAgICAgdGhpcy5zdXBwbHlfY2FwID0gc3VwcGx5X2NhcDtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZW5hYmxlZDtcbiAgICB9XG4gICAgc3RhdGljIGZyb21MZWRnZXJFbnRyeURhdGEobGVkZ2VyX2VudHJ5X2RhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsZWRnZXJfZW50cnlfZGF0YSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGVkZ2VyX2VudHJ5X2RhdGEgPSB4ZHIuTGVkZ2VyRW50cnlEYXRhLmZyb21YRFIobGVkZ2VyX2VudHJ5X2RhdGEsICdiYXNlNjQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhc19zY3ZhbCA9IGxlZGdlcl9lbnRyeV9kYXRhLmNvbnRyYWN0RGF0YSgpLnZhbCgpO1xuICAgICAgICBpZiAoYXNfc2N2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Jlc2VydmVDb25maWcgY29udHJhY3QgZGF0YSB2YWx1ZSBpbnZhbGlkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVNjVmFsKGFzX3NjdmFsKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21TY1ZhbChzY3ZhbF9kYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2N2YWxfZGF0YSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2N2YWxfZGF0YSA9IHhkci5TY1ZhbC5mcm9tWERSKHNjdmFsX2RhdGEsICdiYXNlNjQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhX2VudHJ5X21hcCA9IHNjdmFsX2RhdGEubWFwKCk7XG4gICAgICAgIGlmIChkYXRhX2VudHJ5X21hcCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdSZXNlcnZlQ29uZmlnIGNvbnRyYWN0IGRhdGEgdmFsdWUgaXMgbm90IGEgbWFwJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICBsZXQgZGVjaW1hbHM7XG4gICAgICAgIGxldCBjX2ZhY3RvcjtcbiAgICAgICAgbGV0IGxfZmFjdG9yO1xuICAgICAgICBsZXQgdXRpbDtcbiAgICAgICAgbGV0IG1heF91dGlsO1xuICAgICAgICBsZXQgcl9iYXNlO1xuICAgICAgICBsZXQgcl9vbmU7XG4gICAgICAgIGxldCByX3R3bztcbiAgICAgICAgbGV0IHJfdGhyZWU7XG4gICAgICAgIGxldCByZWFjdGl2aXR5O1xuICAgICAgICBsZXQgc3VwcGx5X2NhcDtcbiAgICAgICAgbGV0IGVuYWJsZWQ7XG4gICAgICAgIGZvciAoY29uc3QgbWFwX2VudHJ5IG9mIGRhdGFfZW50cnlfbWFwKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShtYXBfZW50cnkua2V5KCkpO1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpbmRleCc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkZWNpbWFscyc6XG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxzID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjX2ZhY3Rvcic6XG4gICAgICAgICAgICAgICAgICAgIGNfZmFjdG9yID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsX2ZhY3Rvcic6XG4gICAgICAgICAgICAgICAgICAgIGxfZmFjdG9yID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1dGlsJzpcbiAgICAgICAgICAgICAgICAgICAgdXRpbCA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWF4X3V0aWwnOlxuICAgICAgICAgICAgICAgICAgICBtYXhfdXRpbCA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncl9iYXNlJzpcbiAgICAgICAgICAgICAgICAgICAgcl9iYXNlID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyX29uZSc6XG4gICAgICAgICAgICAgICAgICAgIHJfb25lID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyX3R3byc6XG4gICAgICAgICAgICAgICAgICAgIHJfdHdvID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyX3RocmVlJzpcbiAgICAgICAgICAgICAgICAgICAgcl90aHJlZSA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVhY3Rpdml0eSc6XG4gICAgICAgICAgICAgICAgICAgIHJlYWN0aXZpdHkgPSBzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N1cHBseV9jYXAnOlxuICAgICAgICAgICAgICAgICAgICBzdXBwbHlfY2FwID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVkJzpcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZCA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgUmVzZXJ2ZUNvbmZpZyBrZXkgc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGNfZmFjdG9yID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgZGVjaW1hbHMgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBpbmRleCA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGxfZmFjdG9yID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgbWF4X3V0aWwgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICByX29uZSA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHJfdGhyZWUgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICByX3R3byA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHJlYWN0aXZpdHkgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICB1dGlsID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgc3VwcGx5X2NhcCA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGVuYWJsZWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignUmVzZXJ2ZUNvbmZpZyBzY3ZNYXAgdmFsdWUgbWFsZm9ybWVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXNlcnZlQ29uZmlnVjIoaW5kZXgsIGRlY2ltYWxzLCBjX2ZhY3RvciwgbF9mYWN0b3IsIHV0aWwsIG1heF91dGlsLCByX2Jhc2UsIHJfb25lLCByX3R3bywgcl90aHJlZSwgcmVhY3Rpdml0eSwgc3VwcGx5X2NhcCwgZW5hYmxlZCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc2VydmVEYXRhIHtcbiAgICBkUmF0ZTtcbiAgICBiUmF0ZTtcbiAgICBpbnRlcmVzdFJhdGVNb2RpZmllcjtcbiAgICBkU3VwcGx5O1xuICAgIGJTdXBwbHk7XG4gICAgYmFja3N0b3BDcmVkaXQ7XG4gICAgbGFzdFRpbWU7XG4gICAgY29uc3RydWN0b3IoZFJhdGUsIGJSYXRlLCBpbnRlcmVzdFJhdGVNb2RpZmllciwgZFN1cHBseSwgYlN1cHBseSwgYmFja3N0b3BDcmVkaXQsIGxhc3RUaW1lKSB7XG4gICAgICAgIHRoaXMuZFJhdGUgPSBkUmF0ZTtcbiAgICAgICAgdGhpcy5iUmF0ZSA9IGJSYXRlO1xuICAgICAgICB0aGlzLmludGVyZXN0UmF0ZU1vZGlmaWVyID0gaW50ZXJlc3RSYXRlTW9kaWZpZXI7XG4gICAgICAgIHRoaXMuZFN1cHBseSA9IGRTdXBwbHk7XG4gICAgICAgIHRoaXMuYlN1cHBseSA9IGJTdXBwbHk7XG4gICAgICAgIHRoaXMuYmFja3N0b3BDcmVkaXQgPSBiYWNrc3RvcENyZWRpdDtcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGxhc3RUaW1lO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbG9hZChuZXR3b3JrLCBwb29sSWQsIGFzc2V0SWQpIHtcbiAgICAgICAgY29uc3Qgc3RlbGxhclJwYyA9IG5ldyBycGMuU2VydmVyKG5ldHdvcmsucnBjLCBuZXR3b3JrLm9wdHMpO1xuICAgICAgICBjb25zdCBsZWRnZXJfa2V5ID0gdGhpcy5sZWRnZXJLZXkocG9vbElkLCBhc3NldElkKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RlbGxhclJwYy5nZXRMZWRnZXJFbnRyaWVzKGxlZGdlcl9rZXkpO1xuICAgICAgICBpZiAocmVzdWx0LmVudHJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUxlZGdlckVudHJ5RGF0YShyZXN1bHQuZW50cmllc1swXS52YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFVuYWJsZSB0byBmaW5kIFJlc2VydmVEYXRhIHdpdGgga2V5OiAke2xlZGdlcl9rZXkudG9YRFIoJ2Jhc2U2NCcpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBsZWRnZXJLZXkocG9vbElkLCBhc3NldElkKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IFtcbiAgICAgICAgICAgIHhkci5TY1ZhbC5zY3ZTeW1ib2woJ1Jlc0RhdGEnKSxcbiAgICAgICAgICAgIEFkZHJlc3MuZnJvbVN0cmluZyhhc3NldElkKS50b1NjVmFsKCksXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB4ZHIuTGVkZ2VyS2V5LmNvbnRyYWN0RGF0YShuZXcgeGRyLkxlZGdlcktleUNvbnRyYWN0RGF0YSh7XG4gICAgICAgICAgICBjb250cmFjdDogQWRkcmVzcy5mcm9tU3RyaW5nKHBvb2xJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlZlYyhyZXMpLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlcl9lbnRyeV9kYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGVkZ2VyX2VudHJ5X2RhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxlZGdlcl9lbnRyeV9kYXRhID0geGRyLkxlZGdlckVudHJ5RGF0YS5mcm9tWERSKGxlZGdlcl9lbnRyeV9kYXRhLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzZXJ2ZV9zY3ZhbCA9IGxlZGdlcl9lbnRyeV9kYXRhLmNvbnRyYWN0RGF0YSgpLnZhbCgpO1xuICAgICAgICBjb25zdCByZXNlcnZlRGF0YSA9IFJlc2VydmVEYXRhLmZyb21TY1ZhbChyZXNlcnZlX3NjdmFsKTtcbiAgICAgICAgcmV0dXJuIHJlc2VydmVEYXRhO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNjVmFsKHNjX3ZhbCkge1xuICAgICAgICBpZiAodHlwZW9mIHNjX3ZhbCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2NfdmFsID0geGRyLlNjVmFsLmZyb21YRFIoc2NfdmFsLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YV9lbnRyeV9tYXAgPSBzY192YWwubWFwKCk7XG4gICAgICAgIGlmIChkYXRhX2VudHJ5X21hcCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdSZXNlcnZlRGF0YSBjb250cmFjdCBkYXRhIHZhbHVlIGlzIG5vdCBhIG1hcCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkX3JhdGU7XG4gICAgICAgIGxldCBiX3JhdGU7XG4gICAgICAgIGxldCBpcl9tb2Q7XG4gICAgICAgIGxldCBkX3N1cHBseTtcbiAgICAgICAgbGV0IGJfc3VwcGx5O1xuICAgICAgICBsZXQgYmFja3N0b3BfY3JlZGl0O1xuICAgICAgICBsZXQgbGFzdF90aW1lO1xuICAgICAgICBmb3IgKGNvbnN0IG1hcF9lbnRyeSBvZiBkYXRhX2VudHJ5X21hcCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobWFwX2VudHJ5LmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZF9yYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgZF9yYXRlID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdiX3JhdGUnOlxuICAgICAgICAgICAgICAgICAgICBiX3JhdGUgPSBzY1ZhbFRvTmF0aXZlKG1hcF9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2lyX21vZCc6XG4gICAgICAgICAgICAgICAgICAgIGlyX21vZCA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZF9zdXBwbHknOlxuICAgICAgICAgICAgICAgICAgICBkX3N1cHBseSA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYl9zdXBwbHknOlxuICAgICAgICAgICAgICAgICAgICBiX3N1cHBseSA9IHNjVmFsVG9OYXRpdmUobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmFja3N0b3BfY3JlZGl0JzpcbiAgICAgICAgICAgICAgICAgICAgYmFja3N0b3BfY3JlZGl0ID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsYXN0X3RpbWUnOlxuICAgICAgICAgICAgICAgICAgICBsYXN0X3RpbWUgPSBOdW1iZXIoc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgUmVzZXJ2ZURhdGEga2V5IHNob3VsZCBub3QgY29udGFpbiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZF9yYXRlID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgYl9yYXRlID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgaXJfbW9kID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgZF9zdXBwbHkgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBiX3N1cHBseSA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGJhY2tzdG9wX2NyZWRpdCA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGxhc3RfdGltZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdFcnJvcjogUmVzZXJ2ZURhdGEgc2N2TWFwIHZhbHVlIG1hbGZvcm1lZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzZXJ2ZURhdGEoZF9yYXRlLCBiX3JhdGUsIGlyX21vZCwgZF9zdXBwbHksIGJfc3VwcGx5LCBiYWNrc3RvcF9jcmVkaXQsIGxhc3RfdGltZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc2VydmVFbWlzc2lvbkNvbmZpZyBleHRlbmRzIEVtaXNzaW9uQ29uZmlnIHtcbiAgICBzdGF0aWMgbGVkZ2VyS2V5KHBvb2xJZCwgcmVzZXJ2ZUluZGV4KSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IFt4ZHIuU2NWYWwuc2N2U3ltYm9sKCdFbWlzQ29uZmlnJyksIHhkci5TY1ZhbC5zY3ZVMzIocmVzZXJ2ZUluZGV4KV07XG4gICAgICAgIHJldHVybiB4ZHIuTGVkZ2VyS2V5LmNvbnRyYWN0RGF0YShuZXcgeGRyLkxlZGdlcktleUNvbnRyYWN0RGF0YSh7XG4gICAgICAgICAgICBjb250cmFjdDogQWRkcmVzcy5mcm9tU3RyaW5nKHBvb2xJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlZlYyhyZXMpLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc2VydmVFbWlzc2lvbkRhdGEgZXh0ZW5kcyBFbWlzc2lvbkRhdGEge1xuICAgIHN0YXRpYyBsZWRnZXJLZXkocG9vbElkLCByZXNlcnZlSW5kZXgpIHtcbiAgICAgICAgY29uc3QgcmVzID0gW3hkci5TY1ZhbC5zY3ZTeW1ib2woJ0VtaXNEYXRhJyksIHhkci5TY1ZhbC5zY3ZVMzIocmVzZXJ2ZUluZGV4KV07XG4gICAgICAgIHJldHVybiB4ZHIuTGVkZ2VyS2V5LmNvbnRyYWN0RGF0YShuZXcgeGRyLkxlZGdlcktleUNvbnRyYWN0RGF0YSh7XG4gICAgICAgICAgICBjb250cmFjdDogQWRkcmVzcy5mcm9tU3RyaW5nKHBvb2xJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlZlYyhyZXMpLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJlc2VydmUgb2JqZWN0IG9uIHRoZSBjb250cmFjdFxuICovXG5leHBvcnQgY2xhc3MgQ29udHJhY3RSZXNlcnZlIHtcbiAgICBhc3NldDtcbiAgICBjb25maWc7XG4gICAgZGF0YTtcbiAgICBzY2FsYXI7XG4gICAgY29uc3RydWN0b3IoYXNzZXQsIGNvbmZpZywgZGF0YSwgc2NhbGFyKSB7XG4gICAgICAgIHRoaXMuYXNzZXQgPSBhc3NldDtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuc2NhbGFyID0gc2NhbGFyO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVNjVmFsKHNjX3ZhbCkge1xuICAgICAgICBpZiAodHlwZW9mIHNjX3ZhbCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2NfdmFsID0geGRyLlNjVmFsLmZyb21YRFIoc2NfdmFsLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YV9lbnRyeV9tYXAgPSBzY192YWwubWFwKCk7XG4gICAgICAgIGlmIChkYXRhX2VudHJ5X21hcCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdSZXNlcnZlIGNvbnRyYWN0IGRhdGEgdmFsdWUgaXMgbm90IGEgbWFwJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFzc2V0O1xuICAgICAgICBsZXQgY29uZmlnO1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgbGV0IHNjYWxhcjtcbiAgICAgICAgZm9yIChjb25zdCBtYXBfZW50cnkgb2YgZGF0YV9lbnRyeV9tYXApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRlY29kZUVudHJ5S2V5KG1hcF9lbnRyeS5rZXkoKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Fzc2V0JzpcbiAgICAgICAgICAgICAgICAgICAgYXNzZXQgPSBBZGRyZXNzLmZyb21TY1ZhbChtYXBfZW50cnkudmFsKCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbmZpZyc6XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IFJlc2VydmVDb25maWdWMi5mcm9tU2NWYWwobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0YSc6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBSZXNlcnZlRGF0YS5mcm9tU2NWYWwobWFwX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2NhbGFyJzpcbiAgICAgICAgICAgICAgICAgICAgc2NhbGFyID0gc2NWYWxUb05hdGl2ZShtYXBfZW50cnkudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCBSZXNlcnZlIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhc3NldCA9PSB1bmRlZmluZWQgfHwgY29uZmlnID09IHVuZGVmaW5lZCB8fCBkYXRhID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgUmVzZXJ2ZTogbWlzc2luZyBmaWVsZHMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbnRyYWN0UmVzZXJ2ZShhc3NldCwgY29uZmlnLCBkYXRhLCBzY2FsYXIpO1xuICAgIH1cbn1cbi8qKlxuICogRGVjb2RlIHRoZSByZXNlcnZlIHRva2VuIHR5cGUgKDAgPSBkVG9rZW4sIDEgPSBiVG9rZW4pIGZyb20gYSBSZXNlcnZlIEVtaXNzaW9uIExlZGdlckVudHJ5RGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW1pc3Npb25JbmRleChsZWRnZXJfZW50cnlfZGF0YSkge1xuICAgIGlmICh0eXBlb2YgbGVkZ2VyX2VudHJ5X2RhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgbGVkZ2VyX2VudHJ5X2RhdGEgPSB4ZHIuTGVkZ2VyRW50cnlEYXRhLmZyb21YRFIobGVkZ2VyX2VudHJ5X2RhdGEsICdiYXNlNjQnKTtcbiAgICB9XG4gICAgY29uc3QgbGVkZ2VyRW50cnlLZXkgPSBsZWRnZXJfZW50cnlfZGF0YS5jb250cmFjdERhdGEoKT8ua2V5KCk/LnZlYygpPy5hdCgxKT8udTMyKCk7XG4gICAgaWYgKGxlZGdlckVudHJ5S2V5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBlbWlzc2lvbiBlbnRyeSB0b2tlbiB0eXBlJyk7XG4gICAgfVxuICAgIHJldHVybiBsZWRnZXJFbnRyeUtleTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNlcnZlSWQobGVkZ2VyX2VudHJ5X2RhdGEpIHtcbiAgICBpZiAodHlwZW9mIGxlZGdlcl9lbnRyeV9kYXRhID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGxlZGdlcl9lbnRyeV9kYXRhID0geGRyLkxlZGdlckVudHJ5RGF0YS5mcm9tWERSKGxlZGdlcl9lbnRyeV9kYXRhLCAnYmFzZTY0Jyk7XG4gICAgfVxuICAgIGNvbnN0IGxlZGdlckVudHJ5S2V5ID0gQWRkcmVzcy5mcm9tU2NBZGRyZXNzKGxlZGdlcl9lbnRyeV9kYXRhLmNvbnRyYWN0RGF0YSgpPy5rZXkoKT8udmVjKCk/LmF0KDEpPy5hZGRyZXNzKCkpLnRvU3RyaW5nKCk7XG4gICAgaWYgKGxlZGdlckVudHJ5S2V5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBhc3NldCBpZCBmcm9tIGxlZGdlciBlbnRyeSBkYXRhJyk7XG4gICAgfVxuICAgIHJldHVybiBsZWRnZXJFbnRyeUtleTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/reserve_types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_positions_est.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_positions_est.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PositionsEstimate: () => (/* binding */ PositionsEstimate)\n/* harmony export */ });\nclass PositionsEstimate {\n    totalBorrowed;\n    totalSupplied;\n    totalEffectiveLiabilities;\n    totalEffectiveCollateral;\n    borrowCap;\n    borrowLimit;\n    netApy;\n    supplyApy;\n    borrowApy;\n    constructor(\n    /**\n     * The total value of all tokens borrowed from the pool in the pool's oracle denomination\n     */\n    totalBorrowed, \n    /**\n     * The total value of all tokens supplied to the pool in the pool's oracle denomination\n     */\n    totalSupplied, \n    /**\n     * The total liabilities of the user in the pool's oracle denomination\n     */\n    totalEffectiveLiabilities, \n    /**\n     * The total collateral of the user in the pool's oracle denomination\n     */\n    totalEffectiveCollateral, \n    /**\n     * The maximum amount of liabilities the user can take on\n     */\n    borrowCap, \n    /**\n     * The ratio of liabilities to collateral\n     */\n    borrowLimit, \n    /**\n     * The net APY of the user's position\n     */\n    netApy, \n    /**\n     * The average estimated APY accrued by all supplied tokens\n     */\n    supplyApy, \n    /**\n     * The average estimated APY accrued by all borrowed tokens\n     */\n    borrowApy) {\n        this.totalBorrowed = totalBorrowed;\n        this.totalSupplied = totalSupplied;\n        this.totalEffectiveLiabilities = totalEffectiveLiabilities;\n        this.totalEffectiveCollateral = totalEffectiveCollateral;\n        this.borrowCap = borrowCap;\n        this.borrowLimit = borrowLimit;\n        this.netApy = netApy;\n        this.supplyApy = supplyApy;\n        this.borrowApy = borrowApy;\n    }\n    static build(pool, poolOracle, positions) {\n        const reserve_list = Array.from(pool.reserves.keys());\n        const liabilities = new Map();\n        const collateral = new Map();\n        const supply = new Map();\n        let totalBorrowed = 0;\n        let totalSupplied = 0;\n        let totalEffectiveLiabilities = 0;\n        let totalEffectiveCollateral = 0;\n        let supplyApy = 0;\n        let borrowApy = 0;\n        // translate ledger liabilities to floating point values\n        for (const [key, value] of positions.liabilities) {\n            const reserve = pool.reserves.get(reserve_list[key]);\n            if (reserve === undefined) {\n                throw new Error(`Unable to find reserve for liability balance: ${key}`);\n            }\n            const oraclePrice = poolOracle.getPriceFloat(reserve.assetId);\n            if (oraclePrice === undefined) {\n                throw new Error(`Unable to find price for liability balance: ${key}, price: ${oraclePrice}`);\n            }\n            const asset_liability = reserve.toAssetFromDTokenFloat(value);\n            const asset_e_liability = reserve.toEffectiveAssetFromDTokenFloat(value);\n            const base_liability = asset_liability * oraclePrice;\n            const base_e_liability = asset_e_liability * oraclePrice;\n            totalBorrowed += base_liability;\n            totalEffectiveLiabilities += base_e_liability;\n            borrowApy += base_liability * reserve.estBorrowApy;\n            liabilities.set(reserve.assetId, asset_liability);\n        }\n        // translate ledger collateral to floating point values\n        for (const [key, value] of positions.collateral) {\n            const reserve = pool.reserves.get(reserve_list[key]);\n            if (reserve === undefined) {\n                throw new Error(`Unable to find reserve for collateral balance: ${key}`);\n            }\n            const oraclePrice = poolOracle.getPriceFloat(reserve.assetId);\n            if (oraclePrice === undefined) {\n                throw new Error(`Unable to find price for collateral balance: ${key}, price: ${oraclePrice}`);\n            }\n            const asset_collateral = reserve.toAssetFromBTokenFloat(value);\n            const asset_e_collateral = reserve.toEffectiveAssetFromBTokenFloat(value);\n            const base_collateral = asset_collateral * oraclePrice;\n            const base_e_collateral = asset_e_collateral * oraclePrice;\n            totalSupplied += base_collateral;\n            totalEffectiveCollateral += base_e_collateral;\n            supplyApy += base_collateral * reserve.estSupplyApy;\n            collateral.set(reserve.assetId, asset_collateral);\n        }\n        // translate ledger supply to floating point values\n        for (const [key, value] of positions.supply) {\n            const reserve = pool.reserves.get(reserve_list[key]);\n            if (reserve === undefined) {\n                throw new Error(`Unable to find reserve for supply balance: ${key}`);\n            }\n            const oraclePrice = poolOracle.getPriceFloat(reserve.assetId);\n            if (oraclePrice === undefined) {\n                throw new Error(`Unable to find price for supply balance: ${key}, price: ${oraclePrice}`);\n            }\n            const asset_supply = reserve.toAssetFromBTokenFloat(value);\n            const base_supply = asset_supply * oraclePrice;\n            totalSupplied += base_supply;\n            supplyApy += base_supply * reserve.estSupplyApy;\n            supply.set(reserve.assetId, asset_supply);\n        }\n        const borrowCap = totalEffectiveCollateral - totalEffectiveLiabilities;\n        const borrowLimit = totalEffectiveCollateral == 0 ? 0 : totalEffectiveLiabilities / totalEffectiveCollateral;\n        const netApy = totalSupplied == 0\n            ? // if user has no supplied funds and has borrowed funds (e.g. a bad debt position), the debt will\n                // be forgiven as bad debt so the net APY is still 0\n                0\n            : (supplyApy - borrowApy) / totalSupplied;\n        supplyApy = totalSupplied == 0 ? 0 : supplyApy / totalSupplied;\n        borrowApy = totalBorrowed == 0 ? 0 : borrowApy / totalBorrowed;\n        return new PositionsEstimate(totalBorrowed, totalSupplied, totalEffectiveLiabilities, totalEffectiveCollateral, borrowCap, borrowLimit, netApy, supplyApy, borrowApy);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3VzZXJfcG9zaXRpb25zX2VzdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLElBQUk7QUFDckY7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLElBQUksV0FBVyxZQUFZO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsSUFBSTtBQUN0RjtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0YsSUFBSSxXQUFXLFlBQVk7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxJQUFJO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxJQUFJLFdBQVcsWUFBWTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vcG9vbC91c2VyX3Bvc2l0aW9uc19lc3QuanM/NGY1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUG9zaXRpb25zRXN0aW1hdGUge1xuICAgIHRvdGFsQm9ycm93ZWQ7XG4gICAgdG90YWxTdXBwbGllZDtcbiAgICB0b3RhbEVmZmVjdGl2ZUxpYWJpbGl0aWVzO1xuICAgIHRvdGFsRWZmZWN0aXZlQ29sbGF0ZXJhbDtcbiAgICBib3Jyb3dDYXA7XG4gICAgYm9ycm93TGltaXQ7XG4gICAgbmV0QXB5O1xuICAgIHN1cHBseUFweTtcbiAgICBib3Jyb3dBcHk7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIHZhbHVlIG9mIGFsbCB0b2tlbnMgYm9ycm93ZWQgZnJvbSB0aGUgcG9vbCBpbiB0aGUgcG9vbCdzIG9yYWNsZSBkZW5vbWluYXRpb25cbiAgICAgKi9cbiAgICB0b3RhbEJvcnJvd2VkLCBcbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgdmFsdWUgb2YgYWxsIHRva2VucyBzdXBwbGllZCB0byB0aGUgcG9vbCBpbiB0aGUgcG9vbCdzIG9yYWNsZSBkZW5vbWluYXRpb25cbiAgICAgKi9cbiAgICB0b3RhbFN1cHBsaWVkLCBcbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbGlhYmlsaXRpZXMgb2YgdGhlIHVzZXIgaW4gdGhlIHBvb2wncyBvcmFjbGUgZGVub21pbmF0aW9uXG4gICAgICovXG4gICAgdG90YWxFZmZlY3RpdmVMaWFiaWxpdGllcywgXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIGNvbGxhdGVyYWwgb2YgdGhlIHVzZXIgaW4gdGhlIHBvb2wncyBvcmFjbGUgZGVub21pbmF0aW9uXG4gICAgICovXG4gICAgdG90YWxFZmZlY3RpdmVDb2xsYXRlcmFsLCBcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBhbW91bnQgb2YgbGlhYmlsaXRpZXMgdGhlIHVzZXIgY2FuIHRha2Ugb25cbiAgICAgKi9cbiAgICBib3Jyb3dDYXAsIFxuICAgIC8qKlxuICAgICAqIFRoZSByYXRpbyBvZiBsaWFiaWxpdGllcyB0byBjb2xsYXRlcmFsXG4gICAgICovXG4gICAgYm9ycm93TGltaXQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBuZXQgQVBZIG9mIHRoZSB1c2VyJ3MgcG9zaXRpb25cbiAgICAgKi9cbiAgICBuZXRBcHksIFxuICAgIC8qKlxuICAgICAqIFRoZSBhdmVyYWdlIGVzdGltYXRlZCBBUFkgYWNjcnVlZCBieSBhbGwgc3VwcGxpZWQgdG9rZW5zXG4gICAgICovXG4gICAgc3VwcGx5QXB5LCBcbiAgICAvKipcbiAgICAgKiBUaGUgYXZlcmFnZSBlc3RpbWF0ZWQgQVBZIGFjY3J1ZWQgYnkgYWxsIGJvcnJvd2VkIHRva2Vuc1xuICAgICAqL1xuICAgIGJvcnJvd0FweSkge1xuICAgICAgICB0aGlzLnRvdGFsQm9ycm93ZWQgPSB0b3RhbEJvcnJvd2VkO1xuICAgICAgICB0aGlzLnRvdGFsU3VwcGxpZWQgPSB0b3RhbFN1cHBsaWVkO1xuICAgICAgICB0aGlzLnRvdGFsRWZmZWN0aXZlTGlhYmlsaXRpZXMgPSB0b3RhbEVmZmVjdGl2ZUxpYWJpbGl0aWVzO1xuICAgICAgICB0aGlzLnRvdGFsRWZmZWN0aXZlQ29sbGF0ZXJhbCA9IHRvdGFsRWZmZWN0aXZlQ29sbGF0ZXJhbDtcbiAgICAgICAgdGhpcy5ib3Jyb3dDYXAgPSBib3Jyb3dDYXA7XG4gICAgICAgIHRoaXMuYm9ycm93TGltaXQgPSBib3Jyb3dMaW1pdDtcbiAgICAgICAgdGhpcy5uZXRBcHkgPSBuZXRBcHk7XG4gICAgICAgIHRoaXMuc3VwcGx5QXB5ID0gc3VwcGx5QXB5O1xuICAgICAgICB0aGlzLmJvcnJvd0FweSA9IGJvcnJvd0FweTtcbiAgICB9XG4gICAgc3RhdGljIGJ1aWxkKHBvb2wsIHBvb2xPcmFjbGUsIHBvc2l0aW9ucykge1xuICAgICAgICBjb25zdCByZXNlcnZlX2xpc3QgPSBBcnJheS5mcm9tKHBvb2wucmVzZXJ2ZXMua2V5cygpKTtcbiAgICAgICAgY29uc3QgbGlhYmlsaXRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvbGxhdGVyYWwgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IHN1cHBseSA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IHRvdGFsQm9ycm93ZWQgPSAwO1xuICAgICAgICBsZXQgdG90YWxTdXBwbGllZCA9IDA7XG4gICAgICAgIGxldCB0b3RhbEVmZmVjdGl2ZUxpYWJpbGl0aWVzID0gMDtcbiAgICAgICAgbGV0IHRvdGFsRWZmZWN0aXZlQ29sbGF0ZXJhbCA9IDA7XG4gICAgICAgIGxldCBzdXBwbHlBcHkgPSAwO1xuICAgICAgICBsZXQgYm9ycm93QXB5ID0gMDtcbiAgICAgICAgLy8gdHJhbnNsYXRlIGxlZGdlciBsaWFiaWxpdGllcyB0byBmbG9hdGluZyBwb2ludCB2YWx1ZXNcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcG9zaXRpb25zLmxpYWJpbGl0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCByZXNlcnZlID0gcG9vbC5yZXNlcnZlcy5nZXQocmVzZXJ2ZV9saXN0W2tleV0pO1xuICAgICAgICAgICAgaWYgKHJlc2VydmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGZpbmQgcmVzZXJ2ZSBmb3IgbGlhYmlsaXR5IGJhbGFuY2U6ICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3JhY2xlUHJpY2UgPSBwb29sT3JhY2xlLmdldFByaWNlRmxvYXQocmVzZXJ2ZS5hc3NldElkKTtcbiAgICAgICAgICAgIGlmIChvcmFjbGVQcmljZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCBwcmljZSBmb3IgbGlhYmlsaXR5IGJhbGFuY2U6ICR7a2V5fSwgcHJpY2U6ICR7b3JhY2xlUHJpY2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhc3NldF9saWFiaWxpdHkgPSByZXNlcnZlLnRvQXNzZXRGcm9tRFRva2VuRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgYXNzZXRfZV9saWFiaWxpdHkgPSByZXNlcnZlLnRvRWZmZWN0aXZlQXNzZXRGcm9tRFRva2VuRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgYmFzZV9saWFiaWxpdHkgPSBhc3NldF9saWFiaWxpdHkgKiBvcmFjbGVQcmljZTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VfZV9saWFiaWxpdHkgPSBhc3NldF9lX2xpYWJpbGl0eSAqIG9yYWNsZVByaWNlO1xuICAgICAgICAgICAgdG90YWxCb3Jyb3dlZCArPSBiYXNlX2xpYWJpbGl0eTtcbiAgICAgICAgICAgIHRvdGFsRWZmZWN0aXZlTGlhYmlsaXRpZXMgKz0gYmFzZV9lX2xpYWJpbGl0eTtcbiAgICAgICAgICAgIGJvcnJvd0FweSArPSBiYXNlX2xpYWJpbGl0eSAqIHJlc2VydmUuZXN0Qm9ycm93QXB5O1xuICAgICAgICAgICAgbGlhYmlsaXRpZXMuc2V0KHJlc2VydmUuYXNzZXRJZCwgYXNzZXRfbGlhYmlsaXR5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmFuc2xhdGUgbGVkZ2VyIGNvbGxhdGVyYWwgdG8gZmxvYXRpbmcgcG9pbnQgdmFsdWVzXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHBvc2l0aW9ucy5jb2xsYXRlcmFsKSB7XG4gICAgICAgICAgICBjb25zdCByZXNlcnZlID0gcG9vbC5yZXNlcnZlcy5nZXQocmVzZXJ2ZV9saXN0W2tleV0pO1xuICAgICAgICAgICAgaWYgKHJlc2VydmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGZpbmQgcmVzZXJ2ZSBmb3IgY29sbGF0ZXJhbCBiYWxhbmNlOiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9yYWNsZVByaWNlID0gcG9vbE9yYWNsZS5nZXRQcmljZUZsb2F0KHJlc2VydmUuYXNzZXRJZCk7XG4gICAgICAgICAgICBpZiAob3JhY2xlUHJpY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGZpbmQgcHJpY2UgZm9yIGNvbGxhdGVyYWwgYmFsYW5jZTogJHtrZXl9LCBwcmljZTogJHtvcmFjbGVQcmljZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFzc2V0X2NvbGxhdGVyYWwgPSByZXNlcnZlLnRvQXNzZXRGcm9tQlRva2VuRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgYXNzZXRfZV9jb2xsYXRlcmFsID0gcmVzZXJ2ZS50b0VmZmVjdGl2ZUFzc2V0RnJvbUJUb2tlbkZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VfY29sbGF0ZXJhbCA9IGFzc2V0X2NvbGxhdGVyYWwgKiBvcmFjbGVQcmljZTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VfZV9jb2xsYXRlcmFsID0gYXNzZXRfZV9jb2xsYXRlcmFsICogb3JhY2xlUHJpY2U7XG4gICAgICAgICAgICB0b3RhbFN1cHBsaWVkICs9IGJhc2VfY29sbGF0ZXJhbDtcbiAgICAgICAgICAgIHRvdGFsRWZmZWN0aXZlQ29sbGF0ZXJhbCArPSBiYXNlX2VfY29sbGF0ZXJhbDtcbiAgICAgICAgICAgIHN1cHBseUFweSArPSBiYXNlX2NvbGxhdGVyYWwgKiByZXNlcnZlLmVzdFN1cHBseUFweTtcbiAgICAgICAgICAgIGNvbGxhdGVyYWwuc2V0KHJlc2VydmUuYXNzZXRJZCwgYXNzZXRfY29sbGF0ZXJhbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJhbnNsYXRlIGxlZGdlciBzdXBwbHkgdG8gZmxvYXRpbmcgcG9pbnQgdmFsdWVzXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHBvc2l0aW9ucy5zdXBwbHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc2VydmUgPSBwb29sLnJlc2VydmVzLmdldChyZXNlcnZlX2xpc3Rba2V5XSk7XG4gICAgICAgICAgICBpZiAocmVzZXJ2ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCByZXNlcnZlIGZvciBzdXBwbHkgYmFsYW5jZTogJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcmFjbGVQcmljZSA9IHBvb2xPcmFjbGUuZ2V0UHJpY2VGbG9hdChyZXNlcnZlLmFzc2V0SWQpO1xuICAgICAgICAgICAgaWYgKG9yYWNsZVByaWNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBmaW5kIHByaWNlIGZvciBzdXBwbHkgYmFsYW5jZTogJHtrZXl9LCBwcmljZTogJHtvcmFjbGVQcmljZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFzc2V0X3N1cHBseSA9IHJlc2VydmUudG9Bc3NldEZyb21CVG9rZW5GbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBiYXNlX3N1cHBseSA9IGFzc2V0X3N1cHBseSAqIG9yYWNsZVByaWNlO1xuICAgICAgICAgICAgdG90YWxTdXBwbGllZCArPSBiYXNlX3N1cHBseTtcbiAgICAgICAgICAgIHN1cHBseUFweSArPSBiYXNlX3N1cHBseSAqIHJlc2VydmUuZXN0U3VwcGx5QXB5O1xuICAgICAgICAgICAgc3VwcGx5LnNldChyZXNlcnZlLmFzc2V0SWQsIGFzc2V0X3N1cHBseSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9ycm93Q2FwID0gdG90YWxFZmZlY3RpdmVDb2xsYXRlcmFsIC0gdG90YWxFZmZlY3RpdmVMaWFiaWxpdGllcztcbiAgICAgICAgY29uc3QgYm9ycm93TGltaXQgPSB0b3RhbEVmZmVjdGl2ZUNvbGxhdGVyYWwgPT0gMCA/IDAgOiB0b3RhbEVmZmVjdGl2ZUxpYWJpbGl0aWVzIC8gdG90YWxFZmZlY3RpdmVDb2xsYXRlcmFsO1xuICAgICAgICBjb25zdCBuZXRBcHkgPSB0b3RhbFN1cHBsaWVkID09IDBcbiAgICAgICAgICAgID8gLy8gaWYgdXNlciBoYXMgbm8gc3VwcGxpZWQgZnVuZHMgYW5kIGhhcyBib3Jyb3dlZCBmdW5kcyAoZS5nLiBhIGJhZCBkZWJ0IHBvc2l0aW9uKSwgdGhlIGRlYnQgd2lsbFxuICAgICAgICAgICAgICAgIC8vIGJlIGZvcmdpdmVuIGFzIGJhZCBkZWJ0IHNvIHRoZSBuZXQgQVBZIGlzIHN0aWxsIDBcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICA6IChzdXBwbHlBcHkgLSBib3Jyb3dBcHkpIC8gdG90YWxTdXBwbGllZDtcbiAgICAgICAgc3VwcGx5QXB5ID0gdG90YWxTdXBwbGllZCA9PSAwID8gMCA6IHN1cHBseUFweSAvIHRvdGFsU3VwcGxpZWQ7XG4gICAgICAgIGJvcnJvd0FweSA9IHRvdGFsQm9ycm93ZWQgPT0gMCA/IDAgOiBib3Jyb3dBcHkgLyB0b3RhbEJvcnJvd2VkO1xuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uc0VzdGltYXRlKHRvdGFsQm9ycm93ZWQsIHRvdGFsU3VwcGxpZWQsIHRvdGFsRWZmZWN0aXZlTGlhYmlsaXRpZXMsIHRvdGFsRWZmZWN0aXZlQ29sbGF0ZXJhbCwgYm9ycm93Q2FwLCBib3Jyb3dMaW1pdCwgbmV0QXB5LCBzdXBwbHlBcHksIGJvcnJvd0FweSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_positions_est.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_types.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_types.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolUserEmissionData: () => (/* binding */ PoolUserEmissionData),\n/* harmony export */   Positions: () => (/* binding */ Positions)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _emissions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../emissions.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/emissions.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\n\nclass Positions {\n    liabilities;\n    collateral;\n    supply;\n    constructor(liabilities, collateral, supply) {\n        this.liabilities = liabilities;\n        this.collateral = collateral;\n        this.supply = supply;\n    }\n    static ledgerKey(poolId, userId) {\n        const res = [\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('Positions'),\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(userId).toScVal(),\n        ];\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n    static async load(network, poolId, userId) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const userPositionsKey = Positions.ledgerKey(poolId, userId);\n        const positionResp = await stellarRpc.getLedgerEntries(userPositionsKey);\n        // if entry does not exist assume empty\n        if (positionResp.entries == undefined || positionResp.entries.length == 0) {\n            return new Positions(new Map(), new Map(), new Map());\n        }\n        let userPositions = undefined;\n        for (const entry of positionResp.entries ?? []) {\n            const ledgerData = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(ledgerData.contractData().key());\n            switch (key) {\n                case 'Positions':\n                    userPositions = Positions.fromLedgerEntryData(ledgerData);\n                    break;\n                default:\n                    throw Error(`Invalid user positions key: should not contain: ${key}`);\n            }\n        }\n        if (userPositions == undefined) {\n            throw Error(\"Unable to load user's positions\");\n        }\n        return userPositions;\n    }\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        return Positions.fromScVal(ledger_entry_data.contractData().val());\n    }\n    static fromScVal(sc_val) {\n        if (typeof sc_val == 'string') {\n            sc_val = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(sc_val, 'base64');\n        }\n        const data_entry_map = sc_val.map();\n        if (data_entry_map == undefined) {\n            throw Error('UserPositions contract data value is not a map');\n        }\n        let liability_map;\n        let collateral_map;\n        let supply_map;\n        for (const map_entry of data_entry_map) {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_2__.decodeEntryKey)(map_entry.key());\n            switch (key) {\n                case 'liabilities': {\n                    liability_map = new Map();\n                    const liabilities = map_entry.val().map();\n                    if (liabilities) {\n                        for (const liability of liabilities) {\n                            liability_map.set(liability.key().u32(), (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(liability.val()));\n                        }\n                    }\n                    break;\n                }\n                case 'collateral': {\n                    collateral_map = new Map();\n                    const collaterals = map_entry.val().map();\n                    if (collaterals) {\n                        for (const collateral of collaterals) {\n                            collateral_map.set(collateral.key().u32(), (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(collateral.val()));\n                        }\n                    }\n                    break;\n                }\n                case 'supply': {\n                    supply_map = new Map();\n                    const supplies = map_entry.val().map();\n                    if (supplies) {\n                        for (const supply of supplies) {\n                            supply_map.set(supply.key().u32(), (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(supply.val()));\n                        }\n                    }\n                    break;\n                }\n                default:\n                    throw Error(`Invalid UserPositions key: should not contain ${key}`);\n            }\n        }\n        if (!liability_map || !collateral_map || !supply_map) {\n            throw Error('User positions xdr_string is malformed');\n        }\n        return new Positions(liability_map, collateral_map, supply_map);\n    }\n}\nclass PoolUserEmissionData extends _emissions_js__WEBPACK_IMPORTED_MODULE_1__.UserEmissions {\n    static ledgerKey(poolId, userId, reserveTokenIndex) {\n        const res = [\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('UserEmis'),\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvMap([\n                new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n                    key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('reserve_id'),\n                    val: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvU32(reserveTokenIndex),\n                }),\n                new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScMapEntry({\n                    key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol('user'),\n                    val: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(userId).toScVal(),\n                }),\n            ]),\n        ];\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n    static getEmissionIndexFromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const emission_index = ledger_entry_data\n            ?.contractData()\n            ?.key()\n            ?.vec()\n            ?.at(1)\n            ?.map()\n            ?.at(0)\n            ?.val()\n            ?.u32();\n        if (emission_index == undefined) {\n            throw new Error(\"Invalid userEmissionData: should contain 'reserve_id'\");\n        }\n        return emission_index;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3VzZXJfdHlwZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0U7QUFDeEI7QUFDVztBQUNwRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBRztBQUNmLFlBQVkseURBQU87QUFDbkI7QUFDQSxlQUFlLHFEQUFHLDRCQUE0QixxREFBRztBQUNqRCxzQkFBc0IseURBQU87QUFDN0IsaUJBQWlCLHFEQUFHO0FBQ3BCLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUVBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRixJQUFJO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFEQUFHO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsbUVBQWE7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLG1FQUFhO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxtRUFBYTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLElBQUk7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQyx3REFBYTtBQUN2RDtBQUNBO0FBQ0EsWUFBWSxxREFBRztBQUNmLFlBQVkscURBQUc7QUFDZixvQkFBb0IscURBQUc7QUFDdkIseUJBQXlCLHFEQUFHO0FBQzVCLHlCQUF5QixxREFBRztBQUM1QixpQkFBaUI7QUFDakIsb0JBQW9CLHFEQUFHO0FBQ3ZCLHlCQUF5QixxREFBRztBQUM1Qix5QkFBeUIseURBQU87QUFDaEMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxlQUFlLHFEQUFHLDRCQUE0QixxREFBRztBQUNqRCxzQkFBc0IseURBQU87QUFDN0IsaUJBQWlCLHFEQUFHO0FBQ3BCLHdCQUF3QixxREFBRztBQUMzQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sL3VzZXJfdHlwZXMuanM/MjUyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCBycGMsIHNjVmFsVG9OYXRpdmUsIHhkciB9IGZyb20gJ0BzdGVsbGFyL3N0ZWxsYXItc2RrJztcbmltcG9ydCB7IFVzZXJFbWlzc2lvbnMgfSBmcm9tICcuLi9lbWlzc2lvbnMuanMnO1xuaW1wb3J0IHsgZGVjb2RlRW50cnlLZXkgfSBmcm9tICcuLi9sZWRnZXJfZW50cnlfaGVscGVyLmpzJztcbmV4cG9ydCBjbGFzcyBQb3NpdGlvbnMge1xuICAgIGxpYWJpbGl0aWVzO1xuICAgIGNvbGxhdGVyYWw7XG4gICAgc3VwcGx5O1xuICAgIGNvbnN0cnVjdG9yKGxpYWJpbGl0aWVzLCBjb2xsYXRlcmFsLCBzdXBwbHkpIHtcbiAgICAgICAgdGhpcy5saWFiaWxpdGllcyA9IGxpYWJpbGl0aWVzO1xuICAgICAgICB0aGlzLmNvbGxhdGVyYWwgPSBjb2xsYXRlcmFsO1xuICAgICAgICB0aGlzLnN1cHBseSA9IHN1cHBseTtcbiAgICB9XG4gICAgc3RhdGljIGxlZGdlcktleShwb29sSWQsIHVzZXJJZCkge1xuICAgICAgICBjb25zdCByZXMgPSBbXG4gICAgICAgICAgICB4ZHIuU2NWYWwuc2N2U3ltYm9sKCdQb3NpdGlvbnMnKSxcbiAgICAgICAgICAgIEFkZHJlc3MuZnJvbVN0cmluZyh1c2VySWQpLnRvU2NWYWwoKSxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHhkci5MZWRnZXJLZXkuY29udHJhY3REYXRhKG5ldyB4ZHIuTGVkZ2VyS2V5Q29udHJhY3REYXRhKHtcbiAgICAgICAgICAgIGNvbnRyYWN0OiBBZGRyZXNzLmZyb21TdHJpbmcocG9vbElkKS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2VmVjKHJlcyksXG4gICAgICAgICAgICBkdXJhYmlsaXR5OiB4ZHIuQ29udHJhY3REYXRhRHVyYWJpbGl0eS5wZXJzaXN0ZW50KCksXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGxvYWQobmV0d29yaywgcG9vbElkLCB1c2VySWQpIHtcbiAgICAgICAgY29uc3Qgc3RlbGxhclJwYyA9IG5ldyBycGMuU2VydmVyKG5ldHdvcmsucnBjLCBuZXR3b3JrLm9wdHMpO1xuICAgICAgICBjb25zdCB1c2VyUG9zaXRpb25zS2V5ID0gUG9zaXRpb25zLmxlZGdlcktleShwb29sSWQsIHVzZXJJZCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uUmVzcCA9IGF3YWl0IHN0ZWxsYXJScGMuZ2V0TGVkZ2VyRW50cmllcyh1c2VyUG9zaXRpb25zS2V5KTtcbiAgICAgICAgLy8gaWYgZW50cnkgZG9lcyBub3QgZXhpc3QgYXNzdW1lIGVtcHR5XG4gICAgICAgIGlmIChwb3NpdGlvblJlc3AuZW50cmllcyA9PSB1bmRlZmluZWQgfHwgcG9zaXRpb25SZXNwLmVudHJpZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb25zKG5ldyBNYXAoKSwgbmV3IE1hcCgpLCBuZXcgTWFwKCkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB1c2VyUG9zaXRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHBvc2l0aW9uUmVzcC5lbnRyaWVzID8/IFtdKSB7XG4gICAgICAgICAgICBjb25zdCBsZWRnZXJEYXRhID0gZW50cnkudmFsO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobGVkZ2VyRGF0YS5jb250cmFjdERhdGEoKS5rZXkoKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1Bvc2l0aW9ucyc6XG4gICAgICAgICAgICAgICAgICAgIHVzZXJQb3NpdGlvbnMgPSBQb3NpdGlvbnMuZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgdXNlciBwb3NpdGlvbnMga2V5OiBzaG91bGQgbm90IGNvbnRhaW46ICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VyUG9zaXRpb25zID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gbG9hZCB1c2VyJ3MgcG9zaXRpb25zXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1c2VyUG9zaXRpb25zO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJfZW50cnlfZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGxlZGdlcl9lbnRyeV9kYXRhID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsZWRnZXJfZW50cnlfZGF0YSA9IHhkci5MZWRnZXJFbnRyeURhdGEuZnJvbVhEUihsZWRnZXJfZW50cnlfZGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQb3NpdGlvbnMuZnJvbVNjVmFsKGxlZGdlcl9lbnRyeV9kYXRhLmNvbnRyYWN0RGF0YSgpLnZhbCgpKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21TY1ZhbChzY192YWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY192YWwgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHNjX3ZhbCA9IHhkci5TY1ZhbC5mcm9tWERSKHNjX3ZhbCwgJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGFfZW50cnlfbWFwID0gc2NfdmFsLm1hcCgpO1xuICAgICAgICBpZiAoZGF0YV9lbnRyeV9tYXAgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVXNlclBvc2l0aW9ucyBjb250cmFjdCBkYXRhIHZhbHVlIGlzIG5vdCBhIG1hcCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsaWFiaWxpdHlfbWFwO1xuICAgICAgICBsZXQgY29sbGF0ZXJhbF9tYXA7XG4gICAgICAgIGxldCBzdXBwbHlfbWFwO1xuICAgICAgICBmb3IgKGNvbnN0IG1hcF9lbnRyeSBvZiBkYXRhX2VudHJ5X21hcCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlRW50cnlLZXkobWFwX2VudHJ5LmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGlhYmlsaXRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGxpYWJpbGl0eV9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpYWJpbGl0aWVzID0gbWFwX2VudHJ5LnZhbCgpLm1hcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlhYmlsaXRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGlhYmlsaXR5IG9mIGxpYWJpbGl0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlhYmlsaXR5X21hcC5zZXQobGlhYmlsaXR5LmtleSgpLnUzMigpLCBzY1ZhbFRvTmF0aXZlKGxpYWJpbGl0eS52YWwoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdjb2xsYXRlcmFsJzoge1xuICAgICAgICAgICAgICAgICAgICBjb2xsYXRlcmFsX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGF0ZXJhbHMgPSBtYXBfZW50cnkudmFsKCkubWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xsYXRlcmFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb2xsYXRlcmFsIG9mIGNvbGxhdGVyYWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGF0ZXJhbF9tYXAuc2V0KGNvbGxhdGVyYWwua2V5KCkudTMyKCksIHNjVmFsVG9OYXRpdmUoY29sbGF0ZXJhbC52YWwoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdzdXBwbHknOiB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBseV9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1cHBsaWVzID0gbWFwX2VudHJ5LnZhbCgpLm1hcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VwcGxpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3VwcGx5IG9mIHN1cHBsaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcGx5X21hcC5zZXQoc3VwcGx5LmtleSgpLnUzMigpLCBzY1ZhbFRvTmF0aXZlKHN1cHBseS52YWwoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCBVc2VyUG9zaXRpb25zIGtleTogc2hvdWxkIG5vdCBjb250YWluICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbGlhYmlsaXR5X21hcCB8fCAhY29sbGF0ZXJhbF9tYXAgfHwgIXN1cHBseV9tYXApIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdVc2VyIHBvc2l0aW9ucyB4ZHJfc3RyaW5nIGlzIG1hbGZvcm1lZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9zaXRpb25zKGxpYWJpbGl0eV9tYXAsIGNvbGxhdGVyYWxfbWFwLCBzdXBwbHlfbWFwKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUG9vbFVzZXJFbWlzc2lvbkRhdGEgZXh0ZW5kcyBVc2VyRW1pc3Npb25zIHtcbiAgICBzdGF0aWMgbGVkZ2VyS2V5KHBvb2xJZCwgdXNlcklkLCByZXNlcnZlVG9rZW5JbmRleCkge1xuICAgICAgICBjb25zdCByZXMgPSBbXG4gICAgICAgICAgICB4ZHIuU2NWYWwuc2N2U3ltYm9sKCdVc2VyRW1pcycpLFxuICAgICAgICAgICAgeGRyLlNjVmFsLnNjdk1hcChbXG4gICAgICAgICAgICAgICAgbmV3IHhkci5TY01hcEVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2U3ltYm9sKCdyZXNlcnZlX2lkJyksXG4gICAgICAgICAgICAgICAgICAgIHZhbDogeGRyLlNjVmFsLnNjdlUzMihyZXNlcnZlVG9rZW5JbmRleCksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgbmV3IHhkci5TY01hcEVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2U3ltYm9sKCd1c2VyJyksXG4gICAgICAgICAgICAgICAgICAgIHZhbDogQWRkcmVzcy5mcm9tU3RyaW5nKHVzZXJJZCkudG9TY1ZhbCgpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB4ZHIuTGVkZ2VyS2V5LmNvbnRyYWN0RGF0YShuZXcgeGRyLkxlZGdlcktleUNvbnRyYWN0RGF0YSh7XG4gICAgICAgICAgICBjb250cmFjdDogQWRkcmVzcy5mcm9tU3RyaW5nKHBvb2xJZCkudG9TY0FkZHJlc3MoKSxcbiAgICAgICAgICAgIGtleTogeGRyLlNjVmFsLnNjdlZlYyhyZXMpLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRFbWlzc2lvbkluZGV4RnJvbUxlZGdlckVudHJ5RGF0YShsZWRnZXJfZW50cnlfZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGxlZGdlcl9lbnRyeV9kYXRhID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsZWRnZXJfZW50cnlfZGF0YSA9IHhkci5MZWRnZXJFbnRyeURhdGEuZnJvbVhEUihsZWRnZXJfZW50cnlfZGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVtaXNzaW9uX2luZGV4ID0gbGVkZ2VyX2VudHJ5X2RhdGFcbiAgICAgICAgICAgID8uY29udHJhY3REYXRhKClcbiAgICAgICAgICAgID8ua2V5KClcbiAgICAgICAgICAgID8udmVjKClcbiAgICAgICAgICAgID8uYXQoMSlcbiAgICAgICAgICAgID8ubWFwKClcbiAgICAgICAgICAgID8uYXQoMClcbiAgICAgICAgICAgID8udmFsKClcbiAgICAgICAgICAgID8udTMyKCk7XG4gICAgICAgIGlmIChlbWlzc2lvbl9pbmRleCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXNlckVtaXNzaW9uRGF0YTogc2hvdWxkIGNvbnRhaW4gJ3Jlc2VydmVfaWQnXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbWlzc2lvbl9pbmRleDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool/user_types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/index.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/index.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolFactoryConfig: () => (/* reexport safe */ _pool_factory_config_js__WEBPACK_IMPORTED_MODULE_1__.PoolFactoryConfig),\n/* harmony export */   PoolFactoryContract: () => (/* reexport safe */ _pool_factory_contract_js__WEBPACK_IMPORTED_MODULE_2__.PoolFactoryContract),\n/* harmony export */   PoolFactoryContractV1: () => (/* reexport safe */ _pool_factory_contract_js__WEBPACK_IMPORTED_MODULE_2__.PoolFactoryContractV1),\n/* harmony export */   PoolFactoryContractV2: () => (/* reexport safe */ _pool_factory_contract_js__WEBPACK_IMPORTED_MODULE_2__.PoolFactoryContractV2),\n/* harmony export */   PoolFactoryDataKeyToXDR: () => (/* binding */ PoolFactoryDataKeyToXDR),\n/* harmony export */   PoolFactoryEventType: () => (/* reexport safe */ _pool_factory_events_js__WEBPACK_IMPORTED_MODULE_3__.PoolFactoryEventType),\n/* harmony export */   poolFactoryEventFromEventResponse: () => (/* reexport safe */ _pool_factory_events_js__WEBPACK_IMPORTED_MODULE_3__.poolFactoryEventFromEventResponse)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _pool_factory_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pool_factory_config.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_config.js\");\n/* harmony import */ var _pool_factory_contract_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pool_factory_contract.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_contract.js\");\n/* harmony import */ var _pool_factory_events_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pool_factory_events.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_events.js\");\n\n\n\n\nfunction PoolFactoryDataKeyToXDR(poolFactoryDataKey) {\n    if (!poolFactoryDataKey) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVoid();\n    }\n    const res = [];\n    switch (poolFactoryDataKey.tag) {\n        case 'Contracts':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('Contracts'));\n            res.push(...((i) => [((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(i).toScVal())(i[0])])(poolFactoryDataKey.values));\n            break;\n        case 'PoolInitMeta':\n            res.push(((i) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvSymbol(i))('PoolInitMeta'));\n            break;\n    }\n    return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvVec(res);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sX2ZhY3RvcnkvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBb0Q7QUFDWDtBQUNFO0FBQ0Y7QUFDbEM7QUFDUDtBQUNBLGVBQWUscURBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQUc7QUFDaEMseUNBQXlDLHlEQUFPO0FBQ2hEO0FBQ0E7QUFDQSw2QkFBNkIscURBQUc7QUFDaEM7QUFDQTtBQUNBLFdBQVcscURBQUc7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXN0ZWxsYXItYXBwLy4vbm9kZV9tb2R1bGVzL3N0ZWxsYXItYWdlbnQta2l0L25vZGVfbW9kdWxlcy9AYmxlbmQtY2FwaXRhbC9ibGVuZC1zZGsvZGlzdC9lc20vcG9vbF9mYWN0b3J5L2luZGV4LmpzP2NmMTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkcmVzcywgeGRyIH0gZnJvbSAnQHN0ZWxsYXIvc3RlbGxhci1zZGsnO1xuZXhwb3J0ICogZnJvbSAnLi9wb29sX2ZhY3RvcnlfY29uZmlnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcG9vbF9mYWN0b3J5X2NvbnRyYWN0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcG9vbF9mYWN0b3J5X2V2ZW50cy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gUG9vbEZhY3RvcnlEYXRhS2V5VG9YRFIocG9vbEZhY3RvcnlEYXRhS2V5KSB7XG4gICAgaWYgKCFwb29sRmFjdG9yeURhdGFLZXkpIHtcbiAgICAgICAgcmV0dXJuIHhkci5TY1ZhbC5zY3ZWb2lkKCk7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIHN3aXRjaCAocG9vbEZhY3RvcnlEYXRhS2V5LnRhZykge1xuICAgICAgICBjYXNlICdDb250cmFjdHMnOlxuICAgICAgICAgICAgcmVzLnB1c2goKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnQ29udHJhY3RzJykpO1xuICAgICAgICAgICAgcmVzLnB1c2goLi4uKChpKSA9PiBbKChpKSA9PiBBZGRyZXNzLmZyb21TdHJpbmcoaSkudG9TY1ZhbCgpKShpWzBdKV0pKHBvb2xGYWN0b3J5RGF0YUtleS52YWx1ZXMpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQb29sSW5pdE1ldGEnOlxuICAgICAgICAgICAgcmVzLnB1c2goKChpKSA9PiB4ZHIuU2NWYWwuc2N2U3ltYm9sKGkpKSgnUG9vbEluaXRNZXRhJykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB4ZHIuU2NWYWwuc2N2VmVjKHJlcyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_config.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_config.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolFactoryConfig: () => (/* binding */ PoolFactoryConfig)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n\n\nclass PoolFactoryConfig {\n    blndTkn;\n    backstop;\n    poolHash;\n    constructor(blndTkn, backstop, poolHash) {\n        this.blndTkn = blndTkn;\n        this.backstop = backstop;\n        this.poolHash = poolHash;\n    }\n    static async load(network, poolFactoryId) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const contractInstanceKey = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(poolFactoryId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvLedgerKeyContractInstance(),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n        let blndTkn;\n        let backstop;\n        let poolHash;\n        const poolFactoryConfigEntries = (await stellarRpc.getLedgerEntries(contractInstanceKey)).entries ?? [];\n        for (const entry of poolFactoryConfigEntries) {\n            const ledgerData = entry.val.contractData();\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerData.key());\n            switch (key) {\n                case 'ContractInstance': {\n                    ledgerData\n                        .val()\n                        .instance()\n                        .storage()\n                        ?.map((entry) => {\n                        const instanceKey = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(entry.key());\n                        switch (instanceKey) {\n                            case 'PoolMeta':\n                                entry\n                                    .val()\n                                    .map()\n                                    .map((mapEntry) => {\n                                    const poolMetaKey = mapEntry.key().sym().toString();\n                                    switch (poolMetaKey) {\n                                        case 'backstop':\n                                            backstop = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(mapEntry.val()).toString();\n                                            break;\n                                        case 'blnd_id':\n                                            blndTkn = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(mapEntry.val()).toString();\n                                            break;\n                                        case 'pool_hash':\n                                            poolHash = mapEntry.val().bytes().toString('hex');\n                                            break;\n                                        case 'IsInit':\n                                            // do nothing\n                                            break;\n                                        default:\n                                            throw Error(`Invalid PoolMeta key: should not contain ${poolMetaKey}`);\n                                    }\n                                });\n                                break;\n                            default:\n                                throw Error(`Invalid pool factory instance key: should not contain ${instanceKey}`);\n                        }\n                    });\n                    break;\n                }\n                default:\n                    throw Error(`Invalid pool factory config key: should not contain ${key}`);\n            }\n        }\n        if (blndTkn == undefined ||\n            backstop == undefined ||\n            poolHash == undefined ||\n            poolFactoryConfigEntries.length == 0) {\n            throw Error('Unable to load pool factory config');\n        }\n        return new PoolFactoryConfig(blndTkn, backstop, poolHash);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sX2ZhY3RvcnkvcG9vbF9mYWN0b3J5X2NvbmZpZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUQ7QUFDRTtBQUNwRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQyxvQ0FBb0MscURBQUcsNEJBQTRCLHFEQUFHO0FBQ3RFLHNCQUFzQix5REFBTztBQUM3QixpQkFBaUIscURBQUc7QUFDcEIsd0JBQXdCLHFEQUFHO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUVBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsdUVBQWM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHlEQUFPO0FBQzlEO0FBQ0E7QUFDQSxzREFBc0QseURBQU87QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRyxZQUFZO0FBQ2hIO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxxR0FBcUcsWUFBWTtBQUNqSDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsSUFBSTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sX2ZhY3RvcnkvcG9vbF9mYWN0b3J5X2NvbmZpZy5qcz8wZDQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFkZHJlc3MsIHJwYywgeGRyIH0gZnJvbSAnQHN0ZWxsYXIvc3RlbGxhci1zZGsnO1xuaW1wb3J0IHsgZGVjb2RlRW50cnlLZXkgfSBmcm9tICcuLi9sZWRnZXJfZW50cnlfaGVscGVyLmpzJztcbmV4cG9ydCBjbGFzcyBQb29sRmFjdG9yeUNvbmZpZyB7XG4gICAgYmxuZFRrbjtcbiAgICBiYWNrc3RvcDtcbiAgICBwb29sSGFzaDtcbiAgICBjb25zdHJ1Y3RvcihibG5kVGtuLCBiYWNrc3RvcCwgcG9vbEhhc2gpIHtcbiAgICAgICAgdGhpcy5ibG5kVGtuID0gYmxuZFRrbjtcbiAgICAgICAgdGhpcy5iYWNrc3RvcCA9IGJhY2tzdG9wO1xuICAgICAgICB0aGlzLnBvb2xIYXNoID0gcG9vbEhhc2g7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBsb2FkKG5ldHdvcmssIHBvb2xGYWN0b3J5SWQpIHtcbiAgICAgICAgY29uc3Qgc3RlbGxhclJwYyA9IG5ldyBycGMuU2VydmVyKG5ldHdvcmsucnBjLCBuZXR3b3JrLm9wdHMpO1xuICAgICAgICBjb25zdCBjb250cmFjdEluc3RhbmNlS2V5ID0geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhwb29sRmFjdG9yeUlkKS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2TGVkZ2VyS2V5Q29udHJhY3RJbnN0YW5jZSgpLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgICAgIGxldCBibG5kVGtuO1xuICAgICAgICBsZXQgYmFja3N0b3A7XG4gICAgICAgIGxldCBwb29sSGFzaDtcbiAgICAgICAgY29uc3QgcG9vbEZhY3RvcnlDb25maWdFbnRyaWVzID0gKGF3YWl0IHN0ZWxsYXJScGMuZ2V0TGVkZ2VyRW50cmllcyhjb250cmFjdEluc3RhbmNlS2V5KSkuZW50cmllcyA/PyBbXTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBwb29sRmFjdG9yeUNvbmZpZ0VudHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlZGdlckRhdGEgPSBlbnRyeS52YWwuY29udHJhY3REYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShsZWRnZXJEYXRhLmtleSgpKTtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ29udHJhY3RJbnN0YW5jZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgbGVkZ2VyRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuaW5zdGFuY2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0b3JhZ2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgPy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZUtleSA9IGRlY29kZUVudHJ5S2V5KGVudHJ5LmtleSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaW5zdGFuY2VLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQb29sTWV0YSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudmFsKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgobWFwRW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvb2xNZXRhS2V5ID0gbWFwRW50cnkua2V5KCkuc3ltKCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocG9vbE1ldGFLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdiYWNrc3RvcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tzdG9wID0gQWRkcmVzcy5mcm9tU2NWYWwobWFwRW50cnkudmFsKCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JsbmRfaWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG5kVGtuID0gQWRkcmVzcy5mcm9tU2NWYWwobWFwRW50cnkudmFsKCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Bvb2xfaGFzaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvb2xIYXNoID0gbWFwRW50cnkudmFsKCkuYnl0ZXMoKS50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0lzSW5pdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgUG9vbE1ldGEga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtwb29sTWV0YUtleX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIHBvb2wgZmFjdG9yeSBpbnN0YW5jZSBrZXk6IHNob3VsZCBub3QgY29udGFpbiAke2luc3RhbmNlS2V5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIHBvb2wgZmFjdG9yeSBjb25maWcga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJsbmRUa24gPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBiYWNrc3RvcCA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHBvb2xIYXNoID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgcG9vbEZhY3RvcnlDb25maWdFbnRyaWVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVW5hYmxlIHRvIGxvYWQgcG9vbCBmYWN0b3J5IGNvbmZpZycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9vbEZhY3RvcnlDb25maWcoYmxuZFRrbiwgYmFja3N0b3AsIHBvb2xIYXNoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_contract.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_contract.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolFactoryContract: () => (/* binding */ PoolFactoryContract),\n/* harmony export */   PoolFactoryContractV1: () => (/* binding */ PoolFactoryContractV1),\n/* harmony export */   PoolFactoryContractV2: () => (/* binding */ PoolFactoryContractV2)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n\nclass PoolFactoryContract extends _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract {\n    // @dev: Generated from soroban-cli Typescript bindings\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        // Enum PoolFactoryError\n        'AAAABAAAAKlFcnJvciBjb2RlcyBmb3IgdGhlIHBvb2wgZmFjdG9yeSBjb250cmFjdC4gQ29tbW9uIGVycm9ycyBhcmUgY29kZXMgdGhhdCBtYXRjaCB1cCB3aXRoIHRoZSBidWlsdC1pbgpjb250cmFjdHMgZXJyb3IgcmVwb3J0aW5nLiBQb29sIGZhY3Rvcnkgc3BlY2lmaWMgZXJyb3JzIHN0YXJ0IGF0IDEzMDAuAAAAAAAAAAAAABBQb29sRmFjdG9yeUVycm9yAAAAAwAAAAAAAAANSW50ZXJuYWxFcnJvcgAAAAAAAAEAAAAAAAAAF0FscmVhZHlJbml0aWFsaXplZEVycm9yAAAAAAMAAAAAAAAAE0ludmFsaWRQb29sSW5pdEFyZ3MAAAAFFA==',\n        // Function is_pool\n        'AAAAAAAAAAAAAAAHaXNfcG9vbAAAAAABAAAAAAAAAAxwb29sX2FkZHJlc3MAAAATAAAAAQAAAAE=',\n        // Union PoolFactoryDataKey\n        'AAAAAgAAAAAAAAAAAAAAElBvb2xGYWN0b3J5RGF0YUtleQAAAAAAAQAAAAEAAAAAAAAACUNvbnRyYWN0cwAAAAAAAAEAAAAT',\n        // Struct PoolInitMeta\n        'AAAAAQAAAAAAAAAAAAAADFBvb2xJbml0TWV0YQAAAAMAAAAAAAAACGJhY2tzdG9wAAAAEwAAAAAAAAAHYmxuZF9pZAAAAAATAAAAAAAAAAlwb29sX2hhc2gAAAAAAAPuAAAAIA==',\n    ]);\n    static parsers = {\n        isPool: (result) => PoolFactoryContract.spec.funcResToNative('is_pool', result),\n    };\n    /**\n     * Checks if a contract address was deployed by the factory.\n     *\n     * @param pool_address - The contract address to be checked.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    isPool(pool_address) {\n        return this.call('deploy', ...PoolFactoryContract.spec.funcArgsToScVals('deploy', { pool_address })).toXDR('base64');\n    }\n}\nclass PoolFactoryContractV1 extends PoolFactoryContract {\n    constructor(address) {\n        super(address);\n    }\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        ...PoolFactoryContract.spec.entries,\n        ...new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n            // Function initialize\n            'AAAAAAAAAAAAAAAKaW5pdGlhbGl6ZQAAAAAAAQAAAAAAAAAOcG9vbF9pbml0X21ldGEAAAAAB9AAAAAMUG9vbEluaXRNZXRhAAAAAA==',\n            // Function Deploy\n            'AAAAAAAAAAAAAAAGZGVwbG95AAAAAAAGAAAAAAAAAAVhZG1pbgAAAAAAABMAAAAAAAAABG5hbWUAAAAQAAAAAAAAAARzYWx0AAAD7gAAACAAAAAAAAAABm9yYWNsZQAAAAAAEwAAAAAAAAASYmFja3N0b3BfdGFrZV9yYXRlAAAAAAAEAAAAAAAAAA1tYXhfcG9zaXRpb25zAAAAAAAABAAAAAEAAAAT',\n        ]).entries,\n    ]);\n    static parsers = {\n        ...PoolFactoryContract.parsers,\n        deployPool: (result) => PoolFactoryContractV1.spec.funcResToNative('deploy', result),\n        initialize: () => { },\n    };\n    /**\n     * Initializes the pool factory.\n     *\n     * @param pool_init_meta - The pool initialization metadata.\n     * @param pool_init_meta.pool_hash - The hash of the pool contract code.\n     * @param pool_init_meta.backstop - The address of the backstop contract.\n     * @param pool_init_meta.blnd_id - The address of the BLND token contract.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    initialize(pool_init_meta) {\n        return this.call('initialize', ...PoolFactoryContractV1.spec.funcArgsToScVals('initialize', { pool_init_meta })).toXDR('base64');\n    }\n    /**\n     * Deploys and initializes a lending pool.\n     *\n     * @param contractArgs - The arguments required for deploying a pool.\n     * @param contractArgs.admin - The admin address for the pool.\n     * @param contractArgs.name - The name of the pool.\n     * @param contractArgs.salt - The salt for the pool address (32 bytes).\n     * @param contractArgs.oracle - The oracle address for the pool.\n     * @param contractArgs.backstop_take_rate - The backstop take rate for the pool (7 decimals).\n     * @param contractArgs.max_positions - The maximum user positions supported by the pool.\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    deployPool(contractArgs) {\n        return this.call('deploy', ...PoolFactoryContractV1.spec.funcArgsToScVals('deploy', contractArgs)).toXDR('base64');\n    }\n}\nclass PoolFactoryContractV2 extends PoolFactoryContract {\n    constructor(address) {\n        super(address);\n    }\n    static spec = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n        ...PoolFactoryContract.spec.entries,\n        ...new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.contract.Spec([\n            // Function constructor\n            'AAAAAAAAAGhDb25zdHJ1Y3QgdGhlIHBvb2wgZmFjdG9yeSBjb250cmFjdAoKIyMjIEFyZ3VtZW50cwoqIGBwb29sX2luaXRfbWV0YWAgLSBUaGUgcG9vbCBpbml0aWFsaXphdGlvbiBtZXRhZGF0YQAAAA1fX2NvbnN0cnVjdG9yAAAAAAAAAQAAAAAAAAAOcG9vbF9pbml0X21ldGEAAAAAB9AAAAAMUG9vbEluaXRNZXRhAAAAAA==',\n            // Function deploy\n            'AAAAAAAAAAAAAAAGZGVwbG95AAAAAAAHAAAAAAAAAAVhZG1pbgAAAAAAABMAAAAAAAAABG5hbWUAAAAQAAAAAAAAAARzYWx0AAAD7gAAACAAAAAAAAAABm9yYWNsZQAAAAAAEwAAAAAAAAASYmFja3N0b3BfdGFrZV9yYXRlAAAAAAAEAAAAAAAAAA1tYXhfcG9zaXRpb25zAAAAAAAABAAAAAAAAAAObWluX2NvbGxhdGVyYWwAAAAAAAsAAAABAAAAEw==',\n        ]).entries,\n    ]);\n    static parsers = {\n        ...PoolFactoryContract.parsers,\n        constructor: (result) => (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(result, 'base64')),\n        deployPool: (result) => PoolFactoryContractV2.spec.funcResToNative('deploy', result),\n    };\n    /**\n     * Deploys a new instance of the Pool Factory V2 contract.\n     *\n     * @param deployer - The address of the deployer.\n     * @param wasmHash - The hash of the WASM contract code.\n     * @param pool_init_meta - The pool initialization metadata.\n     * @param pool_init_meta.pool_hash - The hash of the pool contract code.\n     * @param pool_init_meta.backstop - The address of the backstop contract.\n     * @param pool_init_meta.blnd_id - The address of the BLND token contract.\n     * @param salt - Optional salt for the contract deployment.\n     * @param format - Optional format for the WASM hash (hex or base64).\n     *\n     * @returns A base64-encoded string representing the contract deployment operation.\n     */\n    static deploy(deployer, wasmHash, pool_init_meta, salt, format) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Operation.createCustomContract({\n            address: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(deployer),\n            wasmHash: typeof wasmHash === 'string'\n                ? Buffer.from(wasmHash, format ?? 'hex')\n                : wasmHash,\n            salt,\n            constructorArgs: this.spec.funcArgsToScVals('__constructor', { pool_init_meta }),\n        }).toXDR('base64');\n    }\n    /**\n     * Deploys and initializes a lending pool with enhanced features like minimum collateral requirements.\n     *\n     * @param contractArgs - The arguments required for deploying a pool.\n     * @param contractArgs.admin - The admin address for the pool.\n     * @param contractArgs.name - The name of the pool.\n     * @param contractArgs.salt - The salt for the pool address (32 bytes).\n     * @param contractArgs.oracle - The oracle address for the pool.\n     * @param contractArgs.backstop_take_rate - The backstop take rate for the pool (7 decimals).\n     * @param contractArgs.max_positions - The maximum user positions supported by the pool.\n     * @param contractArgs.min_collateral - The minimum collateral required for a borrow position (oracle decimals).\n     *\n     * @returns A base64-encoded string representing the operation.\n     */\n    deployPool(contractArgs) {\n        return this.call('deploy', ...PoolFactoryContractV2.spec.funcArgsToScVals('deploy', contractArgs)).toXDR('base64');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sX2ZhY3RvcnkvcG9vbF9mYWN0b3J5X2NvbnRyYWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBa0c7QUFDM0Ysa0NBQWtDLDBEQUFRO0FBQ2pEO0FBQ0Esc0JBQXNCLDBEQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEYsY0FBYztBQUMxRztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQVE7QUFDOUI7QUFDQSxlQUFlLDBEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzR0FBc0csZ0JBQWdCO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFRO0FBQzlCO0FBQ0EsZUFBZSwwREFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG1FQUFhLENBQUMscURBQUc7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkRBQVM7QUFDeEIscUJBQXFCLHlEQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGdCQUFnQjtBQUMzRixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL3Bvb2xfZmFjdG9yeS9wb29sX2ZhY3RvcnlfY29udHJhY3QuanM/NzNlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzLCBDb250cmFjdCwgY29udHJhY3QsIE9wZXJhdGlvbiwgc2NWYWxUb05hdGl2ZSwgeGRyIH0gZnJvbSAnQHN0ZWxsYXIvc3RlbGxhci1zZGsnO1xuZXhwb3J0IGNsYXNzIFBvb2xGYWN0b3J5Q29udHJhY3QgZXh0ZW5kcyBDb250cmFjdCB7XG4gICAgLy8gQGRldjogR2VuZXJhdGVkIGZyb20gc29yb2Jhbi1jbGkgVHlwZXNjcmlwdCBiaW5kaW5nc1xuICAgIHN0YXRpYyBzcGVjID0gbmV3IGNvbnRyYWN0LlNwZWMoW1xuICAgICAgICAvLyBFbnVtIFBvb2xGYWN0b3J5RXJyb3JcbiAgICAgICAgJ0FBQUFCQUFBQUtsRmNuSnZjaUJqYjJSbGN5Qm1iM0lnZEdobElIQnZiMndnWm1GamRHOXllU0JqYjI1MGNtRmpkQzRnUTI5dGJXOXVJR1Z5Y205eWN5QmhjbVVnWTI5a1pYTWdkR2hoZENCdFlYUmphQ0IxY0NCM2FYUm9JSFJvWlNCaWRXbHNkQzFwYmdwamIyNTBjbUZqZEhNZ1pYSnliM0lnY21Wd2IzSjBhVzVuTGlCUWIyOXNJR1poWTNSdmNua2djM0JsWTJsbWFXTWdaWEp5YjNKeklITjBZWEowSUdGMElERXpNREF1QUFBQUFBQUFBQUFBQUJCUWIyOXNSbUZqZEc5eWVVVnljbTl5QUFBQUF3QUFBQUFBQUFBTlNXNTBaWEp1WVd4RmNuSnZjZ0FBQUFBQUFBRUFBQUFBQUFBQUYwRnNjbVZoWkhsSmJtbDBhV0ZzYVhwbFpFVnljbTl5QUFBQUFBTUFBQUFBQUFBQUUwbHVkbUZzYVdSUWIyOXNTVzVwZEVGeVozTUFBQUFGRkE9PScsXG4gICAgICAgIC8vIEZ1bmN0aW9uIGlzX3Bvb2xcbiAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUhhWE5mY0c5dmJBQUFBQUFCQUFBQUFBQUFBQXh3YjI5c1gyRmtaSEpsYzNNQUFBQVRBQUFBQVFBQUFBRT0nLFxuICAgICAgICAvLyBVbmlvbiBQb29sRmFjdG9yeURhdGFLZXlcbiAgICAgICAgJ0FBQUFBZ0FBQUFBQUFBQUFBQUFBRWxCdmIyeEdZV04wYjNKNVJHRjBZVXRsZVFBQUFBQUFBUUFBQUFFQUFBQUFBQUFBQ1VOdmJuUnlZV04wY3dBQUFBQUFBQUVBQUFBVCcsXG4gICAgICAgIC8vIFN0cnVjdCBQb29sSW5pdE1ldGFcbiAgICAgICAgJ0FBQUFBUUFBQUFBQUFBQUFBQUFBREZCdmIyeEpibWwwVFdWMFlRQUFBQU1BQUFBQUFBQUFDR0poWTJ0emRHOXdBQUFBRXdBQUFBQUFBQUFIWW14dVpGOXBaQUFBQUFBVEFBQUFBQUFBQUFsd2IyOXNYMmhoYzJnQUFBQUFBQVB1QUFBQUlBPT0nLFxuICAgIF0pO1xuICAgIHN0YXRpYyBwYXJzZXJzID0ge1xuICAgICAgICBpc1Bvb2w6IChyZXN1bHQpID0+IFBvb2xGYWN0b3J5Q29udHJhY3Quc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2lzX3Bvb2wnLCByZXN1bHQpLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgY29udHJhY3QgYWRkcmVzcyB3YXMgZGVwbG95ZWQgYnkgdGhlIGZhY3RvcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9vbF9hZGRyZXNzIC0gVGhlIGNvbnRyYWN0IGFkZHJlc3MgdG8gYmUgY2hlY2tlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGlzUG9vbChwb29sX2FkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZGVwbG95JywgLi4uUG9vbEZhY3RvcnlDb250cmFjdC5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2RlcGxveScsIHsgcG9vbF9hZGRyZXNzIH0pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBvb2xGYWN0b3J5Q29udHJhY3RWMSBleHRlbmRzIFBvb2xGYWN0b3J5Q29udHJhY3Qge1xuICAgIGNvbnN0cnVjdG9yKGFkZHJlc3MpIHtcbiAgICAgICAgc3VwZXIoYWRkcmVzcyk7XG4gICAgfVxuICAgIHN0YXRpYyBzcGVjID0gbmV3IGNvbnRyYWN0LlNwZWMoW1xuICAgICAgICAuLi5Qb29sRmFjdG9yeUNvbnRyYWN0LnNwZWMuZW50cmllcyxcbiAgICAgICAgLi4ubmV3IGNvbnRyYWN0LlNwZWMoW1xuICAgICAgICAgICAgLy8gRnVuY3Rpb24gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUthVzVwZEdsaGJHbDZaUUFBQUFBQUFRQUFBQUFBQUFBT2NHOXZiRjlwYm1sMFgyMWxkR0VBQUFBQUI5QUFBQUFNVUc5dmJFbHVhWFJOWlhSaEFBQUFBQT09JyxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIERlcGxveVxuICAgICAgICAgICAgJ0FBQUFBQUFBQUFBQUFBQUdaR1Z3Ykc5NUFBQUFBQUFHQUFBQUFBQUFBQVZoWkcxcGJnQUFBQUFBQUJNQUFBQUFBQUFBQkc1aGJXVUFBQUFRQUFBQUFBQUFBQVJ6WVd4MEFBQUQ3Z0FBQUNBQUFBQUFBQUFBQm05eVlXTnNaUUFBQUFBQUV3QUFBQUFBQUFBU1ltRmphM04wYjNCZmRHRnJaVjl5WVhSbEFBQUFBQUFFQUFBQUFBQUFBQTF0WVhoZmNHOXphWFJwYjI1ekFBQUFBQUFBQkFBQUFBRUFBQUFUJyxcbiAgICAgICAgXSkuZW50cmllcyxcbiAgICBdKTtcbiAgICBzdGF0aWMgcGFyc2VycyA9IHtcbiAgICAgICAgLi4uUG9vbEZhY3RvcnlDb250cmFjdC5wYXJzZXJzLFxuICAgICAgICBkZXBsb3lQb29sOiAocmVzdWx0KSA9PiBQb29sRmFjdG9yeUNvbnRyYWN0VjEuc3BlYy5mdW5jUmVzVG9OYXRpdmUoJ2RlcGxveScsIHJlc3VsdCksXG4gICAgICAgIGluaXRpYWxpemU6ICgpID0+IHsgfSxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBwb29sIGZhY3RvcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9vbF9pbml0X21ldGEgLSBUaGUgcG9vbCBpbml0aWFsaXphdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0gcG9vbF9pbml0X21ldGEucG9vbF9oYXNoIC0gVGhlIGhhc2ggb2YgdGhlIHBvb2wgY29udHJhY3QgY29kZS5cbiAgICAgKiBAcGFyYW0gcG9vbF9pbml0X21ldGEuYmFja3N0b3AgLSBUaGUgYWRkcmVzcyBvZiB0aGUgYmFja3N0b3AgY29udHJhY3QuXG4gICAgICogQHBhcmFtIHBvb2xfaW5pdF9tZXRhLmJsbmRfaWQgLSBUaGUgYWRkcmVzcyBvZiB0aGUgQkxORCB0b2tlbiBjb250cmFjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGluaXRpYWxpemUocG9vbF9pbml0X21ldGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnaW5pdGlhbGl6ZScsIC4uLlBvb2xGYWN0b3J5Q29udHJhY3RWMS5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2luaXRpYWxpemUnLCB7IHBvb2xfaW5pdF9tZXRhIH0pKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlcGxveXMgYW5kIGluaXRpYWxpemVzIGEgbGVuZGluZyBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncyAtIFRoZSBhcmd1bWVudHMgcmVxdWlyZWQgZm9yIGRlcGxveWluZyBhIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5hZG1pbiAtIFRoZSBhZG1pbiBhZGRyZXNzIGZvciB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLnNhbHQgLSBUaGUgc2FsdCBmb3IgdGhlIHBvb2wgYWRkcmVzcyAoMzIgYnl0ZXMpLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3Mub3JhY2xlIC0gVGhlIG9yYWNsZSBhZGRyZXNzIGZvciB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLmJhY2tzdG9wX3Rha2VfcmF0ZSAtIFRoZSBiYWNrc3RvcCB0YWtlIHJhdGUgZm9yIHRoZSBwb29sICg3IGRlY2ltYWxzKS5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLm1heF9wb3NpdGlvbnMgLSBUaGUgbWF4aW11bSB1c2VyIHBvc2l0aW9ucyBzdXBwb3J0ZWQgYnkgdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBkZXBsb3lQb29sKGNvbnRyYWN0QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdkZXBsb3knLCAuLi5Qb29sRmFjdG9yeUNvbnRyYWN0VjEuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdkZXBsb3knLCBjb250cmFjdEFyZ3MpKS50b1hEUignYmFzZTY0Jyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBvb2xGYWN0b3J5Q29udHJhY3RWMiBleHRlbmRzIFBvb2xGYWN0b3J5Q29udHJhY3Qge1xuICAgIGNvbnN0cnVjdG9yKGFkZHJlc3MpIHtcbiAgICAgICAgc3VwZXIoYWRkcmVzcyk7XG4gICAgfVxuICAgIHN0YXRpYyBzcGVjID0gbmV3IGNvbnRyYWN0LlNwZWMoW1xuICAgICAgICAuLi5Qb29sRmFjdG9yeUNvbnRyYWN0LnNwZWMuZW50cmllcyxcbiAgICAgICAgLi4ubmV3IGNvbnRyYWN0LlNwZWMoW1xuICAgICAgICAgICAgLy8gRnVuY3Rpb24gY29uc3RydWN0b3JcbiAgICAgICAgICAgICdBQUFBQUFBQUFHaERiMjV6ZEhKMVkzUWdkR2hsSUhCdmIyd2dabUZqZEc5eWVTQmpiMjUwY21GamRBb0tJeU1qSUVGeVozVnRaVzUwY3dvcUlHQndiMjlzWDJsdWFYUmZiV1YwWVdBZ0xTQlVhR1VnY0c5dmJDQnBibWwwYVdGc2FYcGhkR2x2YmlCdFpYUmhaR0YwWVFBQUFBMWZYMk52Ym5OMGNuVmpkRzl5QUFBQUFBQUFBUUFBQUFBQUFBQU9jRzl2YkY5cGJtbDBYMjFsZEdFQUFBQUFCOUFBQUFBTVVHOXZiRWx1YVhSTlpYUmhBQUFBQUE9PScsXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiBkZXBsb3lcbiAgICAgICAgICAgICdBQUFBQUFBQUFBQUFBQUFHWkdWd2JHOTVBQUFBQUFBSEFBQUFBQUFBQUFWaFpHMXBiZ0FBQUFBQUFCTUFBQUFBQUFBQUJHNWhiV1VBQUFBUUFBQUFBQUFBQUFSellXeDBBQUFEN2dBQUFDQUFBQUFBQUFBQUJtOXlZV05zWlFBQUFBQUFFd0FBQUFBQUFBQVNZbUZqYTNOMGIzQmZkR0ZyWlY5eVlYUmxBQUFBQUFBRUFBQUFBQUFBQUExdFlYaGZjRzl6YVhScGIyNXpBQUFBQUFBQUJBQUFBQUFBQUFBT2JXbHVYMk52Ykd4aGRHVnlZV3dBQUFBQUFBc0FBQUFCQUFBQUV3PT0nLFxuICAgICAgICBdKS5lbnRyaWVzLFxuICAgIF0pO1xuICAgIHN0YXRpYyBwYXJzZXJzID0ge1xuICAgICAgICAuLi5Qb29sRmFjdG9yeUNvbnRyYWN0LnBhcnNlcnMsXG4gICAgICAgIGNvbnN0cnVjdG9yOiAocmVzdWx0KSA9PiBzY1ZhbFRvTmF0aXZlKHhkci5TY1ZhbC5mcm9tWERSKHJlc3VsdCwgJ2Jhc2U2NCcpKSxcbiAgICAgICAgZGVwbG95UG9vbDogKHJlc3VsdCkgPT4gUG9vbEZhY3RvcnlDb250cmFjdFYyLnNwZWMuZnVuY1Jlc1RvTmF0aXZlKCdkZXBsb3knLCByZXN1bHQpLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVwbG95cyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgUG9vbCBGYWN0b3J5IFYyIGNvbnRyYWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlcGxveWVyIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIGRlcGxveWVyLlxuICAgICAqIEBwYXJhbSB3YXNtSGFzaCAtIFRoZSBoYXNoIG9mIHRoZSBXQVNNIGNvbnRyYWN0IGNvZGUuXG4gICAgICogQHBhcmFtIHBvb2xfaW5pdF9tZXRhIC0gVGhlIHBvb2wgaW5pdGlhbGl6YXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHBvb2xfaW5pdF9tZXRhLnBvb2xfaGFzaCAtIFRoZSBoYXNoIG9mIHRoZSBwb29sIGNvbnRyYWN0IGNvZGUuXG4gICAgICogQHBhcmFtIHBvb2xfaW5pdF9tZXRhLmJhY2tzdG9wIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIGJhY2tzdG9wIGNvbnRyYWN0LlxuICAgICAqIEBwYXJhbSBwb29sX2luaXRfbWV0YS5ibG5kX2lkIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIEJMTkQgdG9rZW4gY29udHJhY3QuXG4gICAgICogQHBhcmFtIHNhbHQgLSBPcHRpb25hbCBzYWx0IGZvciB0aGUgY29udHJhY3QgZGVwbG95bWVudC5cbiAgICAgKiBAcGFyYW0gZm9ybWF0IC0gT3B0aW9uYWwgZm9ybWF0IGZvciB0aGUgV0FTTSBoYXNoIChoZXggb3IgYmFzZTY0KS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29udHJhY3QgZGVwbG95bWVudCBvcGVyYXRpb24uXG4gICAgICovXG4gICAgc3RhdGljIGRlcGxveShkZXBsb3llciwgd2FzbUhhc2gsIHBvb2xfaW5pdF9tZXRhLCBzYWx0LCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIE9wZXJhdGlvbi5jcmVhdGVDdXN0b21Db250cmFjdCh7XG4gICAgICAgICAgICBhZGRyZXNzOiBBZGRyZXNzLmZyb21TdHJpbmcoZGVwbG95ZXIpLFxuICAgICAgICAgICAgd2FzbUhhc2g6IHR5cGVvZiB3YXNtSGFzaCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IEJ1ZmZlci5mcm9tKHdhc21IYXNoLCBmb3JtYXQgPz8gJ2hleCcpXG4gICAgICAgICAgICAgICAgOiB3YXNtSGFzaCxcbiAgICAgICAgICAgIHNhbHQsXG4gICAgICAgICAgICBjb25zdHJ1Y3RvckFyZ3M6IHRoaXMuc3BlYy5mdW5jQXJnc1RvU2NWYWxzKCdfX2NvbnN0cnVjdG9yJywgeyBwb29sX2luaXRfbWV0YSB9KSxcbiAgICAgICAgfSkudG9YRFIoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXBsb3lzIGFuZCBpbml0aWFsaXplcyBhIGxlbmRpbmcgcG9vbCB3aXRoIGVuaGFuY2VkIGZlYXR1cmVzIGxpa2UgbWluaW11bSBjb2xsYXRlcmFsIHJlcXVpcmVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MgLSBUaGUgYXJndW1lbnRzIHJlcXVpcmVkIGZvciBkZXBsb3lpbmcgYSBwb29sLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MuYWRtaW4gLSBUaGUgYWRtaW4gYWRkcmVzcyBmb3IgdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5zYWx0IC0gVGhlIHNhbHQgZm9yIHRoZSBwb29sIGFkZHJlc3MgKDMyIGJ5dGVzKS5cbiAgICAgKiBAcGFyYW0gY29udHJhY3RBcmdzLm9yYWNsZSAtIFRoZSBvcmFjbGUgYWRkcmVzcyBmb3IgdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5iYWNrc3RvcF90YWtlX3JhdGUgLSBUaGUgYmFja3N0b3AgdGFrZSByYXRlIGZvciB0aGUgcG9vbCAoNyBkZWNpbWFscykuXG4gICAgICogQHBhcmFtIGNvbnRyYWN0QXJncy5tYXhfcG9zaXRpb25zIC0gVGhlIG1heGltdW0gdXNlciBwb3NpdGlvbnMgc3VwcG9ydGVkIGJ5IHRoZSBwb29sLlxuICAgICAqIEBwYXJhbSBjb250cmFjdEFyZ3MubWluX2NvbGxhdGVyYWwgLSBUaGUgbWluaW11bSBjb2xsYXRlcmFsIHJlcXVpcmVkIGZvciBhIGJvcnJvdyBwb3NpdGlvbiAob3JhY2xlIGRlY2ltYWxzKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYmFzZTY0LWVuY29kZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGRlcGxveVBvb2woY29udHJhY3RBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2RlcGxveScsIC4uLlBvb2xGYWN0b3J5Q29udHJhY3RWMi5zcGVjLmZ1bmNBcmdzVG9TY1ZhbHMoJ2RlcGxveScsIGNvbnRyYWN0QXJncykpLnRvWERSKCdiYXNlNjQnKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_contract.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_events.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_events.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoolFactoryEventType: () => (/* binding */ PoolFactoryEventType),\n/* harmony export */   poolFactoryEventFromEventResponse: () => (/* binding */ poolFactoryEventFromEventResponse)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _base_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base_event.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/base_event.js\");\n\n\nvar PoolFactoryEventType;\n(function (PoolFactoryEventType) {\n    PoolFactoryEventType[\"Deploy\"] = \"deploy\";\n})(PoolFactoryEventType || (PoolFactoryEventType = {}));\n/**\n * Create a PoolFactoryEvent from a RawEventResponse.\n * @param eventResponse - The RawEventResponse from the RPC to convert\n * @returns The PoolFactoryEvent or undefined if the EventResponse is not a PoolFactoryEvent\n */\nfunction poolFactoryEventFromEventResponse(eventResponse) {\n    if (eventResponse.type !== 'contract' ||\n        eventResponse.topic.length === 0 ||\n        eventResponse.contractId === undefined) {\n        return undefined;\n    }\n    try {\n        // NOTE: Decode RawEventResponse to ScVals. Do not update to `rpc.Api.EventResponse`. This\n        // will cause failures in the conversion functions due to the requirement that the exact same\n        // `js-xdr` code is used. (the same version from two different sources does not work)\n        const topic_scval = eventResponse.topic.map((topic) => _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(topic, 'base64'));\n        const value_scval = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.fromXDR(eventResponse.value, 'base64');\n        // The first topic is the event name as a symbol\n        const eventString = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(topic_scval[0]);\n        const baseEvent = {\n            id: eventResponse.id,\n            contractId: eventResponse.contractId,\n            contractType: _base_event_js__WEBPACK_IMPORTED_MODULE_1__.BlendContractType.PoolFactory,\n            eventType: eventString,\n            ledger: eventResponse.ledger,\n            ledgerClosedAt: eventResponse.ledgerClosedAt,\n            txHash: eventResponse.txHash,\n        };\n        switch (eventString) {\n            case PoolFactoryEventType.Deploy: {\n                if (topic_scval.length !== 1) {\n                    return undefined;\n                }\n                const pool_address = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromScVal(value_scval).toString();\n                return {\n                    ...baseEvent,\n                    eventType: PoolFactoryEventType.Deploy,\n                    poolAddress: pool_address,\n                };\n            }\n            default:\n                return undefined;\n        }\n    }\n    catch (e) {\n        // conversion functions throw on a malformed (or non-poolFactory) events\n        // return undefined in this case\n        return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sX2ZhY3RvcnkvcG9vbF9mYWN0b3J5X2V2ZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1FO0FBQ2Q7QUFDOUM7QUFDUDtBQUNBO0FBQ0EsQ0FBQyxvREFBb0Q7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELHFEQUFHO0FBQ2xFLDRCQUE0QixxREFBRztBQUMvQjtBQUNBLDRCQUE0QixtRUFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkRBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHlEQUFPO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktc3RlbGxhci1hcHAvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9wb29sX2ZhY3RvcnkvcG9vbF9mYWN0b3J5X2V2ZW50cy5qcz8yYWU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFkZHJlc3MsIHNjVmFsVG9OYXRpdmUsIHhkciB9IGZyb20gJ0BzdGVsbGFyL3N0ZWxsYXItc2RrJztcbmltcG9ydCB7IEJsZW5kQ29udHJhY3RUeXBlIH0gZnJvbSAnLi4vYmFzZV9ldmVudC5qcyc7XG5leHBvcnQgdmFyIFBvb2xGYWN0b3J5RXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChQb29sRmFjdG9yeUV2ZW50VHlwZSkge1xuICAgIFBvb2xGYWN0b3J5RXZlbnRUeXBlW1wiRGVwbG95XCJdID0gXCJkZXBsb3lcIjtcbn0pKFBvb2xGYWN0b3J5RXZlbnRUeXBlIHx8IChQb29sRmFjdG9yeUV2ZW50VHlwZSA9IHt9KSk7XG4vKipcbiAqIENyZWF0ZSBhIFBvb2xGYWN0b3J5RXZlbnQgZnJvbSBhIFJhd0V2ZW50UmVzcG9uc2UuXG4gKiBAcGFyYW0gZXZlbnRSZXNwb25zZSAtIFRoZSBSYXdFdmVudFJlc3BvbnNlIGZyb20gdGhlIFJQQyB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyBUaGUgUG9vbEZhY3RvcnlFdmVudCBvciB1bmRlZmluZWQgaWYgdGhlIEV2ZW50UmVzcG9uc2UgaXMgbm90IGEgUG9vbEZhY3RvcnlFdmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9vbEZhY3RvcnlFdmVudEZyb21FdmVudFJlc3BvbnNlKGV2ZW50UmVzcG9uc2UpIHtcbiAgICBpZiAoZXZlbnRSZXNwb25zZS50eXBlICE9PSAnY29udHJhY3QnIHx8XG4gICAgICAgIGV2ZW50UmVzcG9uc2UudG9waWMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgIGV2ZW50UmVzcG9uc2UuY29udHJhY3RJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIE5PVEU6IERlY29kZSBSYXdFdmVudFJlc3BvbnNlIHRvIFNjVmFscy4gRG8gbm90IHVwZGF0ZSB0byBgcnBjLkFwaS5FdmVudFJlc3BvbnNlYC4gVGhpc1xuICAgICAgICAvLyB3aWxsIGNhdXNlIGZhaWx1cmVzIGluIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9ucyBkdWUgdG8gdGhlIHJlcXVpcmVtZW50IHRoYXQgdGhlIGV4YWN0IHNhbWVcbiAgICAgICAgLy8gYGpzLXhkcmAgY29kZSBpcyB1c2VkLiAodGhlIHNhbWUgdmVyc2lvbiBmcm9tIHR3byBkaWZmZXJlbnQgc291cmNlcyBkb2VzIG5vdCB3b3JrKVxuICAgICAgICBjb25zdCB0b3BpY19zY3ZhbCA9IGV2ZW50UmVzcG9uc2UudG9waWMubWFwKCh0b3BpYykgPT4geGRyLlNjVmFsLmZyb21YRFIodG9waWMsICdiYXNlNjQnKSk7XG4gICAgICAgIGNvbnN0IHZhbHVlX3NjdmFsID0geGRyLlNjVmFsLmZyb21YRFIoZXZlbnRSZXNwb25zZS52YWx1ZSwgJ2Jhc2U2NCcpO1xuICAgICAgICAvLyBUaGUgZmlyc3QgdG9waWMgaXMgdGhlIGV2ZW50IG5hbWUgYXMgYSBzeW1ib2xcbiAgICAgICAgY29uc3QgZXZlbnRTdHJpbmcgPSBzY1ZhbFRvTmF0aXZlKHRvcGljX3NjdmFsWzBdKTtcbiAgICAgICAgY29uc3QgYmFzZUV2ZW50ID0ge1xuICAgICAgICAgICAgaWQ6IGV2ZW50UmVzcG9uc2UuaWQsXG4gICAgICAgICAgICBjb250cmFjdElkOiBldmVudFJlc3BvbnNlLmNvbnRyYWN0SWQsXG4gICAgICAgICAgICBjb250cmFjdFR5cGU6IEJsZW5kQ29udHJhY3RUeXBlLlBvb2xGYWN0b3J5LFxuICAgICAgICAgICAgZXZlbnRUeXBlOiBldmVudFN0cmluZyxcbiAgICAgICAgICAgIGxlZGdlcjogZXZlbnRSZXNwb25zZS5sZWRnZXIsXG4gICAgICAgICAgICBsZWRnZXJDbG9zZWRBdDogZXZlbnRSZXNwb25zZS5sZWRnZXJDbG9zZWRBdCxcbiAgICAgICAgICAgIHR4SGFzaDogZXZlbnRSZXNwb25zZS50eEhhc2gsXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoZXZlbnRTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgUG9vbEZhY3RvcnlFdmVudFR5cGUuRGVwbG95OiB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljX3NjdmFsLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwb29sX2FkZHJlc3MgPSBBZGRyZXNzLmZyb21TY1ZhbCh2YWx1ZV9zY3ZhbCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogUG9vbEZhY3RvcnlFdmVudFR5cGUuRGVwbG95LFxuICAgICAgICAgICAgICAgICAgICBwb29sQWRkcmVzczogcG9vbF9hZGRyZXNzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gY29udmVyc2lvbiBmdW5jdGlvbnMgdGhyb3cgb24gYSBtYWxmb3JtZWQgKG9yIG5vbi1wb29sRmFjdG9yeSkgZXZlbnRzXG4gICAgICAgIC8vIHJldHVybiB1bmRlZmluZWQgaW4gdGhpcyBjYXNlXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/pool_factory/pool_factory_events.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/response_parser.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/response_parser.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContractError: () => (/* binding */ ContractError),\n/* harmony export */   ContractErrorType: () => (/* binding */ ContractErrorType),\n/* harmony export */   parseError: () => (/* binding */ parseError),\n/* harmony export */   parseResult: () => (/* binding */ parseResult)\n/* harmony export */ });\nclass ContractError extends Error {\n    /**\n     * The type of the error\n     */\n    type;\n    constructor(type) {\n        super();\n        this.type = type;\n    }\n}\nvar ContractErrorType;\n(function (ContractErrorType) {\n    ContractErrorType[ContractErrorType[\"UnknownError\"] = -1000] = \"UnknownError\";\n    // Transaction Submission Errors\n    ContractErrorType[ContractErrorType[\"txSorobanInvalid\"] = -24] = \"txSorobanInvalid\";\n    ContractErrorType[ContractErrorType[\"txMalformed\"] = -23] = \"txMalformed\";\n    ContractErrorType[ContractErrorType[\"txBadMinSeqAgeOrGap\"] = -22] = \"txBadMinSeqAgeOrGap\";\n    ContractErrorType[ContractErrorType[\"txBadSponsorship\"] = -21] = \"txBadSponsorship\";\n    ContractErrorType[ContractErrorType[\"txFeeBumpInnerFailed\"] = -20] = \"txFeeBumpInnerFailed\";\n    ContractErrorType[ContractErrorType[\"txNotSupported\"] = -19] = \"txNotSupported\";\n    ContractErrorType[ContractErrorType[\"txInternalError\"] = -18] = \"txInternalError\";\n    ContractErrorType[ContractErrorType[\"txBadAuthExtra\"] = -17] = \"txBadAuthExtra\";\n    ContractErrorType[ContractErrorType[\"txInsufficientFee\"] = -16] = \"txInsufficientFee\";\n    ContractErrorType[ContractErrorType[\"txNoAccount\"] = -15] = \"txNoAccount\";\n    ContractErrorType[ContractErrorType[\"txInsufficientBalance\"] = -14] = \"txInsufficientBalance\";\n    ContractErrorType[ContractErrorType[\"txBadAuth\"] = -13] = \"txBadAuth\";\n    ContractErrorType[ContractErrorType[\"txBadSeq\"] = -12] = \"txBadSeq\";\n    ContractErrorType[ContractErrorType[\"txMissingOperation\"] = -11] = \"txMissingOperation\";\n    ContractErrorType[ContractErrorType[\"txTooLate\"] = -10] = \"txTooLate\";\n    ContractErrorType[ContractErrorType[\"txTooEarly\"] = -9] = \"txTooEarly\";\n    // Host Function Errors\n    ContractErrorType[ContractErrorType[\"InvokeHostFunctionInsufficientRefundableFee\"] = -5] = \"InvokeHostFunctionInsufficientRefundableFee\";\n    ContractErrorType[ContractErrorType[\"InvokeHostFunctionEntryArchived\"] = -4] = \"InvokeHostFunctionEntryArchived\";\n    ContractErrorType[ContractErrorType[\"InvokeHostFunctionResourceLimitExceeded\"] = -3] = \"InvokeHostFunctionResourceLimitExceeded\";\n    ContractErrorType[ContractErrorType[\"InvokeHostFunctionTrapped\"] = -2] = \"InvokeHostFunctionTrapped\";\n    ContractErrorType[ContractErrorType[\"InvokeHostFunctionMalformed\"] = -1] = \"InvokeHostFunctionMalformed\";\n    // Common Errors\n    ContractErrorType[ContractErrorType[\"InternalError\"] = 1] = \"InternalError\";\n    ContractErrorType[ContractErrorType[\"OperationNotSupportedError\"] = 2] = \"OperationNotSupportedError\";\n    ContractErrorType[ContractErrorType[\"AlreadyInitializedError\"] = 3] = \"AlreadyInitializedError\";\n    ContractErrorType[ContractErrorType[\"UnauthorizedError\"] = 4] = \"UnauthorizedError\";\n    ContractErrorType[ContractErrorType[\"AuthenticationError\"] = 5] = \"AuthenticationError\";\n    ContractErrorType[ContractErrorType[\"AccountMissingError\"] = 6] = \"AccountMissingError\";\n    ContractErrorType[ContractErrorType[\"AccountIsNotClassic\"] = 7] = \"AccountIsNotClassic\";\n    ContractErrorType[ContractErrorType[\"NegativeAmountError\"] = 8] = \"NegativeAmountError\";\n    ContractErrorType[ContractErrorType[\"AllowanceError\"] = 9] = \"AllowanceError\";\n    ContractErrorType[ContractErrorType[\"BalanceError\"] = 10] = \"BalanceError\";\n    ContractErrorType[ContractErrorType[\"BalanceDeauthorizedError\"] = 11] = \"BalanceDeauthorizedError\";\n    ContractErrorType[ContractErrorType[\"OverflowError\"] = 12] = \"OverflowError\";\n    ContractErrorType[ContractErrorType[\"TrustlineMissingError\"] = 13] = \"TrustlineMissingError\";\n    // Potential Comet Errors\n    ContractErrorType[ContractErrorType[\"CometErrFreezeOnlyWithdrawals\"] = 14] = \"CometErrFreezeOnlyWithdrawals\";\n    ContractErrorType[ContractErrorType[\"CometErrMaxInRatio\"] = 17] = \"CometErrMaxInRatio\";\n    ContractErrorType[ContractErrorType[\"CometErrMathApprox\"] = 18] = \"CometErrMathApprox\";\n    ContractErrorType[ContractErrorType[\"CometErrLimitIn\"] = 19] = \"CometErrLimitIn\";\n    ContractErrorType[ContractErrorType[\"CometErrLimitOut\"] = 20] = \"CometErrLimitOut\";\n    ContractErrorType[ContractErrorType[\"CometErrMaxOutRatio\"] = 21] = \"CometErrMaxOutRatio\";\n    ContractErrorType[ContractErrorType[\"CometErrBadLimitPrice\"] = 22] = \"CometErrBadLimitPrice\";\n    ContractErrorType[ContractErrorType[\"CometErrLimitPrice\"] = 23] = \"CometErrLimitPrice\";\n    ContractErrorType[ContractErrorType[\"CometErrTokenAmountIsNegative\"] = 25] = \"CometErrTokenAmountIsNegative\";\n    ContractErrorType[ContractErrorType[\"CometErrInsufficientAllowance\"] = 27] = \"CometErrInsufficientAllowance\";\n    ContractErrorType[ContractErrorType[\"CometErrInsufficientBalance\"] = 29] = \"CometErrInsufficientBalance\";\n    ContractErrorType[ContractErrorType[\"CometErrAddOverflow\"] = 30] = \"CometErrAddOverflow\";\n    ContractErrorType[ContractErrorType[\"CometErrSubUnderflow\"] = 31] = \"CometErrSubUnderflow\";\n    ContractErrorType[ContractErrorType[\"CometErrDivInternal\"] = 32] = \"CometErrDivInternal\";\n    ContractErrorType[ContractErrorType[\"CometErrMulOverflow\"] = 33] = \"CometErrMulOverflow\";\n    ContractErrorType[ContractErrorType[\"CometErrCPowBaseTooLow\"] = 34] = \"CometErrCPowBaseTooLow\";\n    ContractErrorType[ContractErrorType[\"CometErrCPowBaseTooHigh\"] = 35] = \"CometErrCPowBaseTooHigh\";\n    ContractErrorType[ContractErrorType[\"CometErrInvalidExpirationLedger\"] = 36] = \"CometErrInvalidExpirationLedger\";\n    ContractErrorType[ContractErrorType[\"CometErrNegativeOrZero\"] = 37] = \"CometErrNegativeOrZero\";\n    ContractErrorType[ContractErrorType[\"CometErrTokenInvalid\"] = 38] = \"CometErrTokenInvalid\";\n    // Backstop\n    ContractErrorType[ContractErrorType[\"BackstopBadRequest\"] = 1000] = \"BackstopBadRequest\";\n    ContractErrorType[ContractErrorType[\"NotExpired\"] = 1001] = \"NotExpired\";\n    ContractErrorType[ContractErrorType[\"InvalidRewardZoneEntry\"] = 1002] = \"InvalidRewardZoneEntry\";\n    ContractErrorType[ContractErrorType[\"InsufficientFunds\"] = 1003] = \"InsufficientFunds\";\n    ContractErrorType[ContractErrorType[\"NotPool\"] = 1004] = \"NotPool\";\n    ContractErrorType[ContractErrorType[\"InvalidShareMintAmount\"] = 1005] = \"InvalidShareMintAmount\";\n    ContractErrorType[ContractErrorType[\"InvalidTokenWithdrawAmount\"] = 1006] = \"InvalidTokenWithdrawAmount\";\n    ContractErrorType[ContractErrorType[\"TooManyQ4WEntries\"] = 1007] = \"TooManyQ4WEntries\";\n    ContractErrorType[ContractErrorType[\"NotInRewardZone\"] = 1008] = \"NotInRewardZone\";\n    ContractErrorType[ContractErrorType[\"RewardZoneFull\"] = 1009] = \"RewardZoneFull\";\n    ContractErrorType[ContractErrorType[\"MaxBackfillEmissions\"] = 1010] = \"MaxBackfillEmissions\";\n    ContractErrorType[ContractErrorType[\"BadDebtExists\"] = 1011] = \"BadDebtExists\";\n    // Pool Request Errors (start at 1200)\n    ContractErrorType[ContractErrorType[\"PoolBadRequest\"] = 1200] = \"PoolBadRequest\";\n    ContractErrorType[ContractErrorType[\"InvalidPoolInitArgs\"] = 1201] = \"InvalidPoolInitArgs\";\n    ContractErrorType[ContractErrorType[\"InvalidReserveMetadata\"] = 1202] = \"InvalidReserveMetadata\";\n    ContractErrorType[ContractErrorType[\"InitNotUnlocked\"] = 1203] = \"InitNotUnlocked\";\n    ContractErrorType[ContractErrorType[\"StatusNotAllowed\"] = 1204] = \"StatusNotAllowed\";\n    // Pool State Errors\n    ContractErrorType[ContractErrorType[\"InvalidHf\"] = 1205] = \"InvalidHf\";\n    ContractErrorType[ContractErrorType[\"InvalidPoolStatus\"] = 1206] = \"InvalidPoolStatus\";\n    ContractErrorType[ContractErrorType[\"InvalidUtilRate\"] = 1207] = \"InvalidUtilRate\";\n    ContractErrorType[ContractErrorType[\"MaxPositionsExceeded\"] = 1208] = \"MaxPositionsExceeded\";\n    ContractErrorType[ContractErrorType[\"InternalReserveNotFound\"] = 1209] = \"InternalReserveNotFound\";\n    ContractErrorType[ContractErrorType[\"InvalidBTokenMintAmount\"] = 1216] = \"InvalidBTokenMintAmount\";\n    ContractErrorType[ContractErrorType[\"InvalidBTokenBurnAmount\"] = 1217] = \"InvalidBTokenBurnAmount\";\n    ContractErrorType[ContractErrorType[\"InvalidDTokenMintAmount\"] = 1218] = \"InvalidDTokenMintAmount\";\n    ContractErrorType[ContractErrorType[\"InvalidDTokenBurnAmount\"] = 1219] = \"InvalidDTokenBurnAmount\";\n    ContractErrorType[ContractErrorType[\"ExceededSupplyCap\"] = 1220] = \"ExceededSupplyCap\";\n    ContractErrorType[ContractErrorType[\"ReserveDisabled\"] = 1223] = \"ReserveDisabled\";\n    ContractErrorType[ContractErrorType[\"MinCollateralNotMet\"] = 1224] = \"MinCollateralNotMet\";\n    // Oracle Errors\n    ContractErrorType[ContractErrorType[\"StalePrice\"] = 1210] = \"StalePrice\";\n    // Auction Errors\n    ContractErrorType[ContractErrorType[\"InvalidLiquidation\"] = 1211] = \"InvalidLiquidation\";\n    ContractErrorType[ContractErrorType[\"AuctionInProgress\"] = 1212] = \"AuctionInProgress\";\n    ContractErrorType[ContractErrorType[\"InvalidLiqTooLarge\"] = 1213] = \"InvalidLiqTooLarge\";\n    ContractErrorType[ContractErrorType[\"InvalidLiqTooSmall\"] = 1214] = \"InvalidLiqTooSmall\";\n    ContractErrorType[ContractErrorType[\"InterestTooSmall\"] = 1215] = \"InterestTooSmall\";\n    ContractErrorType[ContractErrorType[\"InvalidBid\"] = 1221] = \"InvalidBid\";\n    ContractErrorType[ContractErrorType[\"InvalidLot\"] = 1222] = \"InvalidLot\";\n    // Pool Factory\n    ContractErrorType[ContractErrorType[\"InvalidPoolFactoryInitArgs\"] = 1300] = \"InvalidPoolFactoryInitArgs\";\n})(ContractErrorType || (ContractErrorType = {}));\nfunction parseError(errorResponse) {\n    // Simulation Error\n    if ('id' in errorResponse) {\n        const match = errorResponse.error.match(/Error\\(Contract, #(\\d+)\\)/);\n        if (match) {\n            const errorValue = parseInt(match[1], 10);\n            if (errorValue in ContractErrorType)\n                return new ContractError(errorValue);\n        }\n        return new ContractError(ContractErrorType.UnknownError);\n    }\n    // Send Transaction Error\n    if ('errorResult' in errorResponse) {\n        const txErrorName = errorResponse.errorResult.result().switch().name;\n        if (txErrorName == 'txFailed') {\n            // Transaction should only contain one operation\n            if (errorResponse.errorResult.result().results().length == 1) {\n                const hostFunctionError = errorResponse.errorResult\n                    .result()\n                    .results()[0]\n                    .tr()\n                    .invokeHostFunctionResult()\n                    .switch().value;\n                if (hostFunctionError in ContractErrorType)\n                    return new ContractError(hostFunctionError);\n            }\n        }\n        else {\n            const txErrorValue = errorResponse.errorResult.result().switch().value - 7;\n            if (txErrorValue in ContractErrorType) {\n                return new ContractError(txErrorValue);\n            }\n        }\n    }\n    // Get Transaction Error\n    if ('resultXdr' in errorResponse) {\n        // Transaction submission failed\n        const txResult = errorResponse.resultXdr.result();\n        const txErrorName = txResult.switch().name;\n        // Use invokeHostFunctionErrors in case of generic `txFailed` error\n        if (txErrorName == 'txFailed') {\n            // Transaction should only contain one operation\n            if (errorResponse.resultXdr.result().results().length == 1) {\n                const hostFunctionError = txResult\n                    .results()[0]\n                    .tr()\n                    .invokeHostFunctionResult()\n                    .switch().value;\n                if (hostFunctionError in ContractErrorType)\n                    return new ContractError(hostFunctionError);\n            }\n        }\n        // Shift the error value to avoid collision with invokeHostFunctionErrors\n        const txErrorValue = txResult.switch().value - 7;\n        // Use TransactionResultCode with more specific errors\n        if (txErrorValue in ContractErrorType) {\n            return new ContractError(txErrorValue);\n        }\n    }\n    // If the error is not recognized, return an unknown error\n    return new ContractError(ContractErrorType.UnknownError);\n}\nfunction parseResult(response, parser) {\n    if ('result' in response) {\n        return parser(response.result.retval.toXDR('base64'));\n    }\n    else if ('returnValue' in response && response.returnValue) {\n        return parser(response.returnValue.toXDR('base64'));\n    }\n    else {\n        return undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS9yZXNwb25zZV9wYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4Q0FBOEM7QUFDeEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL3Jlc3BvbnNlX3BhcnNlci5qcz85YWY4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDb250cmFjdEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIHR5cGU7XG4gICAgY29uc3RydWN0b3IodHlwZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cbmV4cG9ydCB2YXIgQ29udHJhY3RFcnJvclR5cGU7XG4oZnVuY3Rpb24gKENvbnRyYWN0RXJyb3JUeXBlKSB7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJVbmtub3duRXJyb3JcIl0gPSAtMTAwMF0gPSBcIlVua25vd25FcnJvclwiO1xuICAgIC8vIFRyYW5zYWN0aW9uIFN1Ym1pc3Npb24gRXJyb3JzXG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJ0eFNvcm9iYW5JbnZhbGlkXCJdID0gLTI0XSA9IFwidHhTb3JvYmFuSW52YWxpZFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1widHhNYWxmb3JtZWRcIl0gPSAtMjNdID0gXCJ0eE1hbGZvcm1lZFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1widHhCYWRNaW5TZXFBZ2VPckdhcFwiXSA9IC0yMl0gPSBcInR4QmFkTWluU2VxQWdlT3JHYXBcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcInR4QmFkU3BvbnNvcnNoaXBcIl0gPSAtMjFdID0gXCJ0eEJhZFNwb25zb3JzaGlwXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJ0eEZlZUJ1bXBJbm5lckZhaWxlZFwiXSA9IC0yMF0gPSBcInR4RmVlQnVtcElubmVyRmFpbGVkXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJ0eE5vdFN1cHBvcnRlZFwiXSA9IC0xOV0gPSBcInR4Tm90U3VwcG9ydGVkXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJ0eEludGVybmFsRXJyb3JcIl0gPSAtMThdID0gXCJ0eEludGVybmFsRXJyb3JcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcInR4QmFkQXV0aEV4dHJhXCJdID0gLTE3XSA9IFwidHhCYWRBdXRoRXh0cmFcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcInR4SW5zdWZmaWNpZW50RmVlXCJdID0gLTE2XSA9IFwidHhJbnN1ZmZpY2llbnRGZWVcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcInR4Tm9BY2NvdW50XCJdID0gLTE1XSA9IFwidHhOb0FjY291bnRcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcInR4SW5zdWZmaWNpZW50QmFsYW5jZVwiXSA9IC0xNF0gPSBcInR4SW5zdWZmaWNpZW50QmFsYW5jZVwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1widHhCYWRBdXRoXCJdID0gLTEzXSA9IFwidHhCYWRBdXRoXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJ0eEJhZFNlcVwiXSA9IC0xMl0gPSBcInR4QmFkU2VxXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJ0eE1pc3NpbmdPcGVyYXRpb25cIl0gPSAtMTFdID0gXCJ0eE1pc3NpbmdPcGVyYXRpb25cIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcInR4VG9vTGF0ZVwiXSA9IC0xMF0gPSBcInR4VG9vTGF0ZVwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1widHhUb29FYXJseVwiXSA9IC05XSA9IFwidHhUb29FYXJseVwiO1xuICAgIC8vIEhvc3QgRnVuY3Rpb24gRXJyb3JzXG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnZva2VIb3N0RnVuY3Rpb25JbnN1ZmZpY2llbnRSZWZ1bmRhYmxlRmVlXCJdID0gLTVdID0gXCJJbnZva2VIb3N0RnVuY3Rpb25JbnN1ZmZpY2llbnRSZWZ1bmRhYmxlRmVlXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnZva2VIb3N0RnVuY3Rpb25FbnRyeUFyY2hpdmVkXCJdID0gLTRdID0gXCJJbnZva2VIb3N0RnVuY3Rpb25FbnRyeUFyY2hpdmVkXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnZva2VIb3N0RnVuY3Rpb25SZXNvdXJjZUxpbWl0RXhjZWVkZWRcIl0gPSAtM10gPSBcIkludm9rZUhvc3RGdW5jdGlvblJlc291cmNlTGltaXRFeGNlZWRlZFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52b2tlSG9zdEZ1bmN0aW9uVHJhcHBlZFwiXSA9IC0yXSA9IFwiSW52b2tlSG9zdEZ1bmN0aW9uVHJhcHBlZFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52b2tlSG9zdEZ1bmN0aW9uTWFsZm9ybWVkXCJdID0gLTFdID0gXCJJbnZva2VIb3N0RnVuY3Rpb25NYWxmb3JtZWRcIjtcbiAgICAvLyBDb21tb24gRXJyb3JzXG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnRlcm5hbEVycm9yXCJdID0gMV0gPSBcIkludGVybmFsRXJyb3JcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIk9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yXCJdID0gMl0gPSBcIk9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJBbHJlYWR5SW5pdGlhbGl6ZWRFcnJvclwiXSA9IDNdID0gXCJBbHJlYWR5SW5pdGlhbGl6ZWRFcnJvclwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiVW5hdXRob3JpemVkRXJyb3JcIl0gPSA0XSA9IFwiVW5hdXRob3JpemVkRXJyb3JcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkF1dGhlbnRpY2F0aW9uRXJyb3JcIl0gPSA1XSA9IFwiQXV0aGVudGljYXRpb25FcnJvclwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiQWNjb3VudE1pc3NpbmdFcnJvclwiXSA9IDZdID0gXCJBY2NvdW50TWlzc2luZ0Vycm9yXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJBY2NvdW50SXNOb3RDbGFzc2ljXCJdID0gN10gPSBcIkFjY291bnRJc05vdENsYXNzaWNcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIk5lZ2F0aXZlQW1vdW50RXJyb3JcIl0gPSA4XSA9IFwiTmVnYXRpdmVBbW91bnRFcnJvclwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiQWxsb3dhbmNlRXJyb3JcIl0gPSA5XSA9IFwiQWxsb3dhbmNlRXJyb3JcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkJhbGFuY2VFcnJvclwiXSA9IDEwXSA9IFwiQmFsYW5jZUVycm9yXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJCYWxhbmNlRGVhdXRob3JpemVkRXJyb3JcIl0gPSAxMV0gPSBcIkJhbGFuY2VEZWF1dGhvcml6ZWRFcnJvclwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiT3ZlcmZsb3dFcnJvclwiXSA9IDEyXSA9IFwiT3ZlcmZsb3dFcnJvclwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiVHJ1c3RsaW5lTWlzc2luZ0Vycm9yXCJdID0gMTNdID0gXCJUcnVzdGxpbmVNaXNzaW5nRXJyb3JcIjtcbiAgICAvLyBQb3RlbnRpYWwgQ29tZXQgRXJyb3JzXG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJDb21ldEVyckZyZWV6ZU9ubHlXaXRoZHJhd2Fsc1wiXSA9IDE0XSA9IFwiQ29tZXRFcnJGcmVlemVPbmx5V2l0aGRyYXdhbHNcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJyTWF4SW5SYXRpb1wiXSA9IDE3XSA9IFwiQ29tZXRFcnJNYXhJblJhdGlvXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJDb21ldEVyck1hdGhBcHByb3hcIl0gPSAxOF0gPSBcIkNvbWV0RXJyTWF0aEFwcHJveFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiQ29tZXRFcnJMaW1pdEluXCJdID0gMTldID0gXCJDb21ldEVyckxpbWl0SW5cIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJyTGltaXRPdXRcIl0gPSAyMF0gPSBcIkNvbWV0RXJyTGltaXRPdXRcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJyTWF4T3V0UmF0aW9cIl0gPSAyMV0gPSBcIkNvbWV0RXJyTWF4T3V0UmF0aW9cIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJyQmFkTGltaXRQcmljZVwiXSA9IDIyXSA9IFwiQ29tZXRFcnJCYWRMaW1pdFByaWNlXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJDb21ldEVyckxpbWl0UHJpY2VcIl0gPSAyM10gPSBcIkNvbWV0RXJyTGltaXRQcmljZVwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiQ29tZXRFcnJUb2tlbkFtb3VudElzTmVnYXRpdmVcIl0gPSAyNV0gPSBcIkNvbWV0RXJyVG9rZW5BbW91bnRJc05lZ2F0aXZlXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJDb21ldEVyckluc3VmZmljaWVudEFsbG93YW5jZVwiXSA9IDI3XSA9IFwiQ29tZXRFcnJJbnN1ZmZpY2llbnRBbGxvd2FuY2VcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJySW5zdWZmaWNpZW50QmFsYW5jZVwiXSA9IDI5XSA9IFwiQ29tZXRFcnJJbnN1ZmZpY2llbnRCYWxhbmNlXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJDb21ldEVyckFkZE92ZXJmbG93XCJdID0gMzBdID0gXCJDb21ldEVyckFkZE92ZXJmbG93XCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJDb21ldEVyclN1YlVuZGVyZmxvd1wiXSA9IDMxXSA9IFwiQ29tZXRFcnJTdWJVbmRlcmZsb3dcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJyRGl2SW50ZXJuYWxcIl0gPSAzMl0gPSBcIkNvbWV0RXJyRGl2SW50ZXJuYWxcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJyTXVsT3ZlcmZsb3dcIl0gPSAzM10gPSBcIkNvbWV0RXJyTXVsT3ZlcmZsb3dcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJyQ1Bvd0Jhc2VUb29Mb3dcIl0gPSAzNF0gPSBcIkNvbWV0RXJyQ1Bvd0Jhc2VUb29Mb3dcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkNvbWV0RXJyQ1Bvd0Jhc2VUb29IaWdoXCJdID0gMzVdID0gXCJDb21ldEVyckNQb3dCYXNlVG9vSGlnaFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiQ29tZXRFcnJJbnZhbGlkRXhwaXJhdGlvbkxlZGdlclwiXSA9IDM2XSA9IFwiQ29tZXRFcnJJbnZhbGlkRXhwaXJhdGlvbkxlZGdlclwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiQ29tZXRFcnJOZWdhdGl2ZU9yWmVyb1wiXSA9IDM3XSA9IFwiQ29tZXRFcnJOZWdhdGl2ZU9yWmVyb1wiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiQ29tZXRFcnJUb2tlbkludmFsaWRcIl0gPSAzOF0gPSBcIkNvbWV0RXJyVG9rZW5JbnZhbGlkXCI7XG4gICAgLy8gQmFja3N0b3BcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkJhY2tzdG9wQmFkUmVxdWVzdFwiXSA9IDEwMDBdID0gXCJCYWNrc3RvcEJhZFJlcXVlc3RcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIk5vdEV4cGlyZWRcIl0gPSAxMDAxXSA9IFwiTm90RXhwaXJlZFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52YWxpZFJld2FyZFpvbmVFbnRyeVwiXSA9IDEwMDJdID0gXCJJbnZhbGlkUmV3YXJkWm9uZUVudHJ5XCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnN1ZmZpY2llbnRGdW5kc1wiXSA9IDEwMDNdID0gXCJJbnN1ZmZpY2llbnRGdW5kc1wiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiTm90UG9vbFwiXSA9IDEwMDRdID0gXCJOb3RQb29sXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnZhbGlkU2hhcmVNaW50QW1vdW50XCJdID0gMTAwNV0gPSBcIkludmFsaWRTaGFyZU1pbnRBbW91bnRcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkludmFsaWRUb2tlbldpdGhkcmF3QW1vdW50XCJdID0gMTAwNl0gPSBcIkludmFsaWRUb2tlbldpdGhkcmF3QW1vdW50XCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJUb29NYW55UTRXRW50cmllc1wiXSA9IDEwMDddID0gXCJUb29NYW55UTRXRW50cmllc1wiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiTm90SW5SZXdhcmRab25lXCJdID0gMTAwOF0gPSBcIk5vdEluUmV3YXJkWm9uZVwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiUmV3YXJkWm9uZUZ1bGxcIl0gPSAxMDA5XSA9IFwiUmV3YXJkWm9uZUZ1bGxcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIk1heEJhY2tmaWxsRW1pc3Npb25zXCJdID0gMTAxMF0gPSBcIk1heEJhY2tmaWxsRW1pc3Npb25zXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJCYWREZWJ0RXhpc3RzXCJdID0gMTAxMV0gPSBcIkJhZERlYnRFeGlzdHNcIjtcbiAgICAvLyBQb29sIFJlcXVlc3QgRXJyb3JzIChzdGFydCBhdCAxMjAwKVxuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiUG9vbEJhZFJlcXVlc3RcIl0gPSAxMjAwXSA9IFwiUG9vbEJhZFJlcXVlc3RcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkludmFsaWRQb29sSW5pdEFyZ3NcIl0gPSAxMjAxXSA9IFwiSW52YWxpZFBvb2xJbml0QXJnc1wiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52YWxpZFJlc2VydmVNZXRhZGF0YVwiXSA9IDEyMDJdID0gXCJJbnZhbGlkUmVzZXJ2ZU1ldGFkYXRhXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbml0Tm90VW5sb2NrZWRcIl0gPSAxMjAzXSA9IFwiSW5pdE5vdFVubG9ja2VkXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJTdGF0dXNOb3RBbGxvd2VkXCJdID0gMTIwNF0gPSBcIlN0YXR1c05vdEFsbG93ZWRcIjtcbiAgICAvLyBQb29sIFN0YXRlIEVycm9yc1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52YWxpZEhmXCJdID0gMTIwNV0gPSBcIkludmFsaWRIZlwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52YWxpZFBvb2xTdGF0dXNcIl0gPSAxMjA2XSA9IFwiSW52YWxpZFBvb2xTdGF0dXNcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkludmFsaWRVdGlsUmF0ZVwiXSA9IDEyMDddID0gXCJJbnZhbGlkVXRpbFJhdGVcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIk1heFBvc2l0aW9uc0V4Y2VlZGVkXCJdID0gMTIwOF0gPSBcIk1heFBvc2l0aW9uc0V4Y2VlZGVkXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnRlcm5hbFJlc2VydmVOb3RGb3VuZFwiXSA9IDEyMDldID0gXCJJbnRlcm5hbFJlc2VydmVOb3RGb3VuZFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52YWxpZEJUb2tlbk1pbnRBbW91bnRcIl0gPSAxMjE2XSA9IFwiSW52YWxpZEJUb2tlbk1pbnRBbW91bnRcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkludmFsaWRCVG9rZW5CdXJuQW1vdW50XCJdID0gMTIxN10gPSBcIkludmFsaWRCVG9rZW5CdXJuQW1vdW50XCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnZhbGlkRFRva2VuTWludEFtb3VudFwiXSA9IDEyMThdID0gXCJJbnZhbGlkRFRva2VuTWludEFtb3VudFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52YWxpZERUb2tlbkJ1cm5BbW91bnRcIl0gPSAxMjE5XSA9IFwiSW52YWxpZERUb2tlbkJ1cm5BbW91bnRcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkV4Y2VlZGVkU3VwcGx5Q2FwXCJdID0gMTIyMF0gPSBcIkV4Y2VlZGVkU3VwcGx5Q2FwXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJSZXNlcnZlRGlzYWJsZWRcIl0gPSAxMjIzXSA9IFwiUmVzZXJ2ZURpc2FibGVkXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJNaW5Db2xsYXRlcmFsTm90TWV0XCJdID0gMTIyNF0gPSBcIk1pbkNvbGxhdGVyYWxOb3RNZXRcIjtcbiAgICAvLyBPcmFjbGUgRXJyb3JzXG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJTdGFsZVByaWNlXCJdID0gMTIxMF0gPSBcIlN0YWxlUHJpY2VcIjtcbiAgICAvLyBBdWN0aW9uIEVycm9yc1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52YWxpZExpcXVpZGF0aW9uXCJdID0gMTIxMV0gPSBcIkludmFsaWRMaXF1aWRhdGlvblwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiQXVjdGlvbkluUHJvZ3Jlc3NcIl0gPSAxMjEyXSA9IFwiQXVjdGlvbkluUHJvZ3Jlc3NcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkludmFsaWRMaXFUb29MYXJnZVwiXSA9IDEyMTNdID0gXCJJbnZhbGlkTGlxVG9vTGFyZ2VcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkludmFsaWRMaXFUb29TbWFsbFwiXSA9IDEyMTRdID0gXCJJbnZhbGlkTGlxVG9vU21hbGxcIjtcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkludGVyZXN0VG9vU21hbGxcIl0gPSAxMjE1XSA9IFwiSW50ZXJlc3RUb29TbWFsbFwiO1xuICAgIENvbnRyYWN0RXJyb3JUeXBlW0NvbnRyYWN0RXJyb3JUeXBlW1wiSW52YWxpZEJpZFwiXSA9IDEyMjFdID0gXCJJbnZhbGlkQmlkXCI7XG4gICAgQ29udHJhY3RFcnJvclR5cGVbQ29udHJhY3RFcnJvclR5cGVbXCJJbnZhbGlkTG90XCJdID0gMTIyMl0gPSBcIkludmFsaWRMb3RcIjtcbiAgICAvLyBQb29sIEZhY3RvcnlcbiAgICBDb250cmFjdEVycm9yVHlwZVtDb250cmFjdEVycm9yVHlwZVtcIkludmFsaWRQb29sRmFjdG9yeUluaXRBcmdzXCJdID0gMTMwMF0gPSBcIkludmFsaWRQb29sRmFjdG9yeUluaXRBcmdzXCI7XG59KShDb250cmFjdEVycm9yVHlwZSB8fCAoQ29udHJhY3RFcnJvclR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRXJyb3IoZXJyb3JSZXNwb25zZSkge1xuICAgIC8vIFNpbXVsYXRpb24gRXJyb3JcbiAgICBpZiAoJ2lkJyBpbiBlcnJvclJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gZXJyb3JSZXNwb25zZS5lcnJvci5tYXRjaCgvRXJyb3JcXChDb250cmFjdCwgIyhcXGQrKVxcKS8pO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yVmFsdWUgPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgICAgaWYgKGVycm9yVmFsdWUgaW4gQ29udHJhY3RFcnJvclR5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb250cmFjdEVycm9yKGVycm9yVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29udHJhY3RFcnJvcihDb250cmFjdEVycm9yVHlwZS5Vbmtub3duRXJyb3IpO1xuICAgIH1cbiAgICAvLyBTZW5kIFRyYW5zYWN0aW9uIEVycm9yXG4gICAgaWYgKCdlcnJvclJlc3VsdCcgaW4gZXJyb3JSZXNwb25zZSkge1xuICAgICAgICBjb25zdCB0eEVycm9yTmFtZSA9IGVycm9yUmVzcG9uc2UuZXJyb3JSZXN1bHQucmVzdWx0KCkuc3dpdGNoKCkubmFtZTtcbiAgICAgICAgaWYgKHR4RXJyb3JOYW1lID09ICd0eEZhaWxlZCcpIHtcbiAgICAgICAgICAgIC8vIFRyYW5zYWN0aW9uIHNob3VsZCBvbmx5IGNvbnRhaW4gb25lIG9wZXJhdGlvblxuICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuZXJyb3JSZXN1bHQucmVzdWx0KCkucmVzdWx0cygpLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9zdEZ1bmN0aW9uRXJyb3IgPSBlcnJvclJlc3BvbnNlLmVycm9yUmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIC5yZXN1bHQoKVxuICAgICAgICAgICAgICAgICAgICAucmVzdWx0cygpWzBdXG4gICAgICAgICAgICAgICAgICAgIC50cigpXG4gICAgICAgICAgICAgICAgICAgIC5pbnZva2VIb3N0RnVuY3Rpb25SZXN1bHQoKVxuICAgICAgICAgICAgICAgICAgICAuc3dpdGNoKCkudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGhvc3RGdW5jdGlvbkVycm9yIGluIENvbnRyYWN0RXJyb3JUeXBlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbnRyYWN0RXJyb3IoaG9zdEZ1bmN0aW9uRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdHhFcnJvclZhbHVlID0gZXJyb3JSZXNwb25zZS5lcnJvclJlc3VsdC5yZXN1bHQoKS5zd2l0Y2goKS52YWx1ZSAtIDc7XG4gICAgICAgICAgICBpZiAodHhFcnJvclZhbHVlIGluIENvbnRyYWN0RXJyb3JUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb250cmFjdEVycm9yKHR4RXJyb3JWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gR2V0IFRyYW5zYWN0aW9uIEVycm9yXG4gICAgaWYgKCdyZXN1bHRYZHInIGluIGVycm9yUmVzcG9uc2UpIHtcbiAgICAgICAgLy8gVHJhbnNhY3Rpb24gc3VibWlzc2lvbiBmYWlsZWRcbiAgICAgICAgY29uc3QgdHhSZXN1bHQgPSBlcnJvclJlc3BvbnNlLnJlc3VsdFhkci5yZXN1bHQoKTtcbiAgICAgICAgY29uc3QgdHhFcnJvck5hbWUgPSB0eFJlc3VsdC5zd2l0Y2goKS5uYW1lO1xuICAgICAgICAvLyBVc2UgaW52b2tlSG9zdEZ1bmN0aW9uRXJyb3JzIGluIGNhc2Ugb2YgZ2VuZXJpYyBgdHhGYWlsZWRgIGVycm9yXG4gICAgICAgIGlmICh0eEVycm9yTmFtZSA9PSAndHhGYWlsZWQnKSB7XG4gICAgICAgICAgICAvLyBUcmFuc2FjdGlvbiBzaG91bGQgb25seSBjb250YWluIG9uZSBvcGVyYXRpb25cbiAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLnJlc3VsdFhkci5yZXN1bHQoKS5yZXN1bHRzKCkubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBob3N0RnVuY3Rpb25FcnJvciA9IHR4UmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIC5yZXN1bHRzKClbMF1cbiAgICAgICAgICAgICAgICAgICAgLnRyKClcbiAgICAgICAgICAgICAgICAgICAgLmludm9rZUhvc3RGdW5jdGlvblJlc3VsdCgpXG4gICAgICAgICAgICAgICAgICAgIC5zd2l0Y2goKS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaG9zdEZ1bmN0aW9uRXJyb3IgaW4gQ29udHJhY3RFcnJvclR5cGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29udHJhY3RFcnJvcihob3N0RnVuY3Rpb25FcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hpZnQgdGhlIGVycm9yIHZhbHVlIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIGludm9rZUhvc3RGdW5jdGlvbkVycm9yc1xuICAgICAgICBjb25zdCB0eEVycm9yVmFsdWUgPSB0eFJlc3VsdC5zd2l0Y2goKS52YWx1ZSAtIDc7XG4gICAgICAgIC8vIFVzZSBUcmFuc2FjdGlvblJlc3VsdENvZGUgd2l0aCBtb3JlIHNwZWNpZmljIGVycm9yc1xuICAgICAgICBpZiAodHhFcnJvclZhbHVlIGluIENvbnRyYWN0RXJyb3JUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbnRyYWN0RXJyb3IodHhFcnJvclZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiB0aGUgZXJyb3IgaXMgbm90IHJlY29nbml6ZWQsIHJldHVybiBhbiB1bmtub3duIGVycm9yXG4gICAgcmV0dXJuIG5ldyBDb250cmFjdEVycm9yKENvbnRyYWN0RXJyb3JUeXBlLlVua25vd25FcnJvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZXN1bHQocmVzcG9uc2UsIHBhcnNlcikge1xuICAgIGlmICgncmVzdWx0JyBpbiByZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VyKHJlc3BvbnNlLnJlc3VsdC5yZXR2YWwudG9YRFIoJ2Jhc2U2NCcpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoJ3JldHVyblZhbHVlJyBpbiByZXNwb25zZSAmJiByZXNwb25zZS5yZXR1cm5WYWx1ZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VyKHJlc3BvbnNlLnJldHVyblZhbHVlLnRvWERSKCdiYXNlNjQnKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/response_parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/token.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/token.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TokenMetadata: () => (/* binding */ TokenMetadata),\n/* harmony export */   getTokenBalance: () => (/* binding */ getTokenBalance)\n/* harmony export */ });\n/* harmony import */ var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stellar/stellar-sdk */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@stellar/stellar-sdk/lib/index.js\");\n/* harmony import */ var _ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ledger_entry_helper.js */ \"(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/ledger_entry_helper.js\");\n//! Utilities for interacting with token contracts\n\n\n/**\n * TokenMetadata contains information about a token\n *\n * @property name - The name of the token\n * @property symbol - The symbol of the token\n * @property decimals - The number of decimals the token uses\n * @property asset - The Stellar Asset if the token is a Stellar Asset Contract, undefined otherwise\n */\nclass TokenMetadata {\n    name;\n    symbol;\n    decimals;\n    asset;\n    constructor(name, symbol, decimals, asset) {\n        this.name = name;\n        this.symbol = symbol;\n        this.decimals = decimals;\n        this.asset = asset;\n    }\n    static async load(network, tokenId) {\n        const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n        const ledgerKeys = [this.ledgerKey(tokenId)];\n        const tokenMetadataEntry = await stellarRpc.getLedgerEntries(...ledgerKeys);\n        // not all reserves have emissions, but the first 3 entries are required\n        if (tokenMetadataEntry.entries.length < 1) {\n            throw new Error('Unable to load token metadata entry: failed to return entry.');\n        }\n        let tokenMetadata = undefined;\n        for (const entry of tokenMetadataEntry.entries) {\n            const ledgerEntry = entry.val;\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(ledgerEntry.contractData().key());\n            switch (key) {\n                case 'ContractInstance':\n                    tokenMetadata = this.fromLedgerEntryData(ledgerEntry);\n                    break;\n                default:\n                    throw Error(`Invalid metadata key: should not contain ${key}`);\n            }\n        }\n        if (tokenMetadata == undefined) {\n            throw new Error('Unable to load the token metadata.');\n        }\n        return tokenMetadata;\n    }\n    /**\n     * Create the ledgerKey for the token contract instance\n     * @param assetId - The contractId for the asset\n     * @returns The ledgerKey for the contract instance\n     */\n    static ledgerKey(assetId) {\n        return _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKey.contractData(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerKeyContractData({\n            contract: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Address.fromString(assetId).toScAddress(),\n            key: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ScVal.scvLedgerKeyContractInstance(),\n            durability: _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractDataDurability.persistent(),\n        }));\n    }\n    /**\n     * Create a TokenMetadata object from the XDR LedgerEntryData\n     * @param ledger_entry_data - A XDR LedgerEntryData object or it's base64 string representation\n     */\n    static fromLedgerEntryData(ledger_entry_data) {\n        if (typeof ledger_entry_data == 'string') {\n            ledger_entry_data = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.LedgerEntryData.fromXDR(ledger_entry_data, 'base64');\n        }\n        const instance_val = ledger_entry_data.contractData().val().instance();\n        let name;\n        let symbol;\n        let decimal;\n        instance_val.storage()?.map((entry) => {\n            const key = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(entry.key());\n            if (key == 'METADATA') {\n                entry\n                    .val()\n                    .map()\n                    ?.forEach((meta_entry) => {\n                    const metadataKey = (0,_ledger_entry_helper_js__WEBPACK_IMPORTED_MODULE_1__.decodeEntryKey)(meta_entry.key());\n                    switch (metadataKey) {\n                        case 'name':\n                            name = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(meta_entry.val());\n                            return;\n                        case 'symbol':\n                            symbol = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(meta_entry.val());\n                            if (symbol == 'native') {\n                                symbol = 'XLM';\n                            }\n                            return;\n                        case 'decimal':\n                            decimal = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(meta_entry.val());\n                            return;\n                    }\n                });\n            }\n        });\n        if (name == undefined || symbol == undefined || decimal == undefined) {\n            throw Error('Token metadata malformed');\n        }\n        let asset;\n        if (instance_val.executable().toXDR().toString() ==\n            _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.xdr.ContractExecutable.contractExecutableStellarAsset().toXDR().toString() &&\n            name) {\n            if (name == 'native') {\n                asset = _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Asset.native();\n            }\n            else {\n                const code_issuer = name.split(':');\n                asset = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Asset(code_issuer[0], code_issuer[1]);\n            }\n        }\n        return new TokenMetadata(name, symbol, decimal, asset);\n    }\n}\n/**\n * Fetch the token balance for a given address\n *\n * @param network - The Network to use\n * @param token_id - The token contract address\n * @param address - The address to fetch the balance for\n * @returns - The balance\n */\nasync function getTokenBalance(network, token_id, address) {\n    // account does not get validated during simulateTx\n    const account = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Account('GANXGJV2RNOFMOSQ2DTI3RKDBAVERXUVFC27KW3RLVQCLB3RYNO3AAI4', '123');\n    const tx_builder = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder(account, {\n        fee: '1000',\n        timebounds: { minTime: 0, maxTime: 0 },\n        networkPassphrase: network.passphrase,\n    });\n    tx_builder.addOperation(new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Contract(token_id).call('balance', address.toScVal()));\n    const stellarRpc = new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Server(network.rpc, network.opts);\n    const scval_result = await stellarRpc.simulateTransaction(tx_builder.build());\n    if (scval_result == undefined) {\n        throw Error(`unable to fetch balance for token: ${token_id}`);\n    }\n    if (_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.rpc.Api.isSimulationSuccess(scval_result)) {\n        const val = (0,_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.scValToNative)(scval_result.result.retval);\n        return val;\n    }\n    else {\n        throw Error(`unable to fetch balance for token: ${token_id}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvc3RlbGxhci1hZ2VudC1raXQvbm9kZV9tb2R1bGVzL0BibGVuZC1jYXBpdGFsL2JsZW5kLXNkay9kaXN0L2VzbS90b2tlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDdUg7QUFDN0Q7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBRztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUVBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxJQUFJO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBRyw0QkFBNEIscURBQUc7QUFDakQsc0JBQXNCLHlEQUFPO0FBQzdCLGlCQUFpQixxREFBRztBQUNwQix3QkFBd0IscURBQUc7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHVFQUFjO0FBQ3REO0FBQ0E7QUFDQSxtQ0FBbUMsbUVBQWE7QUFDaEQ7QUFDQTtBQUNBLHFDQUFxQyxtRUFBYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLG1FQUFhO0FBQ25EO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQUc7QUFDZjtBQUNBO0FBQ0Esd0JBQXdCLHVEQUFLO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix1REFBSztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSx3QkFBd0IseURBQU87QUFDL0IsMkJBQTJCLG9FQUFrQjtBQUM3QztBQUNBLHNCQUFzQix3QkFBd0I7QUFDOUM7QUFDQSxLQUFLO0FBQ0wsZ0NBQWdDLDBEQUFRO0FBQ3hDLDJCQUEyQixxREFBRztBQUM5QjtBQUNBO0FBQ0EsMERBQTBELFNBQVM7QUFDbkU7QUFDQSxRQUFRLHFEQUFHO0FBQ1gsb0JBQW9CLG1FQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxTQUFTO0FBQ25FO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zdGVsbGFyLWFwcC8uL25vZGVfbW9kdWxlcy9zdGVsbGFyLWFnZW50LWtpdC9ub2RlX21vZHVsZXMvQGJsZW5kLWNhcGl0YWwvYmxlbmQtc2RrL2Rpc3QvZXNtL3Rva2VuLmpzP2RlZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8hIFV0aWxpdGllcyBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0b2tlbiBjb250cmFjdHNcbmltcG9ydCB7IEFjY291bnQsIEFkZHJlc3MsIEFzc2V0LCBDb250cmFjdCwgcnBjLCBzY1ZhbFRvTmF0aXZlLCBUcmFuc2FjdGlvbkJ1aWxkZXIsIHhkciwgfSBmcm9tICdAc3RlbGxhci9zdGVsbGFyLXNkayc7XG5pbXBvcnQgeyBkZWNvZGVFbnRyeUtleSB9IGZyb20gJy4vbGVkZ2VyX2VudHJ5X2hlbHBlci5qcyc7XG4vKipcbiAqIFRva2VuTWV0YWRhdGEgY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgYSB0b2tlblxuICpcbiAqIEBwcm9wZXJ0eSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHRva2VuXG4gKiBAcHJvcGVydHkgc3ltYm9sIC0gVGhlIHN5bWJvbCBvZiB0aGUgdG9rZW5cbiAqIEBwcm9wZXJ0eSBkZWNpbWFscyAtIFRoZSBudW1iZXIgb2YgZGVjaW1hbHMgdGhlIHRva2VuIHVzZXNcbiAqIEBwcm9wZXJ0eSBhc3NldCAtIFRoZSBTdGVsbGFyIEFzc2V0IGlmIHRoZSB0b2tlbiBpcyBhIFN0ZWxsYXIgQXNzZXQgQ29udHJhY3QsIHVuZGVmaW5lZCBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGNsYXNzIFRva2VuTWV0YWRhdGEge1xuICAgIG5hbWU7XG4gICAgc3ltYm9sO1xuICAgIGRlY2ltYWxzO1xuICAgIGFzc2V0O1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHN5bWJvbCwgZGVjaW1hbHMsIGFzc2V0KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xuICAgICAgICB0aGlzLmRlY2ltYWxzID0gZGVjaW1hbHM7XG4gICAgICAgIHRoaXMuYXNzZXQgPSBhc3NldDtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGxvYWQobmV0d29yaywgdG9rZW5JZCkge1xuICAgICAgICBjb25zdCBzdGVsbGFyUnBjID0gbmV3IHJwYy5TZXJ2ZXIobmV0d29yay5ycGMsIG5ldHdvcmsub3B0cyk7XG4gICAgICAgIGNvbnN0IGxlZGdlcktleXMgPSBbdGhpcy5sZWRnZXJLZXkodG9rZW5JZCldO1xuICAgICAgICBjb25zdCB0b2tlbk1ldGFkYXRhRW50cnkgPSBhd2FpdCBzdGVsbGFyUnBjLmdldExlZGdlckVudHJpZXMoLi4ubGVkZ2VyS2V5cyk7XG4gICAgICAgIC8vIG5vdCBhbGwgcmVzZXJ2ZXMgaGF2ZSBlbWlzc2lvbnMsIGJ1dCB0aGUgZmlyc3QgMyBlbnRyaWVzIGFyZSByZXF1aXJlZFxuICAgICAgICBpZiAodG9rZW5NZXRhZGF0YUVudHJ5LmVudHJpZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbG9hZCB0b2tlbiBtZXRhZGF0YSBlbnRyeTogZmFpbGVkIHRvIHJldHVybiBlbnRyeS4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG9rZW5NZXRhZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0b2tlbk1ldGFkYXRhRW50cnkuZW50cmllcykge1xuICAgICAgICAgICAgY29uc3QgbGVkZ2VyRW50cnkgPSBlbnRyeS52YWw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShsZWRnZXJFbnRyeS5jb250cmFjdERhdGEoKS5rZXkoKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NvbnRyYWN0SW5zdGFuY2UnOlxuICAgICAgICAgICAgICAgICAgICB0b2tlbk1ldGFkYXRhID0gdGhpcy5mcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlckVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgbWV0YWRhdGEga2V5OiBzaG91bGQgbm90IGNvbnRhaW4gJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuTWV0YWRhdGEgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2FkIHRoZSB0b2tlbiBtZXRhZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5NZXRhZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBsZWRnZXJLZXkgZm9yIHRoZSB0b2tlbiBjb250cmFjdCBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBhc3NldElkIC0gVGhlIGNvbnRyYWN0SWQgZm9yIHRoZSBhc3NldFxuICAgICAqIEByZXR1cm5zIFRoZSBsZWRnZXJLZXkgZm9yIHRoZSBjb250cmFjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBsZWRnZXJLZXkoYXNzZXRJZCkge1xuICAgICAgICByZXR1cm4geGRyLkxlZGdlcktleS5jb250cmFjdERhdGEobmV3IHhkci5MZWRnZXJLZXlDb250cmFjdERhdGEoe1xuICAgICAgICAgICAgY29udHJhY3Q6IEFkZHJlc3MuZnJvbVN0cmluZyhhc3NldElkKS50b1NjQWRkcmVzcygpLFxuICAgICAgICAgICAga2V5OiB4ZHIuU2NWYWwuc2N2TGVkZ2VyS2V5Q29udHJhY3RJbnN0YW5jZSgpLFxuICAgICAgICAgICAgZHVyYWJpbGl0eTogeGRyLkNvbnRyYWN0RGF0YUR1cmFiaWxpdHkucGVyc2lzdGVudCgpLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFRva2VuTWV0YWRhdGEgb2JqZWN0IGZyb20gdGhlIFhEUiBMZWRnZXJFbnRyeURhdGFcbiAgICAgKiBAcGFyYW0gbGVkZ2VyX2VudHJ5X2RhdGEgLSBBIFhEUiBMZWRnZXJFbnRyeURhdGEgb2JqZWN0IG9yIGl0J3MgYmFzZTY0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tTGVkZ2VyRW50cnlEYXRhKGxlZGdlcl9lbnRyeV9kYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGVkZ2VyX2VudHJ5X2RhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxlZGdlcl9lbnRyeV9kYXRhID0geGRyLkxlZGdlckVudHJ5RGF0YS5mcm9tWERSKGxlZGdlcl9lbnRyeV9kYXRhLCAnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5zdGFuY2VfdmFsID0gbGVkZ2VyX2VudHJ5X2RhdGEuY29udHJhY3REYXRhKCkudmFsKCkuaW5zdGFuY2UoKTtcbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGxldCBzeW1ib2w7XG4gICAgICAgIGxldCBkZWNpbWFsO1xuICAgICAgICBpbnN0YW5jZV92YWwuc3RvcmFnZSgpPy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVFbnRyeUtleShlbnRyeS5rZXkoKSk7XG4gICAgICAgICAgICBpZiAoa2V5ID09ICdNRVRBREFUQScpIHtcbiAgICAgICAgICAgICAgICBlbnRyeVxuICAgICAgICAgICAgICAgICAgICAudmFsKClcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgpXG4gICAgICAgICAgICAgICAgICAgID8uZm9yRWFjaCgobWV0YV9lbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YUtleSA9IGRlY29kZUVudHJ5S2V5KG1ldGFfZW50cnkua2V5KCkpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1ldGFkYXRhS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW1lJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gc2NWYWxUb05hdGl2ZShtZXRhX2VudHJ5LnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbCA9IHNjVmFsVG9OYXRpdmUobWV0YV9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN5bWJvbCA9PSAnbmF0aXZlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2wgPSAnWExNJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVjaW1hbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCA9IHNjVmFsVG9OYXRpdmUobWV0YV9lbnRyeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobmFtZSA9PSB1bmRlZmluZWQgfHwgc3ltYm9sID09IHVuZGVmaW5lZCB8fCBkZWNpbWFsID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Rva2VuIG1ldGFkYXRhIG1hbGZvcm1lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhc3NldDtcbiAgICAgICAgaWYgKGluc3RhbmNlX3ZhbC5leGVjdXRhYmxlKCkudG9YRFIoKS50b1N0cmluZygpID09XG4gICAgICAgICAgICB4ZHIuQ29udHJhY3RFeGVjdXRhYmxlLmNvbnRyYWN0RXhlY3V0YWJsZVN0ZWxsYXJBc3NldCgpLnRvWERSKCkudG9TdHJpbmcoKSAmJlxuICAgICAgICAgICAgbmFtZSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gJ25hdGl2ZScpIHtcbiAgICAgICAgICAgICAgICBhc3NldCA9IEFzc2V0Lm5hdGl2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29kZV9pc3N1ZXIgPSBuYW1lLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgYXNzZXQgPSBuZXcgQXNzZXQoY29kZV9pc3N1ZXJbMF0sIGNvZGVfaXNzdWVyWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRva2VuTWV0YWRhdGEobmFtZSwgc3ltYm9sLCBkZWNpbWFsLCBhc3NldCk7XG4gICAgfVxufVxuLyoqXG4gKiBGZXRjaCB0aGUgdG9rZW4gYmFsYW5jZSBmb3IgYSBnaXZlbiBhZGRyZXNzXG4gKlxuICogQHBhcmFtIG5ldHdvcmsgLSBUaGUgTmV0d29yayB0byB1c2VcbiAqIEBwYXJhbSB0b2tlbl9pZCAtIFRoZSB0b2tlbiBjb250cmFjdCBhZGRyZXNzXG4gKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSBhZGRyZXNzIHRvIGZldGNoIHRoZSBiYWxhbmNlIGZvclxuICogQHJldHVybnMgLSBUaGUgYmFsYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG9rZW5CYWxhbmNlKG5ldHdvcmssIHRva2VuX2lkLCBhZGRyZXNzKSB7XG4gICAgLy8gYWNjb3VudCBkb2VzIG5vdCBnZXQgdmFsaWRhdGVkIGR1cmluZyBzaW11bGF0ZVR4XG4gICAgY29uc3QgYWNjb3VudCA9IG5ldyBBY2NvdW50KCdHQU5YR0pWMlJOT0ZNT1NRMkRUSTNSS0RCQVZFUlhVVkZDMjdLVzNSTFZRQ0xCM1JZTk8zQUFJNCcsICcxMjMnKTtcbiAgICBjb25zdCB0eF9idWlsZGVyID0gbmV3IFRyYW5zYWN0aW9uQnVpbGRlcihhY2NvdW50LCB7XG4gICAgICAgIGZlZTogJzEwMDAnLFxuICAgICAgICB0aW1lYm91bmRzOiB7IG1pblRpbWU6IDAsIG1heFRpbWU6IDAgfSxcbiAgICAgICAgbmV0d29ya1Bhc3NwaHJhc2U6IG5ldHdvcmsucGFzc3BocmFzZSxcbiAgICB9KTtcbiAgICB0eF9idWlsZGVyLmFkZE9wZXJhdGlvbihuZXcgQ29udHJhY3QodG9rZW5faWQpLmNhbGwoJ2JhbGFuY2UnLCBhZGRyZXNzLnRvU2NWYWwoKSkpO1xuICAgIGNvbnN0IHN0ZWxsYXJScGMgPSBuZXcgcnBjLlNlcnZlcihuZXR3b3JrLnJwYywgbmV0d29yay5vcHRzKTtcbiAgICBjb25zdCBzY3ZhbF9yZXN1bHQgPSBhd2FpdCBzdGVsbGFyUnBjLnNpbXVsYXRlVHJhbnNhY3Rpb24odHhfYnVpbGRlci5idWlsZCgpKTtcbiAgICBpZiAoc2N2YWxfcmVzdWx0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgdW5hYmxlIHRvIGZldGNoIGJhbGFuY2UgZm9yIHRva2VuOiAke3Rva2VuX2lkfWApO1xuICAgIH1cbiAgICBpZiAocnBjLkFwaS5pc1NpbXVsYXRpb25TdWNjZXNzKHNjdmFsX3Jlc3VsdCkpIHtcbiAgICAgICAgY29uc3QgdmFsID0gc2NWYWxUb05hdGl2ZShzY3ZhbF9yZXN1bHQucmVzdWx0LnJldHZhbCk7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihgdW5hYmxlIHRvIGZldGNoIGJhbGFuY2UgZm9yIHRva2VuOiAke3Rva2VuX2lkfWApO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/stellar-agent-kit/node_modules/@blend-capital/blend-sdk/dist/esm/token.js\n");

/***/ })

};
;